/*! For license information please see 168.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcloudxr_isaac_lab_teleop=self.webpackChunkcloudxr_isaac_lab_teleop||[]).push([[168],{6988(e,t,n){e.exports=n.p+"db3d57babd2bfcc3fe3a.js"},8168(e,t,n){n.d(t,{MSDF:()=>z});const i=Symbol("Comlink.proxy"),r=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),l=e=>"object"==typeof e&&null!==e||"function"==typeof e,c=new Map([["proxy",{canHandle:e=>l(e)&&e[i],serialize(e){const{port1:t,port2:n}=new MessageChannel;return u(e,t),[n,[n]]},deserialize:e=>(e.start(),p(e))}],["throw",{canHandle:e=>l(e)&&o in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function u(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(a){if(!a||!a.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,a.origin))return void console.warn(`Invalid origin '${a.origin}' for comlink proxy`);const{id:l,type:c,path:p}=Object.assign({path:[]},a.data),f=(a.data.argumentList||[]).map(S);let g;try{const t=p.slice(0,-1).reduce((e,t)=>e[t],e),n=p.reduce((e,t)=>e[t],e);switch(c){case"GET":g=n;break;case"SET":t[p.slice(-1)[0]]=S(a.data.value),g=!0;break;case"APPLY":g=n.apply(t,f);break;case"CONSTRUCT":g=function(e){return Object.assign(e,{[i]:!0})}(new n(...f));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;u(e,n),g=function(e,t){return y.set(e,t),e}(t,[t])}break;case"RELEASE":g=void 0;break;default:return}}catch(e){g={value:e,[o]:0}}Promise.resolve(g).catch(e=>({value:e,[o]:0})).then(n=>{const[i,a]=E(n);t.postMessage(Object.assign(Object.assign({},i),{id:l}),a),"RELEASE"===c&&(t.removeEventListener("message",r),h(t),s in e&&"function"==typeof e[s]&&e[s]())}).catch(e=>{const[n,i]=E({value:new TypeError("Unserializable return value"),[o]:0});t.postMessage(Object.assign(Object.assign({},n),{id:l}),i)})}),t.start&&t.start()}function h(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function p(e,t){const n=new Map;return e.addEventListener("message",function(e){const{data:t}=e;if(!t||!t.id)return;const i=n.get(t.id);if(i)try{i(t)}finally{n.delete(t.id)}}),m(e,n,[],t)}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function g(e){return k(e,new Map,{type:"RELEASE"}).then(()=>{h(e)})}const d=new WeakMap,w="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(d.get(e)||0)-1;d.set(e,t),0===t&&g(e)});function m(e,t,n=[],i=function(){}){let s=!1;const o=new Proxy(i,{get(i,r){if(f(s),r===a)return()=>{!function(e){w&&w.unregister(e)}(o),g(e),t.clear(),s=!0};if("then"===r){if(0===n.length)return{then:()=>o};const i=k(e,t,{type:"GET",path:n.map(e=>e.toString())}).then(S);return i.then.bind(i)}return m(e,t,[...n,r])},set(i,r,a){f(s);const[o,l]=E(a);return k(e,t,{type:"SET",path:[...n,r].map(e=>e.toString()),value:o},l).then(S)},apply(i,a,o){f(s);const l=n[n.length-1];if(l===r)return k(e,t,{type:"ENDPOINT"}).then(S);if("bind"===l)return m(e,t,n.slice(0,-1));const[c,u]=b(o);return k(e,t,{type:"APPLY",path:n.map(e=>e.toString()),argumentList:c},u).then(S)},construct(i,r){f(s);const[a,o]=b(r);return k(e,t,{type:"CONSTRUCT",path:n.map(e=>e.toString()),argumentList:a},o).then(S)}});return function(e,t){const n=(d.get(t)||0)+1;d.set(t,n),w&&w.register(e,t,e)}(o,e),o}function b(e){const t=e.map(E);return[t.map(e=>e[0]),(n=t.map(e=>e[1]),Array.prototype.concat.apply([],n))];var n}const y=new WeakMap;function E(e){for(const[t,n]of c)if(n.canHandle(e)){const[i,r]=n.serialize(e);return[{type:"HANDLER",name:t,value:i},r]}return[{type:"RAW",value:e},y.get(e)||[]]}function S(e){switch(e.type){case"HANDLER":return c.get(e.name).deserialize(e.value);case"RAW":return e.value}}function k(e,t,n,i){return new Promise(r=>{const a=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(a,r),e.start&&e.start(),e.postMessage(Object.assign({id:a},n),i)})}var v=class{worker;api;initPromise;constructor(e,t){this.worker=new Worker(e,{type:"module"}),this.api=p(this.worker),this.initPromise=this.api.initialize(t)}initialize=()=>this.initPromise;loadFont=async e=>(await this.initPromise,this.api.loadFont(e));generateAtlas=e=>this.api.generateAtlas(e);exportJSON=e=>this.api.exportJSON(e);dispose=()=>this.api.dispose();generateMSDFAtlas=e=>this.api.generateMSDFAtlas(e);generateMSDFFont=e=>this.api.generateMSDFFont(e);terminate=()=>this.worker.terminate()},z=class{static Encoder=new TextEncoder;client=null;workerUrl;wasmUrl;initialized=!1;constructor(e={}){this.workerUrl=e.workerUrl||new URL(n(6988),n.b).href,this.wasmUrl=e.wasmUrl}async initialize(){this.initialized||(this.client=new v(this.workerUrl,this.wasmUrl),await this.client.initialize(),this.initialized=!0)}async generate(e){if(!this.client||!this.initialized)throw new Error("MSDF not initialized. Call initialize() first.");return e.fonts?this.generateMultiple(e):this.generateSingle(e)}async generateSingle(e){await this.client.loadFont(e.font);const t=await this.client.generateAtlas(e),n=await this.client.exportJSON({atlas:t,fontSize:e.fontSize||48}),i=await this.atlasToBlob(t),r={...n,pages:[`data:image/png;base64,${await this.blobToBase64(i)}`]};return e.onProgress?.(100,1,1),this.toFontFamily(r,t.info.name||"font",t.info.weight||400)}async generateMultiple(e){const{fonts:t,onProgress:n,...i}=e;if(!t||0===t.length)throw new Error("No fonts provided");const r={};let a=0;const s=t.length;for(const e of t){const{font:t,...o}=e,l={...i,...o,font:t,charset:o.charset??i.charset??""};if(!l.charset)throw new Error("charset is required globally or per-font");const c=await this.generateSingle(l);for(const[e,t]of Object.entries(c))for(const[n,i]of Object.entries(t)){const t=Number(n);r[e]?.[t]&&console.warn(`Duplicate font: ${e} (${t}). Overwriting.`),r[e]||(r[e]={}),r[e][t]=i}a++,n?.(Math.round(a/s*100),a,s)}return r}async generateAtlas(e){if(!this.client||!this.initialized)throw new Error("MSDF not initialized. Call initialize() first.");return await this.client.loadFont(e.font),await this.client.generateAtlas(e)}async dispose(){this.client&&(await this.client.dispose(),this.client.terminate(),this.client=null,this.initialized=!1)}async toFontFamily(e,t,n){return{[t]:{[n]:e}}}atlasToBlob(e){const t=document.createElement("canvas");return t.width=e.textureSize[0],t.height=e.textureSize[1],t.getContext("2d").putImageData(e.texture,0,0),new Promise((e,n)=>{t.toBlob(t=>t?e(t):n(new Error("Failed to create blob")),"image/png")})}blobToBase64(e){return new Promise((t,n)=>{const i=new FileReader;i.onloadend=()=>t(i.result.split(",")[1]),i.onerror=n,i.readAsDataURL(e)})}}}}]);