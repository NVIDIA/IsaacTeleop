/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n,i,r={9564(e){var t;t=()=>(()=>{var e={65(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.DeferredExceptions=void 0,t.DeferredExceptions=class{constructor(e){this.exceptions=[],this.onDefer=e?.onDefer,this.onHandle=e?.onHandle}defer(e,t){this.exceptions.push({error:e,context:t,timestamp:performance.now()}),this.onDefer?.(e,t)}check(){if(0===this.exceptions.length)return;const e=this.exceptions[0],t=this.exceptions;if(this.exceptions=[],this.onHandle?.(e.error,e.context,t),1===t.length)throw e.error.message="["+e.context+"] "+e.error.message,e.error;const n="Deferred exception from "+e.context+": "+e.error.message+" (and "+(t.length-1)+" other deferred exception(s))";throw Object.assign(new Error(n),{cause:e.error,allDeferredExceptions:t})}}},73(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.CloudXrNskStreamClientDelegate=void 0;const i=n(363);t.CloudXrNskStreamClientDelegate=class{constructor(e){this.onStreamStartedCallback=e.onStreamStarted,this.onRtcRtpReceiverCallback=e.onRtcRtpReceiver,this.onStreamStartFailedCallback=e.onStreamStartFailed,this.onStreamStoppedCallback=e.onStreamStopped,this.onBulkPayloadCallback=e.onBulkPayload,this.onCustomMessageCallback=e.onCustomMessage}onBulkPayload(e){e.getUint16(0,!0);const t=new Uint8Array(e.buffer,e.byteOffset+2,e.byteLength-2);t.length;const n=i.ServerToClientMessage.decode(t);this.onBulkPayloadCallback(n)}onStreamStarted(e){this.onStreamStartedCallback(e)}onRtcRtpReceiver(e){this.onRtcRtpReceiverCallback(e)}onStreamStartFailed(e){this.onStreamStartFailedCallback(e)}onStreamStopped(e){this.onStreamStoppedCallback(e)}onStreamQuality(e){}onStreamStatistics(e){}onStreamWarning(e){}onTextComposition(e){}onCustomMessage(e){this.onCustomMessageCallback(e)}}},363(e,t,n){"use strict";var i=this&&this.p||function(e){return e&&e.t?e:{default:e}};Object.defineProperty(t,"t",{value:!0}),t.DepthProjectionImageMetadata=t.AlphaProjectionImageMetadata=t.ColorProjectionImageMetadata=t.VideoFrameMetadata=t.FrameTrackingMetadata=t.ScalingOverride=t.ServerToClientMessage=t.ServerAlert=t.ServerInfo=t.FrameTimingFeedback=t.DisplayUpdate=t.FoveationPivotInfo=t.ViewUpdate=t.ViewConfiguration=t.BodyTrackingUpdate=t.HandTrackingUpdate=t.ClientTrackingMetadata=t.SupportedFeatures=t.SystemInfo=t.ClientToServerMessage=t.TrackedControllerUpdate=t.InputValueUpdateBundle=t.InputValueUpdate=t.EquipTrackedController=t.UnregisterTrackedController=t.RegisterTrackedController=t.SupportedDeviceProfiles=t.TrackedControllerProfile=t.ControllerInput=t.OpaqueDataChannelControl=t.ClockSyncResponse=t.ClockSyncRequest=t.DepthScheme_HalfResUChannelParams=t.DepthScheme_UpperLeftQuadrantYChannelParams=t.DepthScheme_OneOverZPlusEpsilonParams=t.DepthScheme=t.AlphaScheme_AlphaInYParams=t.AlphaScheme_SwappedQuadrantParams=t.AlphaScheme=t.OpaqueData=t.Version=t.XrPiecewiseQuadraticWarpDataNV=t.XrViewPQWStateNV=t.ServerAlert_AlertType=t.OpaqueDataChannelControl_ControlMessage=t.Chirality=t.InputType=t.protobufPackage=void 0,t.inputTypeFromJSON=g,t.inputTypeToJSON=A,t.chiralityFromJSON=m,t.chiralityToJSON=v,t.opaqueDataChannelControl_ControlMessageFromJSON=y,t.opaqueDataChannelControl_ControlMessageToJSON=E,t.serverAlert_AlertTypeFromJSON=S,t.serverAlert_AlertTypeToJSON=b;const r=n(4489),s=i(n(5017)),a=n(8536);var o,l,c,u,d,h,p,f;function g(e){switch(e){case 0:case"INPUT_TYPE_UNSPECIFIED":return o.INPUT_TYPE_UNSPECIFIED;case 1:case"VEC1_ZERO_TO_ONE":return o.VEC1_ZERO_TO_ONE;case 2:case"VEC1_MINUS_ONE_TO_ONE":return o.VEC1_MINUS_ONE_TO_ONE;case 3:case"VEC2_MINUS_ONE_TO_ONE":return o.VEC2_MINUS_ONE_TO_ONE;case 4:case"VEC3_MINUS_ONE_TO_ONE":return o.VEC3_MINUS_ONE_TO_ONE;case 5:case"BOOLEAN":return o.BOOLEAN;case 6:case"POSE":return o.POSE;default:return o.UNRECOGNIZED}}function A(e){switch(e){case o.INPUT_TYPE_UNSPECIFIED:return"INPUT_TYPE_UNSPECIFIED";case o.VEC1_ZERO_TO_ONE:return"VEC1_ZERO_TO_ONE";case o.VEC1_MINUS_ONE_TO_ONE:return"VEC1_MINUS_ONE_TO_ONE";case o.VEC2_MINUS_ONE_TO_ONE:return"VEC2_MINUS_ONE_TO_ONE";case o.VEC3_MINUS_ONE_TO_ONE:return"VEC3_MINUS_ONE_TO_ONE";case o.BOOLEAN:return"BOOLEAN";case o.POSE:return"POSE";case o.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function m(e){switch(e){case 0:case"CHIRALITY_UNSPECIFIED":return l.CHIRALITY_UNSPECIFIED;case 1:case"LEFT":return l.LEFT;case 2:case"RIGHT":return l.RIGHT;case 3:case"NONE":return l.NONE;default:return l.UNRECOGNIZED}}function v(e){switch(e){case l.CHIRALITY_UNSPECIFIED:return"CHIRALITY_UNSPECIFIED";case l.LEFT:return"LEFT";case l.RIGHT:return"RIGHT";case l.NONE:return"NONE";case l.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function y(e){switch(e){case 0:case"CONTROL_MESSAGE_UNSPECIFIED":return c.CONTROL_MESSAGE_UNSPECIFIED;case 1:case"CONTROL_MESSAGE_ANNOUNCE":return c.CONTROL_MESSAGE_ANNOUNCE;case 2:case"CONTROL_MESSAGE_OPEN":return c.CONTROL_MESSAGE_OPEN;case 3:case"CONTROL_MESSAGE_CLOSE":return c.CONTROL_MESSAGE_CLOSE;default:return c.UNRECOGNIZED}}function E(e){switch(e){case c.CONTROL_MESSAGE_UNSPECIFIED:return"CONTROL_MESSAGE_UNSPECIFIED";case c.CONTROL_MESSAGE_ANNOUNCE:return"CONTROL_MESSAGE_ANNOUNCE";case c.CONTROL_MESSAGE_OPEN:return"CONTROL_MESSAGE_OPEN";case c.CONTROL_MESSAGE_CLOSE:return"CONTROL_MESSAGE_CLOSE";case c.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function S(e){switch(e){case 0:case"ALERT_TYPE_UNSPECIFIED":return u.ALERT_TYPE_UNSPECIFIED;case 1:case"ALERT_TYPE_DISCONNECT_REQUESTED":return u.ALERT_TYPE_DISCONNECT_REQUESTED;default:return u.UNRECOGNIZED}}function b(e){switch(e){case u.ALERT_TYPE_UNSPECIFIED:return"ALERT_TYPE_UNSPECIFIED";case u.ALERT_TYPE_DISCONNECT_REQUESTED:return"ALERT_TYPE_DISCONNECT_REQUESTED";case u.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function x(){return{id:s.default.ZERO,payload:new Uint8Array(0),channelId:s.default.UZERO}}function w(){return{txTimestampNs:s.default.UZERO,estimatedClocksyncErrorNs:s.default.ZERO}}function I(){return{requestTxTimestampNs:s.default.UZERO,requestRxTimestampNs:s.default.UZERO,txTimestampNs:s.default.UZERO}}function C(){return{channelId:s.default.UZERO,controlMessage:0,uuid:new Uint8Array(0),appId:s.default.UZERO}}function T(){return{profile:void 0,chirality:0,controllerId:s.default.ZERO,inputs:[]}}function M(){return{controllerId:s.default.ZERO}}function B(){return{slot:"",controllerId:s.default.ZERO}}function R(){return{controllerId:s.default.ZERO,timestampNs:s.default.ZERO,inputUpdates:[]}}function P(){return{id:s.default.ZERO,clientSampleTimeNs:s.default.ZERO,clientPredictedForTimeNs:s.default.ZERO}}function _(){return{timeNs:s.default.ZERO,metadata:void 0,leftHand:void 0,rightHand:void 0}}function D(){return{id:s.default.ZERO,displayTime:s.default.ZERO,metadata:void 0,viewSpaceLocation:void 0,views:[],viewStates:[],scalingOverride:void 0,fovPivotInfo:void 0}}function N(){return{displayTimeNs:s.default.ZERO,minDisplayPeriodNs:s.default.ZERO}}function L(){return{frameNumber:s.default.ZERO,receiveTimeNs:s.default.ZERO,frameReadyTimeNs:s.default.ZERO,frameDejitterTimeNs:s.default.ZERO,targetDisplayTimeNs:s.default.ZERO,actualDisplayTimeNs:s.default.ZERO,relayedFrameTrackingMetadata:void 0}}function O(){return{latestViewMetadata:void 0,serverViewPredictedTimeNs:s.default.ZERO}}function k(){return{frameNumber:s.default.ZERO,displayTime:s.default.ZERO,appFrameStartClientTimeNs:s.default.ZERO,poseReceiveClientTimeNs:s.default.ZERO,viewUpdateId:s.default.ZERO,isEmptyFrame:!1,frameTrackingMetadata:void 0,colorProjectionImages:[],alphaProjectionImages:[],depthProjectionImages:[]}}function U(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{const t=globalThis.atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}}function F(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}function Q(e){return null!=e}t.protobufPackage="cloudxr",(f=o||(t.InputType=o={}))[f.INPUT_TYPE_UNSPECIFIED=0]="INPUT_TYPE_UNSPECIFIED",f[f.VEC1_ZERO_TO_ONE=1]="VEC1_ZERO_TO_ONE",f[f.VEC1_MINUS_ONE_TO_ONE=2]="VEC1_MINUS_ONE_TO_ONE",f[f.VEC2_MINUS_ONE_TO_ONE=3]="VEC2_MINUS_ONE_TO_ONE",f[f.VEC3_MINUS_ONE_TO_ONE=4]="VEC3_MINUS_ONE_TO_ONE",f[f.BOOLEAN=5]="BOOLEAN",f[f.POSE=6]="POSE",f[f.UNRECOGNIZED=-1]="UNRECOGNIZED",(p=l||(t.Chirality=l={}))[p.CHIRALITY_UNSPECIFIED=0]="CHIRALITY_UNSPECIFIED",p[p.LEFT=1]="LEFT",p[p.RIGHT=2]="RIGHT",p[p.NONE=3]="NONE",p[p.UNRECOGNIZED=-1]="UNRECOGNIZED",(h=c||(t.OpaqueDataChannelControl_ControlMessage=c={}))[h.CONTROL_MESSAGE_UNSPECIFIED=0]="CONTROL_MESSAGE_UNSPECIFIED",h[h.CONTROL_MESSAGE_ANNOUNCE=1]="CONTROL_MESSAGE_ANNOUNCE",h[h.CONTROL_MESSAGE_OPEN=2]="CONTROL_MESSAGE_OPEN",h[h.CONTROL_MESSAGE_CLOSE=3]="CONTROL_MESSAGE_CLOSE",h[h.UNRECOGNIZED=-1]="UNRECOGNIZED",(d=u||(t.ServerAlert_AlertType=u={}))[d.ALERT_TYPE_UNSPECIFIED=0]="ALERT_TYPE_UNSPECIFIED",d[d.ALERT_TYPE_DISCONNECT_REQUESTED=1]="ALERT_TYPE_DISCONNECT_REQUESTED",d[d.UNRECOGNIZED=-1]="UNRECOGNIZED",t.XrViewPQWStateNV={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.extent&&a.XrExtent2Di.encode(e.extent,n.uint32(10).fork()).join(),void 0!==e.data&&t.XrPiecewiseQuadraticWarpDataNV.encode(e.data,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,o={extent:void 0,data:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.extent=a.XrExtent2Di.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.data=t.XrPiecewiseQuadraticWarpDataNV.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({extent:Q(e.extent)?a.XrExtent2Di.fromJSON(e.extent):void 0,data:Q(e.data)?t.XrPiecewiseQuadraticWarpDataNV.fromJSON(e.data):void 0}),toJSON(e){const n={};return void 0!==e.extent&&(n.extent=a.XrExtent2Di.toJSON(e.extent)),void 0!==e.data&&(n.data=t.XrPiecewiseQuadraticWarpDataNV.toJSON(e.data)),n},create:e=>t.XrViewPQWStateNV.fromPartial(e??{}),fromPartial(e){const n={extent:void 0,data:void 0};return n.extent=void 0!==e.extent&&null!==e.extent?a.XrExtent2Di.fromPartial(e.extent):void 0,n.data=void 0!==e.data&&null!==e.data?t.XrPiecewiseQuadraticWarpDataNV.fromPartial(e.data):void 0,n}},t.XrPiecewiseQuadraticWarpDataNV={encode:(e,t=new r.BinaryWriter)=>(0!==e.unwarpedWidth&&t.uint32(8).int32(e.unwarpedWidth),0!==e.unwarpedHeight&&t.uint32(16).int32(e.unwarpedHeight),0!==e.fovCenterHorz&&t.uint32(24).int32(e.fovCenterHorz),0!==e.fovCenterVert&&t.uint32(32).int32(e.fovCenterVert),0!==e.fovRadiusHorz&&t.uint32(40).int32(e.fovRadiusHorz),0!==e.fovRadiusVert&&t.uint32(48).int32(e.fovRadiusVert),0!==e.centerScaleHorz&&t.uint32(56).int32(e.centerScaleHorz),0!==e.centerScaleVert&&t.uint32(64).int32(e.centerScaleVert),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={unwarpedWidth:0,unwarpedHeight:0,fovCenterHorz:0,fovCenterVert:0,fovRadiusHorz:0,fovRadiusVert:0,centerScaleHorz:0,centerScaleVert:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.unwarpedWidth=n.int32();continue;case 2:if(16!==e)break;s.unwarpedHeight=n.int32();continue;case 3:if(24!==e)break;s.fovCenterHorz=n.int32();continue;case 4:if(32!==e)break;s.fovCenterVert=n.int32();continue;case 5:if(40!==e)break;s.fovRadiusHorz=n.int32();continue;case 6:if(48!==e)break;s.fovRadiusVert=n.int32();continue;case 7:if(56!==e)break;s.centerScaleHorz=n.int32();continue;case 8:if(64!==e)break;s.centerScaleVert=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({unwarpedWidth:Q(e.unwarpedWidth)?globalThis.Number(e.unwarpedWidth):0,unwarpedHeight:Q(e.unwarpedHeight)?globalThis.Number(e.unwarpedHeight):0,fovCenterHorz:Q(e.fovCenterHorz)?globalThis.Number(e.fovCenterHorz):0,fovCenterVert:Q(e.fovCenterVert)?globalThis.Number(e.fovCenterVert):0,fovRadiusHorz:Q(e.fovRadiusHorz)?globalThis.Number(e.fovRadiusHorz):0,fovRadiusVert:Q(e.fovRadiusVert)?globalThis.Number(e.fovRadiusVert):0,centerScaleHorz:Q(e.centerScaleHorz)?globalThis.Number(e.centerScaleHorz):0,centerScaleVert:Q(e.centerScaleVert)?globalThis.Number(e.centerScaleVert):0}),toJSON(e){const t={};return 0!==e.unwarpedWidth&&(t.unwarpedWidth=Math.round(e.unwarpedWidth)),0!==e.unwarpedHeight&&(t.unwarpedHeight=Math.round(e.unwarpedHeight)),0!==e.fovCenterHorz&&(t.fovCenterHorz=Math.round(e.fovCenterHorz)),0!==e.fovCenterVert&&(t.fovCenterVert=Math.round(e.fovCenterVert)),0!==e.fovRadiusHorz&&(t.fovRadiusHorz=Math.round(e.fovRadiusHorz)),0!==e.fovRadiusVert&&(t.fovRadiusVert=Math.round(e.fovRadiusVert)),0!==e.centerScaleHorz&&(t.centerScaleHorz=Math.round(e.centerScaleHorz)),0!==e.centerScaleVert&&(t.centerScaleVert=Math.round(e.centerScaleVert)),t},create:e=>t.XrPiecewiseQuadraticWarpDataNV.fromPartial(e??{}),fromPartial(e){const t={unwarpedWidth:0,unwarpedHeight:0,fovCenterHorz:0,fovCenterVert:0,fovRadiusHorz:0,fovRadiusVert:0,centerScaleHorz:0,centerScaleVert:0};return t.unwarpedWidth=e.unwarpedWidth??0,t.unwarpedHeight=e.unwarpedHeight??0,t.fovCenterHorz=e.fovCenterHorz??0,t.fovCenterVert=e.fovCenterVert??0,t.fovRadiusHorz=e.fovRadiusHorz??0,t.fovRadiusVert=e.fovRadiusVert??0,t.centerScaleHorz=e.centerScaleHorz??0,t.centerScaleVert=e.centerScaleVert??0,t}},t.Version={encode:(e,t=new r.BinaryWriter)=>(0!==e.major&&t.uint32(8).int32(e.major),0!==e.minor&&t.uint32(16).int32(e.minor),0!==e.patch&&t.uint32(24).int32(e.patch),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={major:0,minor:0,patch:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.major=n.int32();continue;case 2:if(16!==e)break;s.minor=n.int32();continue;case 3:if(24!==e)break;s.patch=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({major:Q(e.major)?globalThis.Number(e.major):0,minor:Q(e.minor)?globalThis.Number(e.minor):0,patch:Q(e.patch)?globalThis.Number(e.patch):0}),toJSON(e){const t={};return 0!==e.major&&(t.major=Math.round(e.major)),0!==e.minor&&(t.minor=Math.round(e.minor)),0!==e.patch&&(t.patch=Math.round(e.patch)),t},create:e=>t.Version.fromPartial(e??{}),fromPartial(e){const t={major:0,minor:0,patch:0};return t.major=e.major??0,t.minor=e.minor??0,t.patch=e.patch??0,t}},t.OpaqueData={encode:(e,t=new r.BinaryWriter)=>(e.id.equals(s.default.ZERO)||t.uint32(8).int64(e.id.toString()),0!==e.payload.length&&t.uint32(18).bytes(e.payload),e.channelId.equals(s.default.UZERO)||t.uint32(24).uint64(e.channelId.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=x();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.id=s.default.fromString(n.int64().toString());continue;case 2:if(18!==e)break;a.payload=n.bytes();continue;case 3:if(24!==e)break;a.channelId=s.default.fromString(n.uint64().toString(),!0);continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({id:Q(e.id)?s.default.fromValue(e.id):s.default.ZERO,payload:Q(e.payload)?U(e.payload):new Uint8Array(0),channelId:Q(e.channelId)?s.default.fromValue(e.channelId):s.default.UZERO}),toJSON(e){const t={};return e.id.equals(s.default.ZERO)||(t.id=(e.id||s.default.ZERO).toString()),0!==e.payload.length&&(t.payload=F(e.payload)),e.channelId.equals(s.default.UZERO)||(t.channelId=(e.channelId||s.default.UZERO).toString()),t},create:e=>t.OpaqueData.fromPartial(e??{}),fromPartial(e){const t=x();return t.id=void 0!==e.id&&null!==e.id?s.default.fromValue(e.id):s.default.ZERO,t.payload=e.payload??new Uint8Array(0),t.channelId=void 0!==e.channelId&&null!==e.channelId?s.default.fromValue(e.channelId):s.default.UZERO,t}},t.AlphaScheme={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.swappedQuadrantParams&&t.AlphaScheme_SwappedQuadrantParams.encode(e.swappedQuadrantParams,n.uint32(10).fork()).join(),void 0!==e.alphaInYParams&&t.AlphaScheme_AlphaInYParams.encode(e.alphaInYParams,n.uint32(18).fork()).join(),void 0!==e.disabled&&n.uint32(24).bool(e.disabled),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={swappedQuadrantParams:void 0,alphaInYParams:void 0,disabled:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.swappedQuadrantParams=t.AlphaScheme_SwappedQuadrantParams.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.alphaInYParams=t.AlphaScheme_AlphaInYParams.decode(i,i.uint32());continue;case 3:if(24!==e)break;a.disabled=i.bool();continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({swappedQuadrantParams:Q(e.swappedQuadrantParams)?t.AlphaScheme_SwappedQuadrantParams.fromJSON(e.swappedQuadrantParams):void 0,alphaInYParams:Q(e.alphaInYParams)?t.AlphaScheme_AlphaInYParams.fromJSON(e.alphaInYParams):void 0,disabled:Q(e.disabled)?globalThis.Boolean(e.disabled):void 0}),toJSON(e){const n={};return void 0!==e.swappedQuadrantParams&&(n.swappedQuadrantParams=t.AlphaScheme_SwappedQuadrantParams.toJSON(e.swappedQuadrantParams)),void 0!==e.alphaInYParams&&(n.alphaInYParams=t.AlphaScheme_AlphaInYParams.toJSON(e.alphaInYParams)),void 0!==e.disabled&&(n.disabled=e.disabled),n},create:e=>t.AlphaScheme.fromPartial(e??{}),fromPartial(e){const n={swappedQuadrantParams:void 0,alphaInYParams:void 0,disabled:void 0};return n.swappedQuadrantParams=void 0!==e.swappedQuadrantParams&&null!==e.swappedQuadrantParams?t.AlphaScheme_SwappedQuadrantParams.fromPartial(e.swappedQuadrantParams):void 0,n.alphaInYParams=void 0!==e.alphaInYParams&&null!==e.alphaInYParams?t.AlphaScheme_AlphaInYParams.fromPartial(e.alphaInYParams):void 0,n.disabled=e.disabled??void 0,n}},t.AlphaScheme_SwappedQuadrantParams={encode:(e,t=new r.BinaryWriter)=>t,decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t;for(;n.pos<i;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>t.AlphaScheme_SwappedQuadrantParams.fromPartial(e??{}),fromPartial:e=>({})},t.AlphaScheme_AlphaInYParams={encode:(e,t=new r.BinaryWriter)=>t,decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t;for(;n.pos<i;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>t.AlphaScheme_AlphaInYParams.fromPartial(e??{}),fromPartial:e=>({})},t.DepthScheme={encode:(e,n=new r.BinaryWriter)=>(0!==e.nearZ&&n.uint32(13).float(e.nearZ),0!==e.farZ&&n.uint32(21).float(e.farZ),void 0!==e.oneOverZPlusEpsilonParams&&t.DepthScheme_OneOverZPlusEpsilonParams.encode(e.oneOverZPlusEpsilonParams,n.uint32(26).fork()).join(),void 0!==e.upperLeftQuadrantYChannelParams&&t.DepthScheme_UpperLeftQuadrantYChannelParams.encode(e.upperLeftQuadrantYChannelParams,n.uint32(34).fork()).join(),void 0!==e.halfResUChannelParams&&t.DepthScheme_HalfResUChannelParams.encode(e.halfResUChannelParams,n.uint32(42).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={nearZ:0,farZ:0,oneOverZPlusEpsilonParams:void 0,upperLeftQuadrantYChannelParams:void 0,halfResUChannelParams:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(13!==e)break;a.nearZ=i.float();continue;case 2:if(21!==e)break;a.farZ=i.float();continue;case 3:if(26!==e)break;a.oneOverZPlusEpsilonParams=t.DepthScheme_OneOverZPlusEpsilonParams.decode(i,i.uint32());continue;case 4:if(34!==e)break;a.upperLeftQuadrantYChannelParams=t.DepthScheme_UpperLeftQuadrantYChannelParams.decode(i,i.uint32());continue;case 5:if(42!==e)break;a.halfResUChannelParams=t.DepthScheme_HalfResUChannelParams.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({nearZ:Q(e.nearZ)?globalThis.Number(e.nearZ):0,farZ:Q(e.farZ)?globalThis.Number(e.farZ):0,oneOverZPlusEpsilonParams:Q(e.oneOverZPlusEpsilonParams)?t.DepthScheme_OneOverZPlusEpsilonParams.fromJSON(e.oneOverZPlusEpsilonParams):void 0,upperLeftQuadrantYChannelParams:Q(e.upperLeftQuadrantYChannelParams)?t.DepthScheme_UpperLeftQuadrantYChannelParams.fromJSON(e.upperLeftQuadrantYChannelParams):void 0,halfResUChannelParams:Q(e.halfResUChannelParams)?t.DepthScheme_HalfResUChannelParams.fromJSON(e.halfResUChannelParams):void 0}),toJSON(e){const n={};return 0!==e.nearZ&&(n.nearZ=e.nearZ),0!==e.farZ&&(n.farZ=e.farZ),void 0!==e.oneOverZPlusEpsilonParams&&(n.oneOverZPlusEpsilonParams=t.DepthScheme_OneOverZPlusEpsilonParams.toJSON(e.oneOverZPlusEpsilonParams)),void 0!==e.upperLeftQuadrantYChannelParams&&(n.upperLeftQuadrantYChannelParams=t.DepthScheme_UpperLeftQuadrantYChannelParams.toJSON(e.upperLeftQuadrantYChannelParams)),void 0!==e.halfResUChannelParams&&(n.halfResUChannelParams=t.DepthScheme_HalfResUChannelParams.toJSON(e.halfResUChannelParams)),n},create:e=>t.DepthScheme.fromPartial(e??{}),fromPartial(e){const n={nearZ:0,farZ:0,oneOverZPlusEpsilonParams:void 0,upperLeftQuadrantYChannelParams:void 0,halfResUChannelParams:void 0};return n.nearZ=e.nearZ??0,n.farZ=e.farZ??0,n.oneOverZPlusEpsilonParams=void 0!==e.oneOverZPlusEpsilonParams&&null!==e.oneOverZPlusEpsilonParams?t.DepthScheme_OneOverZPlusEpsilonParams.fromPartial(e.oneOverZPlusEpsilonParams):void 0,n.upperLeftQuadrantYChannelParams=void 0!==e.upperLeftQuadrantYChannelParams&&null!==e.upperLeftQuadrantYChannelParams?t.DepthScheme_UpperLeftQuadrantYChannelParams.fromPartial(e.upperLeftQuadrantYChannelParams):void 0,n.halfResUChannelParams=void 0!==e.halfResUChannelParams&&null!==e.halfResUChannelParams?t.DepthScheme_HalfResUChannelParams.fromPartial(e.halfResUChannelParams):void 0,n}},t.DepthScheme_OneOverZPlusEpsilonParams={encode:(e,t=new r.BinaryWriter)=>(0!==e.epsilon&&t.uint32(13).float(e.epsilon),!1!==e.reversed&&t.uint32(16).bool(e.reversed),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={epsilon:0,reversed:!1};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.epsilon=n.float();continue;case 2:if(16!==e)break;s.reversed=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({epsilon:Q(e.epsilon)?globalThis.Number(e.epsilon):0,reversed:!!Q(e.reversed)&&globalThis.Boolean(e.reversed)}),toJSON(e){const t={};return 0!==e.epsilon&&(t.epsilon=e.epsilon),!1!==e.reversed&&(t.reversed=e.reversed),t},create:e=>t.DepthScheme_OneOverZPlusEpsilonParams.fromPartial(e??{}),fromPartial(e){const t={epsilon:0,reversed:!1};return t.epsilon=e.epsilon??0,t.reversed=e.reversed??!1,t}},t.DepthScheme_UpperLeftQuadrantYChannelParams={encode:(e,t=new r.BinaryWriter)=>t,decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t;for(;n.pos<i;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>t.DepthScheme_UpperLeftQuadrantYChannelParams.fromPartial(e??{}),fromPartial:e=>({})},t.DepthScheme_HalfResUChannelParams={encode:(e,t=new r.BinaryWriter)=>t,decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t;for(;n.pos<i;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>t.DepthScheme_HalfResUChannelParams.fromPartial(e??{}),fromPartial:e=>({})},t.ClockSyncRequest={encode:(e,t=new r.BinaryWriter)=>(e.txTimestampNs.equals(s.default.UZERO)||t.uint32(8).uint64(e.txTimestampNs.toString()),e.estimatedClocksyncErrorNs.equals(s.default.ZERO)||t.uint32(16).int64(e.estimatedClocksyncErrorNs.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=w();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.txTimestampNs=s.default.fromString(n.uint64().toString(),!0);continue;case 2:if(16!==e)break;a.estimatedClocksyncErrorNs=s.default.fromString(n.int64().toString());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({txTimestampNs:Q(e.txTimestampNs)?s.default.fromValue(e.txTimestampNs):s.default.UZERO,estimatedClocksyncErrorNs:Q(e.estimatedClocksyncErrorNs)?s.default.fromValue(e.estimatedClocksyncErrorNs):s.default.ZERO}),toJSON(e){const t={};return e.txTimestampNs.equals(s.default.UZERO)||(t.txTimestampNs=(e.txTimestampNs||s.default.UZERO).toString()),e.estimatedClocksyncErrorNs.equals(s.default.ZERO)||(t.estimatedClocksyncErrorNs=(e.estimatedClocksyncErrorNs||s.default.ZERO).toString()),t},create:e=>t.ClockSyncRequest.fromPartial(e??{}),fromPartial(e){const t=w();return t.txTimestampNs=void 0!==e.txTimestampNs&&null!==e.txTimestampNs?s.default.fromValue(e.txTimestampNs):s.default.UZERO,t.estimatedClocksyncErrorNs=void 0!==e.estimatedClocksyncErrorNs&&null!==e.estimatedClocksyncErrorNs?s.default.fromValue(e.estimatedClocksyncErrorNs):s.default.ZERO,t}},t.ClockSyncResponse={encode:(e,t=new r.BinaryWriter)=>(e.requestTxTimestampNs.equals(s.default.UZERO)||t.uint32(8).uint64(e.requestTxTimestampNs.toString()),e.requestRxTimestampNs.equals(s.default.UZERO)||t.uint32(16).uint64(e.requestRxTimestampNs.toString()),e.txTimestampNs.equals(s.default.UZERO)||t.uint32(24).uint64(e.txTimestampNs.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=I();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.requestTxTimestampNs=s.default.fromString(n.uint64().toString(),!0);continue;case 2:if(16!==e)break;a.requestRxTimestampNs=s.default.fromString(n.uint64().toString(),!0);continue;case 3:if(24!==e)break;a.txTimestampNs=s.default.fromString(n.uint64().toString(),!0);continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({requestTxTimestampNs:Q(e.requestTxTimestampNs)?s.default.fromValue(e.requestTxTimestampNs):s.default.UZERO,requestRxTimestampNs:Q(e.requestRxTimestampNs)?s.default.fromValue(e.requestRxTimestampNs):s.default.UZERO,txTimestampNs:Q(e.txTimestampNs)?s.default.fromValue(e.txTimestampNs):s.default.UZERO}),toJSON(e){const t={};return e.requestTxTimestampNs.equals(s.default.UZERO)||(t.requestTxTimestampNs=(e.requestTxTimestampNs||s.default.UZERO).toString()),e.requestRxTimestampNs.equals(s.default.UZERO)||(t.requestRxTimestampNs=(e.requestRxTimestampNs||s.default.UZERO).toString()),e.txTimestampNs.equals(s.default.UZERO)||(t.txTimestampNs=(e.txTimestampNs||s.default.UZERO).toString()),t},create:e=>t.ClockSyncResponse.fromPartial(e??{}),fromPartial(e){const t=I();return t.requestTxTimestampNs=void 0!==e.requestTxTimestampNs&&null!==e.requestTxTimestampNs?s.default.fromValue(e.requestTxTimestampNs):s.default.UZERO,t.requestRxTimestampNs=void 0!==e.requestRxTimestampNs&&null!==e.requestRxTimestampNs?s.default.fromValue(e.requestRxTimestampNs):s.default.UZERO,t.txTimestampNs=void 0!==e.txTimestampNs&&null!==e.txTimestampNs?s.default.fromValue(e.txTimestampNs):s.default.UZERO,t}},t.OpaqueDataChannelControl={encode:(e,t=new r.BinaryWriter)=>(e.channelId.equals(s.default.UZERO)||t.uint32(8).uint64(e.channelId.toString()),0!==e.controlMessage&&t.uint32(16).int32(e.controlMessage),0!==e.uuid.length&&t.uint32(26).bytes(e.uuid),e.appId.equals(s.default.UZERO)||t.uint32(32).uint64(e.appId.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=C();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.channelId=s.default.fromString(n.uint64().toString(),!0);continue;case 2:if(16!==e)break;a.controlMessage=n.int32();continue;case 3:if(26!==e)break;a.uuid=n.bytes();continue;case 4:if(32!==e)break;a.appId=s.default.fromString(n.uint64().toString(),!0);continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({channelId:Q(e.channelId)?s.default.fromValue(e.channelId):s.default.UZERO,controlMessage:Q(e.controlMessage)?y(e.controlMessage):0,uuid:Q(e.uuid)?U(e.uuid):new Uint8Array(0),appId:Q(e.appId)?s.default.fromValue(e.appId):s.default.UZERO}),toJSON(e){const t={};return e.channelId.equals(s.default.UZERO)||(t.channelId=(e.channelId||s.default.UZERO).toString()),0!==e.controlMessage&&(t.controlMessage=E(e.controlMessage)),0!==e.uuid.length&&(t.uuid=F(e.uuid)),e.appId.equals(s.default.UZERO)||(t.appId=(e.appId||s.default.UZERO).toString()),t},create:e=>t.OpaqueDataChannelControl.fromPartial(e??{}),fromPartial(e){const t=C();return t.channelId=void 0!==e.channelId&&null!==e.channelId?s.default.fromValue(e.channelId):s.default.UZERO,t.controlMessage=e.controlMessage??0,t.uuid=e.uuid??new Uint8Array(0),t.appId=void 0!==e.appId&&null!==e.appId?s.default.fromValue(e.appId):s.default.UZERO,t}},t.ControllerInput={encode:(e,t=new r.BinaryWriter)=>(""!==e.identifier&&t.uint32(10).string(e.identifier),0!==e.type&&t.uint32(16).int32(e.type),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={identifier:"",type:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;s.identifier=n.string();continue;case 2:if(16!==e)break;s.type=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({identifier:Q(e.identifier)?globalThis.String(e.identifier):"",type:Q(e.type)?g(e.type):0}),toJSON(e){const t={};return""!==e.identifier&&(t.identifier=e.identifier),0!==e.type&&(t.type=A(e.type)),t},create:e=>t.ControllerInput.fromPartial(e??{}),fromPartial(e){const t={identifier:"",type:0};return t.identifier=e.identifier??"",t.type=e.type??0,t}},t.TrackedControllerProfile={encode:(e,t=new r.BinaryWriter)=>(""!==e.identifier&&t.uint32(10).string(e.identifier),0!==e.version&&t.uint32(16).uint32(e.version),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={identifier:"",version:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;s.identifier=n.string();continue;case 2:if(16!==e)break;s.version=n.uint32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({identifier:Q(e.identifier)?globalThis.String(e.identifier):"",version:Q(e.version)?globalThis.Number(e.version):0}),toJSON(e){const t={};return""!==e.identifier&&(t.identifier=e.identifier),0!==e.version&&(t.version=Math.round(e.version)),t},create:e=>t.TrackedControllerProfile.fromPartial(e??{}),fromPartial(e){const t={identifier:"",version:0};return t.identifier=e.identifier??"",t.version=e.version??0,t}},t.SupportedDeviceProfiles={encode(e,n=new r.BinaryWriter){for(const i of e.supportedTrackedControllerProfiles)t.TrackedControllerProfile.encode(i,n.uint32(10).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={supportedTrackedControllerProfiles:[]};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.supportedTrackedControllerProfiles.push(t.TrackedControllerProfile.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({supportedTrackedControllerProfiles:globalThis.Array.isArray(e?.supportedTrackedControllerProfiles)?e.supportedTrackedControllerProfiles.map(e=>t.TrackedControllerProfile.fromJSON(e)):[]}),toJSON(e){const n={};return e.supportedTrackedControllerProfiles?.length&&(n.supportedTrackedControllerProfiles=e.supportedTrackedControllerProfiles.map(e=>t.TrackedControllerProfile.toJSON(e))),n},create:e=>t.SupportedDeviceProfiles.fromPartial(e??{}),fromPartial(e){const n={supportedTrackedControllerProfiles:[]};return n.supportedTrackedControllerProfiles=e.supportedTrackedControllerProfiles?.map(e=>t.TrackedControllerProfile.fromPartial(e))||[],n}},t.RegisterTrackedController={encode(e,n=new r.BinaryWriter){void 0!==e.profile&&t.TrackedControllerProfile.encode(e.profile,n.uint32(10).fork()).join(),0!==e.chirality&&n.uint32(16).int32(e.chirality),e.controllerId.equals(s.default.ZERO)||n.uint32(24).int64(e.controllerId.toString());for(const i of e.inputs)t.ControllerInput.encode(i,n.uint32(34).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=T();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.profile=t.TrackedControllerProfile.decode(i,i.uint32());continue;case 2:if(16!==e)break;o.chirality=i.int32();continue;case 3:if(24!==e)break;o.controllerId=s.default.fromString(i.int64().toString());continue;case 4:if(34!==e)break;o.inputs.push(t.ControllerInput.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({profile:Q(e.profile)?t.TrackedControllerProfile.fromJSON(e.profile):void 0,chirality:Q(e.chirality)?m(e.chirality):0,controllerId:Q(e.controllerId)?s.default.fromValue(e.controllerId):s.default.ZERO,inputs:globalThis.Array.isArray(e?.inputs)?e.inputs.map(e=>t.ControllerInput.fromJSON(e)):[]}),toJSON(e){const n={};return void 0!==e.profile&&(n.profile=t.TrackedControllerProfile.toJSON(e.profile)),0!==e.chirality&&(n.chirality=v(e.chirality)),e.controllerId.equals(s.default.ZERO)||(n.controllerId=(e.controllerId||s.default.ZERO).toString()),e.inputs?.length&&(n.inputs=e.inputs.map(e=>t.ControllerInput.toJSON(e))),n},create:e=>t.RegisterTrackedController.fromPartial(e??{}),fromPartial(e){const n=T();return n.profile=void 0!==e.profile&&null!==e.profile?t.TrackedControllerProfile.fromPartial(e.profile):void 0,n.chirality=e.chirality??0,n.controllerId=void 0!==e.controllerId&&null!==e.controllerId?s.default.fromValue(e.controllerId):s.default.ZERO,n.inputs=e.inputs?.map(e=>t.ControllerInput.fromPartial(e))||[],n}},t.UnregisterTrackedController={encode:(e,t=new r.BinaryWriter)=>(e.controllerId.equals(s.default.ZERO)||t.uint32(8).int64(e.controllerId.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=M();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.controllerId=s.default.fromString(n.int64().toString());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({controllerId:Q(e.controllerId)?s.default.fromValue(e.controllerId):s.default.ZERO}),toJSON(e){const t={};return e.controllerId.equals(s.default.ZERO)||(t.controllerId=(e.controllerId||s.default.ZERO).toString()),t},create:e=>t.UnregisterTrackedController.fromPartial(e??{}),fromPartial(e){const t=M();return t.controllerId=void 0!==e.controllerId&&null!==e.controllerId?s.default.fromValue(e.controllerId):s.default.ZERO,t}},t.EquipTrackedController={encode:(e,t=new r.BinaryWriter)=>(""!==e.slot&&t.uint32(10).string(e.slot),e.controllerId.equals(s.default.ZERO)||t.uint32(16).int64(e.controllerId.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=B();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.slot=n.string();continue;case 2:if(16!==e)break;a.controllerId=s.default.fromString(n.int64().toString());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({slot:Q(e.slot)?globalThis.String(e.slot):"",controllerId:Q(e.controllerId)?s.default.fromValue(e.controllerId):s.default.ZERO}),toJSON(e){const t={};return""!==e.slot&&(t.slot=e.slot),e.controllerId.equals(s.default.ZERO)||(t.controllerId=(e.controllerId||s.default.ZERO).toString()),t},create:e=>t.EquipTrackedController.fromPartial(e??{}),fromPartial(e){const t=B();return t.slot=e.slot??"",t.controllerId=void 0!==e.controllerId&&null!==e.controllerId?s.default.fromValue(e.controllerId):s.default.ZERO,t}},t.InputValueUpdate={encode:(e,t=new r.BinaryWriter)=>(0!==e.inputIndex&&t.uint32(8).uint32(e.inputIndex),void 0!==e.booleanValue&&t.uint32(16).bool(e.booleanValue),void 0!==e.floatValue&&t.uint32(29).float(e.floatValue),void 0!==e.vec2Value&&a.XrVector2f.encode(e.vec2Value,t.uint32(34).fork()).join(),void 0!==e.vec3Value&&a.XrVector3f.encode(e.vec3Value,t.uint32(42).fork()).join(),void 0!==e.spaceLocationValue&&a.XrSpaceLocation.encode(e.spaceLocationValue,t.uint32(50).fork()).join(),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={inputIndex:0,booleanValue:void 0,floatValue:void 0,vec2Value:void 0,vec3Value:void 0,spaceLocationValue:void 0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.inputIndex=n.uint32();continue;case 2:if(16!==e)break;s.booleanValue=n.bool();continue;case 3:if(29!==e)break;s.floatValue=n.float();continue;case 4:if(34!==e)break;s.vec2Value=a.XrVector2f.decode(n,n.uint32());continue;case 5:if(42!==e)break;s.vec3Value=a.XrVector3f.decode(n,n.uint32());continue;case 6:if(50!==e)break;s.spaceLocationValue=a.XrSpaceLocation.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({inputIndex:Q(e.inputIndex)?globalThis.Number(e.inputIndex):0,booleanValue:Q(e.booleanValue)?globalThis.Boolean(e.booleanValue):void 0,floatValue:Q(e.floatValue)?globalThis.Number(e.floatValue):void 0,vec2Value:Q(e.vec2Value)?a.XrVector2f.fromJSON(e.vec2Value):void 0,vec3Value:Q(e.vec3Value)?a.XrVector3f.fromJSON(e.vec3Value):void 0,spaceLocationValue:Q(e.spaceLocationValue)?a.XrSpaceLocation.fromJSON(e.spaceLocationValue):void 0}),toJSON(e){const t={};return 0!==e.inputIndex&&(t.inputIndex=Math.round(e.inputIndex)),void 0!==e.booleanValue&&(t.booleanValue=e.booleanValue),void 0!==e.floatValue&&(t.floatValue=e.floatValue),void 0!==e.vec2Value&&(t.vec2Value=a.XrVector2f.toJSON(e.vec2Value)),void 0!==e.vec3Value&&(t.vec3Value=a.XrVector3f.toJSON(e.vec3Value)),void 0!==e.spaceLocationValue&&(t.spaceLocationValue=a.XrSpaceLocation.toJSON(e.spaceLocationValue)),t},create:e=>t.InputValueUpdate.fromPartial(e??{}),fromPartial(e){const t={inputIndex:0,booleanValue:void 0,floatValue:void 0,vec2Value:void 0,vec3Value:void 0,spaceLocationValue:void 0};return t.inputIndex=e.inputIndex??0,t.booleanValue=e.booleanValue??void 0,t.floatValue=e.floatValue??void 0,t.vec2Value=void 0!==e.vec2Value&&null!==e.vec2Value?a.XrVector2f.fromPartial(e.vec2Value):void 0,t.vec3Value=void 0!==e.vec3Value&&null!==e.vec3Value?a.XrVector3f.fromPartial(e.vec3Value):void 0,t.spaceLocationValue=void 0!==e.spaceLocationValue&&null!==e.spaceLocationValue?a.XrSpaceLocation.fromPartial(e.spaceLocationValue):void 0,t}},t.InputValueUpdateBundle={encode(e,n=new r.BinaryWriter){e.controllerId.equals(s.default.ZERO)||n.uint32(8).int64(e.controllerId.toString()),e.timestampNs.equals(s.default.ZERO)||n.uint32(16).int64(e.timestampNs.toString());for(const i of e.inputUpdates)t.InputValueUpdate.encode(i,n.uint32(26).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=R();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.controllerId=s.default.fromString(i.int64().toString());continue;case 2:if(16!==e)break;o.timestampNs=s.default.fromString(i.int64().toString());continue;case 3:if(26!==e)break;o.inputUpdates.push(t.InputValueUpdate.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({controllerId:Q(e.controllerId)?s.default.fromValue(e.controllerId):s.default.ZERO,timestampNs:Q(e.timestampNs)?s.default.fromValue(e.timestampNs):s.default.ZERO,inputUpdates:globalThis.Array.isArray(e?.inputUpdates)?e.inputUpdates.map(e=>t.InputValueUpdate.fromJSON(e)):[]}),toJSON(e){const n={};return e.controllerId.equals(s.default.ZERO)||(n.controllerId=(e.controllerId||s.default.ZERO).toString()),e.timestampNs.equals(s.default.ZERO)||(n.timestampNs=(e.timestampNs||s.default.ZERO).toString()),e.inputUpdates?.length&&(n.inputUpdates=e.inputUpdates.map(e=>t.InputValueUpdate.toJSON(e))),n},create:e=>t.InputValueUpdateBundle.fromPartial(e??{}),fromPartial(e){const n=R();return n.controllerId=void 0!==e.controllerId&&null!==e.controllerId?s.default.fromValue(e.controllerId):s.default.ZERO,n.timestampNs=void 0!==e.timestampNs&&null!==e.timestampNs?s.default.fromValue(e.timestampNs):s.default.ZERO,n.inputUpdates=e.inputUpdates?.map(e=>t.InputValueUpdate.fromPartial(e))||[],n}},t.TrackedControllerUpdate={encode(e,n=new r.BinaryWriter){for(const i of e.inputValueUpdateBundles)t.InputValueUpdateBundle.encode(i,n.uint32(34).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={inputValueUpdateBundles:[]};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 4:if(34!==e)break;a.inputValueUpdateBundles.push(t.InputValueUpdateBundle.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({inputValueUpdateBundles:globalThis.Array.isArray(e?.inputValueUpdateBundles)?e.inputValueUpdateBundles.map(e=>t.InputValueUpdateBundle.fromJSON(e)):[]}),toJSON(e){const n={};return e.inputValueUpdateBundles?.length&&(n.inputValueUpdateBundles=e.inputValueUpdateBundles.map(e=>t.InputValueUpdateBundle.toJSON(e))),n},create:e=>t.TrackedControllerUpdate.fromPartial(e??{}),fromPartial(e){const n={inputValueUpdateBundles:[]};return n.inputValueUpdateBundles=e.inputValueUpdateBundles?.map(e=>t.InputValueUpdateBundle.fromPartial(e))||[],n}},t.ClientToServerMessage={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.systemInfo&&t.SystemInfo.encode(e.systemInfo,n.uint32(10).fork()).join(),void 0!==e.viewConfiguration&&t.ViewConfiguration.encode(e.viewConfiguration,n.uint32(18).fork()).join(),void 0!==e.viewUpdate&&t.ViewUpdate.encode(e.viewUpdate,n.uint32(26).fork()).join(),void 0!==e.handTrackingUpdate&&t.HandTrackingUpdate.encode(e.handTrackingUpdate,n.uint32(34).fork()).join(),void 0!==e.bodyTrackingUpdate&&t.BodyTrackingUpdate.encode(e.bodyTrackingUpdate,n.uint32(98).fork()).join(),void 0!==e.clockSyncResponse&&t.ClockSyncResponse.encode(e.clockSyncResponse,n.uint32(42).fork()).join(),void 0!==e.opaqueData&&t.OpaqueData.encode(e.opaqueData,n.uint32(50).fork()).join(),void 0!==e.registerTrackedController&&t.RegisterTrackedController.encode(e.registerTrackedController,n.uint32(58).fork()).join(),void 0!==e.unregisterTrackedController&&t.UnregisterTrackedController.encode(e.unregisterTrackedController,n.uint32(66).fork()).join(),void 0!==e.equipTrackedController&&t.EquipTrackedController.encode(e.equipTrackedController,n.uint32(74).fork()).join(),void 0!==e.trackedControllerUpdate&&t.TrackedControllerUpdate.encode(e.trackedControllerUpdate,n.uint32(82).fork()).join(),void 0!==e.opaqueDataChannelControl&&t.OpaqueDataChannelControl.encode(e.opaqueDataChannelControl,n.uint32(90).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={systemInfo:void 0,viewConfiguration:void 0,viewUpdate:void 0,handTrackingUpdate:void 0,bodyTrackingUpdate:void 0,clockSyncResponse:void 0,opaqueData:void 0,registerTrackedController:void 0,unregisterTrackedController:void 0,equipTrackedController:void 0,trackedControllerUpdate:void 0,opaqueDataChannelControl:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.systemInfo=t.SystemInfo.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.viewConfiguration=t.ViewConfiguration.decode(i,i.uint32());continue;case 3:if(26!==e)break;a.viewUpdate=t.ViewUpdate.decode(i,i.uint32());continue;case 4:if(34!==e)break;a.handTrackingUpdate=t.HandTrackingUpdate.decode(i,i.uint32());continue;case 12:if(98!==e)break;a.bodyTrackingUpdate=t.BodyTrackingUpdate.decode(i,i.uint32());continue;case 5:if(42!==e)break;a.clockSyncResponse=t.ClockSyncResponse.decode(i,i.uint32());continue;case 6:if(50!==e)break;a.opaqueData=t.OpaqueData.decode(i,i.uint32());continue;case 7:if(58!==e)break;a.registerTrackedController=t.RegisterTrackedController.decode(i,i.uint32());continue;case 8:if(66!==e)break;a.unregisterTrackedController=t.UnregisterTrackedController.decode(i,i.uint32());continue;case 9:if(74!==e)break;a.equipTrackedController=t.EquipTrackedController.decode(i,i.uint32());continue;case 10:if(82!==e)break;a.trackedControllerUpdate=t.TrackedControllerUpdate.decode(i,i.uint32());continue;case 11:if(90!==e)break;a.opaqueDataChannelControl=t.OpaqueDataChannelControl.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({systemInfo:Q(e.systemInfo)?t.SystemInfo.fromJSON(e.systemInfo):void 0,viewConfiguration:Q(e.viewConfiguration)?t.ViewConfiguration.fromJSON(e.viewConfiguration):void 0,viewUpdate:Q(e.viewUpdate)?t.ViewUpdate.fromJSON(e.viewUpdate):void 0,handTrackingUpdate:Q(e.handTrackingUpdate)?t.HandTrackingUpdate.fromJSON(e.handTrackingUpdate):void 0,bodyTrackingUpdate:Q(e.bodyTrackingUpdate)?t.BodyTrackingUpdate.fromJSON(e.bodyTrackingUpdate):void 0,clockSyncResponse:Q(e.clockSyncResponse)?t.ClockSyncResponse.fromJSON(e.clockSyncResponse):void 0,opaqueData:Q(e.opaqueData)?t.OpaqueData.fromJSON(e.opaqueData):void 0,registerTrackedController:Q(e.registerTrackedController)?t.RegisterTrackedController.fromJSON(e.registerTrackedController):void 0,unregisterTrackedController:Q(e.unregisterTrackedController)?t.UnregisterTrackedController.fromJSON(e.unregisterTrackedController):void 0,equipTrackedController:Q(e.equipTrackedController)?t.EquipTrackedController.fromJSON(e.equipTrackedController):void 0,trackedControllerUpdate:Q(e.trackedControllerUpdate)?t.TrackedControllerUpdate.fromJSON(e.trackedControllerUpdate):void 0,opaqueDataChannelControl:Q(e.opaqueDataChannelControl)?t.OpaqueDataChannelControl.fromJSON(e.opaqueDataChannelControl):void 0}),toJSON(e){const n={};return void 0!==e.systemInfo&&(n.systemInfo=t.SystemInfo.toJSON(e.systemInfo)),void 0!==e.viewConfiguration&&(n.viewConfiguration=t.ViewConfiguration.toJSON(e.viewConfiguration)),void 0!==e.viewUpdate&&(n.viewUpdate=t.ViewUpdate.toJSON(e.viewUpdate)),void 0!==e.handTrackingUpdate&&(n.handTrackingUpdate=t.HandTrackingUpdate.toJSON(e.handTrackingUpdate)),void 0!==e.bodyTrackingUpdate&&(n.bodyTrackingUpdate=t.BodyTrackingUpdate.toJSON(e.bodyTrackingUpdate)),void 0!==e.clockSyncResponse&&(n.clockSyncResponse=t.ClockSyncResponse.toJSON(e.clockSyncResponse)),void 0!==e.opaqueData&&(n.opaqueData=t.OpaqueData.toJSON(e.opaqueData)),void 0!==e.registerTrackedController&&(n.registerTrackedController=t.RegisterTrackedController.toJSON(e.registerTrackedController)),void 0!==e.unregisterTrackedController&&(n.unregisterTrackedController=t.UnregisterTrackedController.toJSON(e.unregisterTrackedController)),void 0!==e.equipTrackedController&&(n.equipTrackedController=t.EquipTrackedController.toJSON(e.equipTrackedController)),void 0!==e.trackedControllerUpdate&&(n.trackedControllerUpdate=t.TrackedControllerUpdate.toJSON(e.trackedControllerUpdate)),void 0!==e.opaqueDataChannelControl&&(n.opaqueDataChannelControl=t.OpaqueDataChannelControl.toJSON(e.opaqueDataChannelControl)),n},create:e=>t.ClientToServerMessage.fromPartial(e??{}),fromPartial(e){const n={systemInfo:void 0,viewConfiguration:void 0,viewUpdate:void 0,handTrackingUpdate:void 0,bodyTrackingUpdate:void 0,clockSyncResponse:void 0,opaqueData:void 0,registerTrackedController:void 0,unregisterTrackedController:void 0,equipTrackedController:void 0,trackedControllerUpdate:void 0,opaqueDataChannelControl:void 0};return n.systemInfo=void 0!==e.systemInfo&&null!==e.systemInfo?t.SystemInfo.fromPartial(e.systemInfo):void 0,n.viewConfiguration=void 0!==e.viewConfiguration&&null!==e.viewConfiguration?t.ViewConfiguration.fromPartial(e.viewConfiguration):void 0,n.viewUpdate=void 0!==e.viewUpdate&&null!==e.viewUpdate?t.ViewUpdate.fromPartial(e.viewUpdate):void 0,n.handTrackingUpdate=void 0!==e.handTrackingUpdate&&null!==e.handTrackingUpdate?t.HandTrackingUpdate.fromPartial(e.handTrackingUpdate):void 0,n.bodyTrackingUpdate=void 0!==e.bodyTrackingUpdate&&null!==e.bodyTrackingUpdate?t.BodyTrackingUpdate.fromPartial(e.bodyTrackingUpdate):void 0,n.clockSyncResponse=void 0!==e.clockSyncResponse&&null!==e.clockSyncResponse?t.ClockSyncResponse.fromPartial(e.clockSyncResponse):void 0,n.opaqueData=void 0!==e.opaqueData&&null!==e.opaqueData?t.OpaqueData.fromPartial(e.opaqueData):void 0,n.registerTrackedController=void 0!==e.registerTrackedController&&null!==e.registerTrackedController?t.RegisterTrackedController.fromPartial(e.registerTrackedController):void 0,n.unregisterTrackedController=void 0!==e.unregisterTrackedController&&null!==e.unregisterTrackedController?t.UnregisterTrackedController.fromPartial(e.unregisterTrackedController):void 0,n.equipTrackedController=void 0!==e.equipTrackedController&&null!==e.equipTrackedController?t.EquipTrackedController.fromPartial(e.equipTrackedController):void 0,n.trackedControllerUpdate=void 0!==e.trackedControllerUpdate&&null!==e.trackedControllerUpdate?t.TrackedControllerUpdate.fromPartial(e.trackedControllerUpdate):void 0,n.opaqueDataChannelControl=void 0!==e.opaqueDataChannelControl&&null!==e.opaqueDataChannelControl?t.OpaqueDataChannelControl.fromPartial(e.opaqueDataChannelControl):void 0,n}},t.SystemInfo={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.protocolVersion&&t.Version.encode(e.protocolVersion,n.uint32(10).fork()).join(),void 0!==e.clientVersion&&t.Version.encode(e.clientVersion,n.uint32(18).fork()).join(),""!==e.gitTag&&n.uint32(26).string(e.gitTag),0!==e.formFactor&&n.uint32(32).int32(e.formFactor),void 0!==e.depthScheme&&t.DepthScheme.encode(e.depthScheme,n.uint32(42).fork()).join(),void 0!==e.alphaScheme&&t.AlphaScheme.encode(e.alphaScheme,n.uint32(50).fork()).join(),void 0!==e.viewConfiguration&&t.ViewConfiguration.encode(e.viewConfiguration,n.uint32(58).fork()).join(),void 0!==e.supportedFeatures&&t.SupportedFeatures.encode(e.supportedFeatures,n.uint32(66).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={protocolVersion:void 0,clientVersion:void 0,gitTag:"",formFactor:0,depthScheme:void 0,alphaScheme:void 0,viewConfiguration:void 0,supportedFeatures:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.protocolVersion=t.Version.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.clientVersion=t.Version.decode(i,i.uint32());continue;case 3:if(26!==e)break;a.gitTag=i.string();continue;case 4:if(32!==e)break;a.formFactor=i.int32();continue;case 5:if(42!==e)break;a.depthScheme=t.DepthScheme.decode(i,i.uint32());continue;case 6:if(50!==e)break;a.alphaScheme=t.AlphaScheme.decode(i,i.uint32());continue;case 7:if(58!==e)break;a.viewConfiguration=t.ViewConfiguration.decode(i,i.uint32());continue;case 8:if(66!==e)break;a.supportedFeatures=t.SupportedFeatures.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({protocolVersion:Q(e.protocolVersion)?t.Version.fromJSON(e.protocolVersion):void 0,clientVersion:Q(e.clientVersion)?t.Version.fromJSON(e.clientVersion):void 0,gitTag:Q(e.gitTag)?globalThis.String(e.gitTag):"",formFactor:Q(e.formFactor)?(0,a.xrFormFactorFromJSON)(e.formFactor):0,depthScheme:Q(e.depthScheme)?t.DepthScheme.fromJSON(e.depthScheme):void 0,alphaScheme:Q(e.alphaScheme)?t.AlphaScheme.fromJSON(e.alphaScheme):void 0,viewConfiguration:Q(e.viewConfiguration)?t.ViewConfiguration.fromJSON(e.viewConfiguration):void 0,supportedFeatures:Q(e.supportedFeatures)?t.SupportedFeatures.fromJSON(e.supportedFeatures):void 0}),toJSON(e){const n={};return void 0!==e.protocolVersion&&(n.protocolVersion=t.Version.toJSON(e.protocolVersion)),void 0!==e.clientVersion&&(n.clientVersion=t.Version.toJSON(e.clientVersion)),""!==e.gitTag&&(n.gitTag=e.gitTag),0!==e.formFactor&&(n.formFactor=(0,a.xrFormFactorToJSON)(e.formFactor)),void 0!==e.depthScheme&&(n.depthScheme=t.DepthScheme.toJSON(e.depthScheme)),void 0!==e.alphaScheme&&(n.alphaScheme=t.AlphaScheme.toJSON(e.alphaScheme)),void 0!==e.viewConfiguration&&(n.viewConfiguration=t.ViewConfiguration.toJSON(e.viewConfiguration)),void 0!==e.supportedFeatures&&(n.supportedFeatures=t.SupportedFeatures.toJSON(e.supportedFeatures)),n},create:e=>t.SystemInfo.fromPartial(e??{}),fromPartial(e){const n={protocolVersion:void 0,clientVersion:void 0,gitTag:"",formFactor:0,depthScheme:void 0,alphaScheme:void 0,viewConfiguration:void 0,supportedFeatures:void 0};return n.protocolVersion=void 0!==e.protocolVersion&&null!==e.protocolVersion?t.Version.fromPartial(e.protocolVersion):void 0,n.clientVersion=void 0!==e.clientVersion&&null!==e.clientVersion?t.Version.fromPartial(e.clientVersion):void 0,n.gitTag=e.gitTag??"",n.formFactor=e.formFactor??0,n.depthScheme=void 0!==e.depthScheme&&null!==e.depthScheme?t.DepthScheme.fromPartial(e.depthScheme):void 0,n.alphaScheme=void 0!==e.alphaScheme&&null!==e.alphaScheme?t.AlphaScheme.fromPartial(e.alphaScheme):void 0,n.viewConfiguration=void 0!==e.viewConfiguration&&null!==e.viewConfiguration?t.ViewConfiguration.fromPartial(e.viewConfiguration):void 0,n.supportedFeatures=void 0!==e.supportedFeatures&&null!==e.supportedFeatures?t.SupportedFeatures.fromPartial(e.supportedFeatures):void 0,n}},t.SupportedFeatures={encode:(e,t=new r.BinaryWriter)=>(!1!==e.bodyTrackingBd&&t.uint32(8).bool(e.bodyTrackingBd),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={bodyTrackingBd:!1};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.bodyTrackingBd=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({bodyTrackingBd:!!Q(e.bodyTrackingBd)&&globalThis.Boolean(e.bodyTrackingBd)}),toJSON(e){const t={};return!1!==e.bodyTrackingBd&&(t.bodyTrackingBd=e.bodyTrackingBd),t},create:e=>t.SupportedFeatures.fromPartial(e??{}),fromPartial(e){const t={bodyTrackingBd:!1};return t.bodyTrackingBd=e.bodyTrackingBd??!1,t}},t.ClientTrackingMetadata={encode:(e,t=new r.BinaryWriter)=>(e.id.equals(s.default.ZERO)||t.uint32(8).int64(e.id.toString()),e.clientSampleTimeNs.equals(s.default.ZERO)||t.uint32(16).int64(e.clientSampleTimeNs.toString()),e.clientPredictedForTimeNs.equals(s.default.ZERO)||t.uint32(24).int64(e.clientPredictedForTimeNs.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=P();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.id=s.default.fromString(n.int64().toString());continue;case 2:if(16!==e)break;a.clientSampleTimeNs=s.default.fromString(n.int64().toString());continue;case 3:if(24!==e)break;a.clientPredictedForTimeNs=s.default.fromString(n.int64().toString());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({id:Q(e.id)?s.default.fromValue(e.id):s.default.ZERO,clientSampleTimeNs:Q(e.clientSampleTimeNs)?s.default.fromValue(e.clientSampleTimeNs):s.default.ZERO,clientPredictedForTimeNs:Q(e.clientPredictedForTimeNs)?s.default.fromValue(e.clientPredictedForTimeNs):s.default.ZERO}),toJSON(e){const t={};return e.id.equals(s.default.ZERO)||(t.id=(e.id||s.default.ZERO).toString()),e.clientSampleTimeNs.equals(s.default.ZERO)||(t.clientSampleTimeNs=(e.clientSampleTimeNs||s.default.ZERO).toString()),e.clientPredictedForTimeNs.equals(s.default.ZERO)||(t.clientPredictedForTimeNs=(e.clientPredictedForTimeNs||s.default.ZERO).toString()),t},create:e=>t.ClientTrackingMetadata.fromPartial(e??{}),fromPartial(e){const t=P();return t.id=void 0!==e.id&&null!==e.id?s.default.fromValue(e.id):s.default.ZERO,t.clientSampleTimeNs=void 0!==e.clientSampleTimeNs&&null!==e.clientSampleTimeNs?s.default.fromValue(e.clientSampleTimeNs):s.default.ZERO,t.clientPredictedForTimeNs=void 0!==e.clientPredictedForTimeNs&&null!==e.clientPredictedForTimeNs?s.default.fromValue(e.clientPredictedForTimeNs):s.default.ZERO,t}},t.HandTrackingUpdate={encode:(e,n=new r.BinaryWriter)=>(e.timeNs.equals(s.default.ZERO)||n.uint32(8).int64(e.timeNs.toString()),void 0!==e.metadata&&t.ClientTrackingMetadata.encode(e.metadata,n.uint32(34).fork()).join(),void 0!==e.leftHand&&a.XrHandJointLocationsEXT.encode(e.leftHand,n.uint32(18).fork()).join(),void 0!==e.rightHand&&a.XrHandJointLocationsEXT.encode(e.rightHand,n.uint32(26).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),o=void 0===n?i.len:i.pos+n,l=_();for(;i.pos<o;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;l.timeNs=s.default.fromString(i.int64().toString());continue;case 4:if(34!==e)break;l.metadata=t.ClientTrackingMetadata.decode(i,i.uint32());continue;case 2:if(18!==e)break;l.leftHand=a.XrHandJointLocationsEXT.decode(i,i.uint32());continue;case 3:if(26!==e)break;l.rightHand=a.XrHandJointLocationsEXT.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return l},fromJSON:e=>({timeNs:Q(e.timeNs)?s.default.fromValue(e.timeNs):s.default.ZERO,metadata:Q(e.metadata)?t.ClientTrackingMetadata.fromJSON(e.metadata):void 0,leftHand:Q(e.leftHand)?a.XrHandJointLocationsEXT.fromJSON(e.leftHand):void 0,rightHand:Q(e.rightHand)?a.XrHandJointLocationsEXT.fromJSON(e.rightHand):void 0}),toJSON(e){const n={};return e.timeNs.equals(s.default.ZERO)||(n.timeNs=(e.timeNs||s.default.ZERO).toString()),void 0!==e.metadata&&(n.metadata=t.ClientTrackingMetadata.toJSON(e.metadata)),void 0!==e.leftHand&&(n.leftHand=a.XrHandJointLocationsEXT.toJSON(e.leftHand)),void 0!==e.rightHand&&(n.rightHand=a.XrHandJointLocationsEXT.toJSON(e.rightHand)),n},create:e=>t.HandTrackingUpdate.fromPartial(e??{}),fromPartial(e){const n=_();return n.timeNs=void 0!==e.timeNs&&null!==e.timeNs?s.default.fromValue(e.timeNs):s.default.ZERO,n.metadata=void 0!==e.metadata&&null!==e.metadata?t.ClientTrackingMetadata.fromPartial(e.metadata):void 0,n.leftHand=void 0!==e.leftHand&&null!==e.leftHand?a.XrHandJointLocationsEXT.fromPartial(e.leftHand):void 0,n.rightHand=void 0!==e.rightHand&&null!==e.rightHand?a.XrHandJointLocationsEXT.fromPartial(e.rightHand):void 0,n}},t.BodyTrackingUpdate={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.metadata&&t.ClientTrackingMetadata.encode(e.metadata,n.uint32(10).fork()).join(),void 0!==e.body&&a.XrBodyJointLocationsBD.encode(e.body,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,o={metadata:void 0,body:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.metadata=t.ClientTrackingMetadata.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.body=a.XrBodyJointLocationsBD.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({metadata:Q(e.metadata)?t.ClientTrackingMetadata.fromJSON(e.metadata):void 0,body:Q(e.body)?a.XrBodyJointLocationsBD.fromJSON(e.body):void 0}),toJSON(e){const n={};return void 0!==e.metadata&&(n.metadata=t.ClientTrackingMetadata.toJSON(e.metadata)),void 0!==e.body&&(n.body=a.XrBodyJointLocationsBD.toJSON(e.body)),n},create:e=>t.BodyTrackingUpdate.fromPartial(e??{}),fromPartial(e){const n={metadata:void 0,body:void 0};return n.metadata=void 0!==e.metadata&&null!==e.metadata?t.ClientTrackingMetadata.fromPartial(e.metadata):void 0,n.body=void 0!==e.body&&null!==e.body?a.XrBodyJointLocationsBD.fromPartial(e.body):void 0,n}},t.ViewConfiguration={encode(e,n=new r.BinaryWriter){0!==e.type&&n.uint32(8).int32(e.type);for(const i of e.viewPqwStates)t.XrViewPQWStateNV.encode(i,n.uint32(18).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={type:0,viewPqwStates:[]};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.type=i.int32();continue;case 2:if(18!==e)break;a.viewPqwStates.push(t.XrViewPQWStateNV.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({type:Q(e.type)?(0,a.xrViewConfigurationTypeFromJSON)(e.type):0,viewPqwStates:globalThis.Array.isArray(e?.viewPqwStates)?e.viewPqwStates.map(e=>t.XrViewPQWStateNV.fromJSON(e)):[]}),toJSON(e){const n={};return 0!==e.type&&(n.type=(0,a.xrViewConfigurationTypeToJSON)(e.type)),e.viewPqwStates?.length&&(n.viewPqwStates=e.viewPqwStates.map(e=>t.XrViewPQWStateNV.toJSON(e))),n},create:e=>t.ViewConfiguration.fromPartial(e??{}),fromPartial(e){const n={type:0,viewPqwStates:[]};return n.type=e.type??0,n.viewPqwStates=e.viewPqwStates?.map(e=>t.XrViewPQWStateNV.fromPartial(e))||[],n}},t.ViewUpdate={encode(e,n=new r.BinaryWriter){e.id.equals(s.default.ZERO)||n.uint32(8).int64(e.id.toString()),e.displayTime.equals(s.default.ZERO)||n.uint32(16).int64(e.displayTime.toString()),void 0!==e.metadata&&t.ClientTrackingMetadata.encode(e.metadata,n.uint32(50).fork()).join(),void 0!==e.viewSpaceLocation&&a.XrSpaceLocation.encode(e.viewSpaceLocation,n.uint32(26).fork()).join();for(const t of e.views)a.XrView.encode(t,n.uint32(34).fork()).join();for(const t of e.viewStates)a.XrViewState.encode(t,n.uint32(42).fork()).join();return void 0!==e.scalingOverride&&t.ScalingOverride.encode(e.scalingOverride,n.uint32(58).fork()).join(),void 0!==e.fovPivotInfo&&t.FoveationPivotInfo.encode(e.fovPivotInfo,n.uint32(66).fork()).join(),n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),o=void 0===n?i.len:i.pos+n,l=D();for(;i.pos<o;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;l.id=s.default.fromString(i.int64().toString());continue;case 2:if(16!==e)break;l.displayTime=s.default.fromString(i.int64().toString());continue;case 6:if(50!==e)break;l.metadata=t.ClientTrackingMetadata.decode(i,i.uint32());continue;case 3:if(26!==e)break;l.viewSpaceLocation=a.XrSpaceLocation.decode(i,i.uint32());continue;case 4:if(34!==e)break;l.views.push(a.XrView.decode(i,i.uint32()));continue;case 5:if(42!==e)break;l.viewStates.push(a.XrViewState.decode(i,i.uint32()));continue;case 7:if(58!==e)break;l.scalingOverride=t.ScalingOverride.decode(i,i.uint32());continue;case 8:if(66!==e)break;l.fovPivotInfo=t.FoveationPivotInfo.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return l},fromJSON:e=>({id:Q(e.id)?s.default.fromValue(e.id):s.default.ZERO,displayTime:Q(e.displayTime)?s.default.fromValue(e.displayTime):s.default.ZERO,metadata:Q(e.metadata)?t.ClientTrackingMetadata.fromJSON(e.metadata):void 0,viewSpaceLocation:Q(e.viewSpaceLocation)?a.XrSpaceLocation.fromJSON(e.viewSpaceLocation):void 0,views:globalThis.Array.isArray(e?.views)?e.views.map(e=>a.XrView.fromJSON(e)):[],viewStates:globalThis.Array.isArray(e?.viewStates)?e.viewStates.map(e=>a.XrViewState.fromJSON(e)):[],scalingOverride:Q(e.scalingOverride)?t.ScalingOverride.fromJSON(e.scalingOverride):void 0,fovPivotInfo:Q(e.fovPivotInfo)?t.FoveationPivotInfo.fromJSON(e.fovPivotInfo):void 0}),toJSON(e){const n={};return e.id.equals(s.default.ZERO)||(n.id=(e.id||s.default.ZERO).toString()),e.displayTime.equals(s.default.ZERO)||(n.displayTime=(e.displayTime||s.default.ZERO).toString()),void 0!==e.metadata&&(n.metadata=t.ClientTrackingMetadata.toJSON(e.metadata)),void 0!==e.viewSpaceLocation&&(n.viewSpaceLocation=a.XrSpaceLocation.toJSON(e.viewSpaceLocation)),e.views?.length&&(n.views=e.views.map(e=>a.XrView.toJSON(e))),e.viewStates?.length&&(n.viewStates=e.viewStates.map(e=>a.XrViewState.toJSON(e))),void 0!==e.scalingOverride&&(n.scalingOverride=t.ScalingOverride.toJSON(e.scalingOverride)),void 0!==e.fovPivotInfo&&(n.fovPivotInfo=t.FoveationPivotInfo.toJSON(e.fovPivotInfo)),n},create:e=>t.ViewUpdate.fromPartial(e??{}),fromPartial(e){const n=D();return n.id=void 0!==e.id&&null!==e.id?s.default.fromValue(e.id):s.default.ZERO,n.displayTime=void 0!==e.displayTime&&null!==e.displayTime?s.default.fromValue(e.displayTime):s.default.ZERO,n.metadata=void 0!==e.metadata&&null!==e.metadata?t.ClientTrackingMetadata.fromPartial(e.metadata):void 0,n.viewSpaceLocation=void 0!==e.viewSpaceLocation&&null!==e.viewSpaceLocation?a.XrSpaceLocation.fromPartial(e.viewSpaceLocation):void 0,n.views=e.views?.map(e=>a.XrView.fromPartial(e))||[],n.viewStates=e.viewStates?.map(e=>a.XrViewState.fromPartial(e))||[],n.scalingOverride=void 0!==e.scalingOverride&&null!==e.scalingOverride?t.ScalingOverride.fromPartial(e.scalingOverride):void 0,n.fovPivotInfo=void 0!==e.fovPivotInfo&&null!==e.fovPivotInfo?t.FoveationPivotInfo.fromPartial(e.fovPivotInfo):void 0,n}},t.FoveationPivotInfo={encode:(e,t=new r.BinaryWriter)=>(0!==e.centerHorzNormalized&&t.uint32(13).float(e.centerHorzNormalized),0!==e.centerVertNormalized&&t.uint32(21).float(e.centerVertNormalized),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={centerHorzNormalized:0,centerVertNormalized:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.centerHorzNormalized=n.float();continue;case 2:if(21!==e)break;s.centerVertNormalized=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({centerHorzNormalized:Q(e.centerHorzNormalized)?globalThis.Number(e.centerHorzNormalized):0,centerVertNormalized:Q(e.centerVertNormalized)?globalThis.Number(e.centerVertNormalized):0}),toJSON(e){const t={};return 0!==e.centerHorzNormalized&&(t.centerHorzNormalized=e.centerHorzNormalized),0!==e.centerVertNormalized&&(t.centerVertNormalized=e.centerVertNormalized),t},create:e=>t.FoveationPivotInfo.fromPartial(e??{}),fromPartial(e){const t={centerHorzNormalized:0,centerVertNormalized:0};return t.centerHorzNormalized=e.centerHorzNormalized??0,t.centerVertNormalized=e.centerVertNormalized??0,t}},t.DisplayUpdate={encode:(e,t=new r.BinaryWriter)=>(e.displayTimeNs.equals(s.default.ZERO)||t.uint32(8).int64(e.displayTimeNs.toString()),e.minDisplayPeriodNs.equals(s.default.ZERO)||t.uint32(16).int64(e.minDisplayPeriodNs.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=N();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.displayTimeNs=s.default.fromString(n.int64().toString());continue;case 2:if(16!==e)break;a.minDisplayPeriodNs=s.default.fromString(n.int64().toString());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({displayTimeNs:Q(e.displayTimeNs)?s.default.fromValue(e.displayTimeNs):s.default.ZERO,minDisplayPeriodNs:Q(e.minDisplayPeriodNs)?s.default.fromValue(e.minDisplayPeriodNs):s.default.ZERO}),toJSON(e){const t={};return e.displayTimeNs.equals(s.default.ZERO)||(t.displayTimeNs=(e.displayTimeNs||s.default.ZERO).toString()),e.minDisplayPeriodNs.equals(s.default.ZERO)||(t.minDisplayPeriodNs=(e.minDisplayPeriodNs||s.default.ZERO).toString()),t},create:e=>t.DisplayUpdate.fromPartial(e??{}),fromPartial(e){const t=N();return t.displayTimeNs=void 0!==e.displayTimeNs&&null!==e.displayTimeNs?s.default.fromValue(e.displayTimeNs):s.default.ZERO,t.minDisplayPeriodNs=void 0!==e.minDisplayPeriodNs&&null!==e.minDisplayPeriodNs?s.default.fromValue(e.minDisplayPeriodNs):s.default.ZERO,t}},t.FrameTimingFeedback={encode:(e,n=new r.BinaryWriter)=>(e.frameNumber.equals(s.default.ZERO)||n.uint32(8).int64(e.frameNumber.toString()),e.receiveTimeNs.equals(s.default.ZERO)||n.uint32(16).int64(e.receiveTimeNs.toString()),e.frameReadyTimeNs.equals(s.default.ZERO)||n.uint32(24).int64(e.frameReadyTimeNs.toString()),e.frameDejitterTimeNs.equals(s.default.ZERO)||n.uint32(32).int64(e.frameDejitterTimeNs.toString()),e.targetDisplayTimeNs.equals(s.default.ZERO)||n.uint32(40).int64(e.targetDisplayTimeNs.toString()),e.actualDisplayTimeNs.equals(s.default.ZERO)||n.uint32(48).int64(e.actualDisplayTimeNs.toString()),void 0!==e.relayedFrameTrackingMetadata&&t.FrameTrackingMetadata.encode(e.relayedFrameTrackingMetadata,n.uint32(58).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=L();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.frameNumber=s.default.fromString(i.int64().toString());continue;case 2:if(16!==e)break;o.receiveTimeNs=s.default.fromString(i.int64().toString());continue;case 3:if(24!==e)break;o.frameReadyTimeNs=s.default.fromString(i.int64().toString());continue;case 4:if(32!==e)break;o.frameDejitterTimeNs=s.default.fromString(i.int64().toString());continue;case 5:if(40!==e)break;o.targetDisplayTimeNs=s.default.fromString(i.int64().toString());continue;case 6:if(48!==e)break;o.actualDisplayTimeNs=s.default.fromString(i.int64().toString());continue;case 7:if(58!==e)break;o.relayedFrameTrackingMetadata=t.FrameTrackingMetadata.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({frameNumber:Q(e.frameNumber)?s.default.fromValue(e.frameNumber):s.default.ZERO,receiveTimeNs:Q(e.receiveTimeNs)?s.default.fromValue(e.receiveTimeNs):s.default.ZERO,frameReadyTimeNs:Q(e.frameReadyTimeNs)?s.default.fromValue(e.frameReadyTimeNs):s.default.ZERO,frameDejitterTimeNs:Q(e.frameDejitterTimeNs)?s.default.fromValue(e.frameDejitterTimeNs):s.default.ZERO,targetDisplayTimeNs:Q(e.targetDisplayTimeNs)?s.default.fromValue(e.targetDisplayTimeNs):s.default.ZERO,actualDisplayTimeNs:Q(e.actualDisplayTimeNs)?s.default.fromValue(e.actualDisplayTimeNs):s.default.ZERO,relayedFrameTrackingMetadata:Q(e.relayedFrameTrackingMetadata)?t.FrameTrackingMetadata.fromJSON(e.relayedFrameTrackingMetadata):void 0}),toJSON(e){const n={};return e.frameNumber.equals(s.default.ZERO)||(n.frameNumber=(e.frameNumber||s.default.ZERO).toString()),e.receiveTimeNs.equals(s.default.ZERO)||(n.receiveTimeNs=(e.receiveTimeNs||s.default.ZERO).toString()),e.frameReadyTimeNs.equals(s.default.ZERO)||(n.frameReadyTimeNs=(e.frameReadyTimeNs||s.default.ZERO).toString()),e.frameDejitterTimeNs.equals(s.default.ZERO)||(n.frameDejitterTimeNs=(e.frameDejitterTimeNs||s.default.ZERO).toString()),e.targetDisplayTimeNs.equals(s.default.ZERO)||(n.targetDisplayTimeNs=(e.targetDisplayTimeNs||s.default.ZERO).toString()),e.actualDisplayTimeNs.equals(s.default.ZERO)||(n.actualDisplayTimeNs=(e.actualDisplayTimeNs||s.default.ZERO).toString()),void 0!==e.relayedFrameTrackingMetadata&&(n.relayedFrameTrackingMetadata=t.FrameTrackingMetadata.toJSON(e.relayedFrameTrackingMetadata)),n},create:e=>t.FrameTimingFeedback.fromPartial(e??{}),fromPartial(e){const n=L();return n.frameNumber=void 0!==e.frameNumber&&null!==e.frameNumber?s.default.fromValue(e.frameNumber):s.default.ZERO,n.receiveTimeNs=void 0!==e.receiveTimeNs&&null!==e.receiveTimeNs?s.default.fromValue(e.receiveTimeNs):s.default.ZERO,n.frameReadyTimeNs=void 0!==e.frameReadyTimeNs&&null!==e.frameReadyTimeNs?s.default.fromValue(e.frameReadyTimeNs):s.default.ZERO,n.frameDejitterTimeNs=void 0!==e.frameDejitterTimeNs&&null!==e.frameDejitterTimeNs?s.default.fromValue(e.frameDejitterTimeNs):s.default.ZERO,n.targetDisplayTimeNs=void 0!==e.targetDisplayTimeNs&&null!==e.targetDisplayTimeNs?s.default.fromValue(e.targetDisplayTimeNs):s.default.ZERO,n.actualDisplayTimeNs=void 0!==e.actualDisplayTimeNs&&null!==e.actualDisplayTimeNs?s.default.fromValue(e.actualDisplayTimeNs):s.default.ZERO,n.relayedFrameTrackingMetadata=void 0!==e.relayedFrameTrackingMetadata&&null!==e.relayedFrameTrackingMetadata?t.FrameTrackingMetadata.fromPartial(e.relayedFrameTrackingMetadata):void 0,n}},t.ServerInfo={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.serverVersion&&t.Version.encode(e.serverVersion,n.uint32(10).fork()).join(),""!==e.gitTag&&n.uint32(18).string(e.gitTag),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={serverVersion:void 0,gitTag:""};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.serverVersion=t.Version.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.gitTag=i.string();continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({serverVersion:Q(e.serverVersion)?t.Version.fromJSON(e.serverVersion):void 0,gitTag:Q(e.gitTag)?globalThis.String(e.gitTag):""}),toJSON(e){const n={};return void 0!==e.serverVersion&&(n.serverVersion=t.Version.toJSON(e.serverVersion)),""!==e.gitTag&&(n.gitTag=e.gitTag),n},create:e=>t.ServerInfo.fromPartial(e??{}),fromPartial(e){const n={serverVersion:void 0,gitTag:""};return n.serverVersion=void 0!==e.serverVersion&&null!==e.serverVersion?t.Version.fromPartial(e.serverVersion):void 0,n.gitTag=e.gitTag??"",n}},t.ServerAlert={encode:(e,t=new r.BinaryWriter)=>(0!==e.alertType&&t.uint32(8).int32(e.alertType),""!==e.details&&t.uint32(18).string(e.details),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={alertType:0,details:""};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.alertType=n.int32();continue;case 2:if(18!==e)break;s.details=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({alertType:Q(e.alertType)?S(e.alertType):0,details:Q(e.details)?globalThis.String(e.details):""}),toJSON(e){const t={};return 0!==e.alertType&&(t.alertType=b(e.alertType)),""!==e.details&&(t.details=e.details),t},create:e=>t.ServerAlert.fromPartial(e??{}),fromPartial(e){const t={alertType:0,details:""};return t.alertType=e.alertType??0,t.details=e.details??"",t}},t.ServerToClientMessage={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.serverInfo&&t.ServerInfo.encode(e.serverInfo,n.uint32(10).fork()).join(),void 0!==e.alert&&t.ServerAlert.encode(e.alert,n.uint32(18).fork()).join(),void 0!==e.opaqueData&&t.OpaqueData.encode(e.opaqueData,n.uint32(26).fork()).join(),void 0!==e.clockSyncRequest&&t.ClockSyncRequest.encode(e.clockSyncRequest,n.uint32(34).fork()).join(),void 0!==e.frameMetadata&&t.VideoFrameMetadata.encode(e.frameMetadata,n.uint32(42).fork()).join(),void 0!==e.supportedDeviceProfiles&&t.SupportedDeviceProfiles.encode(e.supportedDeviceProfiles,n.uint32(50).fork()).join(),void 0!==e.opaqueDataChannelControl&&t.OpaqueDataChannelControl.encode(e.opaqueDataChannelControl,n.uint32(58).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={serverInfo:void 0,alert:void 0,opaqueData:void 0,clockSyncRequest:void 0,frameMetadata:void 0,supportedDeviceProfiles:void 0,opaqueDataChannelControl:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.serverInfo=t.ServerInfo.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.alert=t.ServerAlert.decode(i,i.uint32());continue;case 3:if(26!==e)break;a.opaqueData=t.OpaqueData.decode(i,i.uint32());continue;case 4:if(34!==e)break;a.clockSyncRequest=t.ClockSyncRequest.decode(i,i.uint32());continue;case 5:if(42!==e)break;a.frameMetadata=t.VideoFrameMetadata.decode(i,i.uint32());continue;case 6:if(50!==e)break;a.supportedDeviceProfiles=t.SupportedDeviceProfiles.decode(i,i.uint32());continue;case 7:if(58!==e)break;a.opaqueDataChannelControl=t.OpaqueDataChannelControl.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({serverInfo:Q(e.serverInfo)?t.ServerInfo.fromJSON(e.serverInfo):void 0,alert:Q(e.alert)?t.ServerAlert.fromJSON(e.alert):void 0,opaqueData:Q(e.opaqueData)?t.OpaqueData.fromJSON(e.opaqueData):void 0,clockSyncRequest:Q(e.clockSyncRequest)?t.ClockSyncRequest.fromJSON(e.clockSyncRequest):void 0,frameMetadata:Q(e.frameMetadata)?t.VideoFrameMetadata.fromJSON(e.frameMetadata):void 0,supportedDeviceProfiles:Q(e.supportedDeviceProfiles)?t.SupportedDeviceProfiles.fromJSON(e.supportedDeviceProfiles):void 0,opaqueDataChannelControl:Q(e.opaqueDataChannelControl)?t.OpaqueDataChannelControl.fromJSON(e.opaqueDataChannelControl):void 0}),toJSON(e){const n={};return void 0!==e.serverInfo&&(n.serverInfo=t.ServerInfo.toJSON(e.serverInfo)),void 0!==e.alert&&(n.alert=t.ServerAlert.toJSON(e.alert)),void 0!==e.opaqueData&&(n.opaqueData=t.OpaqueData.toJSON(e.opaqueData)),void 0!==e.clockSyncRequest&&(n.clockSyncRequest=t.ClockSyncRequest.toJSON(e.clockSyncRequest)),void 0!==e.frameMetadata&&(n.frameMetadata=t.VideoFrameMetadata.toJSON(e.frameMetadata)),void 0!==e.supportedDeviceProfiles&&(n.supportedDeviceProfiles=t.SupportedDeviceProfiles.toJSON(e.supportedDeviceProfiles)),void 0!==e.opaqueDataChannelControl&&(n.opaqueDataChannelControl=t.OpaqueDataChannelControl.toJSON(e.opaqueDataChannelControl)),n},create:e=>t.ServerToClientMessage.fromPartial(e??{}),fromPartial(e){const n={serverInfo:void 0,alert:void 0,opaqueData:void 0,clockSyncRequest:void 0,frameMetadata:void 0,supportedDeviceProfiles:void 0,opaqueDataChannelControl:void 0};return n.serverInfo=void 0!==e.serverInfo&&null!==e.serverInfo?t.ServerInfo.fromPartial(e.serverInfo):void 0,n.alert=void 0!==e.alert&&null!==e.alert?t.ServerAlert.fromPartial(e.alert):void 0,n.opaqueData=void 0!==e.opaqueData&&null!==e.opaqueData?t.OpaqueData.fromPartial(e.opaqueData):void 0,n.clockSyncRequest=void 0!==e.clockSyncRequest&&null!==e.clockSyncRequest?t.ClockSyncRequest.fromPartial(e.clockSyncRequest):void 0,n.frameMetadata=void 0!==e.frameMetadata&&null!==e.frameMetadata?t.VideoFrameMetadata.fromPartial(e.frameMetadata):void 0,n.supportedDeviceProfiles=void 0!==e.supportedDeviceProfiles&&null!==e.supportedDeviceProfiles?t.SupportedDeviceProfiles.fromPartial(e.supportedDeviceProfiles):void 0,n.opaqueDataChannelControl=void 0!==e.opaqueDataChannelControl&&null!==e.opaqueDataChannelControl?t.OpaqueDataChannelControl.fromPartial(e.opaqueDataChannelControl):void 0,n}},t.ScalingOverride={encode:(e,t=new r.BinaryWriter)=>(0!==e.scale&&t.uint32(13).float(e.scale),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={scale:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.scale=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({scale:Q(e.scale)?globalThis.Number(e.scale):0}),toJSON(e){const t={};return 0!==e.scale&&(t.scale=e.scale),t},create:e=>t.ScalingOverride.fromPartial(e??{}),fromPartial(e){const t={scale:0};return t.scale=e.scale??0,t}},t.FrameTrackingMetadata={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.latestViewMetadata&&t.ClientTrackingMetadata.encode(e.latestViewMetadata,n.uint32(10).fork()).join(),e.serverViewPredictedTimeNs.equals(s.default.ZERO)||n.uint32(16).int64(e.serverViewPredictedTimeNs.toString()),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=O();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.latestViewMetadata=t.ClientTrackingMetadata.decode(i,i.uint32());continue;case 2:if(16!==e)break;o.serverViewPredictedTimeNs=s.default.fromString(i.int64().toString());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({latestViewMetadata:Q(e.latestViewMetadata)?t.ClientTrackingMetadata.fromJSON(e.latestViewMetadata):void 0,serverViewPredictedTimeNs:Q(e.serverViewPredictedTimeNs)?s.default.fromValue(e.serverViewPredictedTimeNs):s.default.ZERO}),toJSON(e){const n={};return void 0!==e.latestViewMetadata&&(n.latestViewMetadata=t.ClientTrackingMetadata.toJSON(e.latestViewMetadata)),e.serverViewPredictedTimeNs.equals(s.default.ZERO)||(n.serverViewPredictedTimeNs=(e.serverViewPredictedTimeNs||s.default.ZERO).toString()),n},create:e=>t.FrameTrackingMetadata.fromPartial(e??{}),fromPartial(e){const n=O();return n.latestViewMetadata=void 0!==e.latestViewMetadata&&null!==e.latestViewMetadata?t.ClientTrackingMetadata.fromPartial(e.latestViewMetadata):void 0,n.serverViewPredictedTimeNs=void 0!==e.serverViewPredictedTimeNs&&null!==e.serverViewPredictedTimeNs?s.default.fromValue(e.serverViewPredictedTimeNs):s.default.ZERO,n}},t.VideoFrameMetadata={encode(e,n=new r.BinaryWriter){e.frameNumber.equals(s.default.ZERO)||n.uint32(8).int64(e.frameNumber.toString()),e.displayTime.equals(s.default.ZERO)||n.uint32(16).int64(e.displayTime.toString()),e.appFrameStartClientTimeNs.equals(s.default.ZERO)||n.uint32(72).int64(e.appFrameStartClientTimeNs.toString()),e.poseReceiveClientTimeNs.equals(s.default.ZERO)||n.uint32(80).int64(e.poseReceiveClientTimeNs.toString()),e.viewUpdateId.equals(s.default.ZERO)||n.uint32(24).int64(e.viewUpdateId.toString()),!1!==e.isEmptyFrame&&n.uint32(64).bool(e.isEmptyFrame),void 0!==e.frameTrackingMetadata&&t.FrameTrackingMetadata.encode(e.frameTrackingMetadata,n.uint32(58).fork()).join();for(const i of e.colorProjectionImages)t.ColorProjectionImageMetadata.encode(i,n.uint32(34).fork()).join();for(const i of e.alphaProjectionImages)t.AlphaProjectionImageMetadata.encode(i,n.uint32(42).fork()).join();for(const i of e.depthProjectionImages)t.DepthProjectionImageMetadata.encode(i,n.uint32(50).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=k();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.frameNumber=s.default.fromString(i.int64().toString());continue;case 2:if(16!==e)break;o.displayTime=s.default.fromString(i.int64().toString());continue;case 9:if(72!==e)break;o.appFrameStartClientTimeNs=s.default.fromString(i.int64().toString());continue;case 10:if(80!==e)break;o.poseReceiveClientTimeNs=s.default.fromString(i.int64().toString());continue;case 3:if(24!==e)break;o.viewUpdateId=s.default.fromString(i.int64().toString());continue;case 8:if(64!==e)break;o.isEmptyFrame=i.bool();continue;case 7:if(58!==e)break;o.frameTrackingMetadata=t.FrameTrackingMetadata.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.colorProjectionImages.push(t.ColorProjectionImageMetadata.decode(i,i.uint32()));continue;case 5:if(42!==e)break;o.alphaProjectionImages.push(t.AlphaProjectionImageMetadata.decode(i,i.uint32()));continue;case 6:if(50!==e)break;o.depthProjectionImages.push(t.DepthProjectionImageMetadata.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({frameNumber:Q(e.frameNumber)?s.default.fromValue(e.frameNumber):s.default.ZERO,displayTime:Q(e.displayTime)?s.default.fromValue(e.displayTime):s.default.ZERO,appFrameStartClientTimeNs:Q(e.appFrameStartClientTimeNs)?s.default.fromValue(e.appFrameStartClientTimeNs):s.default.ZERO,poseReceiveClientTimeNs:Q(e.poseReceiveClientTimeNs)?s.default.fromValue(e.poseReceiveClientTimeNs):s.default.ZERO,viewUpdateId:Q(e.viewUpdateId)?s.default.fromValue(e.viewUpdateId):s.default.ZERO,isEmptyFrame:!!Q(e.isEmptyFrame)&&globalThis.Boolean(e.isEmptyFrame),frameTrackingMetadata:Q(e.frameTrackingMetadata)?t.FrameTrackingMetadata.fromJSON(e.frameTrackingMetadata):void 0,colorProjectionImages:globalThis.Array.isArray(e?.colorProjectionImages)?e.colorProjectionImages.map(e=>t.ColorProjectionImageMetadata.fromJSON(e)):[],alphaProjectionImages:globalThis.Array.isArray(e?.alphaProjectionImages)?e.alphaProjectionImages.map(e=>t.AlphaProjectionImageMetadata.fromJSON(e)):[],depthProjectionImages:globalThis.Array.isArray(e?.depthProjectionImages)?e.depthProjectionImages.map(e=>t.DepthProjectionImageMetadata.fromJSON(e)):[]}),toJSON(e){const n={};return e.frameNumber.equals(s.default.ZERO)||(n.frameNumber=(e.frameNumber||s.default.ZERO).toString()),e.displayTime.equals(s.default.ZERO)||(n.displayTime=(e.displayTime||s.default.ZERO).toString()),e.appFrameStartClientTimeNs.equals(s.default.ZERO)||(n.appFrameStartClientTimeNs=(e.appFrameStartClientTimeNs||s.default.ZERO).toString()),e.poseReceiveClientTimeNs.equals(s.default.ZERO)||(n.poseReceiveClientTimeNs=(e.poseReceiveClientTimeNs||s.default.ZERO).toString()),e.viewUpdateId.equals(s.default.ZERO)||(n.viewUpdateId=(e.viewUpdateId||s.default.ZERO).toString()),!1!==e.isEmptyFrame&&(n.isEmptyFrame=e.isEmptyFrame),void 0!==e.frameTrackingMetadata&&(n.frameTrackingMetadata=t.FrameTrackingMetadata.toJSON(e.frameTrackingMetadata)),e.colorProjectionImages?.length&&(n.colorProjectionImages=e.colorProjectionImages.map(e=>t.ColorProjectionImageMetadata.toJSON(e))),e.alphaProjectionImages?.length&&(n.alphaProjectionImages=e.alphaProjectionImages.map(e=>t.AlphaProjectionImageMetadata.toJSON(e))),e.depthProjectionImages?.length&&(n.depthProjectionImages=e.depthProjectionImages.map(e=>t.DepthProjectionImageMetadata.toJSON(e))),n},create:e=>t.VideoFrameMetadata.fromPartial(e??{}),fromPartial(e){const n=k();return n.frameNumber=void 0!==e.frameNumber&&null!==e.frameNumber?s.default.fromValue(e.frameNumber):s.default.ZERO,n.displayTime=void 0!==e.displayTime&&null!==e.displayTime?s.default.fromValue(e.displayTime):s.default.ZERO,n.appFrameStartClientTimeNs=void 0!==e.appFrameStartClientTimeNs&&null!==e.appFrameStartClientTimeNs?s.default.fromValue(e.appFrameStartClientTimeNs):s.default.ZERO,n.poseReceiveClientTimeNs=void 0!==e.poseReceiveClientTimeNs&&null!==e.poseReceiveClientTimeNs?s.default.fromValue(e.poseReceiveClientTimeNs):s.default.ZERO,n.viewUpdateId=void 0!==e.viewUpdateId&&null!==e.viewUpdateId?s.default.fromValue(e.viewUpdateId):s.default.ZERO,n.isEmptyFrame=e.isEmptyFrame??!1,n.frameTrackingMetadata=void 0!==e.frameTrackingMetadata&&null!==e.frameTrackingMetadata?t.FrameTrackingMetadata.fromPartial(e.frameTrackingMetadata):void 0,n.colorProjectionImages=e.colorProjectionImages?.map(e=>t.ColorProjectionImageMetadata.fromPartial(e))||[],n.alphaProjectionImages=e.alphaProjectionImages?.map(e=>t.AlphaProjectionImageMetadata.fromPartial(e))||[],n.depthProjectionImages=e.depthProjectionImages?.map(e=>t.DepthProjectionImageMetadata.fromPartial(e))||[],n}},t.ColorProjectionImageMetadata={encode:(e,n=new r.BinaryWriter)=>(0!==e.viewIndex&&n.uint32(8).int32(e.viewIndex),void 0!==e.imageRect&&a.XrRect2Di.encode(e.imageRect,n.uint32(18).fork()).join(),void 0!==e.pose&&a.XrPosef.encode(e.pose,n.uint32(26).fork()).join(),void 0!==e.fov&&a.XrFovf.encode(e.fov,n.uint32(34).fork()).join(),void 0!==e.viewPqwState&&t.XrViewPQWStateNV.encode(e.viewPqwState,n.uint32(42).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,o={viewIndex:0,imageRect:void 0,pose:void 0,fov:void 0,viewPqwState:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.viewIndex=i.int32();continue;case 2:if(18!==e)break;o.imageRect=a.XrRect2Di.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.pose=a.XrPosef.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.fov=a.XrFovf.decode(i,i.uint32());continue;case 5:if(42!==e)break;o.viewPqwState=t.XrViewPQWStateNV.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({viewIndex:Q(e.viewIndex)?globalThis.Number(e.viewIndex):0,imageRect:Q(e.imageRect)?a.XrRect2Di.fromJSON(e.imageRect):void 0,pose:Q(e.pose)?a.XrPosef.fromJSON(e.pose):void 0,fov:Q(e.fov)?a.XrFovf.fromJSON(e.fov):void 0,viewPqwState:Q(e.viewPqwState)?t.XrViewPQWStateNV.fromJSON(e.viewPqwState):void 0}),toJSON(e){const n={};return 0!==e.viewIndex&&(n.viewIndex=Math.round(e.viewIndex)),void 0!==e.imageRect&&(n.imageRect=a.XrRect2Di.toJSON(e.imageRect)),void 0!==e.pose&&(n.pose=a.XrPosef.toJSON(e.pose)),void 0!==e.fov&&(n.fov=a.XrFovf.toJSON(e.fov)),void 0!==e.viewPqwState&&(n.viewPqwState=t.XrViewPQWStateNV.toJSON(e.viewPqwState)),n},create:e=>t.ColorProjectionImageMetadata.fromPartial(e??{}),fromPartial(e){const n={viewIndex:0,imageRect:void 0,pose:void 0,fov:void 0,viewPqwState:void 0};return n.viewIndex=e.viewIndex??0,n.imageRect=void 0!==e.imageRect&&null!==e.imageRect?a.XrRect2Di.fromPartial(e.imageRect):void 0,n.pose=void 0!==e.pose&&null!==e.pose?a.XrPosef.fromPartial(e.pose):void 0,n.fov=void 0!==e.fov&&null!==e.fov?a.XrFovf.fromPartial(e.fov):void 0,n.viewPqwState=void 0!==e.viewPqwState&&null!==e.viewPqwState?t.XrViewPQWStateNV.fromPartial(e.viewPqwState):void 0,n}},t.AlphaProjectionImageMetadata={encode:(e,n=new r.BinaryWriter)=>(0!==e.viewIndex&&n.uint32(8).int32(e.viewIndex),void 0!==e.alphaScheme&&t.AlphaScheme.encode(e.alphaScheme,n.uint32(34).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={viewIndex:0,alphaScheme:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.viewIndex=i.int32();continue;case 4:if(34!==e)break;a.alphaScheme=t.AlphaScheme.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({viewIndex:Q(e.viewIndex)?globalThis.Number(e.viewIndex):0,alphaScheme:Q(e.alphaScheme)?t.AlphaScheme.fromJSON(e.alphaScheme):void 0}),toJSON(e){const n={};return 0!==e.viewIndex&&(n.viewIndex=Math.round(e.viewIndex)),void 0!==e.alphaScheme&&(n.alphaScheme=t.AlphaScheme.toJSON(e.alphaScheme)),n},create:e=>t.AlphaProjectionImageMetadata.fromPartial(e??{}),fromPartial(e){const n={viewIndex:0,alphaScheme:void 0};return n.viewIndex=e.viewIndex??0,n.alphaScheme=void 0!==e.alphaScheme&&null!==e.alphaScheme?t.AlphaScheme.fromPartial(e.alphaScheme):void 0,n}},t.DepthProjectionImageMetadata={encode:(e,n=new r.BinaryWriter)=>(0!==e.viewIndex&&n.uint32(8).int32(e.viewIndex),void 0!==e.depthScheme&&t.DepthScheme.encode(e.depthScheme,n.uint32(50).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={viewIndex:0,depthScheme:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.viewIndex=i.int32();continue;case 6:if(50!==e)break;a.depthScheme=t.DepthScheme.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({viewIndex:Q(e.viewIndex)?globalThis.Number(e.viewIndex):0,depthScheme:Q(e.depthScheme)?t.DepthScheme.fromJSON(e.depthScheme):void 0}),toJSON(e){const n={};return 0!==e.viewIndex&&(n.viewIndex=Math.round(e.viewIndex)),void 0!==e.depthScheme&&(n.depthScheme=t.DepthScheme.toJSON(e.depthScheme)),n},create:e=>t.DepthProjectionImageMetadata.fromPartial(e??{}),fromPartial(e){const n={viewIndex:0,depthScheme:void 0};return n.viewIndex=e.viewIndex??0,n.depthScheme=void 0!==e.depthScheme&&null!==e.depthScheme?t.DepthScheme.fromPartial(e.depthScheme):void 0,n}}},621(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.isMessage=function(e,t){return!(null===e||"object"!=typeof e||!("$typeName"in e)||"string"!=typeof e.$typeName||void 0!==t&&t.typeName!==e.$typeName)}},898(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.configureTextEncoding=function(e){globalThis[n]=e},t.getTextEncoding=function(){if(null==globalThis[n]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[n]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[n]};const n=Symbol.for("@bufbuild/protobuf/text-encoding")},1012(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});const i="#define GLSLIFY 1\nconst vec2 originLeftRgbQuadrantUV=vec2(0.0,0.0);const vec2 originRightRgbQuadrantUV=vec2(0.5,0.0);const vec2 originLeftAlphaQuadrantUV=vec2(0.0,4.0/9.0);const vec2 originRightAlphaQuadrantUV=vec2(0.5,4.0/9.0);const vec2 originLeftDepthQuadrantUV=vec2(0.0,8.0/9.0);const vec2 originRightDepthQuadrantUV=vec2(0.5,8.0/9.0);vec2 getDepthUV(vec2 fullUV){vec2 depthUV=fullUV;if(fullUV.y>0.5){depthUV.y-=0.5;depthUV.x+=1.0;}depthUV.x*=(1.0/4.0);depthUV.y*=(2.0/9.0);return depthUV;}float getDistance(vec2 fullUV,sampler2D fullPackedTexture,bool isLeftEye,float near,float far,float epsilonDepthBias){vec2 origin=isLeftEye?originLeftDepthQuadrantUV:originRightDepthQuadrantUV;vec2 depthUV=getDepthUV(fullUV);float depth=rgbToY(texture(fullPackedTexture,depthUV+origin).rgb);float distance=(-epsilonDepthBias+(((near+epsilonDepthBias)*(far+epsilonDepthBias))/(far+epsilonDepthBias+(1.0-depth)*(near-far))));return distance;}"},1362(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.createPerspectiveMatrixFromFOV=function(e,t,n,r){const s=r||i.mat4.create(),a=t*Math.tan(e.angleLeft),o=t*Math.tan(e.angleRight),l=t*Math.tan(e.angleDown),c=t*Math.tan(e.angleUp);return i.mat4.frustum(s,a,o,l,c,t,n),s},t.haveFoveationParametersChanged=function(e,t){let n=!1;if(e&&e.length===t.length){for(let i=0;i<t.length;i++)if(!t[i].compare(e[i])){n=!0;break}}else n=!0;return n};const i=n(1961)},1454(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),n(3366),n(3396),n(5861),n(1012),n(6683),n(5833)},1462(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.createSession=function(e,t){return function(e){if(!Number.isFinite(e.perEyeWidth)||!Number.isSafeInteger(e.perEyeWidth)||e.perEyeWidth<=0)throw new Error("perEyeWidth must be a positive (finite) integer, got: "+e.perEyeWidth);if(!Number.isFinite(e.perEyeHeight)||!Number.isSafeInteger(e.perEyeHeight)||e.perEyeHeight<=0)throw new Error("perEyeHeight must be a positive (finite) integer, got: "+e.perEyeHeight);if(e.perEyeWidth%16!=0)throw new Error("perEyeWidth ("+e.perEyeWidth+") must be a multiple of 16");if(e.perEyeHeight%16!=0)throw new Error("perEyeHeight ("+e.perEyeHeight+") must be a multiple of 16");if(e.perEyeWidth<128)throw new Error("perEyeWidth ("+e.perEyeWidth+") must be at least 128");if(e.perEyeHeight<128)throw new Error("perEyeHeight ("+e.perEyeHeight+") must be at least 128")}(e),new i.SessionImpl(e,t)};const i=n(3872)},1583(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.create=c;const i=n(621),r=n(2885),s=n(2949),a=n(8792),o=n(7299),l=n(2992);function c(e,t){if((0,i.isMessage)(t,e))return t;const n=function(e){let t;if(function(e){switch(e.file.edition){case 999:return!1;case 998:return!0;default:return e.fields.some(e=>2!=e.presence&&"message"!=e.fieldKind&&!e.oneof)}}(e)){const n=m.get(e);let i,r;if(n)({prototype:i,members:r}=n);else{i={},r=new Set;for(const t of e.members)"oneof"!=t.kind&&("scalar"!=t.fieldKind&&"enum"!=t.fieldKind||2!=t.presence&&(r.add(t),i[t.localName]=v(t)));m.set(e,{prototype:i,members:r})}t=Object.create(i),t.$typeName=e.typeName;for(const n of e.members)if(!r.has(n)){if("field"==n.kind){if("message"==n.fieldKind)continue;if(("scalar"==n.fieldKind||"enum"==n.fieldKind)&&2!=n.presence)continue}t[n.localName]=v(n)}}else{t={$typeName:e.typeName};for(const n of e.members)"oneof"!=n.kind&&2!=n.presence||(t[n.localName]=v(n))}return t}(e);return void 0!==t&&function(e,t,n){for(const i of e.members){let e,r=n[i.localName];if(null!=r){if("oneof"==i.kind){const t=(0,o.unsafeOneofCase)(n,i);if(!t)continue;e=t,r=(0,o.unsafeGet)(n,t)}else e=i;switch(e.fieldKind){case"message":r=p(e,r);break;case"scalar":r=u(e,r);break;case"list":r=h(e,r);break;case"map":r=d(e,r)}(0,o.unsafeSet)(t,e,r)}}}(e,n,t),n}function u(e,t){return e.scalar==r.ScalarType.BYTES?f(t):t}function d(e,t){if((0,a.isObject)(t)){if(e.scalar==r.ScalarType.BYTES)return g(t,f);if("message"==e.mapKind)return g(t,t=>p(e,t))}return t}function h(e,t){if(Array.isArray(t)){if(e.scalar==r.ScalarType.BYTES)return t.map(f);if("message"==e.listKind)return t.map(t=>p(e,t))}return t}function p(e,t){if("message"==e.fieldKind&&!e.oneof&&(0,l.isWrapperDesc)(e.message))return u(e.message.fields[0],t);if((0,a.isObject)(t)){if("google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!==e.parent.typeName)return t;if(!(0,i.isMessage)(t,e.message))return c(e.message,t)}return t}function f(e){return Array.isArray(e)?new Uint8Array(e):e}function g(e,t){const n={};for(const i of Object.entries(e))n[i[0]]=t(i[1]);return n}const A=Symbol(),m=new WeakMap;function v(e){if("oneof"==e.kind)return{case:void 0};if("list"==e.fieldKind)return[];if("map"==e.fieldKind)return{};if("message"==e.fieldKind)return A;const t=e.getDefaultValue();return void 0!==t?"scalar"==e.fieldKind&&e.longAsString?t.toString():t:"scalar"==e.fieldKind?(0,s.scalarZeroValue)(e.scalar,e.longAsString):e.enum.values[0].number}},1841(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.checkField=function(e,t){const n="list"==e.fieldKind?(0,a.isReflectList)(t,e):"map"==e.fieldKind?(0,a.isReflectMap)(t,e):u(e,t);if(!0===n)return;let i;switch(e.fieldKind){case"list":i="expected "+g(e)+", got "+p(t);break;case"map":i="expected "+A(e)+", got "+p(t);break;default:i=h(e,t,n)}return new s.FieldError(e,i)},t.checkListItem=function(e,t,n){const i=u(e,n);if(!0!==i)return new s.FieldError(e,"list item #"+(t+1)+": "+h(e,n,i))},t.checkMapEntry=function(e,t,n){const i=d(t,e.mapKey);if(!0!==i)return new s.FieldError(e,"invalid map key: "+h({scalar:e.mapKey},t,i));const r=u(e,n);return!0!==r?new s.FieldError(e,"map entry "+p(t)+": "+h(e,n,r)):void 0},t.formatVal=p;const i=n(2885),r=n(621),s=n(5067),a=n(8792),o=n(3056),l=n(898),c=n(4011);function u(e,t){return void 0!==e.scalar?d(t,e.scalar):void 0!==e.enum?e.enum.open?Number.isInteger(t):e.enum.values.some(e=>e.number===t):(0,a.isReflectMessage)(t,e.message)}function d(e,t){switch(t){case i.ScalarType.DOUBLE:return"number"==typeof e;case i.ScalarType.FLOAT:return"number"==typeof e&&(!(!Number.isNaN(e)&&Number.isFinite(e))||!(e>o.FLOAT32_MAX||e<o.FLOAT32_MIN)||e.toFixed()+" out of range");case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>o.INT32_MAX||e<o.INT32_MIN)||e.toFixed()+" out of range");case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return!("number"!=typeof e||!Number.isInteger(e))&&(!(e>o.UINT32_MAX||e<0)||e.toFixed()+" out of range");case i.ScalarType.BOOL:return"boolean"==typeof e;case i.ScalarType.STRING:return"string"==typeof e&&((0,l.getTextEncoding)().checkUtf8(e)||"invalid UTF8");case i.ScalarType.BYTES:return e instanceof Uint8Array;case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:if("bigint"==typeof e||"number"==typeof e||"string"==typeof e&&e.length>0)try{return c.protoInt64.parse(e),!0}catch(t){return e+" out of range"}return!1;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:if("bigint"==typeof e||"number"==typeof e||"string"==typeof e&&e.length>0)try{return c.protoInt64.uParse(e),!0}catch(t){return e+" out of range"}return!1}}function h(e,t,n){return n="string"==typeof n?": "+n:", got "+p(t),void 0!==e.scalar?"expected "+function(e){switch(e){case i.ScalarType.STRING:return"string";case i.ScalarType.BOOL:return"boolean";case i.ScalarType.INT64:case i.ScalarType.SINT64:case i.ScalarType.SFIXED64:return"bigint (int64)";case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return"bigint (uint64)";case i.ScalarType.BYTES:return"Uint8Array";case i.ScalarType.DOUBLE:return"number (float64)";case i.ScalarType.FLOAT:return"number (float32)";case i.ScalarType.FIXED32:case i.ScalarType.UINT32:return"number (uint32)";case i.ScalarType.INT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:return"number (int32)"}}(e.scalar)+n:void 0!==e.enum?"expected "+e.enum.toString()+n:"expected "+f(e.message)+n}function p(e){switch(typeof e){case"object":return null===e?"null":e instanceof Uint8Array?"Uint8Array("+e.length+")":Array.isArray(e)?"Array("+e.length+")":(0,a.isReflectList)(e)?g(e.field()):(0,a.isReflectMap)(e)?A(e.field()):(0,a.isReflectMessage)(e)?f(e.desc):(0,r.isMessage)(e)?"message "+e.$typeName:"object";case"string":return e.length>30?"string":'"'+e.split('"').join('\\"')+'"';case"boolean":case"number":return String(e);case"bigint":return String(e)+"n";default:return typeof e}}function f(e){return"ReflectMessage ("+e.typeName+")"}function g(e){switch(e.listKind){case"message":return"ReflectList ("+e.message.toString()+")";case"enum":return"ReflectList ("+e.enum.toString()+")";case"scalar":return"ReflectList ("+i.ScalarType[e.scalar]+")"}}function A(e){switch(e.mapKind){case"message":return"ReflectMap ("+i.ScalarType[e.mapKey]+", "+e.message.toString()+")";case"enum":return"ReflectMap ("+i.ScalarType[e.mapKey]+", "+e.enum.toString()+")";case"scalar":return"ReflectMap ("+i.ScalarType[e.mapKey]+", "+i.ScalarType[e.scalar]+")"}}},1961(e,t,n){"use strict";n.r(t),n.d(t,{glMatrix:()=>i,mat2:()=>r,mat2d:()=>s,mat3:()=>a,mat4:()=>o,quat:()=>u,quat2:()=>d,vec2:()=>h,vec3:()=>l,vec4:()=>c});var i={};n.r(i),n.d(i,{ANGLE_ORDER:()=>A,ARRAY_TYPE:()=>f,EPSILON:()=>p,RANDOM:()=>g,equals:()=>x,round:()=>m,setMatrixArrayType:()=>v,toDegree:()=>b,toRadian:()=>S});var r={};n.r(r),n.d(r,{LDU:()=>V,add:()=>H,adjoint:()=>_,clone:()=>I,copy:()=>C,create:()=>w,determinant:()=>D,equals:()=>W,exactEquals:()=>z,frob:()=>Q,fromRotation:()=>k,fromScaling:()=>U,fromValues:()=>M,identity:()=>T,invert:()=>P,mul:()=>q,multiply:()=>N,multiplyScalar:()=>X,multiplyScalarAndAdd:()=>j,rotate:()=>L,scale:()=>O,set:()=>B,str:()=>F,sub:()=>Y,subtract:()=>G,transpose:()=>R});var s={};n.r(s),n.d(s,{add:()=>pe,clone:()=>Z,copy:()=>K,create:()=>J,determinant:()=>ie,equals:()=>ve,exactEquals:()=>me,frob:()=>he,fromRotation:()=>le,fromScaling:()=>ce,fromTranslation:()=>ue,fromValues:()=>ee,identity:()=>$,invert:()=>ne,mul:()=>ye,multiply:()=>re,multiplyScalar:()=>ge,multiplyScalarAndAdd:()=>Ae,rotate:()=>se,scale:()=>ae,set:()=>te,str:()=>de,sub:()=>Ee,subtract:()=>fe,translate:()=>oe});var a={};n.r(a),n.d(a,{add:()=>We,adjoint:()=>Re,clone:()=>xe,copy:()=>we,create:()=>Se,determinant:()=>Pe,equals:()=>Je,exactEquals:()=>Ye,frob:()=>ze,fromMat2d:()=>Fe,fromMat4:()=>be,fromQuat:()=>Qe,fromRotation:()=>ke,fromScaling:()=>Ue,fromTranslation:()=>Oe,fromValues:()=>Ie,identity:()=>Te,invert:()=>Be,mul:()=>Ze,multiply:()=>_e,multiplyScalar:()=>je,multiplyScalarAndAdd:()=>qe,normalFromMat4:()=>Ve,projection:()=>He,rotate:()=>Ne,scale:()=>Le,set:()=>Ce,str:()=>Ge,sub:()=>Ke,subtract:()=>Xe,translate:()=>De,transpose:()=>Me});var o={};n.r(o),n.d(o,{add:()=>Gt,adjoint:()=>ot,clone:()=>et,copy:()=>tt,create:()=>$e,decompose:()=>Tt,determinant:()=>lt,equals:()=>qt,exactEquals:()=>jt,frob:()=>Ht,fromQuat:()=>Rt,fromQuat2:()=>xt,fromRotation:()=>vt,fromRotationTranslation:()=>bt,fromRotationTranslationScale:()=>Mt,fromRotationTranslationScaleOrigin:()=>Bt,fromScaling:()=>mt,fromTranslation:()=>At,fromValues:()=>nt,fromXRotation:()=>yt,fromYRotation:()=>Et,fromZRotation:()=>St,frustum:()=>Pt,getRotation:()=>Ct,getScaling:()=>It,getTranslation:()=>wt,identity:()=>rt,invert:()=>at,lookAt:()=>Ft,mul:()=>Yt,multiply:()=>ct,multiplyScalar:()=>Wt,multiplyScalarAndAdd:()=>Xt,ortho:()=>kt,orthoNO:()=>Ot,orthoZO:()=>Ut,perspective:()=>Dt,perspectiveFromFieldOfView:()=>Lt,perspectiveNO:()=>_t,perspectiveZO:()=>Nt,rotate:()=>ht,rotateX:()=>pt,rotateY:()=>ft,rotateZ:()=>gt,scale:()=>dt,set:()=>it,str:()=>Vt,sub:()=>Jt,subtract:()=>zt,targetTo:()=>Qt,translate:()=>ut,transpose:()=>st});var l={};n.r(l),n.d(l,{add:()=>rn,angle:()=>Nn,bezier:()=>Cn,ceil:()=>ln,clone:()=>Kt,copy:()=>tn,create:()=>Zt,cross:()=>bn,dist:()=>Gn,distance:()=>gn,div:()=>Hn,divide:()=>on,dot:()=>Sn,equals:()=>Un,exactEquals:()=>kn,floor:()=>cn,forEach:()=>jn,fromValues:()=>en,hermite:()=>In,inverse:()=>yn,len:()=>Wn,length:()=>$t,lerp:()=>xn,max:()=>dn,min:()=>un,mul:()=>Vn,multiply:()=>an,negate:()=>vn,normalize:()=>En,random:()=>Tn,rotateX:()=>Pn,rotateY:()=>_n,rotateZ:()=>Dn,round:()=>hn,scale:()=>pn,scaleAndAdd:()=>fn,set:()=>nn,slerp:()=>wn,sqrDist:()=>zn,sqrLen:()=>Xn,squaredDistance:()=>An,squaredLength:()=>mn,str:()=>On,sub:()=>Qn,subtract:()=>sn,transformMat3:()=>Bn,transformMat4:()=>Mn,transformQuat:()=>Rn,zero:()=>Ln});var c={};n.r(c),n.d(c,{add:()=>$n,ceil:()=>ii,clone:()=>Yn,copy:()=>Zn,create:()=>qn,cross:()=>vi,dist:()=>Pi,distance:()=>ui,div:()=>Ri,divide:()=>ni,dot:()=>mi,equals:()=>Ci,exactEquals:()=>Ii,floor:()=>ri,forEach:()=>Li,fromValues:()=>Jn,inverse:()=>gi,len:()=>Di,length:()=>hi,lerp:()=>yi,max:()=>ai,min:()=>si,mul:()=>Bi,multiply:()=>ti,negate:()=>fi,normalize:()=>Ai,random:()=>Ei,round:()=>oi,scale:()=>li,scaleAndAdd:()=>ci,set:()=>Kn,sqrDist:()=>_i,sqrLen:()=>Ni,squaredDistance:()=>di,squaredLength:()=>pi,str:()=>wi,sub:()=>Mi,subtract:()=>ei,transformMat4:()=>Si,transformQuat:()=>bi,zero:()=>xi});var u={};n.r(u),n.d(u,{add:()=>ar,calculateW:()=>Wi,clone:()=>nr,conjugate:()=>Ki,copy:()=>rr,create:()=>Oi,dot:()=>cr,equals:()=>mr,exactEquals:()=>Ar,exp:()=>Xi,fromEuler:()=>er,fromMat3:()=>$i,fromValues:()=>ir,getAngle:()=>Qi,getAxisAngle:()=>Fi,identity:()=>ki,invert:()=>Zi,len:()=>hr,length:()=>dr,lerp:()=>ur,ln:()=>ji,mul:()=>or,multiply:()=>Vi,normalize:()=>gr,pow:()=>qi,random:()=>Ji,rotateX:()=>Hi,rotateY:()=>Gi,rotateZ:()=>zi,rotationTo:()=>wr,scale:()=>lr,set:()=>sr,setAxes:()=>Cr,setAxisAngle:()=>Ui,slerp:()=>Yi,sqlerp:()=>Ir,sqrLen:()=>fr,squaredLength:()=>pr,str:()=>tr});var d={};n.r(d),n.d(d,{add:()=>Jr,clone:()=>Mr,conjugate:()=>is,copy:()=>Lr,create:()=>Tr,dot:()=>es,equals:()=>ds,exactEquals:()=>us,fromMat4:()=>Nr,fromRotation:()=>Dr,fromRotationTranslation:()=>Pr,fromRotationTranslationValues:()=>Rr,fromTranslation:()=>_r,fromValues:()=>Br,getDual:()=>Fr,getReal:()=>Ur,getTranslation:()=>Hr,identity:()=>Or,invert:()=>ns,len:()=>ss,length:()=>rs,lerp:()=>ts,mul:()=>Kr,multiply:()=>Zr,normalize:()=>ls,rotateAroundAxis:()=>Yr,rotateByQuatAppend:()=>jr,rotateByQuatPrepend:()=>qr,rotateX:()=>zr,rotateY:()=>Wr,rotateZ:()=>Xr,scale:()=>$r,set:()=>kr,setDual:()=>Vr,setReal:()=>Qr,sqrLen:()=>os,squaredLength:()=>as,str:()=>cs,translate:()=>Gr});var h={};n.r(h),n.d(h,{add:()=>ms,angle:()=>zs,ceil:()=>Ss,clone:()=>ps,copy:()=>gs,create:()=>hs,cross:()=>Os,dist:()=>ta,distance:()=>Ms,div:()=>ea,divide:()=>Es,dot:()=>Ls,equals:()=>Ys,exactEquals:()=>qs,floor:()=>bs,forEach:()=>ra,fromValues:()=>fs,inverse:()=>Ds,len:()=>Zs,length:()=>Rs,lerp:()=>ks,max:()=>ws,min:()=>xs,mul:()=>$s,multiply:()=>ys,negate:()=>_s,normalize:()=>Ns,random:()=>Us,rotate:()=>Gs,round:()=>Is,scale:()=>Cs,scaleAndAdd:()=>Ts,set:()=>As,signedAngle:()=>Ws,sqrDist:()=>na,sqrLen:()=>ia,squaredDistance:()=>Bs,squaredLength:()=>Ps,str:()=>js,sub:()=>Ks,subtract:()=>vs,transformMat2:()=>Fs,transformMat2d:()=>Qs,transformMat3:()=>Vs,transformMat4:()=>Hs,zero:()=>Xs});var p=1e-6,f="undefined"!=typeof Float32Array?Float32Array:Array,g=Math.random,A="zyx";function m(e){return e>=0?Math.round(e):e%.5==0?Math.floor(e):Math.round(e)}function v(e){f=e}var y=Math.PI/180,E=180/Math.PI;function S(e){return e*y}function b(e){return e*E}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}function w(){var e=new f(4);return f!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function I(e){var t=new f(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function C(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function T(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function M(e,t,n,i){var r=new f(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function B(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function R(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function P(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=n*s-r*i;return a?(a=1/a,e[0]=s*a,e[1]=-i*a,e[2]=-r*a,e[3]=n*a,e):null}function _(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function D(e){return e[0]*e[3]-e[2]*e[1]}function N(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=n[0],l=n[1],c=n[2],u=n[3];return e[0]=i*o+s*l,e[1]=r*o+a*l,e[2]=i*c+s*u,e[3]=r*c+a*u,e}function L(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=Math.sin(n),l=Math.cos(n);return e[0]=i*l+s*o,e[1]=r*l+a*o,e[2]=i*-o+s*l,e[3]=r*-o+a*l,e}function O(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=n[0],l=n[1];return e[0]=i*o,e[1]=r*o,e[2]=s*l,e[3]=a*l,e}function k(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=-n,e[3]=i,e}function U(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function F(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Q(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3])}function V(e,t,n,i){return e[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-e[2]*n[1],[e,t,n]}function H(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function G(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function z(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function W(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=t[0],o=t[1],l=t[2],c=t[3];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=p*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-l)<=p*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=p*Math.max(1,Math.abs(s),Math.abs(c))}function X(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function j(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e}var q=N,Y=G;function J(){var e=new f(6);return f!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Z(e){var t=new f(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function $(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function ee(e,t,n,i,r,s){var a=new f(6);return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a[4]=r,a[5]=s,a}function te(e,t,n,i,r,s,a){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=a,e}function ne(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=n*s-i*r;return l?(l=1/l,e[0]=s*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*o-s*a)*l,e[5]=(i*a-n*o)*l,e):null}function ie(e){return e[0]*e[3]-e[1]*e[2]}function re(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=n[0],u=n[1],d=n[2],h=n[3],p=n[4],f=n[5];return e[0]=i*c+s*u,e[1]=r*c+a*u,e[2]=i*d+s*h,e[3]=r*d+a*h,e[4]=i*p+s*f+o,e[5]=r*p+a*f+l,e}function se(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=Math.sin(n),u=Math.cos(n);return e[0]=i*u+s*c,e[1]=r*u+a*c,e[2]=i*-c+s*u,e[3]=r*-c+a*u,e[4]=o,e[5]=l,e}function ae(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=n[0],u=n[1];return e[0]=i*c,e[1]=r*c,e[2]=s*u,e[3]=a*u,e[4]=o,e[5]=l,e}function oe(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=n[0],u=n[1];return e[0]=i,e[1]=r,e[2]=s,e[3]=a,e[4]=i*c+s*u+o,e[5]=r*c+a*u+l,e}function le(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=-n,e[3]=i,e[4]=0,e[5]=0,e}function ce(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function ue(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function de(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function he(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+1)}function pe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function fe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function ge(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function Ae(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e}function me(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function ve(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5];return Math.abs(n-l)<=p*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=p*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-d)<=p*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(a-h)<=p*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-f)<=p*Math.max(1,Math.abs(o),Math.abs(f))}var ye=re,Ee=fe;function Se(){var e=new f(9);return f!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function xe(e){var t=new f(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function we(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ie(e,t,n,i,r,s,a,o,l){var c=new f(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=i,c[4]=r,c[5]=s,c[6]=a,c[7]=o,c[8]=l,c}function Ce(e,t,n,i,r,s,a,o,l,c){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e}function Te(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Me(e,t){if(e===t){var n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Be(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=u*a-o*c,h=-u*s+o*l,p=c*s-a*l,f=n*d+i*h+r*p;return f?(f=1/f,e[0]=d*f,e[1]=(-u*i+r*c)*f,e[2]=(o*i-r*a)*f,e[3]=h*f,e[4]=(u*n-r*l)*f,e[5]=(-o*n+r*s)*f,e[6]=p*f,e[7]=(-c*n+i*l)*f,e[8]=(a*n-i*s)*f,e):null}function Re(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-o*c,e[1]=r*c-i*u,e[2]=i*o-r*a,e[3]=o*l-s*u,e[4]=n*u-r*l,e[5]=r*s-n*o,e[6]=s*c-a*l,e[7]=i*l-n*c,e[8]=n*a-i*s,e}function Pe(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*(c*s-a*l)+n*(-c*r+a*o)+i*(l*r-s*o)}function _e(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1],f=n[2],g=n[3],A=n[4],m=n[5],v=n[6],y=n[7],E=n[8];return e[0]=h*i+p*a+f*c,e[1]=h*r+p*o+f*u,e[2]=h*s+p*l+f*d,e[3]=g*i+A*a+m*c,e[4]=g*r+A*o+m*u,e[5]=g*s+A*l+m*d,e[6]=v*i+y*a+E*c,e[7]=v*r+y*o+E*u,e[8]=v*s+y*l+E*d,e}function De(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1];return e[0]=i,e[1]=r,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=h*i+p*a+c,e[7]=h*r+p*o+u,e[8]=h*s+p*l+d,e}function Ne(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=Math.sin(n),p=Math.cos(n);return e[0]=p*i+h*a,e[1]=p*r+h*o,e[2]=p*s+h*l,e[3]=p*a-h*i,e[4]=p*o-h*r,e[5]=p*l-h*s,e[6]=c,e[7]=u,e[8]=d,e}function Le(e,t,n){var i=n[0],r=n[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function ke(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ue(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Fe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Qe(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=n+n,o=i+i,l=r+r,c=n*a,u=i*a,d=i*o,h=r*a,p=r*o,f=r*l,g=s*a,A=s*o,m=s*l;return e[0]=1-d-f,e[3]=u-m,e[6]=h+A,e[1]=u+m,e[4]=1-c-f,e[7]=p-g,e[2]=h-A,e[5]=p+g,e[8]=1-c-d,e}function Ve(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],g=t[13],A=t[14],m=t[15],v=n*o-i*a,y=n*l-r*a,E=n*c-s*a,S=i*l-r*o,b=i*c-s*o,x=r*c-s*l,w=u*g-d*f,I=u*A-h*f,C=u*m-p*f,T=d*A-h*g,M=d*m-p*g,B=h*m-p*A,R=v*B-y*M+E*T+S*C-b*I+x*w;return R?(R=1/R,e[0]=(o*B-l*M+c*T)*R,e[1]=(l*C-a*B-c*I)*R,e[2]=(a*M-o*C+c*w)*R,e[3]=(r*M-i*B-s*T)*R,e[4]=(n*B-r*C+s*I)*R,e[5]=(i*C-n*M-s*w)*R,e[6]=(g*x-A*b+m*S)*R,e[7]=(A*E-f*x-m*y)*R,e[8]=(f*b-g*E+m*v)*R,e):null}function He(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Ge(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function ze(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8])}function We(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Xe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function je(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function qe(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e}function Ye(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Je(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=t[0],h=t[1],f=t[2],g=t[3],A=t[4],m=t[5],v=t[6],y=t[7],E=t[8];return Math.abs(n-d)<=p*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-h)<=p*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-f)<=p*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(s-g)<=p*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(a-A)<=p*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(o-m)<=p*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(l-v)<=p*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=p*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(u-E)<=p*Math.max(1,Math.abs(u),Math.abs(E))}var Ze=_e,Ke=Xe;function $e(){var e=new f(16);return f!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function et(e){var t=new f(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function tt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function nt(e,t,n,i,r,s,a,o,l,c,u,d,h,p,g,A){var m=new f(16);return m[0]=e,m[1]=t,m[2]=n,m[3]=i,m[4]=r,m[5]=s,m[6]=a,m[7]=o,m[8]=l,m[9]=c,m[10]=u,m[11]=d,m[12]=h,m[13]=p,m[14]=g,m[15]=A,m}function it(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g,A){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=h,e[12]=p,e[13]=f,e[14]=g,e[15]=A,e}function rt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function st(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],s=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=r,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function at(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],g=t[13],A=t[14],m=t[15],v=n*o-i*a,y=n*l-r*a,E=n*c-s*a,S=i*l-r*o,b=i*c-s*o,x=r*c-s*l,w=u*g-d*f,I=u*A-h*f,C=u*m-p*f,T=d*A-h*g,M=d*m-p*g,B=h*m-p*A,R=v*B-y*M+E*T+S*C-b*I+x*w;return R?(R=1/R,e[0]=(o*B-l*M+c*T)*R,e[1]=(r*M-i*B-s*T)*R,e[2]=(g*x-A*b+m*S)*R,e[3]=(h*b-d*x-p*S)*R,e[4]=(l*C-a*B-c*I)*R,e[5]=(n*B-r*C+s*I)*R,e[6]=(A*E-f*x-m*y)*R,e[7]=(u*x-h*E+p*y)*R,e[8]=(a*M-o*C+c*w)*R,e[9]=(i*C-n*M-s*w)*R,e[10]=(f*b-g*E+m*v)*R,e[11]=(d*E-u*b-p*v)*R,e[12]=(o*I-a*T-l*w)*R,e[13]=(n*T-i*I+r*w)*R,e[14]=(g*y-f*S-A*v)*R,e[15]=(u*S-d*y+h*v)*R,e):null}function ot(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],g=t[13],A=t[14],m=t[15],v=n*o-i*a,y=n*l-r*a,E=n*c-s*a,S=i*l-r*o,b=i*c-s*o,x=r*c-s*l,w=u*g-d*f,I=u*A-h*f,C=u*m-p*f,T=d*A-h*g,M=d*m-p*g,B=h*m-p*A;return e[0]=o*B-l*M+c*T,e[1]=r*M-i*B-s*T,e[2]=g*x-A*b+m*S,e[3]=h*b-d*x-p*S,e[4]=l*C-a*B-c*I,e[5]=n*B-r*C+s*I,e[6]=A*E-f*x-m*y,e[7]=u*x-h*E+p*y,e[8]=a*M-o*C+c*w,e[9]=i*C-n*M-s*w,e[10]=f*b-g*E+m*v,e[11]=d*E-u*b-p*v,e[12]=o*I-a*T-l*w,e[13]=n*T-i*I+r*w,e[14]=g*y-f*S-A*v,e[15]=u*S-d*y+h*v,e}function lt(e){var t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],g=e[14],A=t*a-n*s,m=t*o-i*s,v=n*o-i*a,y=c*f-u*p,E=c*g-d*p,S=u*g-d*f;return l*(t*S-n*E+i*y)-r*(s*S-a*E+o*y)+e[15]*(c*v-u*m+d*A)-h*(p*v-f*m+g*A)}function ct(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],g=t[12],A=t[13],m=t[14],v=t[15],y=n[0],E=n[1],S=n[2],b=n[3];return e[0]=y*i+E*o+S*d+b*g,e[1]=y*r+E*l+S*h+b*A,e[2]=y*s+E*c+S*p+b*m,e[3]=y*a+E*u+S*f+b*v,y=n[4],E=n[5],S=n[6],b=n[7],e[4]=y*i+E*o+S*d+b*g,e[5]=y*r+E*l+S*h+b*A,e[6]=y*s+E*c+S*p+b*m,e[7]=y*a+E*u+S*f+b*v,y=n[8],E=n[9],S=n[10],b=n[11],e[8]=y*i+E*o+S*d+b*g,e[9]=y*r+E*l+S*h+b*A,e[10]=y*s+E*c+S*p+b*m,e[11]=y*a+E*u+S*f+b*v,y=n[12],E=n[13],S=n[14],b=n[15],e[12]=y*i+E*o+S*d+b*g,e[13]=y*r+E*l+S*h+b*A,e[14]=y*s+E*c+S*p+b*m,e[15]=y*a+E*u+S*f+b*v,e}function ut(e,t,n){var i,r,s,a,o,l,c,u,d,h,p,f,g=n[0],A=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*A+t[8]*m+t[12],e[13]=t[1]*g+t[5]*A+t[9]*m+t[13],e[14]=t[2]*g+t[6]*A+t[10]*m+t[14],e[15]=t[3]*g+t[7]*A+t[11]*m+t[15]):(i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],p=t[10],f=t[11],e[0]=i,e[1]=r,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=p,e[11]=f,e[12]=i*g+o*A+d*m+t[12],e[13]=r*g+l*A+h*m+t[13],e[14]=s*g+c*A+p*m+t[14],e[15]=a*g+u*A+f*m+t[15]),e}function dt(e,t,n){var i=n[0],r=n[1],s=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ht(e,t,n,i){var r,s,a,o,l,c,u,d,h,f,g,A,m,v,y,E,S,b,x,w,I,C,T,M,B=i[0],R=i[1],P=i[2],_=Math.sqrt(B*B+R*R+P*P);return _<p?null:(B*=_=1/_,R*=_,P*=_,r=Math.sin(n),a=1-(s=Math.cos(n)),o=t[0],l=t[1],c=t[2],u=t[3],d=t[4],h=t[5],f=t[6],g=t[7],A=t[8],m=t[9],v=t[10],y=t[11],E=B*B*a+s,S=R*B*a+P*r,b=P*B*a-R*r,x=B*R*a-P*r,w=R*R*a+s,I=P*R*a+B*r,C=B*P*a+R*r,T=R*P*a-B*r,M=P*P*a+s,e[0]=o*E+d*S+A*b,e[1]=l*E+h*S+m*b,e[2]=c*E+f*S+v*b,e[3]=u*E+g*S+y*b,e[4]=o*x+d*w+A*I,e[5]=l*x+h*w+m*I,e[6]=c*x+f*w+v*I,e[7]=u*x+g*w+y*I,e[8]=o*C+d*T+A*M,e[9]=l*C+h*T+m*M,e[10]=c*C+f*T+v*M,e[11]=u*C+g*T+y*M,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function pt(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+c*i,e[5]=a*r+u*i,e[6]=o*r+d*i,e[7]=l*r+h*i,e[8]=c*r-s*i,e[9]=u*r-a*i,e[10]=d*r-o*i,e[11]=h*r-l*i,e}function ft(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],a=t[1],o=t[2],l=t[3],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r-c*i,e[1]=a*r-u*i,e[2]=o*r-d*i,e[3]=l*r-h*i,e[8]=s*i+c*r,e[9]=a*i+u*r,e[10]=o*i+d*r,e[11]=l*i+h*r,e}function gt(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],a=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+c*i,e[1]=a*r+u*i,e[2]=o*r+d*i,e[3]=l*r+h*i,e[4]=c*r-s*i,e[5]=u*r-a*i,e[6]=d*r-o*i,e[7]=h*r-l*i,e}function At(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function mt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t,n){var i,r,s,a=n[0],o=n[1],l=n[2],c=Math.sqrt(a*a+o*o+l*l);return c<p?null:(a*=c=1/c,o*=c,l*=c,i=Math.sin(t),s=1-(r=Math.cos(t)),e[0]=a*a*s+r,e[1]=o*a*s+l*i,e[2]=l*a*s-o*i,e[3]=0,e[4]=a*o*s-l*i,e[5]=o*o*s+r,e[6]=l*o*s+a*i,e[7]=0,e[8]=a*l*s+o*i,e[9]=o*l*s-a*i,e[10]=l*l*s+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function yt(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Et(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function St(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=i+i,l=r+r,c=s+s,u=i*o,d=i*l,h=i*c,p=r*l,f=r*c,g=s*c,A=a*o,m=a*l,v=a*c;return e[0]=1-(p+g),e[1]=d+v,e[2]=h-m,e[3]=0,e[4]=d-v,e[5]=1-(u+g),e[6]=f+A,e[7]=0,e[8]=h+m,e[9]=f-A,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function xt(e,t){var n=new f(3),i=-t[0],r=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=i*i+r*r+s*s+a*a;return d>0?(n[0]=2*(o*a+u*i+l*s-c*r)/d,n[1]=2*(l*a+u*r+c*i-o*s)/d,n[2]=2*(c*a+u*s+o*r-l*i)/d):(n[0]=2*(o*a+u*i+l*s-c*r),n[1]=2*(l*a+u*r+c*i-o*s),n[2]=2*(c*a+u*s+o*r-l*i)),bt(e,t,n),e}function wt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function It(e,t){var n=t[0],i=t[1],r=t[2],s=t[4],a=t[5],o=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(n*n+i*i+r*r),e[1]=Math.sqrt(s*s+a*a+o*o),e[2]=Math.sqrt(l*l+c*c+u*u),e}function Ct(e,t){var n=new f(3);It(n,t);var i=1/n[0],r=1/n[1],s=1/n[2],a=t[0]*i,o=t[1]*r,l=t[2]*s,c=t[4]*i,u=t[5]*r,d=t[6]*s,h=t[8]*i,p=t[9]*r,g=t[10]*s,A=a+u+g,m=0;return A>0?(m=2*Math.sqrt(A+1),e[3]=.25*m,e[0]=(d-p)/m,e[1]=(h-l)/m,e[2]=(o-c)/m):a>u&&a>g?(m=2*Math.sqrt(1+a-u-g),e[3]=(d-p)/m,e[0]=.25*m,e[1]=(o+c)/m,e[2]=(h+l)/m):u>g?(m=2*Math.sqrt(1+u-a-g),e[3]=(h-l)/m,e[0]=(o+c)/m,e[1]=.25*m,e[2]=(d+p)/m):(m=2*Math.sqrt(1+g-a-u),e[3]=(o-c)/m,e[0]=(h+l)/m,e[1]=(d+p)/m,e[2]=.25*m),e}function Tt(e,t,n,i){t[0]=i[12],t[1]=i[13],t[2]=i[14];var r=i[0],s=i[1],a=i[2],o=i[4],l=i[5],c=i[6],u=i[8],d=i[9],h=i[10];n[0]=Math.sqrt(r*r+s*s+a*a),n[1]=Math.sqrt(o*o+l*l+c*c),n[2]=Math.sqrt(u*u+d*d+h*h);var p=1/n[0],f=1/n[1],g=1/n[2],A=r*p,m=s*f,v=a*g,y=o*p,E=l*f,S=c*g,b=u*p,x=d*f,w=h*g,I=A+E+w,C=0;return I>0?(C=2*Math.sqrt(I+1),e[3]=.25*C,e[0]=(S-x)/C,e[1]=(b-v)/C,e[2]=(m-y)/C):A>E&&A>w?(C=2*Math.sqrt(1+A-E-w),e[3]=(S-x)/C,e[0]=.25*C,e[1]=(m+y)/C,e[2]=(b+v)/C):E>w?(C=2*Math.sqrt(1+E-A-w),e[3]=(b-v)/C,e[0]=(m+y)/C,e[1]=.25*C,e[2]=(S+x)/C):(C=2*Math.sqrt(1+w-A-E),e[3]=(m-y)/C,e[0]=(b+v)/C,e[1]=(S+x)/C,e[2]=.25*C),e}function Mt(e,t,n,i){var r=t[0],s=t[1],a=t[2],o=t[3],l=r+r,c=s+s,u=a+a,d=r*l,h=r*c,p=r*u,f=s*c,g=s*u,A=a*u,m=o*l,v=o*c,y=o*u,E=i[0],S=i[1],b=i[2];return e[0]=(1-(f+A))*E,e[1]=(h+y)*E,e[2]=(p-v)*E,e[3]=0,e[4]=(h-y)*S,e[5]=(1-(d+A))*S,e[6]=(g+m)*S,e[7]=0,e[8]=(p+v)*b,e[9]=(g-m)*b,e[10]=(1-(d+f))*b,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Bt(e,t,n,i,r){var s=t[0],a=t[1],o=t[2],l=t[3],c=s+s,u=a+a,d=o+o,h=s*c,p=s*u,f=s*d,g=a*u,A=a*d,m=o*d,v=l*c,y=l*u,E=l*d,S=i[0],b=i[1],x=i[2],w=r[0],I=r[1],C=r[2],T=(1-(g+m))*S,M=(p+E)*S,B=(f-y)*S,R=(p-E)*b,P=(1-(h+m))*b,_=(A+v)*b,D=(f+y)*x,N=(A-v)*x,L=(1-(h+g))*x;return e[0]=T,e[1]=M,e[2]=B,e[3]=0,e[4]=R,e[5]=P,e[6]=_,e[7]=0,e[8]=D,e[9]=N,e[10]=L,e[11]=0,e[12]=n[0]+w-(T*w+R*I+D*C),e[13]=n[1]+I-(M*w+P*I+N*C),e[14]=n[2]+C-(B*w+_*I+L*C),e[15]=1,e}function Rt(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=n+n,o=i+i,l=r+r,c=n*a,u=i*a,d=i*o,h=r*a,p=r*o,f=r*l,g=s*a,A=s*o,m=s*l;return e[0]=1-d-f,e[1]=u+m,e[2]=h-A,e[3]=0,e[4]=u-m,e[5]=1-c-f,e[6]=p+g,e[7]=0,e[8]=h+A,e[9]=p-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Pt(e,t,n,i,r,s,a){var o=1/(n-t),l=1/(r-i),c=1/(s-a);return e[0]=2*s*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(n+t)*o,e[9]=(r+i)*l,e[10]=(a+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*c,e[15]=0,e}function _t(e,t,n,i,r){var s=1/Math.tan(t/2);if(e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0){var a=1/(i-r);e[10]=(r+i)*a,e[14]=2*r*i*a}else e[10]=-1,e[14]=-2*i;return e}var Dt=_t;function Nt(e,t,n,i,r){var s=1/Math.tan(t/2);if(e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0){var a=1/(i-r);e[10]=r*a,e[14]=r*i*a}else e[10]=-1,e[14]=-i;return e}function Lt(e,t,n,i){var r=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),c=2/(r+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(r-s)*c*.5,e[10]=i/(n-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*n/(n-i),e[15]=0,e}function Ot(e,t,n,i,r,s,a){var o=1/(t-n),l=1/(i-r),c=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*o,e[13]=(r+i)*l,e[14]=(a+s)*c,e[15]=1,e}var kt=Ot;function Ut(e,t,n,i,r,s,a){var o=1/(t-n),l=1/(i-r),c=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+n)*o,e[13]=(r+i)*l,e[14]=s*c,e[15]=1,e}function Ft(e,t,n,i){var r,s,a,o,l,c,u,d,h,f,g=t[0],A=t[1],m=t[2],v=i[0],y=i[1],E=i[2],S=n[0],b=n[1],x=n[2];return Math.abs(g-S)<p&&Math.abs(A-b)<p&&Math.abs(m-x)<p?rt(e):(u=g-S,d=A-b,h=m-x,r=y*(h*=f=1/Math.sqrt(u*u+d*d+h*h))-E*(d*=f),s=E*(u*=f)-v*h,a=v*d-y*u,(f=Math.sqrt(r*r+s*s+a*a))?(r*=f=1/f,s*=f,a*=f):(r=0,s=0,a=0),o=d*a-h*s,l=h*r-u*a,c=u*s-d*r,(f=Math.sqrt(o*o+l*l+c*c))?(o*=f=1/f,l*=f,c*=f):(o=0,l=0,c=0),e[0]=r,e[1]=o,e[2]=u,e[3]=0,e[4]=s,e[5]=l,e[6]=d,e[7]=0,e[8]=a,e[9]=c,e[10]=h,e[11]=0,e[12]=-(r*g+s*A+a*m),e[13]=-(o*g+l*A+c*m),e[14]=-(u*g+d*A+h*m),e[15]=1,e)}function Qt(e,t,n,i){var r=t[0],s=t[1],a=t[2],o=i[0],l=i[1],c=i[2],u=r-n[0],d=s-n[1],h=a-n[2],p=u*u+d*d+h*h;p>0&&(u*=p=1/Math.sqrt(p),d*=p,h*=p);var f=l*h-c*d,g=c*u-o*h,A=o*d-l*u;return(p=f*f+g*g+A*A)>0&&(f*=p=1/Math.sqrt(p),g*=p,A*=p),e[0]=f,e[1]=g,e[2]=A,e[3]=0,e[4]=d*A-h*g,e[5]=h*f-u*A,e[6]=u*g-d*f,e[7]=0,e[8]=u,e[9]=d,e[10]=h,e[11]=0,e[12]=r,e[13]=s,e[14]=a,e[15]=1,e}function Vt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ht(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]+e[4]*e[4]+e[5]*e[5]+e[6]*e[6]+e[7]*e[7]+e[8]*e[8]+e[9]*e[9]+e[10]*e[10]+e[11]*e[11]+e[12]*e[12]+e[13]*e[13]+e[14]*e[14]+e[15]*e[15])}function Gt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function zt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Wt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Xt(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e}function jt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function qt(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],g=e[12],A=e[13],m=e[14],v=e[15],y=t[0],E=t[1],S=t[2],b=t[3],x=t[4],w=t[5],I=t[6],C=t[7],T=t[8],M=t[9],B=t[10],R=t[11],P=t[12],_=t[13],D=t[14],N=t[15];return Math.abs(n-y)<=p*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-E)<=p*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(r-S)<=p*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(s-b)<=p*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(a-x)<=p*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-w)<=p*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-I)<=p*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(c-C)<=p*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(u-T)<=p*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(d-M)<=p*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(h-B)<=p*Math.max(1,Math.abs(h),Math.abs(B))&&Math.abs(f-R)<=p*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(g-P)<=p*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(A-_)<=p*Math.max(1,Math.abs(A),Math.abs(_))&&Math.abs(m-D)<=p*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(v-N)<=p*Math.max(1,Math.abs(v),Math.abs(N))}var Yt=ct,Jt=zt;function Zt(){var e=new f(3);return f!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Kt(e){var t=new f(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function $t(e){var t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)}function en(e,t,n){var i=new f(3);return i[0]=e,i[1]=t,i[2]=n,i}function tn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function nn(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function rn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function sn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function an(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function on(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function ln(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function cn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function un(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function dn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function hn(e,t){return e[0]=m(t[0]),e[1]=m(t[1]),e[2]=m(t[2]),e}function pn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function fn(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function gn(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+i*i+r*r)}function An(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return n*n+i*i+r*r}function mn(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function vn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function yn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function En(e,t){var n=t[0],i=t[1],r=t[2],s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function Sn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function bn(e,t,n){var i=t[0],r=t[1],s=t[2],a=n[0],o=n[1],l=n[2];return e[0]=r*l-s*o,e[1]=s*a-i*l,e[2]=i*o-r*a,e}function xn(e,t,n,i){var r=t[0],s=t[1],a=t[2];return e[0]=r+i*(n[0]-r),e[1]=s+i*(n[1]-s),e[2]=a+i*(n[2]-a),e}function wn(e,t,n,i){var r=Math.acos(Math.min(Math.max(Sn(t,n),-1),1)),s=Math.sin(r),a=Math.sin((1-i)*r)/s,o=Math.sin(i*r)/s;return e[0]=a*t[0]+o*n[0],e[1]=a*t[1]+o*n[1],e[2]=a*t[2]+o*n[2],e}function In(e,t,n,i,r,s){var a=s*s,o=a*(2*s-3)+1,l=a*(s-2)+s,c=a*(s-1),u=a*(3-2*s);return e[0]=t[0]*o+n[0]*l+i[0]*c+r[0]*u,e[1]=t[1]*o+n[1]*l+i[1]*c+r[1]*u,e[2]=t[2]*o+n[2]*l+i[2]*c+r[2]*u,e}function Cn(e,t,n,i,r,s){var a=1-s,o=a*a,l=s*s,c=o*a,u=3*s*o,d=3*l*a,h=l*s;return e[0]=t[0]*c+n[0]*u+i[0]*d+r[0]*h,e[1]=t[1]*c+n[1]*u+i[1]*d+r[1]*h,e[2]=t[2]*c+n[2]*u+i[2]*d+r[2]*h,e}function Tn(e,t){t=void 0===t?1:t;var n=2*g()*Math.PI,i=2*g()-1,r=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=i*t,e}function Mn(e,t,n){var i=t[0],r=t[1],s=t[2],a=n[3]*i+n[7]*r+n[11]*s+n[15];return a=a||1,e[0]=(n[0]*i+n[4]*r+n[8]*s+n[12])/a,e[1]=(n[1]*i+n[5]*r+n[9]*s+n[13])/a,e[2]=(n[2]*i+n[6]*r+n[10]*s+n[14])/a,e}function Bn(e,t,n){var i=t[0],r=t[1],s=t[2];return e[0]=i*n[0]+r*n[3]+s*n[6],e[1]=i*n[1]+r*n[4]+s*n[7],e[2]=i*n[2]+r*n[5]+s*n[8],e}function Rn(e,t,n){var i=n[0],r=n[1],s=n[2],a=n[3],o=t[0],l=t[1],c=t[2],u=r*c-s*l,d=s*o-i*c,h=i*l-r*o;return u+=u,d+=d,h+=h,e[0]=o+a*u+r*h-s*d,e[1]=l+a*d+s*u-i*h,e[2]=c+a*h+i*d-r*u,e}function Pn(e,t,n,i){var r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[0],s[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),s[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function _n(e,t,n,i){var r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),s[1]=r[1],s[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function Dn(e,t,n,i){var r=[],s=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),s[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),s[2]=r[2],e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function Nn(e,t){var n=e[0],i=e[1],r=e[2],s=t[0],a=t[1],o=t[2],l=Math.sqrt((n*n+i*i+r*r)*(s*s+a*a+o*o)),c=l&&Sn(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function Ln(e){return e[0]=0,e[1]=0,e[2]=0,e}function On(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function kn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Un(e,t){var n=e[0],i=e[1],r=e[2],s=t[0],a=t[1],o=t[2];return Math.abs(n-s)<=p*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=p*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-o)<=p*Math.max(1,Math.abs(r),Math.abs(o))}var Fn,Qn=sn,Vn=an,Hn=on,Gn=gn,zn=An,Wn=$t,Xn=mn,jn=(Fn=Zt(),function(e,t,n,i,r,s){var a,o;for(t||(t=3),n||(n=0),o=i?Math.min(i*t+n,e.length):e.length,a=n;a<o;a+=t)Fn[0]=e[a],Fn[1]=e[a+1],Fn[2]=e[a+2],r(Fn,Fn,s),e[a]=Fn[0],e[a+1]=Fn[1],e[a+2]=Fn[2];return e});function qn(){var e=new f(4);return f!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Yn(e){var t=new f(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Jn(e,t,n,i){var r=new f(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function Zn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Kn(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function $n(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function ei(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function ti(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function ni(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function ii(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function ri(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function si(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function ai(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function oi(e,t){return e[0]=m(t[0]),e[1]=m(t[1]),e[2]=m(t[2]),e[3]=m(t[3]),e}function li(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function ci(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e}function ui(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(n*n+i*i+r*r+s*s)}function di(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],s=t[3]-e[3];return n*n+i*i+r*r+s*s}function hi(e){var t=e[0],n=e[1],i=e[2],r=e[3];return Math.sqrt(t*t+n*n+i*i+r*r)}function pi(e){var t=e[0],n=e[1],i=e[2],r=e[3];return t*t+n*n+i*i+r*r}function fi(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function gi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Ai(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=n*n+i*i+r*r+s*s;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=s*a,e}function mi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function vi(e,t,n,i){var r=n[0]*i[1]-n[1]*i[0],s=n[0]*i[2]-n[2]*i[0],a=n[0]*i[3]-n[3]*i[0],o=n[1]*i[2]-n[2]*i[1],l=n[1]*i[3]-n[3]*i[1],c=n[2]*i[3]-n[3]*i[2],u=t[0],d=t[1],h=t[2],p=t[3];return e[0]=d*c-h*l+p*o,e[1]=-u*c+h*a-p*s,e[2]=u*l-d*a+p*r,e[3]=-u*o+d*s-h*r,e}function yi(e,t,n,i){var r=t[0],s=t[1],a=t[2],o=t[3];return e[0]=r+i*(n[0]-r),e[1]=s+i*(n[1]-s),e[2]=a+i*(n[2]-a),e[3]=o+i*(n[3]-o),e}function Ei(e,t){var n,i,r,s,a,o,l;t=void 0===t?1:t,a=(n=2*(l=g())-1)*n+(i=(4*g()-2)*Math.sqrt(l*-l+l))*i,o=(r=2*(l=g())-1)*r+(s=(4*g()-2)*Math.sqrt(l*-l+l))*s;var c=Math.sqrt((1-a)/o);return e[0]=t*n,e[1]=t*i,e[2]=t*r*c,e[3]=t*s*c,e}function Si(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*s+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*s+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*s+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*s+n[15]*a,e}function bi(e,t,n){var i=n[0],r=n[1],s=n[2],a=n[3],o=t[0],l=t[1],c=t[2],u=r*c-s*l,d=s*o-i*c,h=i*l-r*o;return u+=u,d+=d,h+=h,e[0]=o+a*u+r*h-s*d,e[1]=l+a*d+s*u-i*h,e[2]=c+a*h+i*d-r*u,e[3]=t[3],e}function xi(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function wi(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Ii(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Ci(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=t[0],o=t[1],l=t[2],c=t[3];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=p*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-l)<=p*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=p*Math.max(1,Math.abs(s),Math.abs(c))}var Ti,Mi=ei,Bi=ti,Ri=ni,Pi=ui,_i=di,Di=hi,Ni=pi,Li=(Ti=qn(),function(e,t,n,i,r,s){var a,o;for(t||(t=4),n||(n=0),o=i?Math.min(i*t+n,e.length):e.length,a=n;a<o;a+=t)Ti[0]=e[a],Ti[1]=e[a+1],Ti[2]=e[a+2],Ti[3]=e[a+3],r(Ti,Ti,s),e[a]=Ti[0],e[a+1]=Ti[1],e[a+2]=Ti[2],e[a+3]=Ti[3];return e});function Oi(){var e=new f(4);return f!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function ki(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Ui(e,t,n){n*=.5;var i=Math.sin(n);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(n),e}function Fi(e,t){var n=2*Math.acos(t[3]),i=Math.sin(n/2);return i>p?(e[0]=t[0]/i,e[1]=t[1]/i,e[2]=t[2]/i):(e[0]=1,e[1]=0,e[2]=0),n}function Qi(e,t){var n=cr(e,t);return Math.acos(2*n*n-1)}function Vi(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=n[0],l=n[1],c=n[2],u=n[3];return e[0]=i*u+a*o+r*c-s*l,e[1]=r*u+a*l+s*o-i*c,e[2]=s*u+a*c+i*l-r*o,e[3]=a*u-i*o-r*l-s*c,e}function Hi(e,t,n){n*=.5;var i=t[0],r=t[1],s=t[2],a=t[3],o=Math.sin(n),l=Math.cos(n);return e[0]=i*l+a*o,e[1]=r*l+s*o,e[2]=s*l-r*o,e[3]=a*l-i*o,e}function Gi(e,t,n){n*=.5;var i=t[0],r=t[1],s=t[2],a=t[3],o=Math.sin(n),l=Math.cos(n);return e[0]=i*l-s*o,e[1]=r*l+a*o,e[2]=s*l+i*o,e[3]=a*l-r*o,e}function zi(e,t,n){n*=.5;var i=t[0],r=t[1],s=t[2],a=t[3],o=Math.sin(n),l=Math.cos(n);return e[0]=i*l+r*o,e[1]=r*l-i*o,e[2]=s*l+a*o,e[3]=a*l-s*o,e}function Wi(e,t){var n=t[0],i=t[1],r=t[2];return e[0]=n,e[1]=i,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),e}function Xi(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=Math.sqrt(n*n+i*i+r*r),o=Math.exp(s),l=a>0?o*Math.sin(a)/a:0;return e[0]=n*l,e[1]=i*l,e[2]=r*l,e[3]=o*Math.cos(a),e}function ji(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=Math.sqrt(n*n+i*i+r*r),o=a>0?Math.atan2(a,s)/a:0;return e[0]=n*o,e[1]=i*o,e[2]=r*o,e[3]=.5*Math.log(n*n+i*i+r*r+s*s),e}function qi(e,t,n){return ji(e,t),lr(e,e,n),Xi(e,e),e}function Yi(e,t,n,i){var r,s,a,o,l,c=t[0],u=t[1],d=t[2],h=t[3],f=n[0],g=n[1],A=n[2],m=n[3];return(s=c*f+u*g+d*A+h*m)<0&&(s=-s,f=-f,g=-g,A=-A,m=-m),1-s>p?(r=Math.acos(s),a=Math.sin(r),o=Math.sin((1-i)*r)/a,l=Math.sin(i*r)/a):(o=1-i,l=i),e[0]=o*c+l*f,e[1]=o*u+l*g,e[2]=o*d+l*A,e[3]=o*h+l*m,e}function Ji(e){var t=g(),n=g(),i=g(),r=Math.sqrt(1-t),s=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=s*Math.sin(2*Math.PI*i),e[3]=s*Math.cos(2*Math.PI*i),e}function Zi(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=n*n+i*i+r*r+s*s,o=a?1/a:0;return e[0]=-n*o,e[1]=-i*o,e[2]=-r*o,e[3]=s*o,e}function Ki(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function $i(e,t){var n,i=t[0]+t[4]+t[8];if(i>0)n=Math.sqrt(i+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);var s=(r+1)%3,a=(r+2)%3;n=Math.sqrt(t[3*r+r]-t[3*s+s]-t[3*a+a]+1),e[r]=.5*n,n=.5/n,e[3]=(t[3*s+a]-t[3*a+s])*n,e[s]=(t[3*s+r]+t[3*r+s])*n,e[a]=(t[3*a+r]+t[3*r+a])*n}return e}function er(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A,s=Math.PI/360;t*=s,i*=s,n*=s;var a=Math.sin(t),o=Math.cos(t),l=Math.sin(n),c=Math.cos(n),u=Math.sin(i),d=Math.cos(i);switch(r){case"xyz":e[0]=a*c*d+o*l*u,e[1]=o*l*d-a*c*u,e[2]=o*c*u+a*l*d,e[3]=o*c*d-a*l*u;break;case"xzy":e[0]=a*c*d-o*l*u,e[1]=o*l*d-a*c*u,e[2]=o*c*u+a*l*d,e[3]=o*c*d+a*l*u;break;case"yxz":e[0]=a*c*d+o*l*u,e[1]=o*l*d-a*c*u,e[2]=o*c*u-a*l*d,e[3]=o*c*d+a*l*u;break;case"yzx":e[0]=a*c*d+o*l*u,e[1]=o*l*d+a*c*u,e[2]=o*c*u-a*l*d,e[3]=o*c*d-a*l*u;break;case"zxy":e[0]=a*c*d-o*l*u,e[1]=o*l*d+a*c*u,e[2]=o*c*u+a*l*d,e[3]=o*c*d-a*l*u;break;case"zyx":e[0]=a*c*d-o*l*u,e[1]=o*l*d+a*c*u,e[2]=o*c*u-a*l*d,e[3]=o*c*d+a*l*u;break;default:throw new Error("Unknown angle order "+r)}return e}function tr(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var nr=Yn,ir=Jn,rr=Zn,sr=Kn,ar=$n,or=Vi,lr=li,cr=mi,ur=yi,dr=hi,hr=dr,pr=pi,fr=pr,gr=Ai,Ar=Ii;function mr(e,t){return Math.abs(mi(e,t))>=1-p}var vr,yr,Er,Sr,br,xr,wr=(vr=Zt(),yr=en(1,0,0),Er=en(0,1,0),function(e,t,n){var i=Sn(t,n);return i<-.999999?(bn(vr,yr,t),Wn(vr)<1e-6&&bn(vr,Er,t),En(vr,vr),Ui(e,vr,Math.PI),e):i>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(bn(vr,t,n),e[0]=vr[0],e[1]=vr[1],e[2]=vr[2],e[3]=1+i,gr(e,e))}),Ir=(Sr=Oi(),br=Oi(),function(e,t,n,i,r,s){return Yi(Sr,t,r,s),Yi(br,n,i,s),Yi(e,Sr,br,2*s*(1-s)),e}),Cr=(xr=Se(),function(e,t,n,i){return xr[0]=n[0],xr[3]=n[1],xr[6]=n[2],xr[1]=i[0],xr[4]=i[1],xr[7]=i[2],xr[2]=-t[0],xr[5]=-t[1],xr[8]=-t[2],gr(e,$i(e,xr))});function Tr(){var e=new f(8);return f!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function Mr(e){var t=new f(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Br(e,t,n,i,r,s,a,o){var l=new f(8);return l[0]=e,l[1]=t,l[2]=n,l[3]=i,l[4]=r,l[5]=s,l[6]=a,l[7]=o,l}function Rr(e,t,n,i,r,s,a){var o=new f(8);o[0]=e,o[1]=t,o[2]=n,o[3]=i;var l=.5*r,c=.5*s,u=.5*a;return o[4]=l*i+c*n-u*t,o[5]=c*i+u*e-l*n,o[6]=u*i+l*t-c*e,o[7]=-l*e-c*t-u*n,o}function Pr(e,t,n){var i=.5*n[0],r=.5*n[1],s=.5*n[2],a=t[0],o=t[1],l=t[2],c=t[3];return e[0]=a,e[1]=o,e[2]=l,e[3]=c,e[4]=i*c+r*l-s*o,e[5]=r*c+s*a-i*l,e[6]=s*c+i*o-r*a,e[7]=-i*a-r*o-s*l,e}function _r(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function Dr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Nr(e,t){var n=Oi();Ct(n,t);var i=new f(3);return wt(i,t),Pr(e,n,i),e}function Lr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Or(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function kr(e,t,n,i,r,s,a,o,l){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e}var Ur=rr;function Fr(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Qr=rr;function Vr(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Hr(e,t){var n=t[4],i=t[5],r=t[6],s=t[7],a=-t[0],o=-t[1],l=-t[2],c=t[3];return e[0]=2*(n*c+s*a+i*l-r*o),e[1]=2*(i*c+s*o+r*a-n*l),e[2]=2*(r*c+s*l+n*o-i*a),e}function Gr(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=.5*n[0],l=.5*n[1],c=.5*n[2],u=t[4],d=t[5],h=t[6],p=t[7];return e[0]=i,e[1]=r,e[2]=s,e[3]=a,e[4]=a*o+r*c-s*l+u,e[5]=a*l+s*o-i*c+d,e[6]=a*c+i*l-r*o+h,e[7]=-i*o-r*l-s*c+p,e}function zr(e,t,n){var i=-t[0],r=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=o*a+u*i+l*s-c*r,h=l*a+u*r+c*i-o*s,p=c*a+u*s+o*r-l*i,f=u*a-o*i-l*r-c*s;return Hi(e,t,n),i=e[0],r=e[1],s=e[2],a=e[3],e[4]=d*a+f*i+h*s-p*r,e[5]=h*a+f*r+p*i-d*s,e[6]=p*a+f*s+d*r-h*i,e[7]=f*a-d*i-h*r-p*s,e}function Wr(e,t,n){var i=-t[0],r=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=o*a+u*i+l*s-c*r,h=l*a+u*r+c*i-o*s,p=c*a+u*s+o*r-l*i,f=u*a-o*i-l*r-c*s;return Gi(e,t,n),i=e[0],r=e[1],s=e[2],a=e[3],e[4]=d*a+f*i+h*s-p*r,e[5]=h*a+f*r+p*i-d*s,e[6]=p*a+f*s+d*r-h*i,e[7]=f*a-d*i-h*r-p*s,e}function Xr(e,t,n){var i=-t[0],r=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=o*a+u*i+l*s-c*r,h=l*a+u*r+c*i-o*s,p=c*a+u*s+o*r-l*i,f=u*a-o*i-l*r-c*s;return zi(e,t,n),i=e[0],r=e[1],s=e[2],a=e[3],e[4]=d*a+f*i+h*s-p*r,e[5]=h*a+f*r+p*i-d*s,e[6]=p*a+f*s+d*r-h*i,e[7]=f*a-d*i-h*r-p*s,e}function jr(e,t,n){var i=n[0],r=n[1],s=n[2],a=n[3],o=t[0],l=t[1],c=t[2],u=t[3];return e[0]=o*a+u*i+l*s-c*r,e[1]=l*a+u*r+c*i-o*s,e[2]=c*a+u*s+o*r-l*i,e[3]=u*a-o*i-l*r-c*s,o=t[4],l=t[5],c=t[6],u=t[7],e[4]=o*a+u*i+l*s-c*r,e[5]=l*a+u*r+c*i-o*s,e[6]=c*a+u*s+o*r-l*i,e[7]=u*a-o*i-l*r-c*s,e}function qr(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=n[0],l=n[1],c=n[2],u=n[3];return e[0]=i*u+a*o+r*c-s*l,e[1]=r*u+a*l+s*o-i*c,e[2]=s*u+a*c+i*l-r*o,e[3]=a*u-i*o-r*l-s*c,o=n[4],l=n[5],c=n[6],u=n[7],e[4]=i*u+a*o+r*c-s*l,e[5]=r*u+a*l+s*o-i*c,e[6]=s*u+a*c+i*l-r*o,e[7]=a*u-i*o-r*l-s*c,e}function Yr(e,t,n,i){if(Math.abs(i)<p)return Lr(e,t);var r=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);i*=.5;var s=Math.sin(i),a=s*n[0]/r,o=s*n[1]/r,l=s*n[2]/r,c=Math.cos(i),u=t[0],d=t[1],h=t[2],f=t[3];e[0]=u*c+f*a+d*l-h*o,e[1]=d*c+f*o+h*a-u*l,e[2]=h*c+f*l+u*o-d*a,e[3]=f*c-u*a-d*o-h*l;var g=t[4],A=t[5],m=t[6],v=t[7];return e[4]=g*c+v*a+A*l-m*o,e[5]=A*c+v*o+m*a-g*l,e[6]=m*c+v*l+g*o-A*a,e[7]=v*c-g*a-A*o-m*l,e}function Jr(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Zr(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=n[4],l=n[5],c=n[6],u=n[7],d=t[4],h=t[5],p=t[6],f=t[7],g=n[0],A=n[1],m=n[2],v=n[3];return e[0]=i*v+a*g+r*m-s*A,e[1]=r*v+a*A+s*g-i*m,e[2]=s*v+a*m+i*A-r*g,e[3]=a*v-i*g-r*A-s*m,e[4]=i*u+a*o+r*c-s*l+d*v+f*g+h*m-p*A,e[5]=r*u+a*l+s*o-i*c+h*v+f*A+p*g-d*m,e[6]=s*u+a*c+i*l-r*o+p*v+f*m+d*A-h*g,e[7]=a*u-i*o-r*l-s*c+f*v-d*g-h*A-p*m,e}var Kr=Zr;function $r(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var es=cr;function ts(e,t,n,i){var r=1-i;return es(t,n)<0&&(i=-i),e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i,e[3]=t[3]*r+n[3]*i,e[4]=t[4]*r+n[4]*i,e[5]=t[5]*r+n[5]*i,e[6]=t[6]*r+n[6]*i,e[7]=t[7]*r+n[7]*i,e}function ns(e,t){var n=as(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function is(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var rs=dr,ss=rs,as=pr,os=as;function ls(e,t){var n=as(t);if(n>0){n=Math.sqrt(n);var i=t[0]/n,r=t[1]/n,s=t[2]/n,a=t[3]/n,o=t[4],l=t[5],c=t[6],u=t[7],d=i*o+r*l+s*c+a*u;e[0]=i,e[1]=r,e[2]=s,e[3]=a,e[4]=(o-i*d)/n,e[5]=(l-r*d)/n,e[6]=(c-s*d)/n,e[7]=(u-a*d)/n}return e}function cs(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function us(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function ds(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=t[0],d=t[1],h=t[2],f=t[3],g=t[4],A=t[5],m=t[6],v=t[7];return Math.abs(n-u)<=p*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-d)<=p*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(r-h)<=p*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(s-f)<=p*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-g)<=p*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-A)<=p*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(l-m)<=p*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-v)<=p*Math.max(1,Math.abs(c),Math.abs(v))}function hs(){var e=new f(2);return f!=Float32Array&&(e[0]=0,e[1]=0),e}function ps(e){var t=new f(2);return t[0]=e[0],t[1]=e[1],t}function fs(e,t){var n=new f(2);return n[0]=e,n[1]=t,n}function gs(e,t){return e[0]=t[0],e[1]=t[1],e}function As(e,t,n){return e[0]=t,e[1]=n,e}function ms(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function vs(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ys(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function Es(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function Ss(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function bs(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function xs(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function ws(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function Is(e,t){return e[0]=m(t[0]),e[1]=m(t[1]),e}function Cs(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Ts(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Ms(e,t){var n=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(n*n+i*i)}function Bs(e,t){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function Rs(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function Ps(e){var t=e[0],n=e[1];return t*t+n*n}function _s(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Ds(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Ns(e,t){var n=t[0],i=t[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e}function Ls(e,t){return e[0]*t[0]+e[1]*t[1]}function Os(e,t,n){var i=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=i,e}function ks(e,t,n,i){var r=t[0],s=t[1];return e[0]=r+i*(n[0]-r),e[1]=s+i*(n[1]-s),e}function Us(e,t){t=void 0===t?1:t;var n=2*g()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function Fs(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r,e[1]=n[1]*i+n[3]*r,e}function Qs(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function Vs(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[3]*r+n[6],e[1]=n[1]*i+n[4]*r+n[7],e}function Hs(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e}function Gs(e,t,n,i){var r=t[0]-n[0],s=t[1]-n[1],a=Math.sin(i),o=Math.cos(i);return e[0]=r*o-s*a+n[0],e[1]=r*a+s*o+n[1],e}function zs(e,t){var n=e[0],i=e[1],r=t[0],s=t[1];return Math.abs(Math.atan2(i*r-n*s,n*r+i*s))}function Ws(e,t){var n=e[0],i=e[1],r=t[0],s=t[1];return Math.atan2(n*s-i*r,n*r+i*s)}function Xs(e){return e[0]=0,e[1]=0,e}function js(e){return"vec2("+e[0]+", "+e[1]+")"}function qs(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ys(e,t){var n=e[0],i=e[1],r=t[0],s=t[1];return Math.abs(n-r)<=p*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-s)<=p*Math.max(1,Math.abs(i),Math.abs(s))}var Js,Zs=Rs,Ks=vs,$s=ys,ea=Es,ta=Ms,na=Bs,ia=Ps,ra=(Js=hs(),function(e,t,n,i,r,s){var a,o;for(t||(t=2),n||(n=0),o=i?Math.min(i*t+n,e.length):e.length,a=n;a<o;a+=t)Js[0]=e[a],Js[1]=e[a+1],r(Js,Js,s),e[a]=Js[0],e[a+1]=Js[1];return e})},2343(e,t,n){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(4412);n(7673);let r=!0,s=!0;function a(e,t,n){const i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function o(e,t,n){if(!e.RTCPeerConnection)return;const i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);const s=e=>{const t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._=this._||{},this._[t]||(this._[t]=new Map),this._[t].set(i,s),r.apply(this,[e,s])};const s=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._||!this._[t])return s.apply(this,arguments);if(!this._[t].has(n))return s.apply(this,arguments);const i=this._[t].get(n);return this._[t].delete(n),0===this._[t].size&&delete this._[t],0===Object.keys(this._).length&&delete this._,s.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function l(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function c(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(s=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){if("object"==typeof window){if(r)return;"undefined"!=typeof console&&console.log}}function d(e,t){}function h(e){const{navigator:t}=e,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function p(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){return p(e)?Object.keys(e).reduce(function(t,n){const i=p(e[n]),r=i?f(e[n]):e[n],s=i&&!Object.keys(r).length;return void 0===r||s?t:Object.assign(t,{[n]:r})},{}):e}function g(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(i=>{i.endsWith("Id")?g(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach(t=>{g(e,e.get(t),n)})}))}function A(e,t,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;const s=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&s.push(e)}),s.forEach(t=>{e.forEach(n=>{n.type===i&&n.trackId===t.id&&g(e,n,r)})}),r}const m=u;function v(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const n=h(e),i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const i="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];let e={};"number"==typeof i.ideal?(e[r("min",n)]=i.ideal,t.optional.push(e),e={},e[r("max",n)]=i.ideal,t.optional.push(e)):(e[r("",n)]=i.ideal,t.optional.push(e))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach(e=>{void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(n.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});const a=n.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||a)){let n;if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?n=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(n=["front"]),n)return t.mediaDevices.enumerateDevices().then(t=>{let a=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>n.some(t=>e.label.toLowerCase().includes(t)));return!a&&t.length&&n.includes("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=s.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=i(e.video),m("chrome: "+JSON.stringify(e)),r(e)})}e.video=i(e.video)}return m("chrome: "+JSON.stringify(e)),r(e)},s=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,i){r(e,e=>{t.webkitGetUserMedia(e,n,e=>{i&&i(s(e))})})}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(s(e))))}}}function y(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function E(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this.k},set(e){this.k&&this.removeEventListener("track",this.k),this.addEventListener("track",this.k=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this.q||(this.q=t=>{t.stream.addEventListener("addtrack",n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const r=new Event("track");r.track=n.track,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const r=new Event("track");r.track=n,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this.q)),t.apply(this,arguments)}}else o(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function S(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._t&&("audio"===t.kind?this._t=e.createDTMFSender(t):this._t=null),this._t},_i:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this.qi=this.qi||[],this.qi.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){let r=n.apply(this,arguments);return r||(r=t(this,e),this.qi.push(r)),r};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);const t=this.qi.indexOf(e);-1!==t&&this.qi.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this.qi=this.qi||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this.qi.push(t(this,e))})};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this.qi=this.qi||[],i.apply(this,[e]),e.getTracks().forEach(e=>{const t=this.qi.find(t=>t.track===e);t&&this.qi.splice(this.qi.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._i=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._t&&("audio"===this.track.kind?this._t=this._i.createDTMFSender(this.track):this._t=null),this._t}})}}function b(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,i]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const i=function(e){n(s(r(e)))};return t.apply(this,[i,e])}return new Promise((e,n)=>{t.apply(this,[function(t){e(s(r(t)))},n])}).then(n,i)}}function x(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._i=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._i=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._i.getStats().then(t=>A(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._i=this),e}),o(e,"track",e=>(e.receiver._i=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._i.getStats().then(t=>A(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,i;return this.getSenders().forEach(n=>{n.track===e&&(t?i=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?i=!0:n=t),t.track===e)),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function w(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this.ie=this.ie||{},Object.keys(this.ie).map(e=>this.ie[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this.ie=this.ie||{};const i=t.apply(this,arguments);return this.ie[n.id]?-1===this.ie[n.id].indexOf(i)&&this.ie[n.id].push(i):this.ie[n.id]=[n,i],i};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this.ie=this.ie||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const i=this.getSenders().filter(e=>-1===t.indexOf(e));this.ie[e.id]=[e].concat(i)};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this.ie=this.ie||{},delete this.ie[e.id],i.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this.ie=this.ie||{},e&&Object.keys(this.ie).forEach(t=>{const n=this.ie[t].indexOf(e);-1!==n&&this.ie[t].splice(n,1),1===this.ie[t].length&&delete this.ie[t]}),r.apply(this,arguments)}}function I(e){if(!e.RTCPeerConnection)return;const t=h(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return w(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._e=this._e||{},e.map(e=>this._e[e.id])};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._s=this._s||{},this._e=this._e||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._e[t.id]){const n=new e.MediaStream(t.getTracks());this._s[t.id]=n,this._e[n.id]=t,t=n}i.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function s(e,t){let n=t.sdp;return Object.keys(e._e||[]).forEach(t=>{const i=e._e[t],r=e._s[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._s=this._s||{},this._e=this._e||{},r.apply(this,[this._s[e.id]||e]),delete this._e[this._s[e.id]?this._s[e.id].id:e.id],delete this._s[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._s=this._s||{},this._e=this._e||{};const r=this._s[n.id];if(r)r.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const i=new e.MediaStream([t]);this._s[n.id]=i,this._e[i.id]=n,this.addStream(i)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=s(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>s(this,e))}};e.RTCPeerConnection.prototype[t]=i[t]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._e||[]).forEach(t=>{const i=e._e[t],r=e._s[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._i)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._i!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._s=this._s||{},Object.keys(this._s).forEach(n=>{this._s[n].getTracks().find(t=>e.track===t)&&(t=this._s[n])}),t&&(1===t.getTracks().length?this.removeStream(this._e[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function C(e){const t=h(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;const n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]});const i=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function T(e){const t=h(e);o(e,"negotiationneeded",e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}const M=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:T,shimAddTrackRemoveTrack:I,shimAddTrackRemoveTrackWithNative:w,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&"function"==typeof t&&(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{const i=n.video&&n.video.width,r=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:s||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)})})},shimGetSendersWithDtmf:S,shimGetStats:b,shimGetUserMedia:v,shimMediaStream:y,shimOnTrack:E,shimPeerConnection:C,shimSenderReceiverGetStats:x},Symbol.toStringTag,{value:"Module"}));function B(e){return e&&e.t&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R,P,_,D={exports:{}};function N(){return R||(R=1,e=D,(t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}}).localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},t.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(function(e){return 0===e.indexOf(n)})},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)n[(t=i[r].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)}),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],r=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substr(12),password:r.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" "),r=3;r<i.length;r++){var s=i[r],a=t.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(a){var o=t.parseRtpMap(a),l=t.matchPrefix(e,"a=fmtp:"+s+" ");switch(o.parameters=l.length?t.parseFmtp(l[0]):{},o.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(t.parseRtcpFb),n.codecs.push(o),o.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(o.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach(function(e){n.headerExtensions.push(t.parseExtmap(e))}),n},t.writeRtpDescription=function(e,n){var i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(function(e){i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)});var r=0;return n.codecs.forEach(function(e){e.maxptime>r&&(r=e.maxptime)}),r>0&&(i+="a=maxptime:"+r+"\r\n"),i+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach(function(e){i+=t.writeExtmap(e)}),i},t.parseRtpEncodingParameters=function(e){var n,i=[],r=t.parseRtpParameters(e),s=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),l=o.length>0&&o[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});c.length>0&&c[0].length>1&&c[0][0]===l&&(n=c[0][1]),r.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&n&&(t.rtx={ssrc:n}),i.push(t),s&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},i.push(t))}}),0===i.length&&l&&i.push({ssrc:l});var u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,i.forEach(function(e){e.maxBitrate=u})),i},t.parseRtcpParameters=function(e){var n={},i=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);var r=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;var s=t.matchPrefix(e,"a=rtcp-mux");return n.mux=s.length>0,n},t.parseMsid=function(e){var n,i=t.matchPrefix(e,"a=msid:");if(1===i.length)return{stream:(n=i[0].substr(7).split(" "))[0],track:n[1]};var r=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return r.length>0?{stream:(n=r[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,i=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");r.length>0&&(n=parseInt(r[0].substr(19),10)),isNaN(n)&&(n=65536);var s=t.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:i.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,i){var r=void 0!==n?n:2;return"v=0\r\no="+(i||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,i,r){var s=t.writeRtpDescription(e.kind,n);if(s+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===i?"actpass":"active"),s+="a=mid:"+e.mid+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";s+="a="+a,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),s},t.getDirection=function(e,n){for(var i=t.splitLines(e),r=0;r<i.length;r++)switch(i[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[r].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),i=0;i<n.length;i++)if(n[i].length<2||"="!==n[i].charAt(1))return!1;return!0},e.exports=t),D.exports;var e,t}var L=function(){if(_)return P;_=1;var e=N();function t(t,n,i,r,s){var a=e.writeRtpDescription(t.kind,n);if(a+=e.writeIceParameters(t.iceGatherer.getLocalParameters()),a+=e.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===i?"actpass":s||"active"),a+="a=mid:"+t.mid+"\r\n",t.rtpSender&&t.rtpReceiver?a+="a=sendrecv\r\n":t.rtpSender?a+="a=sendonly\r\n":t.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",t.rtpSender){var o=t.rtpSender._n||t.rtpSender.track.id;t.rtpSender._n=o;var l="msid:"+(r?r.id:"-")+" "+o+"\r\n";a+="a="+l,a+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+l,t.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+l,a+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+e.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+e.localCName+"\r\n"),a}function n(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var s=i(e.parameters.apt,n),a=i(t.parameters.apt,r);return s&&a&&s.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(i){for(var s=0;s<t.codecs.length;s++){var a=t.codecs[s];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&a.parameters.apt&&!r(i,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}}),n}function i(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function r(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function s(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}return P=function(a,o){function l(e,t){t.addTrack(e),t.dispatchEvent(new a.MediaStreamTrackEvent("addtrack",{track:e}))}function c(e,t,n,i){var r=new Event("track");r.track=t,r.receiver=n,r.transceiver={receiver:n},r.streams=i,a.setTimeout(function(){e._r("track",r)})}var u=function(t){var n,i,r,l=this,c=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){l[e]=c[e].bind(c)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._o=null,this._h=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw s("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=(n=t.iceServers||[],i=o,r=!1,(n=JSON.parse(JSON.stringify(n))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&e.urls;var n="string"==typeof t;return n&&(t=[t]),t=t.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&i>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)}),delete e.url,e.urls=n?t[0]:t,!!t.length}})),this._a=[],t.iceCandidatePoolSize)for(var u=t.iceCandidatePoolSize;u>0;u--)this._a.push(new a.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._c=t,this.transceivers=[],this._u=e.generateSessionId(),this._l=0,this._d=void 0,this._f=!1};Object.defineProperty(u.prototype,"localDescription",{configurable:!0,get:function(){return this._o}}),Object.defineProperty(u.prototype,"remoteDescription",{configurable:!0,get:function(){return this._h}}),u.prototype.onicecandidate=null,u.prototype.onaddstream=null,u.prototype.ontrack=null,u.prototype.onremovestream=null,u.prototype.onsignalingstatechange=null,u.prototype.oniceconnectionstatechange=null,u.prototype.onconnectionstatechange=null,u.prototype.onicegatheringstatechange=null,u.prototype.onnegotiationneeded=null,u.prototype.ondatachannel=null,u.prototype._r=function(e,t){this._f||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},u.prototype.iv=function(){var e=new Event("icegatheringstatechange");this._r("icegatheringstatechange",e)},u.prototype.getConfiguration=function(){return this._c},u.prototype.getLocalStreams=function(){return this.localStreams},u.prototype.getRemoteStreams=function(){return this.remoteStreams},u.prototype._v=function(e,t){var n=this.transceivers.length>0,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._A();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(i),i},u.prototype.addTrack=function(e,t){if(this._f)throw s("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(t){return t.track===e}))throw s("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==e.kind||(n=this.transceivers[i]);return n||(n=this._v(e.kind)),this.rp(),-1===this.localStreams.indexOf(t)&&this.localStreams.push(t),n.track=e,n.stream=t,n.rtpSender=new a.RTCRtpSender(e,n.dtlsTransport),n.rtpSender},u.prototype.addStream=function(e){var t=this;if(o>=15025)e.getTracks().forEach(function(n){t.addTrack(n,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var i=n.getTracks()[t];e.addEventListener("enabled",function(e){i.enabled=e.enabled})}),n.getTracks().forEach(function(e){t.addTrack(e,n)})}},u.prototype.removeTrack=function(e){if(this._f)throw s("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof a.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var t=this.transceivers.find(function(t){return t.rtpSender===e});if(!t)throw s("InvalidAccessError","Sender was not created by this connection.");var n=t.stream;t.rtpSender.stop(),t.rtpSender=null,t.track=null,t.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this.rp()},u.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){return t.track===e});n&&t.removeTrack(n)})},u.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},u.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},u.prototype.dp=function(e,t){var n=this;if(t&&e>0)return this.transceivers[0].iceGatherer;if(this._a.length)return this._a.shift();var i=new a.RTCIceGatherer({iceServers:this._c.iceServers,gatherPolicy:this._c.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var r=!t.candidate||0===Object.keys(t.candidate).length;i.state=r?"completed":"gathering",null!==n.transceivers[e].bufferedCandidateEvents&&n.transceivers[e].bufferedCandidateEvents.push(t)},i.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),i},u.prototype._p=function(t,n){var i=this,r=this.transceivers[n].iceGatherer;if(!r.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,r.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),r.onlocalcandidate=function(s){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var o=s.candidate,l=!o||0===Object.keys(o).length;if(l)"new"!==r.state&&"gathering"!==r.state||(r.state="completed");else{"new"===r.state&&(r.state="gathering"),o.component=1,o.ufrag=r.getLocalParameters().usernameFragment;var c=e.writeCandidate(o);a.candidate=Object.assign(a.candidate,e.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var u=e.getMediaSections(i._o.sdp);u[a.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._o.sdp=e.getDescription(i._o.sdp)+u.join("");var d=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i.iv()),l||i._r("icecandidate",a),d&&(i._r("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i.iv())}},a.setTimeout(function(){s.forEach(function(e){r.onlocalcandidate(e)})},0)}},u.prototype._A=function(){var e=this,t=new a.RTCIceTransport(null);t.onicestatechange=function(){e._m(),e._b()};var n=new a.RTCDtlsTransport(t);return n.ondtlsstatechange=function(){e._b()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),e._b()},{iceTransport:t,dtlsTransport:n}},u.prototype._g=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},u.prototype._w=function(t,i,r){var s=n(t.localCapabilities,t.remoteCapabilities);i&&t.rtpSender&&(s.encodings=t.sendEncodingParameters,s.rtcp={cname:e.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(s.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(s)),r&&t.rtpReceiver&&s.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&o<15019&&t.recvEncodingParameters.forEach(function(e){delete e.rtx}),t.recvEncodingParameters.length?s.encodings=t.recvEncodingParameters:s.encodings=[{}],s.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(s.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(s.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(s))},u.prototype.setLocalDescription=function(t){var r,a,o=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(s("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setLocalDescription",t.type,o.signalingState)||o._f)return Promise.reject(s("InvalidStateError","Can not set local "+t.type+" in state "+o.signalingState));if("offer"===t.type)r=e.splitSections(t.sdp),a=r.shift(),r.forEach(function(t,n){var i=e.parseRtpParameters(t);o.transceivers[n].localCapabilities=i}),o.transceivers.forEach(function(e,t){o._p(e.mid,t)});else if("answer"===t.type){r=e.splitSections(o._h.sdp),a=r.shift();var l=e.matchPrefix(a,"a=ice-lite").length>0;r.forEach(function(t,i){var r=o.transceivers[i],s=r.iceGatherer,c=r.iceTransport,u=r.dtlsTransport,d=r.localCapabilities,h=r.remoteCapabilities;if(!(e.isRejected(t)&&0===e.matchPrefix(t,"a=bundle-only").length||r.rejected)){var p=e.getIceParameters(t,a),f=e.getDtlsParameters(t,a);l&&(f.role="server"),o.usingBundle&&0!==i||(o._p(r.mid,i),"new"===c.state&&c.start(s,p,l?"controlling":"controlled"),"new"===u.state&&u.start(f));var g=n(d,h);o._w(r,g.codecs.length>0,!1)}})}return o._o={type:t.type,sdp:t.sdp},"offer"===t.type?o._S("have-local-offer"):o._S("stable"),Promise.resolve()},u.prototype.setRemoteDescription=function(t){var u=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(s("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setRemoteDescription",t.type,u.signalingState)||u._f)return Promise.reject(s("InvalidStateError","Can not set remote "+t.type+" in state "+u.signalingState));var d={};u.remoteStreams.forEach(function(e){d[e.id]=e});var h=[],p=e.splitSections(t.sdp),f=p.shift(),g=e.matchPrefix(f,"a=ice-lite").length>0,A=e.matchPrefix(f,"a=group:BUNDLE ").length>0;u.usingBundle=A;var m=e.matchPrefix(f,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!m&&m.substr(14).split(" ").indexOf("trickle")>=0,p.forEach(function(i,s){var c=e.splitLines(i),p=e.getKind(i),m=e.isRejected(i)&&0===e.matchPrefix(i,"a=bundle-only").length,v=c[0].substr(2).split(" ")[2],y=e.getDirection(i,f),E=e.parseMsid(i),S=e.getMid(i)||e.generateIdentifier();if(m||"application"===p&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))u.transceivers[s]={mid:S,kind:p,protocol:v,rejected:!0};else{var b,x,w,I,C,T,M,B,R;!m&&u.transceivers[s]&&u.transceivers[s].rejected&&(u.transceivers[s]=u._v(p,!0));var P,_,D=e.parseRtpParameters(i);m||(P=e.getIceParameters(i,f),(_=e.getDtlsParameters(i,f)).role="client"),M=e.parseRtpEncodingParameters(i);var N=e.parseRtcpParameters(i),L=e.matchPrefix(i,"a=end-of-candidates",f).length>0,O=e.matchPrefix(i,"a=candidate:").map(function(t){return e.parseCandidate(t)}).filter(function(e){return 1===e.component});if(("offer"===t.type||"answer"===t.type)&&!m&&A&&s>0&&u.transceivers[s]&&(u._g(s),u.transceivers[s].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[s].iceTransport=u.transceivers[0].iceTransport,u.transceivers[s].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[s].rtpSender&&u.transceivers[s].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[s].rtpReceiver&&u.transceivers[s].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),"offer"!==t.type||m)"answer"!==t.type||m||(x=(b=u.transceivers[s]).iceGatherer,w=b.iceTransport,I=b.dtlsTransport,C=b.rtpReceiver,T=b.sendEncodingParameters,B=b.localCapabilities,u.transceivers[s].recvEncodingParameters=M,u.transceivers[s].remoteCapabilities=D,u.transceivers[s].rtcpParameters=N,O.length&&"new"===w.state&&(!g&&!L||A&&0!==s?O.forEach(function(e){r(b.iceTransport,e)}):w.setRemoteCandidates(O)),A&&0!==s||("new"===w.state&&w.start(x,P,"controlling"),"new"===I.state&&I.start(_)),!n(b.localCapabilities,b.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,u._w(b,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!C||"sendrecv"!==y&&"sendonly"!==y?delete b.rtpReceiver:(R=C.track,E?(d[E.stream]||(d[E.stream]=new a.MediaStream),l(R,d[E.stream]),h.push([R,C,d[E.stream]])):(d.default||(d.default=new a.MediaStream),l(R,d.default),h.push([R,C,d.default]))));else{(b=u.transceivers[s]||u._v(p)).mid=S,b.iceGatherer||(b.iceGatherer=u.dp(s,A)),O.length&&"new"===b.iceTransport.state&&(!L||A&&0!==s?O.forEach(function(e){r(b.iceTransport,e)}):b.iceTransport.setRemoteCandidates(O)),B=a.RTCRtpReceiver.getCapabilities(p),o<15019&&(B.codecs=B.codecs.filter(function(e){return"rtx"!==e.name})),T=b.sendEncodingParameters||[{ssrc:1001*(2*s+2)}];var k,U=!1;"sendrecv"===y||"sendonly"===y?(U=!b.rtpReceiver,C=b.rtpReceiver||new a.RTCRtpReceiver(b.dtlsTransport,p),U&&(R=C.track,E&&"-"===E.stream||(E?(d[E.stream]||(d[E.stream]=new a.MediaStream,Object.defineProperty(d[E.stream],"id",{get:function(){return E.stream}})),Object.defineProperty(R,"id",{get:function(){return E.track}}),k=d[E.stream]):(d.default||(d.default=new a.MediaStream),k=d.default)),k&&(l(R,k),b.associatedRemoteMediaStreams.push(k)),h.push([R,C,k]))):b.rtpReceiver&&b.rtpReceiver.track&&(b.associatedRemoteMediaStreams.forEach(function(e){var t,n,i=e.getTracks().find(function(e){return e.id===b.rtpReceiver.track.id});i&&(t=i,(n=e).removeTrack(t),n.dispatchEvent(new a.MediaStreamTrackEvent("removetrack",{track:t})))}),b.associatedRemoteMediaStreams=[]),b.localCapabilities=B,b.remoteCapabilities=D,b.rtpReceiver=C,b.rtcpParameters=N,b.sendEncodingParameters=T,b.recvEncodingParameters=M,u._w(u.transceivers[s],!1,U)}}}),void 0===u._d&&(u._d="offer"===t.type?"active":"passive"),u._h={type:t.type,sdp:t.sdp},"offer"===t.type?u._S("have-remote-offer"):u._S("stable"),Object.keys(d).forEach(function(e){var t=d[e];if(t.getTracks().length){if(-1===u.remoteStreams.indexOf(t)){u.remoteStreams.push(t);var n=new Event("addstream");n.stream=t,a.setTimeout(function(){u._r("addstream",n)})}h.forEach(function(e){var n=e[0],i=e[1];t.id===e[2].id&&c(u,n,i,[t])})}}),h.forEach(function(e){e[2]||c(u,e[0],e[1],[])}),a.setTimeout(function(){u&&u.transceivers&&u.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&e.iceTransport.addRemoteCandidate({})})},4e3),Promise.resolve()},u.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._f=!0,this._S("closed")},u.prototype._S=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._r("signalingstatechange",t)},u.prototype.rp=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,a.setTimeout(function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._r("negotiationneeded",t)}},0))},u.prototype._m=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._r("iceconnectionstatechange",n)}},u.prototype._b=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._r("connectionstatechange",n)}},u.prototype.createOffer=function(){var n=this;if(n._f)return Promise.reject(s("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter(function(e){return"audio"===e.kind}).length,r=n.transceivers.filter(function(e){return"video"===e.kind}).length,l=arguments[0];if(l){if(l.mandatory||l.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==l.offerToReceiveAudio&&(i=!0===l.offerToReceiveAudio?1:!1===l.offerToReceiveAudio?0:l.offerToReceiveAudio),void 0!==l.offerToReceiveVideo&&(r=!0===l.offerToReceiveVideo?1:!1===l.offerToReceiveVideo?0:l.offerToReceiveVideo)}for(n.transceivers.forEach(function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--r<0&&(e.wantReceive=!1)});i>0||r>0;)i>0&&(n._v("audio"),i--),r>0&&(n._v("video"),r--);var c=e.writeSessionBoilerplate(n._u,n._l++);n.transceivers.forEach(function(t,i){var r=t.track,s=t.kind,l=t.mid||e.generateIdentifier();t.mid=l,t.iceGatherer||(t.iceGatherer=n.dp(i,n.usingBundle));var c=a.RTCRtpSender.getCapabilities(s);o<15019&&(c.codecs=c.codecs.filter(function(e){return"rtx"!==e.name})),c.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),t.remoteCapabilities&&t.remoteCapabilities.codecs&&t.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),c.headerExtensions.forEach(function(e){(t.remoteCapabilities&&t.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var u=t.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];r&&o>=15019&&"video"===s&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),t.wantReceive&&(t.rtpReceiver=new a.RTCRtpReceiver(t.dtlsTransport,s)),t.localCapabilities=c,t.sendEncodingParameters=u}),"max-compat"!==n._c.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(i,r){c+=t(i,i.localCapabilities,"offer",i.stream,n._d),c+="a=rtcp-rsize\r\n",!i.iceGatherer||"new"===n.iceGatheringState||0!==r&&n.usingBundle||(i.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,c+="a="+e.writeCandidate(t)+"\r\n"}),"completed"===i.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))});var u=new a.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(u)},u.prototype.createAnswer=function(){var i=this;if(i._f)return Promise.reject(s("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==i.signalingState&&"have-local-pranswer"!==i.signalingState)return Promise.reject(s("InvalidStateError","Can not call createAnswer in signalingState "+i.signalingState));var r=e.writeSessionBoilerplate(i._u,i._l++);i.usingBundle&&(r+="a=group:BUNDLE "+i.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var l=e.getMediaSections(i._h.sdp).length;i.transceivers.forEach(function(e,s){if(!(s+1>l)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&o>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=n(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=t(e,c,"answer",e.stream,i._d),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}});var c=new a.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(c)},u.prototype.addIceCandidate=function(t){var n,i=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(a,o){if(!i._h)return o(s("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var l=t.sdpMLineIndex;if(t.sdpMid)for(var c=0;c<i.transceivers.length;c++)if(i.transceivers[c].mid===t.sdpMid){l=c;break}var u=i.transceivers[l];if(!u)return o(s("OperationError","Can not add ICE candidate"));if(u.rejected)return a();var d=Object.keys(t.candidate).length>0?e.parseCandidate(t.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return a();if(d.component&&1!==d.component)return a();if((0===l||l>0&&u.iceTransport!==i.transceivers[0].iceTransport)&&!r(u.iceTransport,d))return o(s("OperationError","Can not add ICE candidate"));var h=t.candidate.trim();0===h.indexOf("a=")&&(h=h.substr(2)),(n=e.getMediaSections(i._h.sdp))[l]+="a="+(d.type?h:"end-of-candidates")+"\r\n",i._h.sdp=e.getDescription(i._h.sdp)+n.join("")}else for(var p=0;p<i.transceivers.length&&(i.transceivers[p].rejected||(i.transceivers[p].iceTransport.addRemoteCandidate({}),(n=e.getMediaSections(i._h.sdp))[p]+="a=end-of-candidates\r\n",i._h.sdp=e.getDescription(i._h.sdp)+n.join(""),!i.usingBundle));p++);a()})},u.prototype.getStats=function(e){if(e&&e instanceof a.MediaStreamTrack){var t=null;if(this.transceivers.forEach(function(n){n.rtpSender&&n.rtpSender.track===e?t=n.rtpSender:n.rtpReceiver&&n.rtpReceiver.track===e&&(t=n.rtpReceiver)}),!t)throw s("InvalidAccessError","Invalid selector.");return t.getStats()}var n=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&n.push(e[t].getStats())})}),Promise.all(n).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(e){var t=a[e];if(t&&t.prototype&&t.prototype.getStats){var n=t.prototype.getStats;t.prototype.getStats=function(){return n.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(n){var i;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(i=e[n]).type]||i.type,t.set(n,e[n])}),t})}}});var d=["createOffer","createAnswer"];return d.forEach(function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),u},P}();const O=B(L);function k(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>{return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(t=e).name]||t.name,message:t.message,constraint:t.constraint,toString(){return this.name}});var t})}}function U(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function F(e){const t=h(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._t&&("audio"===this.track.kind?this._t=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._t=null)),this._t}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=O(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e){let t=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&e.urls;const i="string"==typeof n;return i&&(n=[n]),n=n.filter(e=>{if(0===e.indexOf("stun:"))return!1;const n=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return n&&!t?(t=!0,!0):n&&!t}),delete e.url,e.urls=i?n[0]:n,!!n.length}})}(e.iceServers,t.version),u(e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function Q(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const V=Object.freeze(Object.defineProperty({__proto__:null,shimGetDisplayMedia:U,shimGetUserMedia:k,shimPeerConnection:F,shimReplaceTrack:Q},Symbol.toStringTag,{value:"Module"}));function H(e){const t=h(e),n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},i&&i.prototype.getSettings){const t=i.prototype.getSettings;i.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function G(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function z(e){const t=h(e);if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]}),t.version<68){const t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,s]=arguments;return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,i)=>{e.set(i,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(r,s)}}function W(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._i=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._i=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._i.getStats(this.track):Promise.resolve(new Map)}}function X(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._i=this),e}),o(e,"track",e=>(e.receiver._i=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._i.getStats(this.track)}}function j(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function q(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Y(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(n){const{sender:t}=i,n=t.getParameters();"encodings"in n||(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return i})}function J(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"sendEncodings"in this?Object.assign({},{encodings:this.sendEncodings},e):e})}function Z(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function K(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const $=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Y,shimCreateAnswer:K,shimCreateOffer:Z,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:J,shimGetUserMedia:H,shimOnTrack:G,shimPeerConnection:z,shimRTCDataChannel:q,shimReceiverGetStats:X,shimRemoveStream:j,shimSenderGetStats:W},Symbol.toStringTag,{value:"Module"}));function ee(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._E||(this._E=[]),this._E}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._E||(this._E=[]),this._E.includes(e)||this._E.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach(e=>{this._E?this._E.includes(e)||this._E.push(e):this._E=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._E||(this._E=[]);const t=this._E.indexOf(e);if(-1===t)return;this._E.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function te(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._T?this._T:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._N},set(e){this._N&&(this.removeEventListener("addstream",this._N),this.removeEventListener("track",this._I)),this.addEventListener("addstream",this._N=e),this.addEventListener("track",this._I=e=>{e.streams.forEach(e=>{if(this._T||(this._T=[]),this._T.includes(e))return;this._T.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._I||this.addEventListener("track",this._I=function(t){t.streams.forEach(t=>{if(e._T||(e._T=[]),e._T.indexOf(t)>=0)return;e._T.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function ne(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const i=arguments.length>=2?arguments[2]:e,r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:e,r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};let o=function(e,t,n){const i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=o,o=function(e,t,n){const i=s.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=o,o=function(e,t,n){const i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=o}function ie(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(re(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function re(e){return e&&void 0!==e.video?Object.assign({},e,{video:f(e.video)}):e}function se(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let i=e.iceServers[n];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(d(),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function ae(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function oe(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function le(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const ce=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:le,shimCallbacksAPI:ne,shimConstraints:re,shimCreateOfferLegacy:oe,shimGetUserMedia:ie,shimLocalStreamsAPI:ee,shimRTCIceServerUrls:se,shimRemoteStreamsAPI:te,shimTrackEventTransceiver:ae},Symbol.toStringTag,{value:"Module"})),ue=B(N());function de(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),i=ue.parseCandidate(e.candidate),r=Object.assign(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,o(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function he(e){if(!e.RTCPeerConnection)return;const t=h(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._y?null:this._y}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._y=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._y?null:this._y},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=ue.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=ue.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),i=function(e,n){let i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);const r=ue.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i}(arguments[0],e);let r;r=0===n&&0===i?Number.POSITIVE_INFINITY:0===n||0===i?Math.max(n,i):Math.min(n,i);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>r}),this._y=s}return n.apply(this,arguments)}}function pe(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},o(e,"datachannel",e=>(t(e.channel,e.target),e))}function fe(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this.t_||null},set(e){this.t_&&(this.removeEventListener("connectionstatechange",this.t_),delete this.t_),e&&this.addEventListener("connectionstatechange",this.t_=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this.i_||(this.i_=e=>{const t=e.target;if(t.e_!==t.connectionState){t.e_=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this.i_)),n.apply(this,arguments)}})}function ge(e){if(!e.RTCPeerConnection)return;const t=h(e);if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),n.apply(this,arguments)}}const Ae=Object.freeze(Object.defineProperty({__proto__:null,removeAllowExtmapMixed:ge,shimConnectionState:fe,shimMaxMessageSize:he,shimRTCIceCandidate:de,shimSendThrowTypeError:pe},Symbol.toStringTag,{value:"Module"}));var me;!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=u,i=h(e),r={browserDetails:i,commonShim:Ae,extractVersion:a,disableLog:l,disableWarnings:c};switch(i.browser){case"chrome":if(!M||!C||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(null===i.version)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=M,v(e),y(e),C(e),E(e),I(e),S(e),b(e),x(e),T(e),de(e),fe(e),he(e),pe(e),ge(e);break;case"firefox":if(!$||!z||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=$,H(e),z(e),G(e),j(e),W(e),X(e),q(e),Y(e),J(e),Z(e),K(e),de(e),fe(e),he(e),pe(e);break;case"edge":if(!V||!F||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),r;n("adapter.js shimming edge."),r.browserShim=V,k(e),U(e),F(e),Q(e),he(e),pe(e);break;case"safari":if(!ce||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=ce,se(e),oe(e),ne(e),ee(e),te(e),ae(e),ie(e),le(e),de(e),he(e),pe(e),ge(e);break;default:n("Unsupported browser!")}}({window}),t.RErrorCode=void 0,(me=t.RErrorCode||(t.RErrorCode={}))[me.Success=15859712]="Success",me[me.AuthProviderError=3237085185]="AuthProviderError",me[me.InvalidOperation=3237085186]="InvalidOperation",me[me.NoNetwork=3237089281]="NoNetwork",me[me.NetworkError=3237089282]="NetworkError",me[me.GetActiveSessionServerError=3237089283]="GetActiveSessionServerError",me[me.ExceptionHappened=3237089284]="ExceptionHappened",me[me.AuthTokenNotUpdated=3237093377]="AuthTokenNotUpdated",me[me.SessionFinishedState=3237093378]="SessionFinishedState",me[me.ResponseParseFailure=3237093379]="ResponseParseFailure",me[me.GridAppNotInitialized=3237093380]="GridAppNotInitialized",me[me.InvalidServerResponse=3237093381]="InvalidServerResponse",me[me.PutOrPostInProgress=3237093382]="PutOrPostInProgress",me[me.GridServerNotInitialized=3237093383]="GridServerNotInitialized",me[me.DOMExceptionInGridServer=3237093384]="DOMExceptionInGridServer",me[me.InvalidAdStateTransition=3237093386]="InvalidAdStateTransition",me[me.SessionServerErrorBegin=3237093632]="SessionServerErrorBegin",me[me.RequestForbidden=3237093634]="RequestForbidden",me[me.ServerInternalTimeout=3237093635]="ServerInternalTimeout",me[me.ServerInternalError=3237093636]="ServerInternalError",me[me.ServerInvalidRequest=3237093637]="ServerInvalidRequest",me[me.ServerInvalidRequestVersion=3237093638]="ServerInvalidRequestVersion",me[me.SessionListLimitExceeded=3237093639]="SessionListLimitExceeded",me[me.InvalidRequestDataMalformed=3237093640]="InvalidRequestDataMalformed",me[me.InvalidRequestDataMissing=3237093641]="InvalidRequestDataMissing",me[me.RequestLimitExceeded=3237093642]="RequestLimitExceeded",me[me.SessionLimitExceeded=3237093643]="SessionLimitExceeded",me[me.InvalidRequestVersionOutOfDate=3237093644]="InvalidRequestVersionOutOfDate",me[me.SessionEntitledTimeExceeded=3237093645]="SessionEntitledTimeExceeded",me[me.AuthFailure=3237093646]="AuthFailure",me[me.InvalidAuthenticationMalformed=3237093647]="InvalidAuthenticationMalformed",me[me.InvalidAuthenticationExpired=3237093648]="InvalidAuthenticationExpired",me[me.InvalidAuthenticationNotFound=3237093649]="InvalidAuthenticationNotFound",me[me.EntitlementFailure=3237093650]="EntitlementFailure",me[me.InvalidAppIdNotAvailable=3237093651]="InvalidAppIdNotAvailable",me[me.InvalidAppIdNotFound=3237093652]="InvalidAppIdNotFound",me[me.InvalidSessionIdMalformed=3237093653]="InvalidSessionIdMalformed",me[me.InvalidSessionIdNotFound=3237093654]="InvalidSessionIdNotFound",me[me.EulaUnAccepted=3237093655]="EulaUnAccepted",me[me.MaintenanceStatus=3237093656]="MaintenanceStatus",me[me.ServiceUnAvailable=3237093657]="ServiceUnAvailable",me[me.SteamGuardRequired=3237093658]="SteamGuardRequired",me[me.SteamLoginRequired=3237093659]="SteamLoginRequired",me[me.SteamGuardInvalid=3237093660]="SteamGuardInvalid",me[me.SteamProfilePrivate=3237093661]="SteamProfilePrivate",me[me.InvalidCountryCode=3237093662]="InvalidCountryCode",me[me.InvalidLanguageCode=3237093663]="InvalidLanguageCode",me[me.MissingCountryCode=3237093664]="MissingCountryCode",me[me.MissingLanguageCode=3237093665]="MissingLanguageCode",me[me.SessionNotPaused=3237093666]="SessionNotPaused",me[me.EmailNotVerified=3237093667]="EmailNotVerified",me[me.InvalidAuthenticationUnsupportedProtocol=3237093668]="InvalidAuthenticationUnsupportedProtocol",me[me.InvalidAuthenticationUnknownToken=3237093669]="InvalidAuthenticationUnknownToken",me[me.InvalidAuthenticationCredentials=3237093670]="InvalidAuthenticationCredentials",me[me.SessionNotPlaying=3237093671]="SessionNotPlaying",me[me.InvalidServiceResponse=3237093672]="InvalidServiceResponse",me[me.AppPatching=3237093673]="AppPatching",me[me.GameNotFound=3237093674]="GameNotFound",me[me.NotEnoughCredits=3237093675]="NotEnoughCredits",me[me.InvitationOnlyRegistration=3237093676]="InvitationOnlyRegistration",me[me.RegionNotSupportedForRegistration=3237093677]="RegionNotSupportedForRegistration",me[me.SessionTerminatedByAnotherClient=3237093678]="SessionTerminatedByAnotherClient",me[me.DeviceIdAlreadyUsed=3237093679]="DeviceIdAlreadyUsed",me[me.ServiceNotExist=3237093680]="ServiceNotExist",me[me.SessionExpired=3237093681]="SessionExpired",me[me.SessionLimitPerDeviceReached=3237093682]="SessionLimitPerDeviceReached",me[me.ForwardingZoneOutOfCapacity=3237093683]="ForwardingZoneOutOfCapacity",me[me.RegionNotSupportedIndefinitely=3237093684]="RegionNotSupportedIndefinitely",me[me.RegionBanned=3237093685]="RegionBanned",me[me.RegionOnHoldForFree=3237093686]="RegionOnHoldForFree",me[me.RegionOnHoldForPaid=3237093687]="RegionOnHoldForPaid",me[me.AppMaintenanceStatus=3237093688]="AppMaintenanceStatus",me[me.ResourcePoolNotConfigured=3237093689]="ResourcePoolNotConfigured",me[me.InsufficientVmCapacity=3237093690]="InsufficientVmCapacity",me[me.InsufficientRouteCapacity=3237093691]="InsufficientRouteCapacity",me[me.InsufficientScratchSpaceCapacity=3237093692]="InsufficientScratchSpaceCapacity",me[me.RequiredSeatInstanceTypeNotSupported=3237093693]="RequiredSeatInstanceTypeNotSupported",me[me.ServerSessionQueueLengthExceeded=3237093694]="ServerSessionQueueLengthExceeded",me[me.RegionNotSupportedForStreaming=3237093695]="RegionNotSupportedForStreaming",me[me.SessionForwardRequestAllocationTimeExpired=3237093696]="SessionForwardRequestAllocationTimeExpired",me[me.SessionForwardGameBinariesNotAvailable=3237093697]="SessionForwardGameBinariesNotAvailable",me[me.GameBinariesNotAvailableInRegion=3237093698]="GameBinariesNotAvailableInRegion",me[me.UekRetrievalFailed=3237093699]="UekRetrievalFailed",me[me.EntitlementFailureForResource=3237093700]="EntitlementFailureForResource",me[me.SessionInQueueAbandoned=3237093701]="SessionInQueueAbandoned",me[me.MemberTerminated=3237093702]="MemberTerminated",me[me.SessionRemovedFromQueueMaintenance=3237093703]="SessionRemovedFromQueueMaintenance",me[me.ZoneMaintenanceStatus=3237093704]="ZoneMaintenanceStatus",me[me.GuestModeCampaignDisabled=3237093705]="GuestModeCampaignDisabled",me[me.RegionNotSupportedAnonymousAccess=3237093706]="RegionNotSupportedAnonymousAccess",me[me.InstanceTypeNotSupportedInSingleRegion=3237093707]="InstanceTypeNotSupportedInSingleRegion",me[me.InvalidZoneForQueuedSession=3237093710]="InvalidZoneForQueuedSession",me[me.SessionWaitingAdsTimeExpired=3237093711]="SessionWaitingAdsTimeExpired",me[me.UserCancelledWatchingAds=3237093712]="UserCancelledWatchingAds",me[me.StreamingNotAllowedInLimitedMode=3237093713]="StreamingNotAllowedInLimitedMode",me[me.ForwardRequestJPMFailed=3237093714]="ForwardRequestJPMFailed",me[me.MaxSessionNumberLimitExceeded=3237093715]="MaxSessionNumberLimitExceeded",me[me.GuestModePartnerCapacityDisabled=3237093716]="GuestModePartnerCapacityDisabled",me[me.SessionRejectedNoCapacity=3237093717]="SessionRejectedNoCapacity",me[me.SessionInsufficientPlayabilityLevel=3237093718]="SessionInsufficientPlayabilityLevel",me[me.ForwardRequestLOFNFailed=3237093719]="ForwardRequestLOFNFailed",me[me.InvalidTransportRequest=3237093720]="InvalidTransportRequest",me[me.UserStorageNotAvailable=3237093721]="UserStorageNotAvailable",me[me.GfnStorageNotAvailable=3237093722]="GfnStorageNotAvailable",me[me.SessionServerErrorEnd=3237093887]="SessionServerErrorEnd",me[me.StreamerErrorCategory=3237093888]="StreamerErrorCategory",me[me.StreamErrorGeneric=3237093889]="StreamErrorGeneric",me[me.StreamerSignInFailure=3237093890]="StreamerSignInFailure",me[me.StreamerHangingGetFailure=3237093891]="StreamerHangingGetFailure",me[me.StreamerNetworkError=3237093892]="StreamerNetworkError",me[me.StreamerVideoPlayError=3237093893]="StreamerVideoPlayError",me[me.StreamerIceConnectionFailed=3237093894]="StreamerIceConnectionFailed",me[me.StreamerGetRemotePeerTimedOut=3237093895]="StreamerGetRemotePeerTimedOut",me[me.StreamInputChannelError=3237093896]="StreamInputChannelError",me[me.StreamCursorChannelError=3237093897]="StreamCursorChannelError",me[me.StreamControlChannelError=3237093898]="StreamControlChannelError",me[me.StreamerReConnectionFailed=3237093899]="StreamerReConnectionFailed",me[me.StreamerNoVideoPacketsReceivedEver=3237093900]="StreamerNoVideoPacketsReceivedEver",me[me.StreamerNoVideoFramesLossyNetwork=3237093901]="StreamerNoVideoFramesLossyNetwork",me[me.StreamerSetSDPFailure=3237093902]="StreamerSetSDPFailure",me[me.StreamerNoLocalCandidates=3237093903]="StreamerNoLocalCandidates",me[me.StreamerNoRemoteCandidates=3237093904]="StreamerNoRemoteCandidates",me[me.StreamerNoVideoTrack=3237093905]="StreamerNoVideoTrack",me[me.StreamerIceReConnectionFailed=3237093906]="StreamerIceReConnectionFailed",me[me.StreamerSignInTimeout=3237093907]="StreamerSignInTimeout",me[me.StreamerSignInWorkerFailure=3237093908]="StreamerSignInWorkerFailure",me[me.StreamerNoTracksReceivedInSdp=3237093909]="StreamerNoTracksReceivedInSdp",me[me.StreamerNvstSdpFailure=3237093910]="StreamerNvstSdpFailure",me[me.StreamerNvstSdpParseFailure=3237093911]="StreamerNvstSdpParseFailure",me[me.StreamerNoPeerInfo=3237093912]="StreamerNoPeerInfo",me[me.StreamerNoOffer=3237093913]="StreamerNoOffer",me[me.StreamerNoAudioTrack=3237093914]="StreamerNoAudioTrack",me[me.StreamerInvalidRemoteConfigOverride=3237093915]="StreamerInvalidRemoteConfigOverride",me[me.StreamerInvalidServerOverride=3237093916]="StreamerInvalidServerOverride",me[me.StreamerInvalidClientOverride=3237093917]="StreamerInvalidClientOverride",me[me.StreamerConfigUpdateFailure=3237093918]="StreamerConfigUpdateFailure",me[me.StreamerInputChannelNotOpen=3237093919]="StreamerInputChannelNotOpen",me[me.StreamerCursorChannelNotOpen=3237093920]="StreamerCursorChannelNotOpen",me[me.StreamerControlChannelNotOpen=3237093921]="StreamerControlChannelNotOpen",me[me.StreamerVideoAdapterInitTimeOut=3237093922]="StreamerVideoAdapterInitTimeOut",me[me.StreamerVideoFrameProviderInitTimeOut=3237093923]="StreamerVideoFrameProviderInitTimeOut",me[me.StreamerVideoEncoderInitTimeOut=3237093924]="StreamerVideoEncoderInitTimeOut",me[me.StreamerVideoSetupTimeOut=3237093925]="StreamerVideoSetupTimeOut",me[me.StreamerNoStunResponsesReceived=3237093926]="StreamerNoStunResponsesReceived",me[me.StreamerNoNominatedCandidatePairs=3237093927]="StreamerNoNominatedCandidatePairs",me[me.StreamerNoSucceededCandidatePairs=3237093928]="StreamerNoSucceededCandidatePairs",me[me.StreamPartiallyReliableInputChannelError=3237093929]="StreamPartiallyReliableInputChannelError",me[me.StreamerPartiallyReliableInputChannelNotOpen=3237093936]="StreamerPartiallyReliableInputChannelNotOpen",me[me.StreamerNeedAudioElement=3237093937]="StreamerNeedAudioElement",me[me.StreamerInvalidVideoSettings=3237093938]="StreamerInvalidVideoSettings",me[me.StreamerNeedVideoElement=3237093939]="StreamerNeedVideoElement",me[me.SessionSetupCancelled=15867905]="SessionSetupCancelled",me[me.SessionSetupCancelledDuringQueuing=15867906]="SessionSetupCancelledDuringQueuing",me[me.StreamerDataChannelClosing=15867907]="StreamerDataChannelClosing",me[me.SystemSleepDuringStreaming=15867908]="SystemSleepDuringStreaming",me[me.SystemSleepDuringSessionSetup=15867909]="SystemSleepDuringSessionSetup",me[me.PauseSession=15867910]="PauseSession",me[me.DelayedSessionError=15867911]="DelayedSessionError",me[me.WebPageClosed=15867912]="WebPageClosed",me[me.ClientDisconnectedUserIdle=15867913]="ClientDisconnectedUserIdle",me[me.UnhandledException=3237093392]="UnhandledException",me[me.NoInternetDuringSessionSetup=15868417]="NoInternetDuringSessionSetup",me[me.NoInternetDuringStreaming=15868418]="NoInternetDuringStreaming",me[me.StreamDisconnectedFromServer=15868672]="StreamDisconnectedFromServer",me[me.ServerDisconnectedNoResponse=3237094145]="ServerDisconnectedNoResponse",me[me.ServerDisconnectedRemoteInputError=3237094146]="ServerDisconnectedRemoteInputError",me[me.ServerDisconnectedFrameGrabFailed=3237094147]="ServerDisconnectedFrameGrabFailed",me[me.ServerDisconnectedConfigUnAvailable=3237094148]="ServerDisconnectedConfigUnAvailable",me[me.ServerDisconnectedInvalidCommand=3237094149]="ServerDisconnectedInvalidCommand",me[me.ServerDisconnectedInvalidMouseState=3237094150]="ServerDisconnectedInvalidMouseState",me[me.ServerDisconnectedNetworkError=3237094151]="ServerDisconnectedNetworkError",me[me.ServerDisconnectedGameLaunchFailed=3237094152]="ServerDisconnectedGameLaunchFailed",me[me.ServerDisconnectedVideoFirstFrameSendFailed=3237094153]="ServerDisconnectedVideoFirstFrameSendFailed",me[me.ServerDisconnectedVideoNextFrameSendFailed=3237094154]="ServerDisconnectedVideoNextFrameSendFailed",me[me.ServerDisconnectedFrameGrabTimedOut=3237094155]="ServerDisconnectedFrameGrabTimedOut",me[me.ServerDisconnectedFrameEncodeTimedOut=3237094156]="ServerDisconnectedFrameEncodeTimedOut",me[me.ServerDisconnectedFrameSendTimedOut=3237094157]="ServerDisconnectedFrameSendTimedOut",me[me.ServerDisconnectedNetworkTimedOut=3237094158]="ServerDisconnectedNetworkTimedOut",me[me.ServerDisconnectedPeerRemovedByServer=3237094159]="ServerDisconnectedPeerRemovedByServer",me[me.ServerDisconnectedUnknownError=3237094160]="ServerDisconnectedUnknownError",me[me.ServerDisconnectedPeerRemovedBeforeStream=3237094161]="ServerDisconnectedPeerRemovedBeforeStream",me[me.ServerDisconnectedIntended=15868704]="ServerDisconnectedIntended",me[me.ServerDisconnectedHotKey=15868705]="ServerDisconnectedHotKey",me[me.ServerDisconnectedUserLoggedInDifferentAccount=15868706]="ServerDisconnectedUserLoggedInDifferentAccount",me[me.ServerDisconnectedWindowedMode=15868707]="ServerDisconnectedWindowedMode",me[me.ServerDisconnectedUserIdle=15868708]="ServerDisconnectedUserIdle",me[me.ServerDisconnectedUnAuthorizedProcessDetected=15868709]="ServerDisconnectedUnAuthorizedProcessDetected",me[me.ServerDisconnectedMaliciousProcessDetected=15868710]="ServerDisconnectedMaliciousProcessDetected",me[me.ServerDisconnectedUnKnownProcessDetected=15868711]="ServerDisconnectedUnKnownProcessDetected",me[me.ServerDisconnectedMinerProcessDetected=15868712]="ServerDisconnectedMinerProcessDetected",me[me.ServerDisconnectedStreamingUnsupported=15868713]="ServerDisconnectedStreamingUnsupported",me[me.ServerDisconnectedAnotherClient=15868714]="ServerDisconnectedAnotherClient",me[me.ServerDisconnectedCodeIntegrityViolation=15868715]="ServerDisconnectedCodeIntegrityViolation",me[me.ServerDisconnectedUnauthorizedActivityDetected=15868716]="ServerDisconnectedUnauthorizedActivityDetected",me[me.ServerDisconnectedGameNotOwnedByUser=15868717]="ServerDisconnectedGameNotOwnedByUser",me[me.ServerDisconnectedProtectedContent=15868718]="ServerDisconnectedProtectedContent",me[me.ServerDisconnectedDisplayTopologyChanged=15868719]="ServerDisconnectedDisplayTopologyChanged",me[me.ServerDisconnectedAbruptly=15868688]="ServerDisconnectedAbruptly",me[me.ServerDisconnectedUnknownFromPm=15868736]="ServerDisconnectedUnknownFromPm",me[me.ServerDisconnectedUserEntitledMinutesExceeded=15868737]="ServerDisconnectedUserEntitledMinutesExceeded",me[me.ServerDisconnectedClientReconnectTimeLimitExceeded=15868738]="ServerDisconnectedClientReconnectTimeLimitExceeded",me[me.ServerDisconnectedOperatorCommandedTermination=15868739]="ServerDisconnectedOperatorCommandedTermination",me[me.ServerDisconnectedConcurrentSessionLimitExceeded=15868740]="ServerDisconnectedConcurrentSessionLimitExceeded",me[me.ServerDisconnectedMaxSessionTimeLimitExceeded=15868741]="ServerDisconnectedMaxSessionTimeLimitExceeded",me[me.ServerDisconnectedBifrostInitiatedSessionPause=15868742]="ServerDisconnectedBifrostInitiatedSessionPause",me[me.ServerDisconnectedSystemCommandTermination=15868743]="ServerDisconnectedSystemCommandTermination",me[me.ServerDisconnectedMultipleLogin=15868744]="ServerDisconnectedMultipleLogin",me[me.ServerDisconnectedMaintenanceMode=15868745]="ServerDisconnectedMaintenanceMode",me[me.ServerDisconnectedMultipleTab=15868752]="ServerDisconnectedMultipleTab",me[me.InvalidVideoElement=3237094400]="InvalidVideoElement",me[me.InvalidAudioElement=3237094401]="InvalidAudioElement",me[me.WebSocketClosed=3237097472]="WebSocketClosed",me[me.WebSocketNormalClosure=3237101567]="WebSocketNormalClosure",me[me.WebSocketGoingAway=3237101566]="WebSocketGoingAway",me[me.WebSocketProtocolError=3237101565]="WebSocketProtocolError",me[me.WebSocketUnsupportedData=3237101564]="WebSocketUnsupportedData",me[me.WebSocketNoStatusRcvd=3237101562]="WebSocketNoStatusRcvd",me[me.WebSocketInvalidFramePayloadData=3237101560]="WebSocketInvalidFramePayloadData",me[me.WebSocketPolicyViolation=3237101559]="WebSocketPolicyViolation",me[me.WebSocketMessageTooBig=3237101558]="WebSocketMessageTooBig",me[me.WebSocketMandatoryExt=3237101557]="WebSocketMandatoryExt",me[me.WebSocketInternalError=3237101556]="WebSocketInternalError",me[me.WebSocketServiceRestart=3237101555]="WebSocketServiceRestart",me[me.WebSocketTryAgainLater=3237101554]="WebSocketTryAgainLater",me[me.WebSocketBadGateway=3237101553]="WebSocketBadGateway",me[me.WebSocketTLSHandshakeFailure=3237101552]="WebSocketTLSHandshakeFailure",me[me.WebSocketUnauthorized=3237101551]="WebSocketUnauthorized",me[me.WebSocketForbidden=3237101550]="WebSocketForbidden",me[me.WebSocketTimeout=3237101549]="WebSocketTimeout";const ve={ALL:"all",h:"relay"};function ye(e){return e.os===i.PlatformOS.XBOX}function Ee(e){return e.browser===i.PlatformBrowser.EDGE}function Se(e){return ye(e)&&Ee(e)}function be(e){return e.os===i.PlatformOS.IPADOS}function xe(e){return e.os===i.PlatformOS.IOS||be(e)||we(e)}function we(e){return"VISIONPRO"===(e.model||e.deviceModel)}function Ie(e){var t,n;return null!==(n=null===(t=e.model||e.deviceModel)||void 0===t?void 0:t.toUpperCase().startsWith("QUEST"))&&void 0!==n&&n}function Ce(e){return"0x"+("00000000"+(t=e,e=t>>>0).toString(16).toUpperCase()).slice(-8);var t}function Te(){return!!window.chrome}function Me(e){return e.browser===i.PlatformBrowser.SAFARI}function Be(e){return e.browser===i.PlatformBrowser.OPERAGX}function Re(e){return e?e.os===i.PlatformOS.IOS:/iPhone|iPod/.test(navigator.userAgent)}function Pe(e){return e.os===i.PlatformOS.WEBOS}function _e(e){return e.os===i.PlatformOS.CHROME_OS}function De(e){return e.os===i.PlatformOS.WINDOWS}function Ne(e){return e.os===i.PlatformOS.MAC}function Le(e){return e.os===i.PlatformOS.TIZEN}function Oe(e){return e.os===i.PlatformOS.LINUX}function ke(e){return e.os===i.PlatformOS.ANDROID}function Ue(){var e,t;return!!window.TouchEvent&&(null===(t=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(any-pointer:coarse)"))||void 0===t?void 0:t.matches)}function Fe(e){return e.os===i.PlatformOS.TIZEN||e.os===i.PlatformOS.WEBOS}function Qe(e,t){for(let n=0;n<t.length&&n<e.length;++n){const i=e[n],r=t[n];if(i>r)return!0;if(i<r)return!1}if(e.length<t.length)for(let n=e.length;n<t.length;++n)if(t[n]>0)return!1;return!0}function Ve(e){return e.browser==i.PlatformBrowser.CHROME}function He(e,t,n,r,s){if(e.browser!=i.PlatformBrowser.CHROME)return!1;const a=[t,null!=n?n:0,null!=r?r:0,null!=s?s:0];try{return Qe(e.browserBestVer.split(".").map(e=>Number.parseInt(e)),a)}catch(e){i.Log.w("{d988e7f}","{bcd8f94}")}return!0}function Ge(e,t,n,r){var s;if(!xe(e))return!1;try{return ze(null!==(s=e.osVersion)&&void 0!==s?s:e.osVer,t,n,r)}catch(e){i.Log.w("{d988e7f}","{cf4149f}")}return!t}function ze(e,t,n,i){const r=e.replace(/[^0-9.]/,"").split(".").map(e=>Number.parseInt(e)),s=[n,null!=i?i:0];return 1===r.length&&r.push(0),t?r.every((e,t)=>e===s[t]):Qe(r,s)}function We(e,t,n){return Ge(e,!0,t,n)}function Xe(e,t,n){return Ge(e,!1,t,n)}function je(e){switch(e){case i.NetworkType.ETHERNET:return"ETHERNET";case i.NetworkType.WIFI:return"WIFI";case i.NetworkType.WIFI_2_4:return"WIFI_2_4";case i.NetworkType.WIFI_5_0:return"WIFI_5_0";case i.NetworkType.MOBILE:return"MOBILE";case i.NetworkType.MOBILE_2G:return"MOBILE_2G";case i.NetworkType.MOBILE_3G:return"MOBILE_3G";case i.NetworkType.MOBILE_4G:return"MOBILE_4G";case i.NetworkType.MOBILE_5G:return"MOBILE_5G";case i.NetworkType.OTHER:case i.NetworkType.BLUETOOTH:case i.NetworkType.WIMAX:return"OTHER";default:return"UNKNOWN"}}let qe={o:!0,l:!1};function Ye(e){if(e)switch(e){case"enable":case"on":case"1":case"true":return!0;case"disable":case"off":case"0":case"false":return!1}}function Je(e,t,n,i){let r=[];if(function(e,t){let n=[];do{n.push(e),e=Object.getPrototypeOf(e)}while(""!=e.name);n.reverse();for(let e of n)t.push(e.toString().replace(/(extends )[^ {]*\.([^ ]*[ {])/,"$1$2"))}(e,r),r.push(""+t.toString()),i){r.push(""+i.toString());const n="onconnect = (event) => { "+i.name+"("+e.name+", event, "+t.name+"); };";r.push(n)}else{const n="onmessage = (event) => { "+t.name+"("+e.name+", event); };";r.push(n)}r.push(""+n.toString());const s="onerror = (event) => { "+n.name+"(event); };";r.push(s);const a=new Blob(r,{type:"text/javascript"});return URL.createObjectURL(a)}function Ze(e,t,n){if(!e.prototype.u)throw new Error("Invalid Worker class provided");const i=Je(e,st,at),r=new Worker(i);return URL.revokeObjectURL(i),it(r,t,n),r}function Ke(e,t,n){const i=window;if(void 0===i.SharedWorker)throw new Error("SharedWorker not supported");if(!e.prototype.u)throw new Error("Invalid Worker class provided");const r=Je(e,st,at,rt),s=new i.SharedWorker(r);return URL.revokeObjectURL(r),it(s,t,n),s}qe.o||i.Logger.setLogLevel(i.LogLevel.ERROR),qe.l&&i.Logger.setLogMechanism(i.LogMechanism.Console);const $e=new Map;function et(e){return"port"in e?e.port:e}function tt(e){e&&nt(et(e))}function nt(e){if(t=e,$e.has(t))return;var t;e.postMessage.bind(e)({A:2,data:null});const n=window.setTimeout(()=>{const t=$e.get(e);t&&(clearTimeout(t),$e.delete(e)),e instanceof Worker?e.terminate():e instanceof MessagePort&&e.close()},150);$e.set(e,n)}function it(e,t,n){const r=et(e),s=r.postMessage.bind(r);let a=!1;const o=e=>{a||(a=!0,i.Log.e("{10ca8e2}","{03baf25}",e,typeof e),nt(r),n(e))};r.onmessage=e=>{const n=e.data;let i=n.A,a=n.data;switch(i){case 1:s({A:3,data:null});break;case 4:t(a),nt(r);break;case 5:o(a)}},"onmessageerror"in r&&(r.onmessageerror=o),e.onerror=o,s({A:0,data:null})}function rt(e,t,n){const i=globalThis;i.port=t.ports[0],i.port.onmessage=n.bind(self,e)}function st(e,t){var n,i;const r=globalThis;r.v=null!==(n=r.v)&&void 0!==n?n:{};const s=t.data;let a=s.A,o=s.data,l="port"in r?r.port:self;switch(a){case 0:const t=new e;r.v[e.name]=t,l.postMessage({A:1,data:null});break;case 2:null===(i=null===self||void 0===self?void 0:self.close)||void 0===i||i.call(self);break;case 3:{const t=r.v[e.name];Promise.resolve(t.u()).then(e=>{l.postMessage({A:4,data:e})});break}default:throw new Error("Unknown message: "+a+":"+o)}}function at(e){const t=globalThis;("port"in t?t.port:self).postMessage({A:5,data:e})}const ot="0";class lt{constructor(){}m(){return this.S(this.C())}C(){return self.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}S(e){const t=e.getContext("webgl"),n=t&&t.getExtension("WEBGL_debug_renderer_info");return n?{M:t&&t.getParameter(n.UNMASKED_VENDOR_WEBGL),I:t&&t.getParameter(n.UNMASKED_RENDERER_WEBGL),T:!0}:{M:"",I:"",T:!1}}u(){return this.m()}}class ct{constructor(){}u(){const e=navigator.userAgentData;return e?e.getHighEntropyValues(["platform","architecture","uaFullVersion","platformVersion","model","bitness","fullVersionList"]).then(t=>(t||(t={}),t.brands||(t.brands=e.brands),t.mobile||(t.mobile=e.mobile),t)):Promise.resolve(void 0)}}class ut{constructor(){}u(){let e={P:!1,D:"",M:""};if(navigator.userAgent){const t=navigator.userAgent.toUpperCase(),n=["BRAVIA","TIZEN","PHILIPSTV","GOOGLETV","CRKEY","CHROMECAST","SHIELDTV"],i=["SONY","SAMSUNG","PHILIPS","GOOGLE","GOOGLE","GOOGLE","NVIDIA"];if(new RegExp(["BRAVIA","SMARTTV","SMART-TV","PHILIPSTV","GOOGLETV","CRKEY","CHROMECAST","SHIELD Android TV"].join("|"),"i").test(t)){e.P=!0;const r=t.match(n.join("|"));if(r)for(let t=0;t<n.length;t++)r[0]==n[t]&&(e.D=n[t],e.M=i[t],"CRKEY"==r[0]&&(e.D="CHROMECAST"))}}return Promise.resolve(e)}}class dt{constructor(){}u(){return{platform:navigator.platform}}}const ht=new class{constructor(){this.start=0,this.finish=0,this.R=!1,this.N=!1,this.B=!1,this.O=!1,this.F=!1,this.L=!1,this.H=!1,this.U=!1,this.V=!1,this.G=!0,this.W=!1,this.$=!1,this.s_=!1,this.K=!1,this.Y=!1,this.X=!1,this.j=!1,this.J=!1,this.Z=!1,this.tt=!1,this.it=!1,this.st=!1,this.et=!1,this.ht=!1,this.nt=!1,this.ot=!1,this.rt=!1,this.dt=!1,this.ct=!1,this.lt=!1,this.ut=!1,this.At=!1,this.ft=!1,this.vt=!1,this.gt=!1,this.bt=!1,this.wt=!1,this.St=!1,this.kt=!1,this.Ct=!1,this.yt=!1,this.Mt=!1,this.It=!1,this.Tt=!1,this.Pt=!1,this.Dt=!1,this.Et=!1,this.Rt=!1,this.Nt=!1,this.Bt=!1,this.xt=!1,this.Ot=!1,this.Ft=!1,this.Lt=!1,this.Ht=!1,this.Ut=!1,this.Vt=!1,this.Gt=!1,this.Wt=!1,this.$t=!1,this.n_=!1,this.qt=!1,this.Kt=!1,this.Qt=!1,this.zt=!1,this.Yt=!1,this.Xt=!1,this.jt=!1,this.Jt=!1,this.Zt=!1,this.ti=!1,this.ii=!1,this.si=!1,this.ei=!1,this.hi=!1,this.ni=!1,this.oi=!1,this.ri=!1,this.ai=!1,this.di=!1,this.ci=!1,this.li=!1,this.ui=!1,this.Ai=!1,this.fi=!1,this.pi=!1,this.mi=!1,this.gi=!1,this.bi=!1,this.wi=!1,this.Si=!1,this.ki=!1,this.Ci=!1,this.yi=!1,this.Mi=!1,this.Ii=!1,this.Ti=!1,this.Pi=!1,this.Di=!1,this.Ei=!1,this.Ri=!1,this.Ni=!1,this.Bi=!1,this.xi=!1,this.Oi=!1,this.Fi=!1,this.Li=!1,this.Hi=!1,this.Ui=!1,this.Vi=!1,this.Gi=!1,this.Wi=!1,this.$i=!1,this.r_=!1,this.Ki=!1,this.Qi=!1,this.zi=!1,this.Yi=!1,this.Xi=!1,this.ji=!1,this.Ji=!1,this.Zi=!1,this.ss=!1,this.es=!1,this.hs=!1,this.ns=!1,this.rs=!1,this.ds=!1,this.cs=!1,this.ls=!1,this.us=!1,this.As=!1,this.fs=!1,this.vs=!1,this.ps=!1,this.gs=0,this.bs=0,this.ws=0,this.Ss=0,this.ks=0,this.Cs=0,this.ys=0,this.gpuDetail="",this.Ms={os:i.PlatformOS.UNKNOWN,osRawVer:ot,osVer:ot,osVersion:ot,browser:i.PlatformBrowser.UNKNOWN,browserVer:ot,browserFullVer:ot,chromiumFullVer:ot,browserBestVer:ot,forging:!0,spoofing:!0,confidence:0,totalTime:0,vendor:"",make:"",gpuDetail:""},this.Is=[],this.Ts=/Chrome\/(([0-9]+)\.[0-9]+\.[0-9]+\.[0-9]+)/}Ps(){return this.Ds||(this.Ds=this.Es()),this.Ds}Es(){return this.start=performance.now(),new Promise((e,t)=>{this.us?e(this.Ms):this.Rs().then(()=>{this.us=!0,e(this.Ms)})})}Ns(){const e=window.speechSynthesis;if(e){const t=e.getVoices;let n=(null==t?void 0:t.call(e))||[];return new Promise((i,r)=>{if(!t||n.length)this.Bs(n),i();else{let r=0;const s=()=>{n=t.call(e);const a=performance.now();if(0==n.length&&(0==r||a-r<600))return this.gs&&clearTimeout(this.gs),void(this.gs=window.setTimeout(s,150));this.gs&&(clearTimeout(this.gs),this.gs=0),this.Bs(n),i()};void 0!==e.onvoiceschanged&&(e.onvoiceschanged=s),this.xs(()=>{n=t.call(e),n.length?s():(this.gs=window.setTimeout(s,150),r=performance.now())})}})}return new Promise(e=>{e()})}Bs(e){if(!this.As){for(const t of e){const e=t.voiceURI||"";e.startsWith("Chrome OS")?this.R=!0:e.startsWith("Google")?this.N=!0:e.includes("moz-tts")?(e.includes("android")&&(this.O=!0,this.gt=!0),this.B=!0):"English United States"==e&&(this.F=!0),e.includes("Microsoft")?(this.L=!0,e.includes("Online")?this.U=!0:this.V=!0):e.includes("com.apple")?(this.H=!0,e.includes("Ellen")&&(this.G=!0)):"Zuzana"==e&&(this.H=!0)}this.W=this.H||this.L||this.N||this.R||this.B||this.F,this.As=!0}}async Rs(){await Promise.all([this.Os(),this.Fs(),this.Ls(),this.Ns(),this.Hs(),this.Us(),this.Vs(),this.Gs(),this.Ws(),this.$s(),this.o_(),this.qs(),this.Ks()]).then(()=>{this.Qs(),this.zs()})}Us(){var e,t,n,i,r,s,a,o,l,c,u;const d=window,h=d.hasOwnProperty,p=d.navigator,f=d.Intl,g=d.CSS,A=null==g?void 0:g.supports,m=d.Promise;h.call(d,"MSMediaKeys")?this.s_=!0:h.call(d,"_firefoxTV_cachedScrollPosition")?this.tt=!0:void 0!==d.h_||d.a_?this.K=!0:d.safari?this.Y=!0:d.opr?this.it=!0:d.oprt?this.st=!0:p.brave?this.nt=!0:void 0!==d.OperaTouch||d.ethereum?(this.ht=!0,this.gt=!0):d.OperaGXDownloads||d.OperaGXGames?(this.et=!0,this.gt=!0):d.yandex?this.ot=!0:d.QuickAccess?this.rt=!0:d.chrome?this.X=!0:d.netscape?this.J=!0:d.c_?this.Z=!0:d.u_?this.j=!0:d.ReactNativeWebView&&(this.dt=!0),void 0!==d.contacts||void 0!==d.ContactsManager?this.gt=!0:h.call(d,"onwebOSAccessibilityAlertDone")||d.webOSSystem||h.call(d,"onwebosaccessibilityalertdone")?this.bt=!0:d.tizen||d.TizenTVApiInfo||d.addEdgeEffectONSCROLLTizenUIF||d.tizentvwasm?this.wt=!0:d.HardkeyEvent&&(this.St=!0),(null===(e=p.mediaCapabilities)||void 0===e?void 0:e.decodingInfo)&&(this.ui=!0),d.BigInt&&(this.ci=!0,d.BigInt64Array&&(this.li=!0)),d.PerformanceNavigationTiming&&(this.Ai=!0),d.WebAssembly&&d.WebAssembly.Exception&&(this.fi=!0),d.BroadcastChannel&&(this.pi=!0),d.GPUBuffer&&(this.mi=!0),d.SharedWorker&&(this.Ti=!0),d.MediaRecorder&&(this.gi=!0),d.CSSCounterStyleRule&&(this.Pi=!0);const v=null===(t=d.ArrayBuffer)||void 0===t?void 0:t.prototype;if((null==v?void 0:v.hasOwnProperty("transfer"))&&(this.Di=!0),h.call(d,"ondevicelight")&&(this.bi=!0),(null===(n=d.AbortSignal)||void 0===n?void 0:n.abort)&&(this.wi=!0),h.call(d,"onbeforeinput")&&(this.Si=!0),f){f.DisplayNames&&(this.ki=!0);const e=new f.Collator("zh",{Ys:"pinyin"});this.Ci="pinyin"==(null===(i=e.resolvedOptions())||void 0===i?void 0:i.Ys)}d.Credential&&(this.Mi=!0),(null===(r=d.browser)||void 0===r?void 0:r.runtime)&&(this.Ii=!0),d.LargestContentfulPaint&&(this.Ei=!0),(null==g?void 0:g.registerProperty)&&(this.Ri=!0);const y=null===(s=d.HTMLElement)||void 0===s?void 0:s.prototype;(null==y?void 0:y.hasOwnProperty("autofocus"))&&(this.Ni=!0),p.contacts&&(this.Bi=!0),d.TrustedHTML&&(this.xi=!0),d.WakeLock&&(this.Oi=!0),(null==m?void 0:m.any)&&(this.Fi=!0),d.FileSystemHandle&&(this.Li=!0),(null===(a=d.Atomics)||void 0===a?void 0:a.waitAsync)&&(this.Hi=!0),(null==A?void 0:A.call(g,"aspect-ratio: auto"))&&(this.Ui=!0),d.ReadableStreamBYOBReader&&(this.Vi=!0),(null==A?void 0:A.call(g,"overflow: clip"))&&(this.Gi=!0),(null==A?void 0:A.call(g,"content-visibility: auto"))&&(this.$i=!0),d.CSSStartingStyleRule&&(this.r_=!0),(null==m?void 0:m.withResolvers)&&(this.Ki=!0);const E=null===(o=d.CanvasRenderingContext2D)||void 0===o?void 0:o.prototype;(null==E?void 0:E.hasOwnProperty("reset"))&&(this.Qi=!0);const S=null===(l=d.Set)||void 0===l?void 0:l.prototype;(null==S?void 0:S.hasOwnProperty("difference"))&&(this.zi=!0),(null==A?void 0:A.call(g,"selector(:user-valid)"))&&(this.Yi=!0);const b=null===(c=d.InputEvent)||void 0===c?void 0:c.prototype;(null==b?void 0:b.hasOwnProperty("isComposing"))&&(this.Xi=!0),d.VRDisplay&&(this.ji=!0);const x=null===(u=d.HTMLVideoElement)||void 0===u?void 0:u.prototype;this.Wi=null==x?void 0:x.hasOwnProperty("webkitSupportsPresentationMode")}Gs(){return new Promise((e,t)=>{const n="Plat",r=e=>{if(this.ps)return;const t=e.platform;"MacIntel"===t?this.ct=!0:"iPhone"===t?this.lt=!0:"Win32"===t?this.ut=!0:"iPad"===t?this.At=!0:"FreeBSD amd64"===t?this.vt=!0:"Windows"===t&&(this.ut=!0,this.Xs=!0),t.startsWith("Linux")&&(this.ft=!0),this.ps=!0};let s=!1;const a=t=>{if(this.ks)clearTimeout(this.ks),this.ks=0;else if(s)return i.Log.w("{3c72abb}","{b02109c}"),void this.js(n,this.ys-performance.now());r(t),e()};let o=!1,l=!1;const c=e=>{"string"==typeof e?this.Js(n,e):"data"in e?this.Zs(n,e):this.te(n,e),l=!0,i.Log.e("{3c72abb}","{6350135}",e)};let u,d=0;try{o=!0,u=Ze(dt,a,c),d=150}catch(e){l=!0,this.se(n,e),i.Log.w("{3c72abb}","{79668e5}",e)}this.xs(()=>{this.ps||(this.ks=window.setTimeout(()=>{this.ks=0,this.ys=performance.now(),l?i.Log.w("{3c72abb}","{d9e1e01}"):o?(i.Log.w("{3c72abb}","{a8d68cb}"),this.ee(n)):(i.Log.i("{3c72abb}","{53e2225}"),this.he(n));const e=(new dt).u();a(e),s=!0},d))})})}Ws(){const e=window;e.ApplePaySession&&e.ApplePaySession.canMakePayments&&(this.yi=!0)}Os(){return new Promise((e,t)=>{const n="GL",r=e=>{if(this.fs)return;const t=e.I;if(t.startsWith("ANGLE")){let e=t.split(",");(null==e?void 0:e.length)>1&&(this.gpuDetail=e[1].trim())}else this.gpuDetail=t;const n=t.toLowerCase();if(t.includes("SraKmd")){this.Wt=!0,t.includes("SraKmd_arden")&&(this.$t=!0);const e=/D3D11-(\d{2,}\.\d{1,}\.\d{5,}\.\d{4,})/.exec(t);e&&e.length>1&&(this.osVersion=e[1])}else t.includes("AMD")&&n.includes("vangogh")&&(this.n_=!0);this.hs=e.T,this.fs=!0};let s=!1;const a=t=>{if(this.bs)clearTimeout(this.bs),this.bs=0;else if(s)return i.Log.w("{3c72abb}","{c1bb269}"),void this.js(n,this.Cs-performance.now());r(t),e()};let o=!1,l=!1;const c=e=>{"string"==typeof e?this.Js(n,e):"data"in e?this.Zs(n,e):this.te(n,e),l=!0,i.Log.e("{3c72abb}","{9e45306}",e)};let u,d=0;try{self.OffscreenCanvas&&(o=!0,u=Ze(lt,a,c),d=150)}catch(e){l=!0,this.se(n,e),i.Log.w("{3c72abb}","{caf8cd7}",e)}this.xs(()=>{this.fs||(this.bs=window.setTimeout(()=>{this.bs=0,this.Cs=performance.now(),l?i.Log.w("{3c72abb}","{fbe663c}"):o?(i.Log.w("{3c72abb}","{2577061}"),this.ee(n)):(i.Log.i("{3c72abb}","{95c252e}"),this.he(n));const e=(new lt).u();a(e),s=!0},d))})})}ne(e){var t,n,i;this.ns=!0,e.mobile&&(this.Ht=!0);const r=e.brands||[],s=e.fullVersionList;let a=0;for(let e=0;e<r.length;++e){const o=r[e],l=o.brand,c=o.version,u=null===(t=null==s?void 0:s[e])||void 0===t?void 0:t.version;"Google Chrome"===l?(this.Tt=!0,this.browserVersion=c,this.browserFullVer=u):"Microsoft Edge"===l?(this.Pt=!0,this.browserVersion=c,this.browserFullVer=u):"OperaMobile"===l?this.Et||(this.Dt=!0,this.browserVersion=c,this.browserFullVer=u):"Opera"===l?this.Dt||this.Et||(this.Dt=!0,this.browserVersion=c,this.browserFullVer=u):"Opera GX"===l?(this.Et=!0,this.browserVersion=c,this.browserFullVer=u):"Yandex"===l||"YaBrowser"===l?(this.Rt=!0,this.browserVersion=c,this.browserFullVer=u):"Brave"===l?(this.Nt=!0,this.browserVersion=c,this.browserFullVer=u):"Samsung Internet"===l?(this.Bt=!0,this.browserVersion=c,this.browserFullVer=u):"Oculus Browser"==l?(this.xt=!0,this.ri=!0,this.deviceName="QUEST",this.browserVersion=c,this.browserFullVer=u):"Chromium"===l?(this.Ot=!0,this.browserVersion=null!==(n=this.browserVersion)&&void 0!==n?n:c,this.browserFullVer=null!==(i=this.browserFullVer)&&void 0!==i?i:u,this.oe=c,this.re=u):"Android WebView"===l?(this.Ft=!0,this.browserVersion=c,this.browserFullVer=u):a++}a>2&&(this.Lt=!0)}Ks(){return new Promise((e,t)=>{const n=e=>{e.P&&(this.ai=e.P,this.ae=e.M,this.de=e.D)},r=t=>{this.Ss&&(clearTimeout(this.Ss),this.Ss=0),n(t),e()};let s=!1,a=!1;const o="TV",l=e=>{"string"==typeof e?this.Js(o,e):"data"in e?this.Zs(o,e):this.te(o,e),a=!0,i.Log.e("{3c72abb}","{f49e1b4}",e)};let c,u=0;try{self.SharedWorker&&(s=!0,c=Ke(ut,r,l),u=150)}catch(e){a=!0,i.Log.w("{3c72abb}","{2066dd6}",e),this.se(o,e)}this.Ss=window.setTimeout(()=>{tt(c),a?i.Log.w("{3c72abb}","{cdb3848}"):s?(i.Log.w("{3c72abb}","{f01188c}"),this.ee(o)):(i.Log.i("{3c72abb}","{db9e3f4}"),this.he(o)),(new ut).u().then(e=>{r(e)})},u)})}o_(){navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&(this.Gt=!0)}qs(){const e=window;this.Ji=e.matchMedia("(hover: hover)").matches,this.Zi=e.matchMedia("(hover: none)").matches,this.ss=e.matchMedia("(pointer: coarse)").matches,this.es=e.matchMedia("(pointer: fine)").matches}$s(){const e=navigator.plugins;for(const t of e){const e=t.name;"Native Client"===e?this.kt=!0:e.startsWith("Microsoft Edge PDF")?(this.Mt=!0,this.$=!0):e.startsWith("Chrome PDF")?this.Ct=!0:e.startsWith("Chromium PDF")?this.yt=!0:e.startsWith("PPAPI SAMSUNGHEALTH")&&(this.It=!0,this.wt=!0)}}async ce(){if(!window.createImageBitmap)return!1;const e=await fetch("data:image/avif;base64,AAAAGGZ0eXBhdmlmAAAAAGF2aWZtaWYxAAADm21ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAHBpY3QAAAAAAAAAAAAAAAAAAAAADnBpdG0AAAAAAAEAAAAiaWxvYwAAAABEQAABAAEAAAAAA7sAAQAAAAAAAAAjAAAAI2lpbmYAAAAAAAEAAAAVaW5mZQIAAAAAAQAAYXYwMQAAAAMbaXBycAAAAvxpcGNvAAACrGNvbHJwcm9mAAACoGxjbXMEMAAAbW50clJHQiBYWVogB+UACAAJAAsAEAAFYWNzcE1TRlQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1sY21zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANZGVzYwAAASAAAABAY3BydAAAAWAAAAA2d3RwdAAAAZgAAAAUY2hhZAAAAawAAAAsclhZWgAAAdgAAAAUYlhZWgAAAewAAAAUZ1hZWgAAAgAAAAAUclRSQwAAAhQAAAAgZ1RSQwAAAhQAAAAgYlRSQwAAAhQAAAAgY2hybQAAAjQAAAAkZG1uZAAAAlgAAAAkZG1kZAAAAnwAAAAkbWx1YwAAAAAAAAABAAAADGVuVVMAAAAkAAAAHABHAEkATQBQACAAYgB1AGkAbAB0AC0AaQBuACAAcwBSAEcAQm1sdWMAAAAAAAAAAQAAAAxlblVTAAAAGgAAABwAUAB1AGIAbABpAGMAIABEAG8AbQBhAGkAbgAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEIAAAXe///zJQAAB5MAAP2Q///7of///aIAAAPcAADAblhZWiAAAAAAAABvoAAAOPUAAAOQWFlaIAAAAAAAACSfAAAPhAAAtsRYWVogAAAAAAAAYpcAALeHAAAY2XBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbY2hybQAAAAAAAwAAAACj1wAAVHwAAEzNAACZmgAAJmcAAA9cbWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABHAEkATQBQbWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABzAFIARwBCAAAADGF2MUOBDQwAAAAAFGlzcGUAAAAAAAAAEAAAABAAAAAoY2xhcAAAAAEAAAABAAAAAQAAAAH////xAAAAAv////EAAAACAAAAF2lwbWEAAAAAAAAAAQABBIGCA4QAAAArbWRhdBIACgkfzP/IIEBA0oAyFGW+OwPr0bIHHHHBATZPtaQ3RWTA").then(e=>e.blob());return createImageBitmap(e).then(()=>!0,()=>!1)}async Ls(){const e=window;this.di=!!e.chrome&&await this.ce()}Fs(){return new Promise((e,t)=>{if(!navigator.userAgentData)return void e();const n=e=>{var t,n;if(this.vs)return;const i=e.model,r=e.platform,s=e.platformVersion,a=e.uaFullVersion,o=e.bitness;this.Ut=e.mobile,this.Vt=navigator.userAgentData.mobile,""==i&&""==r&&""==s&&""==a?this.ht&&this.gt||this.wt||null==o||this.gt&&!this.X||(this.rs=!0):""==o&&("Android"==r||(this.rs=!0)),i&&("Xbox"===i?this.qt=!0:i.startsWith("AFT")?(this.Kt=!0,this.oi=!0):i.includes("BRAVIA")?(this.oi=!0,this.Qt=!0):"Chromecast"===i?(this.oi=!0,this.zt=!0,this.deviceName="CHROMECAST"):"SHIELD Android TV"===i?(this.oi=!0,this.Yt=!0,this.deviceName="SHIELDTV"):i.startsWith("MiTV")?(this.oi=!0,this.Xt=!0,this.deviceName="MITV"):i.startsWith("TVision")?(this.oi=!0,this.jt=!0,this.deviceName="TVISION"):i.startsWith("Quest")&&(this.ri=!0,this.Jt=!0,this.le=i,this.deviceName="QUEST")),"Windows"===r?this.Zt=!0:"macOS"===r?this.ti=!0:"Chrome OS"===r||"ChromeOS"===r?this.ii=!0:"Chromium OS"===r?this.si=!0:"Android"===r?this.ei=!0:"Linux"===r&&(""==s?(this.ei=!0,this.ni=!0):this.hi=!0);const l=e=>{if(e&&"string"==typeof e)return e.replace(/[-._,:;|#@]/g,".")},c=e=>{if(!e||!this.oe||+this.oe<95)return e;switch(e.split(".").map(e=>Number.parseInt(e))[0]){case 0:return"8-";case 1:return"10.0.10240";case 2:return"10.0.10586";case 3:return"10.0.14393";case 4:return"10.0.15063";case 5:return"10.0.16299";case 6:return"10.0.17134";case 7:return"10.0.17763";case 8:return"10.0.18362+";case 9:return"10.0.9";case 10:return"10.0.19041+";case 11:return"10.0.11";case 12:return"10.0.12";case 13:return"11.0.0";case 14:return"11.0.22000.0";case 15:return"11.0.22621.0";default:return"11.0.22621.0+"}};e.brands&&e.brands.length>0&&this.ne(e),this.browserFullVer=null!==(t=l(this.browserFullVer))&&void 0!==t?t:l(a),this.ue=s,this.osVersion=null!==(n=this.osVersion)&&void 0!==n?n:(e=>this.Zt&&!this.qt?c(e):e)(l(s)),this.vs=!0},r=t=>{t&&(this.ws&&(clearTimeout(this.ws),this.ws=0),n(t),e())};let s=!1,a=!1;const o="HE",l=e=>{"string"==typeof e?this.Js(o,e):"data"in e?this.Zs(o,e):this.te(o,e),a=!0,i.Log.e("{3c72abb}","{217e106}",e)};let c,u=0;try{self.SharedWorker&&(s=!0,c=Ke(ct,r,l),u=300)}catch(e){a=!0,i.Log.w("{3c72abb}","{a583546}",e),this.se(o,e)}this.ws=window.setTimeout(()=>{tt(c),a?i.Log.w("{3c72abb}","{dbf4b42}"):s?(i.Log.w("{3c72abb}","{0bf7a38}"),this.ee(o),this.ls=!0):(i.Log.i("{3c72abb}","{7a82b59}"),this.he(o)),(new ct).u().then(e=>{r(e)})},u)})}Hs(){return new Promise(e=>{const t=navigator.userAgent;if(t){const e=t.match(this.Ts);e&&(this.Ae=null==e?void 0:e[1],this.fe=null==e?void 0:e[2])}e()})}Vs(){var e,t,n,r;const s=window.RequestCrowNativeApi;if(s){let a=0;const o=new Promise((e,t)=>{a=window.setTimeout(()=>{t("timeout")},100)}),l=window.zoneless,c=null!==(t=null===(e=null==l?void 0:l.windowAddEventListener)||void 0===e?void 0:e.bind(window))&&void 0!==t?t:window.addEventListener.bind(window),u=null!==(r=null===(n=null==l?void 0:l.windowRemoveEventListener)||void 0===n?void 0:n.bind(window))&&void 0!==r?r:window.removeEventListener.bind(window);let d;const h=new Promise(e=>{d=t=>{e(t.detail)},c("CrowNativeApiEvent",d),s(JSON.stringify({ve:"RequestBrowserVersion"}))}).then(e=>{var t;const n=null===(t=e.browserVersion)||void 0===t?void 0:t.match(this.Ts);n&&(this.browserFullVer=null==n?void 0:n[1],this.browserVersion=null==n?void 0:n[2])});return Promise.race([h,o]).catch(()=>{i.Log.d("{3c72abb}","{841bf6f}")}).finally(()=>{window.clearTimeout(a),u("CrowNativeApiEvent",d)})}return Promise.resolve()}pe(e,t){if(e==t)return!1;let n=/^(\d+)[.]?(.*)/,i=n.exec(e),r=n.exec(t);return null==i?null==r:null!=r&&i[1]==r[1]&&(""==i[2]||i[2].length<r[2].length)}Qs(){this.ns&&(this.ct==this.ti&&this.ut==this.Zt||(this.rs=!0),(this.ii||this.si||this.ei||this.hi)&&!this.ft&&(this.rs=!0),this.browserVersion&&this.browserFullVer&&!this.pe(this.browserVersion,this.browserFullVer)&&(this.Dt||this.Et?this.oe&&!this.pe(this.oe,this.browserFullVer)&&(this.rs=!0):this.rs=!0),(this.ii&&!this.Tt||this.si&&!this.Ot)&&(this.rs=!0),this.N?(this.L&&!this.Zt||this.H&&!this.ti)&&(this.rs=!0):this.R?this.ii||(this.rs=!0):this.B?this.rs=!0:this.L||this.H&&(this.ti||(this.rs=!0)),this.ds=this.ns&&!this.rs,this.cs=this.ns&&this.rs)}zs(){var e,t,n,r,s,a,o,l,c,u,d,h,p,f,g,A,m,v,y,E;this.me(),this.finish=performance.now(),this.Ms.os=null!==(e=this.ge)&&void 0!==e?e:i.PlatformOS.UNKNOWN,this.Ms.browser=null!==(t=this.be)&&void 0!==t?t:i.PlatformBrowser.UNKNOWN,this.Ms.osRawVer=null!==(n=this.ue)&&void 0!==n?n:ot,this.Ms.osVersion=null!==(r=this.osVersion)&&void 0!==r?r:ot,this.Ms.osVer=this.Ms.osVersion,this.Ms.browserVer=null!==(s=this.browserVersion)&&void 0!==s?s:ot;let S=null!==(a=this.browserFullVer)&&void 0!==a?a:void 0;this.Ms.browserFullVer=null!=S?S:ot,this.Ms.browserBestVer=null!==(o=null!=S?S:this.Ms.browserVer)&&void 0!==o?o:ot;let b=null!==(l=this.re)&&void 0!==l?l:void 0;this.Ms.chromiumFullVer=null!==(c=null!=b?b:this.oe)&&void 0!==c?c:ot,this.Ms.confidence=null!==(f=null!==(p=null!==(h=null!==(d=null!==(u=this.we)&&void 0!==u?u:this.ge===i.PlatformOS.UNKNOWN?0:void 0)&&void 0!==d?d:this.be===i.PlatformBrowser.UNKNOWN?5:void 0)&&void 0!==h?h:this.ls?6:void 0)&&void 0!==p?p:this.cs?8:void 0)&&void 0!==f?f:10,this.Ms.forging=null!==(g=this.Xs)&&void 0!==g&&g,this.Ms.spoofing=null!==(A=this.cs)&&void 0!==A&&A,this.Ms.make=null!==(m=this.Se)&&void 0!==m?m:"",this.Ms.vendor=this.Ms.make,this.Ms.vendorFull=null!==(v=this.ke)&&void 0!==v?v:this.Ms.make,this.Ms.deviceOS=function(e){let t;switch(e){case i.PlatformOS.CHROME_OS:t="CHROMEOS";break;case i.PlatformOS.WINDOWS:t="WINDOWS";break;case i.PlatformOS.MAC:t="MACOS";break;case i.PlatformOS.LINUX:t="LINUX";break;case i.PlatformOS.IOS:t="IOS";break;case i.PlatformOS.IPADOS:t="IPADOS";break;case i.PlatformOS.TIZEN:t="TIZEN";break;case i.PlatformOS.WEBOS:t="WEBOS";break;case i.PlatformOS.ANDROID:t="ANDROID";break;case i.PlatformOS.XBOX:t="XBOX";break;case i.PlatformOS.STEAMOS:t="STEAMOS";break;case i.PlatformOS.CCOS:t="CCOS";break;case i.PlatformOS.VISIONOS:t="VISIONOS";break;case i.PlatformOS.TVOS:t="TVOS";break;case i.PlatformOS.SHIELD:t="SHIELD"}return t}(this.Ms.os),this.Ms.os===i.PlatformOS.VISIONOS?this.Ms.model="VISIONPRO":this.n_?this.Ms.model="STEAMDECK":this.Jt?this.Ms.model=null!==(y=this.le)&&void 0!==y?y:"QUEST":this.le&&(this.Ms.model=this.le),this.Ms.deviceModel=this.Ms.model;const x=null!==(E=this.Ce)&&void 0!==E?E:function(e,t){if("STEAMDECK"===t)return i.PlatformType.CONSOLE;switch(e){case i.PlatformOS.IOS:return i.PlatformType.PHONE;case i.PlatformOS.IPADOS:return i.PlatformType.TABLET;case i.PlatformOS.XBOX:return i.PlatformType.CONSOLE;case i.PlatformOS.WEBOS:case i.PlatformOS.TIZEN:return i.PlatformType.TV;case i.PlatformOS.VISIONOS:return i.PlatformType.HMD;default:return i.PlatformType.DESKTOP}}(this.Ms.os,this.Ms.model);this.Ms.platformType=x,this.Ms.deviceType=x,this.Ms.totalTime=this.finish-this.start,this.Ms.gpuDetail=this.gpuDetail}me(){var e,t,n;if(!this.hs&&this.X)this.ge=i.PlatformOS.UNKNOWN,this.be=i.PlatformBrowser.UNKNOWN,this.Xs=!0,this.we=3,this.osVersion=ot,this.browserVersion=ot,this.browserFullVer=ot,i.Log.d("{3c72abb}","{049d298}");else if(this.R)this.ge=i.PlatformOS.CHROME_OS,this.ye();else if(this.N)this.ye(),this.L?this.ge=i.PlatformOS.WINDOWS:this.H?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.ds?this.Zt?this.ge=i.PlatformOS.WINDOWS:this.ti?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.ii||this.si?(this.ge=i.PlatformOS.CHROME_OS,this.Xs=!0,this.we=7):this.hi&&(this.ge=this.Me()):this.ut?this.ge=i.PlatformOS.WINDOWS:this.ct?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.ft?this.ge=this.Me():this.vt?this.ge=i.PlatformOS.FREEBSD:(this.ge=i.PlatformOS.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{101497c}"));else if(this.B)this.Ie(),this.L?this.ge=i.PlatformOS.WINDOWS:this.H?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.O?(this.ge=i.PlatformOS.ANDROID,this.Te()):this.ft?this.ge=this.Me():this.vt?this.ge=i.PlatformOS.FREEBSD:(this.ge=i.PlatformOS.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{49fcccb}"));else if(this.U)this.be=i.PlatformBrowser.EDGE,this.V?this.ds&&this.qt||this.Wt?(this.ge=i.PlatformOS.XBOX,this.Se="MICROSOFT",this.$t?this.le="XBOXSERIES":this.Wt&&(this.le="XBOXONE")):this.ds?this.Zt?this.ge=i.PlatformOS.WINDOWS:(this.ge=i.PlatformOS.UNKNOWN,this.we=7):(this.cs,this.ge=i.PlatformOS.UNKNOWN):this.H?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.F?(this.ge=i.PlatformOS.ANDROID,this.Te()):this.ds?this.qt?(this.ge=i.PlatformOS.XBOX,this.Se="MICROSOFT",this.$t?this.le="XBOXSERIES":this.Wt&&(this.le="XBOXONE")):this.Zt?this.ge=i.PlatformOS.WINDOWS:this.ti?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.ii||this.si?(this.ge=i.PlatformOS.CHROME_OS,this.Xs=!0,this.we=7):this.ei?(this.ge=i.PlatformOS.ANDROID,this.Te()):this.hi&&(this.ge=this.Me()):this.ut?this.ge=i.PlatformOS.WINDOWS:this.ct?(this.ge=i.PlatformOS.MAC,this.Se="APPLE"):this.gt?(this.ge=i.PlatformOS.ANDROID,this.Te()):this.ft?this.ge=this.Me():this.vt?this.ge=i.PlatformOS.FREEBSD:(this.ge=i.PlatformOS.UNKNOWN,this.we=5);else if(this.L)this.V?this.Pe():(this.Pe(),this.Xs=!0,this.we=5);else if(this.H)this.De();else if(this.F)this.Ee();else if(this.ds&&(this.qt||this.Zt)||this.ut||this.Wt)this.Pe();else if(this.ds&&this.ti||this.At||this.lt||this.ct)this.De();else if(this.ds&&(this.ii||this.si))this.ge=i.PlatformOS.CHROME_OS,this.ye();else if(this.St)this.ge=i.PlatformOS.CCOS,this.Se="HKMC",this.be=i.PlatformBrowser.CHROMIUM;else if(this.ds&&this.ei||this.gt)this.Ee();else if(this.ds&&this.hi)this.Re();else if(this.bt)this.ge=i.PlatformOS.WEBOS,this.Se="LG",this.be=i.PlatformBrowser.CHROMIUM,this.browserFullVer=null!==(e=this.browserFullVer)&&void 0!==e?e:this.Ae,this.browserVersion=null!==(t=this.browserVersion)&&void 0!==t?t:this.fe,this.cs=!1;else if(this.wt){if(this.ge=i.PlatformOS.TIZEN,this.be=i.PlatformBrowser.SAMSUNG,null===(n=window.webapis)||void 0===n?void 0:n.productinfo)try{this.osVersion=window.webapis.productinfo.getFirmware(),this.deviceName=window.webapis.productinfo.getRealModel(),this.ke=window.webapis.productinfo.getLicensedVendor()}catch(e){i.Log.e("{3c72abb}","{bc7dd9b}")}else i.Log.e("{3c72abb}","{844af47}"),this.osVersion=ot,this.deviceName="";this.Se="Samsung"!==this.ke&&this.ke?"TIZENLICENSED":"SAMSUNG",this.Ne()}else this.ft?this.Be():this.vt?this.xe():this.j||this.Z||this.K?(this.lt=!0,this.De(),this.we=7):this.rt?(this.Ee(),this.we=7):(this.ge=i.PlatformOS.UNKNOWN,this.be=i.PlatformBrowser.UNKNOWN,this.we=0,i.Log.d("{3c72abb}","{f2eecc9}"));this.cs&&(this.osVersion=ot,this.browserVersion=ot,this.browserFullVer=ot)}Be(){this.tt?(this.ge=i.PlatformOS.ANDROID,this.Se="AMAZON",this.Ie(),this.Ce=i.PlatformType.TV):this.rt?(this.ge=i.PlatformOS.ANDROID,this.Se="SAMSUNG",this.be=i.PlatformBrowser.SAMSUNG,this.Te()):this.Oe()?this.cs?this.ge=this.Me():!this.yt||this.Ct||this.Mt?this.ji?(this.ge=i.PlatformOS.ANDROID,this.be=i.PlatformBrowser.PICO,this.Te()):this.ge=i.PlatformOS.LINUX:(this.ge=this.Me(),this.be=i.PlatformBrowser.CHROMIUM,this.we=7):(this.ge=i.PlatformOS.UNKNOWN,this.be=i.PlatformBrowser.UNKNOWN,this.we=0,i.Log.d("{3c72abb}","{be86380}"))}Ne(){const e=/(([0-9]+\.)*[0-9]+)\/(([0-9]+\.)*[0-9]+)/,t=navigator.userAgent;if(t){const n=t.match(e);this.browserFullVer=null==n?void 0:n[0];const i=null==n?void 0:n[1];if(i){const e=i.split(".");this.browserVersion=null==e?void 0:e[0]}}}Re(){this.ge=this.Me(),this.ds&&(this.Vt||this.Ht)||!this.ds&&this.Gt?(this.be=i.PlatformBrowser.UNKNOWN,this.we=3):this.Oe()||(this.be=i.PlatformBrowser.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{54c6569}"))}xe(){this.ge=i.PlatformOS.FREEBSD,this.X?this.be=i.PlatformBrowser.CHROME:this.J?this.Ie():(this.be=i.PlatformBrowser.UNKNOWN,this.we=3,i.Log.d("{3c72abb}","{a2c16e4}"))}Fe(){this.Kt?(this.Se="AMAZON",this.Ot&&(this.be=i.PlatformBrowser.SILK)):this.Qt?this.Se="SONY":this.zt?this.Se="GOOGLE":this.Yt?this.Se="NVIDIA":this.Xt?this.Se="XIAOMI":this.jt&&(this.Se="TVISION")}Ee(){this.ge=i.PlatformOS.ANDROID,this.ds?this.Pt?this.be=i.PlatformBrowser.EDGE:this.Et?this.be=i.PlatformBrowser.OPERAGX:this.Dt?this.be=i.PlatformBrowser.OPERA:this.Rt?this.be=i.PlatformBrowser.YANDEX:this.Nt?this.be=i.PlatformBrowser.BRAVE:this.Bt?this.be=i.PlatformBrowser.SAMSUNG:this.Tt?(this.ye(),this.Fe()):this.xt?this.be=i.PlatformBrowser.CHROMIUM:this.Ft?this.et?this.be=i.PlatformBrowser.OPERAGX:(this.ye(),this.Fe()):this.Ot&&(this.be=i.PlatformBrowser.CHROMIUM,this.Fe()):this.J?this.Ie():this.rt?(this.be=i.PlatformBrowser.SAMSUNG,this.Se="SAMSUNG"):this.nt?this.be=i.PlatformBrowser.BRAVE:this.ot?this.be=i.PlatformBrowser.YANDEX:this.ht?this.be=i.PlatformBrowser.OPERA:this.et?this.be=i.PlatformBrowser.OPERAGX:this.X?this.di?this.ji?this.be=i.PlatformBrowser.PICO:this.ye():this.Gt?this.be=i.PlatformBrowser.EDGE:this.be=i.PlatformBrowser.SILK:(this.ye(),this.we=7),this.Te()}Te(){var e,t,n,r;if(this.ds&&this.oi?this.Ce=i.PlatformType.TV:this.ds&&this.ri||this.ji?this.Ce=i.PlatformType.HMD:this.Ht||this.Gt||!this.ai?this.Ji&&!this.es||(this.ei?this.ni?this.Zi&&this.ss||(this.Ce=i.PlatformType.DESKTOP):this.Ji&&this.es&&(this.Ce=i.PlatformType.DESKTOP):this.Zi&&this.ss||(this.Ce=i.PlatformType.DESKTOP)):(this.Ce=i.PlatformType.TV,this.Se=null!==(t=null!==(e=this.Se)&&void 0!==e?e:this.ae)&&void 0!==t?t:"",this.deviceName=null!==(r=null!==(n=this.deviceName)&&void 0!==n?n:this.de)&&void 0!==r?r:"UNKNOWN",this.we=7),!this.Ce){const e=screen.width<screen.height?screen.width:screen.height;this.Ce=e>=600?i.PlatformType.TABLET:i.PlatformType.PHONE}}Pe(){this.ge=i.PlatformOS.WINDOWS,this.Oe()||(this.be=i.PlatformBrowser.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{44ce1e0}"))}De(){this.Se="APPLE";const e=()=>{this.ge=this.Wi?i.PlatformOS.IPADOS:i.PlatformOS.VISIONOS};this.ds&&this.ti?(this.ge=i.PlatformOS.MAC,this.Oe()||(this.be=i.PlatformBrowser.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{b80b712}"))):this.ct?this.Gt?(e(),this.Le()):(this.ge=i.PlatformOS.MAC,this.Oe()||(this.be=i.PlatformBrowser.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{0f3296f}")),this.be==i.PlatformBrowser.SAFARI&&this.He()):this.lt?(this.ge=i.PlatformOS.IOS,this.Le()):this.At?(e(),this.Le()):(this.Xs=!0,this.we=5,this.Gt?(this.ge=i.PlatformOS.IOS,this.Le(),i.Log.d("{3c72abb}","{cf1c572}")):(this.ge=i.PlatformOS.MAC,this.be=i.PlatformBrowser.UNKNOWN,i.Log.d("{3c72abb}","{1eb1815}")))}Me(){return this.n_?i.PlatformOS.STEAMOS:i.PlatformOS.LINUX}Ue(){this.ci?this.ki?this.li?this.Pi?this.Di?this.osVersion="17.4+":this.osVersion="17+":this.Ti?this.osVersion="16+":this.mi?this.G?this.osVersion="15.6+":this.osVersion="15.5+":this.pi?this.osVersion="15.4+":this.fi?this.osVersion="15.2+":this.Ai?this.osVersion="15.1+":this.osVersion="15+":this.osVersion="14.5+":this.gi?this.osVersion="14.3+":this.osVersion="14+":this.ui?this.osVersion="13+":this.osVersion="12-"}Le(){this.Ue();const e=this.osVersion,t=!this.Mi&&!(e.startsWith("12")||e.startsWith("13"));this.Z?this.be=i.PlatformBrowser.FIREFOX:this.st?this.be=i.PlatformBrowser.OPERA:this.nt?this.be=i.PlatformBrowser.BRAVE:this.ot?this.be=i.PlatformBrowser.YANDEX:this.K?this.be=i.PlatformBrowser.EDGE:this.j?this.be=i.PlatformBrowser.CHROME:this.yi&&!t?this.be=i.PlatformBrowser.SAFARI:this.dt?this.be=i.PlatformBrowser.REACT:t?(this.be=i.PlatformBrowser.UNKNOWN,this.we=7,i.Log.d("{3c72abb}","{5a39f60}")):(this.be=i.PlatformBrowser.UNKNOWN,this.we=5,i.Log.d("{3c72abb}","{147d6b4}"))}Ie(){this.be=i.PlatformBrowser.FIREFOX,this.Ci?this.ki?this.Si?this.wi?this.bi?this.browserVersion="88":this.browserVersion="89+":this.browserVersion="87":this.browserVersion="86":this.browserVersion="85":this.browserVersion="84-"}ye(){this.be=i.PlatformBrowser.CHROME,this.browserVersion||this.Ei&&(this.Ri?this.Ni?this.Bi?this.ki?this.xi?this.Oi?this.Fi?this.Li?this.Hi?this.Ui?this.Vi?this.Gi?this.browserVersion="90+":this.browserVersion="89":this.browserVersion="88":this.browserVersion="87":this.browserVersion="86":this.browserVersion="85":this.browserVersion="84":this.browserVersion="83":this.browserVersion="81":this.browserVersion="80":this.browserVersion="79":this.browserVersion="78":this.browserVersion="77")}He(){this.$i?this.browserVersion="18+":this.r_?this.browserVersion="17.5+":this.Ki?this.browserVersion="17.4":this.Qi?this.browserVersion="17.2+":this.zi?this.browserVersion="17+":this.Yi?this.browserVersion="16.5+":this.Xi?this.browserVersion="16.4":this.browserVersion="16.3-"}Oe(){var e;if(this.Wt)this.ge=i.PlatformOS.XBOX,this.Se="MICROSOFT",this.be=i.PlatformBrowser.EDGE,this.$t?this.le="XBOXSERIES":this.Wt&&(this.le="XBOXONE");else if(this.ds)this.qt?(this.ge=i.PlatformOS.XBOX,this.Se="MICROSOFT",this.be=i.PlatformBrowser.EDGE):this.Pt?this.be=i.PlatformBrowser.EDGE:this.Et?this.be=i.PlatformBrowser.OPERAGX:this.Dt?this.be=i.PlatformBrowser.OPERA:this.Rt?this.be=i.PlatformBrowser.YANDEX:this.Nt?this.be=i.PlatformBrowser.BRAVE:this.Tt?this.ye():(this.xt||this.Ot&&!this.Lt)&&(this.be=i.PlatformBrowser.CHROMIUM);else if(this.J)this.Ie();else if(this.it)this.be=i.PlatformBrowser.OPERA;else if(this.nt)this.be=i.PlatformBrowser.BRAVE;else if(this.ot)this.be=i.PlatformBrowser.YANDEX;else if(this.X)this.di?this.ds&&this.Ot?(this.be=i.PlatformBrowser.CHROMIUM,this.we=9):this.W?this.be=i.PlatformBrowser.CHROMIUM:(this.be=i.PlatformBrowser.CHROMIUM,this.we=7):(this.be=i.PlatformBrowser.EDGE,this.ge=null!==(e=this.ge)&&void 0!==e?e:i.PlatformOS.UNKNOWN,this.we=7);else if(this.Y||this.yi)this.be=i.PlatformBrowser.SAFARI;else{if(!this.s_)return!1;this.Wt?(this.ge=i.PlatformOS.XBOX,this.Se="MICROSOFT",this.be=i.PlatformBrowser.EDGE_LEGACY):this.be=i.PlatformBrowser.EDGE_LEGACY}return!0}xs(e){window.setTimeout(e,0)}Ve(e){var t;null===(t=this.telemetry)||void 0===t||t.Ge("TelemetryHandlerChanged"),this.telemetry=e;for(const e of this.Is){const t=e.name,n=e.data;switch(e.type){case"ErrorEvent":this.te(t,n);break;case"MessageEvent":this.Zs(t,n);break;case"WorkerUnused":this.he(t);break;case"WorkerTimeout":this.ee(t);break;case"WorkerCreateFailure":this.se(t,n);break;case"ErrorString":this.Js(t,n);break;case"WorkerOverlongDelay":this.js(t,n)}}this.Is=[]}te(e,t){this.telemetry?this.telemetry.Ge("WorkerProblem",e,t.message+" in "+t.filename+"@"+t.lineno+":"+t.colno,JSON.stringify(t.error)):this.Is.push({type:"ErrorEvent",name:e,data:t})}Js(e,t){this.telemetry?this.telemetry.Ge("WebWorkerProblem",e,t):this.Is.push({type:"ErrorString",name:e,data:t})}Zs(e,t){this.telemetry?this.telemetry.Ge("WorkerMessageProblem",JSON.stringify(t)):this.Is.push({type:"MessageEvent",name:e,data:t})}he(e){this.telemetry?this.telemetry.Ge("WorkerUnused",e):this.Is.push({type:"WorkerUnused",name:e})}ee(e){this.telemetry?this.telemetry.Ge("WorkerTimeout",e):this.Is.push({type:"WorkerTimeout",name:e})}se(e,t){var n;this.telemetry?this.telemetry.Ge("WorkerCreateFailure",e,null!==(n=null==t?void 0:t.stack)&&void 0!==n?n:"",JSON.stringify(t)):this.Is.push({type:"WorkerCreateFailure",name:e,data:t})}js(e,t){this.telemetry?this.telemetry.Ge("WorkerOverlongDelay",e,t.toString()):this.Is.push({type:"WorkerOverlongDelay",name:e,data:t})}};var pt,ft,gt,At,mt,vt,yt,Et;(Et=pt||(pt={})).WINDOWS="WINDOWS",Et.MACOS="MACOS",Et.SHIELD="SHIELD",Et.ANDROID="ANDROID",Et.IOS="IOS",Et.IPADOS="IPADOS",Et.CHROMEOS="CHROMEOS",Et.LINUX="LINUX",Et.TIZEN="TIZEN",Et.WEBOS="WEBOS",Et.TVOS="TVOS",Et.XBOX="XBOX",Et.STEAMOS="STEAMOS",Et.CCOS="CCOS",Et.VISIONOS="VISIONOS",(yt=ft||(ft={})).DESKTOP="DESKTOP",yt.LAPTOP="LAPTOP",yt.TV="TV",yt.PHONE="PHONE",yt.TABLET="TABLET",yt.CONSOLE="CONSOLE",yt.HMD="HMD",(vt=gt||(gt={})).APPLE="APPLE",vt.LG="LG",vt.SAMSUNG="SAMSUNG",vt.TIZEN_LICENSED="TIZENLICENSED",vt.MICROSOFT="MICROSOFT",vt.AMAZON="AMAZON",vt.HKMC="HKMC",vt.SONY="SONY",vt.PHILIPS="PHILIPS",vt.GOOGLE="GOOGLE",vt.NVIDIA="NVIDIA",vt.XIAOMI="XIAOMI",vt.TVISION="TVISION",vt.UNKNOWN="",(mt=At||(At={})).STEAMDECK="STEAMDECK",mt.XBOX_ONE="XBOXONE",mt.XBOX_SERIES="XBOXSERIES",mt.VISION_PRO="VISIONPRO",mt.QUEST="QUEST";const St={GridServer_GameLaunch_Request:{name:"GridServer_GameLaunch_Request",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_Feature:{name:"GS_Feature",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_SystemAPICallResult:{name:"GS_SystemAPICallResult",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_DebugInfo:{name:"GS_DebugInfo",gdprLevel:i.GdprLevel.TECHNICAL},GS_ExceptionInfo:{name:"GS_ExceptionInfo",gdprLevel:i.GdprLevel.TECHNICAL},GS_ClientMetricEvent:{name:"GS_ClientMetricEvent",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_ConnectivityCheck:{name:"GS_ConnectivityCheck",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_Sleep_Event:{name:"GS_Sleep_Event",gdprLevel:i.GdprLevel.TECHNICAL},GS_WsCallResult:{name:"GS_WsCallResult",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_HttpCallResult:{name:"GS_HttpCallResult",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_PropertyChange_Event:{name:"GS_PropertyChange_Event",gdprLevel:i.GdprLevel.FUNCTIONAL},GS_CodecError_Event:{name:"GS_CodecError_Event",gdprLevel:i.GdprLevel.FUNCTIONAL}};class bt{constructor(e){this.name="",this.gdprLevel=i.GdprLevel.BEHAVIORAL,this.priority=!1,this.parameters=e,this.ts=(new Date).toISOString()}}class xt extends bt{constructor(e){super(e),this.name=St.GS_Feature.name,this.gdprLevel=St.GS_Feature.gdprLevel}}class wt extends bt{constructor(e){super(e),this.name=St.GS_DebugInfo.name,this.gdprLevel=St.GS_DebugInfo.gdprLevel}}class It extends bt{constructor(e){super(e),this.name=St.GS_ExceptionInfo.name,this.gdprLevel=St.GS_ExceptionInfo.gdprLevel}}class Ct extends bt{constructor(e){super(e),this.name=St.GS_ClientMetricEvent.name,this.gdprLevel=St.GS_ClientMetricEvent.gdprLevel}}class Tt extends bt{constructor(e){super(e),this.name=St.GS_Sleep_Event.name,this.gdprLevel=St.GS_Sleep_Event.gdprLevel}}class Mt extends bt{constructor(e){super(e),this.name=St.GS_WsCallResult.name,this.gdprLevel=St.GS_WsCallResult.gdprLevel}}class Bt{constructor(e,t,n){this.We=0,this.$e=0,this.l_=0,this.qe=0,this.Ke=0,this.Qe="",this.ze=0,this.Ye=!1,this.Xe=4,this.listener=e,this.frequency=null!=t?t:1e4,this.je=null!=n?n:1e4,this.Je=this.Ze()}th(){this.ih(!1),this.We=(new Date).getTime(),this.$e=0,this.l_=0,this.qe=0,this.Je=this.Ze(),this.Qe="",this.Ye=!1,i.Log.d("{0f7a7d0}","{456f7b1}"),this.Ke=window.setInterval(()=>this.sh(),this.frequency)}ih(e){i.Log.d("{0f7a7d0}","{1d02c0d}"),this.eh();const t=()=>{this.Ke&&(window.clearInterval(this.Ke),this.Ke=0)};e?this.ze=window.setTimeout(()=>t(),this.Je):t()}hh(){if(!this.Ke)return;const e=(new Date).getTime();this.qe=e,this.nh(e),this.oh("e"),this.Ye=this.rh(),this.ah()}dh(e){this.Je=null!=e?e:this.Ze()}sh(){const e=(new Date).getTime();this.nh(e),this.oh("p"),this.Ye||(this.Ye=this.rh()),this.We=e}oh(e){this.Qe.endsWith(e)||(this.Qe.length>=this.Xe&&(this.Qe=this.Qe.substring(1)),this.Qe+=e)}rh(){let e=!1,t=!1,n=!1;for(let e=0;e<this.Qe.length;e++)"s"===this.Qe.charAt(e)?t=!0:"e"===this.Qe.charAt(e)&&(n=!0);return t&&n&&this.uh()&&(e=!0,this.listener.Ah({fh:this.qe,ph:this.l_,duration:this.$e,Qe:this.Qe})),e}nh(e){const t=this.mh(e);t>this.je&&(this.l_=e,this.$e=t,this.oh("s"),this.ah())}mh(e){return Math.max(0,e-this.We-this.frequency)}Ze(){return 2*this.frequency+500}uh(){return Math.min(Math.abs(this.qe-this.l_),Math.abs(this.qe-this.l_+this.$e))<this.Je}eh(){this.ze&&(window.clearTimeout(this.ze),this.ze=0)}ah(){let e="n/a";this.l_&&(e=new Date(this.l_).toISOString()),i.Log.i("{0f7a7d0}","{e4526ad}",this.$e,e)}}function Rt(e,t,n){return{gh:"online"===e,description:n?e+"("+n.name+": "+n.message+")":t?e+"("+t+")":e}}class Pt{constructor(e,t,n=1500,r=!1){this.timeout=n,this.bh=r,this.url=("http:"===window.location.protocol?"http://":"https://")+e,this.wh=null!=t?t:fetch,i.Log.i("{0ce6b17}","{dda0527}",this.url,this.timeout)}async run(){if(this.bh)return Rt("online");const e=performance.now();try{const t=new AbortController;window.setTimeout(()=>t.abort(),this.timeout);const n=await this.wh(this.url,{method:"OPTIONS",signal:t.signal}),r=n.status,s=n.status>=200&&n.status<300||403==n.status?"online":"offline_wrong_status",a=performance.now(),o=Math.round(a-e);return i.Log.i("{0ce6b17}","{b7012d7}",s,o),Rt(s,r)}catch(e){return Rt("AbortError"===e.name?"timeout":"offline",void 0,e)}}}let _t={Sh:{},kh:{type:"UNKNOWN",version:""},o:!0,l:!1,Ch:!0,yh:!1};var Dt,Nt;(Nt=Dt||(Dt={}))[Nt.CREATE_SESSION=0]="CREATE_SESSION",Nt[Nt.RESUME_SESSION=1]="RESUME_SESSION",Nt[Nt.DELETE_SESSION=2]="DELETE_SESSION",Nt[Nt.GET_SESSIONINFO=3]="GET_SESSIONINFO",Nt[Nt.AD_UPDATE=4]="AD_UPDATE",Nt[Nt.GET_ACTIVE_SESSIONS=5]="GET_ACTIVE_SESSIONS";let Lt={Mh:{},clientConfigOverride:"",kh:{type:"UNKNOWN",version:""},Ih:!1,o:!0,l:!1,Th:!0,Ph:!0,Dh:!0,maxBitrate:0,Eh:0,Rh:0,Nh:!1,Bh:!0,xh:!1,Oh:!0,Fh:!1,Lh:!1,Hh:!1,Uh:!1,Vh:!0,Gh:!1,Wh:!0,$h:!0,d_:!0,qh:!0,Kh:!0,fps:0,Qh:!0,enableComputePressure:!0,zh:!1,Yh:"",iceTransportPolicy:""},Ot=[];function kt(e){if(e){const t=Number.parseInt(e);if(!Number.isNaN(t))return t}}function Ut(){return getComputedStyle(document.documentElement)?(getComputedStyle(document.documentElement).getPropertyValue("--sat")||(document.documentElement.style.setProperty("--sat","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--sar","env(safe-area-inset-right)"),document.documentElement.style.setProperty("--sab","env(safe-area-inset-bottom)"),document.documentElement.style.setProperty("--sal","env(safe-area-inset-left)")),{top:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sat")),left:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sal")),bottom:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")),right:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sar"))}):{top:0,left:0,bottom:0,right:0}}function Ft(e,t,n){return e<t?t:e>n?n:e}function Qt(e){let t=Ut();t.top=Math.max(t.top,21),t.bottom=Ft(t.bottom,0,10);let n={x:e.clientX,y:e.clientY},i=.5;if(t.top>0&&e.clientY-e.radiusY<t.top){const n=e.clientY-Math.min(e.radiusY,21);let r=(t.top-n)/e.radiusY;r=Ft(r,0,1),i-=r*r*.5}else if(t.bottom>0&&e.clientY+e.radiusY>window.innerHeight-t.bottom){let n=(e.clientY+Math.min(e.radiusY,10)-(window.innerHeight-t.bottom))/e.radiusY;n=Ft(n,0,1),i+=n*n*.5}return n.y=Ft(n.y-e.radiusY+2*i*e.radiusY,0,window.innerHeight),n}function Vt(e,t){if(t)return!0;switch(e){case 15868706:case 15868714:case 15868742:case 15867910:return!0;default:return!1}}function Ht(e,t){const n=e*t;return n>=2764800&&n<4953600}function Gt(e,t){return e*t>=4953600}function zt(e){switch(e){case"H264":return"H264";case"H265":return"HEVC";case"AV1":return"AV1";default:return"UNKNOWN"}}function Wt(e){var t;const n=_e(e)||De(e)||Ne(e)||Oe(e)||xe(e);return null!==(t=Lt.Mh.enableCpm)&&void 0!==t?t:n}function Xt(e){const t=Lt.Mh.disableUnadjustedMovementForAppIds;return t&&-1!==t.indexOf(e)?(i.Log.i("{d988e7f}","{265cfdc}",e),!1):Lt.unadjustedMovement}function jt(e){return void 0!==e?e?"TRUE":"FALSE":"UNDEFINED"}function qt(e){return e?"MANUAL":"NONE"}function Yt(e){return e.width.toFixed()+"x"+e.height.toFixed()}function Jt(){return{width:screen.width,height:screen.height}}function Zt(e,t,n){try{const i=document.createElement("a");i.style.display="none";const r=new Blob(e,{type:n}),s=URL.createObjectURL(r);return i.href=s,i.download=t,document.body.appendChild(i),i.click(),URL.revokeObjectURL(s),document.body.removeChild(i),!0}catch(e){return i.Log.e("{d988e7f}","{8d57ba9}",e),!1}}function Kt(e){const t=window.AudioContext||window.webkitAudioContext||void 0;if(t){let n;return n=e?new t({sampleRate:e}):new t,n}i.Log.w("{d988e7f}","{b74c037}")}function $t(){var e;return!!(null===(e=globalThis.PointerEvent)||void 0===e?void 0:e.prototype)}async function en(e,t,n){var r;const s=new RTCPeerConnection;try{await s.setRemoteDescription({type:"offer",sdp:t}).catch(e=>{throw new Error("Audio munging setRemoteDescription failed. "+e)});const a=await s.createAnswer();await s.setLocalDescription({type:"answer",sdp:null===(r=a.sdp)||void 0===r?void 0:r.replace("opus/48000/2","multiopus/48000/"+e).replace("useinbandfec=1",n)}).catch(e=>{throw new Error("Audio munging setLocalDescription failed. "+e)});const o=s.getReceivers()[0];if(!o.getParameters)return i.Log.w("{d988e7f}","{4be0bf6}"),2;const{codecs:l}=o.getParameters();if(1!==l.length||"audio/multiopus"!==l[0].mimeType||l[0].channels!==e)throw new Error("Audio munging failed "+l[0]);return i.Log.i("{d988e7f}","{8919816}",e,l[0]),e}catch(t){return i.Log.e("{d988e7f}","{4984c00}",e,t),2}finally{s.close()}}function tn(e){if(!e)return 8;switch(null==e?void 0:e.bitDepth){case i.BitDepth.BIT_DEPTH_10:return 10;case i.BitDepth.BIT_DEPTH_8:return 8;default:return i.Log.w("{d988e7f}","{6f291f9}",e.bitDepth),8}}function nn(e){switch(e){case 1e3:return 3237101567;case 1001:return 3237101566;case 1002:return 3237101565;case 1003:return 3237101564;case 1005:return 3237101562;case 1006:return 3237093890;case 1007:return 3237101560;case 1008:return 3237101559;case 1009:return 3237101558;case 1010:return 3237101557;case 1011:return 3237101556;case 1012:return 3237101555;case 1013:return 3237101554;case 1014:return 3237101553;case 1015:return 3237101552;case 3e3:return 3237101551;case 3003:return 3237101550;case 3008:return 3237101549}return e>=4100&&e<=4999?e-4e3+3237097472:3237093890}function rn(e){return e.getTransceivers().filter(e=>{var t;return"video"===(null===(t=e.receiver.track)||void 0===t?void 0:t.kind)&&("recvonly"===e.direction||"sendrecv"===e.direction)})}class sn{constructor(e,t){this.vn=null,this.currentState=0,this.Xh=!1,this.pn=new Set,this.mn=!1,this.initialized=!1,this.gn=0,this.bn=!1,this.wn=!1,this.Sn=!1,this.kn={Cn:0,yn:0,Mn:0},this.In=new Map([["permissionDenied",0],["visibilityChange",0],["deviceChange",0]]),this.Tn=!1,this.Ms=e,this.telemetry=t,this.Pn=null,this.Dn=null,this.En=!1,this.paused=!1,Xe(e,15)&&(this.mn=!0)}Rn(e){let t=2;return"granted"==e?t=5:"prompt"==e&&(t=1),t}Nn(){return!1===Lt.Xh?Promise.resolve(0):window.navigator.permissions?window.navigator.permissions.query({name:"microphone"}).then(e=>this.Rn(e.state)).catch(e=>0):Promise.resolve(0)}Bn(){!1!==Lt.Xh&&(this.En||3==this.currentState||2==this.currentState||6==this.currentState||7==this.currentState?this.xn(this.currentState):this.Nn().then(e=>{0!==e&&this.xn(e)}))}static isMicSupported(){return sn.On}xn(e,t=!0){this.currentState=e,3===this.currentState&&(this.Tn=!0),this.vn&&t&&this.vn.emit("MicCapture",{state:this.currentState})}async getUserMedia(e){return this.En=!0,navigator.mediaDevices.getUserMedia({audio:e}).then(e=>{if(i.Log.d("{223689a}","{b204737}"),this.xn(5,!1),this.En=!1,this.Dn=e,xe(this.Ms)&&(e.getTracks()[0].onended=()=>{this.gn=performance.now(),i.Log.i("{223689a}","{6b60d82}"),this.Fn()}),this.Dn.oninactive=()=>{i.Log.d("{223689a}","{eee54f1}"),this.pn.clear(),this.Dn=null},this.paused)i.Log.d("{223689a}","{21e76e1}"),this.Dn=null,this.xn(7);else{var t=this.Pn.getSenders()[0];t?t.replaceTrack(e.getTracks()[0]).then(()=>{var e;i.Log.i("{223689a}","{6c92139}");const t=null!==(e=this.Ln)&&void 0!==e?e:this.Hn;if(xe(this.Ms)&&!Xe(this.Ms,15,4)&&t&&!t.muted){let e;t.srcObject&&(e=t.play(),i.Log.i("{223689a}","{23a6493}",t.tagName)),e?e.then(()=>{i.Log.d("{223689a}","{5593cbe}"),this.Un()}).catch(e=>{this.Un();try{this.telemetry.Ge("WAR: Play Error",null==e?void 0:e.name,null==e?void 0:e.message),i.Log.e("{223689a}","{69aae72}",null==e?void 0:e.name,null==e?void 0:e.message)}catch(e){}}):i.Log.e("{223689a}","{b6a6508}")}this.xn(3),this.Sn=!1,Xe(this.Ms,15,4)&&(this.bn=!1,this.Vn(!1))}).catch(e=>{i.Log.e("{223689a}","{5c42246}",e),this.Dn=null,this.xn(7)}):(i.Log.e("{223689a}","{f7f0250}"),this.Dn=null)}}).catch(t=>{var n,r;xe(this.Ms)&&!Xe(this.Ms,15,4)&&this.Un(),this.En=!1,t instanceof DOMException&&"NotAllowedError"===t.name?(i.Log.e("{223689a}","{3f9bd66}"),this.xn(2),this.wn&&!this.bn&&this.Gn("permissionDenied")):t instanceof DOMException&&"NotFoundError"===t.name?(i.Log.e("{223689a}","{7f04869}"),this.xn(4)):t instanceof DOMException&&"NotReadableError"===t.name?(this.pn.add(null!==(n=e.deviceId)&&void 0!==n?n:"default"),i.Log.e("{223689a}","{af7e08c}",null!==(r=e.deviceId)&&void 0!==r?r:"default",t.name,t.message),navigator.mediaDevices.enumerateDevices().then(t=>{for(const n of t)if("audioinput"===n.kind&&"default"!==n.deviceId&&!this.pn.has(n.deviceId)){i.Log.d("{223689a}","{655d8b0}",n.deviceId,n.label),e.deviceId=n.deviceId,this.getUserMedia(e);break}}).catch(e=>{i.Log.e("{223689a}","{930e826}",e.name,e.message)}),this.xn(7)):(i.Log.e("{223689a}","{c361fc5}",t.name,t.message),this.xn(7))})}async Wn(e){var t,n;if(!this.initialized)return;if(!sn.On)return i.Log.e("{223689a}","{999b07b}"),void this.xn(6);if(this.Xh=!0,null!=this.Dn||this.En)return;i.Log.d("{223689a}","{981c872}",null!==(t=null==e?void 0:e.deviceId)&&void 0!==t?t:"default"),this.$n=e,this.paused=!1,this.xn(1,!1);let r={sampleRate:48e3,deviceId:null===(n=this.$n)||void 0===n?void 0:n.deviceId};_e(this.Ms)&&(r.googAutoGainControl2=!1),navigator.mediaDevices.ondevicechange=e=>{i.Log.i("{223689a}","{50d0169}",!!this.Dn,this.En),null!=this.Dn||this.En||(i.Log.d("{223689a}","{c849290}"),this.Wn(this.$n))},await this.getUserMedia(r),this.f_||this.qn()}Kn(){let e=Kt(48e3);if(e){let t=e.createMediaStreamDestination().stream.getAudioTracks()[0];return e.close(),t.enabled=!0,new MediaStream([t])}throw new Error("Mic stream is not supported")}initialize(e,t,n,r){if(!1!==Lt.Xh){if(this.Pn=e,this.vn=t,this.Hn=n,this.Ln=r,sn.On){let e=this.Kn();if(null==e)return void i.Log.w("{223689a}","{360f38b}");this.Pn.addTrack(e.getAudioTracks()[0],e),this.Xh&&this.Wn(this.$n)}else i.Log.w("{223689a}","{5813c2b}");this.initialized=!0}}Fn(){if(!this.initialized)return;if(!sn.On)return void this.xn(6);this.Xh=!1,this.paused=!0,this.$n=void 0;const e=this.currentState;if(navigator.mediaDevices.ondevicechange=()=>{},this.Pn){i.Log.d("{223689a}","{6faf5bb}");let n=this.Kn();var t=this.Pn.getSenders()[0];t?t.replaceTrack(n.getTracks()[0]).then(()=>{i.Log.d("{223689a}","{797fa55}"),this.xn(5,!1),3===e&&(this.Sn=!0)}).catch(e=>{i.Log.e("{223689a}","{79f26cc}",e),this.xn(7,!1)}).finally(()=>{let e=this.Dn;this.Dn=null,e&&e.getTracks().forEach(e=>{e.stop()}),this.xn(this.currentState),xe(this.Ms)&&!Xe(this.Ms,15,4)&&this.Un()}):(i.Log.e("{223689a}","{f7f0250}"),this.Dn=null)}else i.Log.e("{223689a}","{9e75fa2}"),this.xn(0)}Qn(){if(!1!==Lt.Xh){if(null!=this.Dn){let e=this.Dn;this.pn.clear(),this.Dn=null,navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=()=>{}),e.getTracks().forEach(e=>{e.stop()})}this.Xh=!1,this.xn(5),this.telemetry.zn("AudioInputType",this.Tn?"started":"not started",0,this.kn.Cn,this.kn.yn,this.kn.Mn),Xe(this.Ms,15,4)&&this.telemetry.zn("LowAudioVolume","",0,this.In.get("permissionDenied"),this.In.get("visibilityChange"),this.In.get("deviceChange")),this.Pn=null,this.vn=null,this.Hn=void 0,this.Ln=void 0,this.initialized=!1,this.kn={Cn:0,yn:0,Mn:0};for(const[e,t]of this.In)this.In.set(e,0);this.bn=!1,this.Sn=!1,this.Vn(!1),this.Tn=!1}}Un(){var e,t,n;if(!Lt.$h)return;if(!this.mn)return;const r=null!==(t=null===(e=this.Ln)||void 0===e?void 0:e.srcObject)&&void 0!==t?t:null===(n=this.Hn)||void 0===n?void 0:n.srcObject;if(!r)return;i.Log.i("{223689a}","{ad4b8c2}");const s=r.getAudioTracks()[0];s.enabled=!1,setTimeout(()=>{s.enabled=!0},0)}getMicState(){return this.currentState}Yn(){return this.gn}Vn(e){this.wn=e}Xn(){return this.bn}jn(){return this.Sn}qn(){return navigator.mediaDevices.enumerateDevices().then(e=>{let t=0;i.Log.d("{223689a}","{fa1ec18}",JSON.stringify(e));for(const n of e)"audioinput"==n.kind&&t++;switch(t){case 0:this.f_="No Audio Input",this.kn.Cn++;break;case 1:this.f_="Built-in Microphone",this.kn.yn++;break;default:this.f_="Headset Microphone",this.kn.Mn++}i.Log.d("{223689a}","{0d14ab6}",this.f_)}).catch(e=>{i.Log.e("{223689a}","{21131d5}")})}Jn(){return"Built-in Microphone"===this.f_}Gn(e){var t;this.bn=!0,this.In.set(e,(null!==(t=this.In.get(e))&&void 0!==t?t:0)+1),i.Log.d("{223689a}","{30f8637}",e)}Zn(e){this.qn().then(()=>{0!==e&&Xe(this.Ms,15,4)&&!this.Xn()&&this.Jn()&&(this.Xh||this.jn())&&this.Gn("deviceChange")})}}function an(e,t,n){var i,r,s,a;const o=Ht(e,t),l=Gt(e,t),c=30===n?1.25*n:Math.min(n,60);let u=0,d=e*t*c;if(o||l){u=null!==(r=null!==(i=Lt.bitsPerPixel1440p)&&void 0!==i?i:Lt.Mh.bitsPerPixel1440p)&&void 0!==r?r:.325;let e=2073600*c,t=3686400*c;t=e+(t-e)/3,d=l?t+(d-t)/12:e+(d-e)/3}else u=null!==(a=null!==(s=Lt.bitsPerPixel)&&void 0!==s?s:Lt.Mh.bitsPerPixel)&&void 0!==a?a:.3;return d=d*u/1200,n>=120&&!l&&(d=Math.min(5e4,Math.round(1.15*d))),[Math.round(d),5e4]}var on;t.BrowserFeature=void 0,sn.On=!(!navigator.mediaDevices||!window.AudioContext&&!window.webkitAudioContext),(on=t.BrowserFeature||(t.BrowserFeature={}))[on.Streaming=0]="Streaming",on[on.MicCapture=1]="MicCapture";const ln={width:1920,height:1080,fps:60},cn=new class{io(){this.so(),this.eo()}so(e=ln){return this.ho=e,this.no=this.oo("av1",this.ho.width,this.ho.height,this.ho.fps).then(e=>(this.ro=e,this.ro)),this.no}ao(e=ln){const t=gn(e,this.ho);return!t&&this.ro?Promise.resolve(this.ro):!t&&this.no?this.no:this.so(e)}do(){return this.ro}eo(e=ln){return this.co=e,this.lo=this.oo("h265",this.co.width,this.co.height,this.co.fps).then(e=>(this.uo=e,this.uo)),this.lo}Ao(e=ln){const t=gn(e,this.co);return!t&&this.uo?Promise.resolve(this.uo):!t&&this.lo?this.lo:this.eo(e)}fo(){return this.uo}oo(e,t=ln.width,n=ln.height,r=ln.fps){const s=navigator.mediaCapabilities;if(!s)return Promise.resolve(void 0);const a={type:"webrtc",video:{contentType:"video/"+e,width:t,height:n,framerate:r,bitrate:1e3*an(t,n,r)[0]}};return s.decodingInfo(a).catch(t=>{i.Log.w("{2bbf952}","{f5c2155}",e,t)})}};function un(e){var t;if(RTCRtpReceiver.getCapabilities){const n=null===(t=RTCRtpReceiver.getCapabilities("video"))||void 0===t?void 0:t.codecs;if(n)return!!n.filter(t=>t.mimeType==="video/"+e).length}return!0}async function dn(e,t){var n,i,r;const s=null!==(i=null!==(n=Lt.enableAv1Support)&&void 0!==n?n:Lt.Mh.enableAv1Support)&&void 0!==i?i:_e(o=e)?Ve(o):!!De(o)&&(Ve(o)||Ee(o)||Be(o)),a=null!==(r=Lt.Mh.enableAv1ByResolutionAndFps)&&void 0!==r?r:7;var o;if(!s)return!1;if(hn(a,t))return!1;if(!un("AV1"))return!1;const l=await cn.ao(Pe(e)?t:void 0);return!!(null==l?void 0:l.powerEfficient)}function hn(e,t){return t&&(Gt(t.width,t.height)&&!(4&e)||Ht(t.width,t.height)&&!(2&e)||120===t.fps&&!(1&e))}async function pn(e,t){var n,r,s;const a=null!==(r=null!==(n=Lt.enableH265Support)&&void 0!==n?n:Lt.Mh.enableH265Support)&&void 0!==r?r:Le(l=e)||Pe(l)||we(l),o=null!==(s=Lt.Mh.enableH265ByResolutionAndFps)&&void 0!==s?s:7;var l;if(!a)return!1;if(hn(o,t))return!1;if(Pe(e))return function(e){if(!Pe(e))return!1;const t=window.lge_webrtc_hevc_support;return i.Log.i("{2bbf952}","{afaf4f3}",t,typeof t),"string"==typeof t?"true"===t:!!t}(e);if(Le(e))return function(e){var t,n,r;if(!Le(e))return!1;const s=null===(r=null===(n=null===(t=window.webapis)||void 0===t?void 0:t.productinfo)||void 0===n?void 0:n.getSmartTVServerVersion)||void 0===r?void 0:r.call(n),a=function(e){if(!e)return;const t=e.match(/T-INFOLINK(\d+)-(\d+)/);return t?{vo:parseInt(t[1],10),version:parseInt(t[2],10)}:void 0}(s);if(!a)return i.Log.e("{2bbf952}","{e227976}",s),!1;const{vo:o,version:l}=a;return i.Log.i("{2bbf952}","{fc40a4b}",o,l),2021===o||o>=2023||2022===o&&l>=1008}(e);if(!un("H265"))return!1;const c=await cn.Ao(Pe(e)?t:void 0);return!!(null==c?void 0:c.powerEfficient)}async function fn(e,t){var n;let i=[];const r=null!==(n=Lt.codecList)&&void 0!==n?n:Lt.Mh.codecList;if(r)for(const e of r)i.push(e);else{const[n,r]=await Promise.all([dn(e,t),pn(e,t)]);n&&i.push("AV1"),r&&i.push("H265"),Pe(e)&&t&&t.fps>60||i.push("H264")}return i}function gn(e,t){return(null==t?void 0:t.width)!==e.width&&(null==t?void 0:t.height)!==e.height&&(null==t?void 0:t.fps)!==e.fps}function An(e){var t,n,r,s,a,o,l,c;const{Ms:u,So:d,ko:h,Co:p,yo:f}=e,g=be(u),A=Ie(u),m=(M=h,B=p,!!Le(u)&&!navigator.userAgent.includes("SamsungBrowser")&&!(!B||B.panelWidth<3840||B.panelHeight<2160)&&M.includes("H265")||(T=h,!!Pe(u)&&!!navigator.userAgent.includes("PWA")&&T.includes("H265"))||we(u)),v=m,y=null!==(t=Lt.hdr)&&void 0!==t?t:Lt.Mh.forceHdrSupport,E=null!=y?y:!!(null!==(n=Lt.Mh.enableHdrSupport)&&void 0!==n?n:Le(u)||Pe(u))&&(C=h,!(!Le(I=u)&&!Pe(I))&&yn(I,C)),S=null!==(s=null!==(r=Lt.tn)&&void 0!==r?r:Lt.Mh.forceSdr10Support)&&void 0!==s?s:!(null!==(a=Lt.Mh.enableSdr10Support)&&void 0!==a&&!a)&&yn(u,h),b=!!(null==f?void 0:f.length),[x,w]=(R=[e.Mo,e.Io])[0]<R[1]?[R[1],R[0]]:R;var I,C,T,M,B,R;const P={width:Math.round(x*d),height:Math.round(w*d),fps:b?120:60,scaleFactor:Math.round(100*d)};let _;m?_={width:3840,height:2160,fps:P.fps}:g&&x>=1366?_={width:1600,height:1200,fps:P.fps}:A?_={width:2560,height:1440,fps:P.fps}:xn(u,p)?_={width:1920,height:1080,fps:P.fps}:wn(u,p)&&(_={width:1280,height:720,fps:P.fps});let D=[{width:2560,height:1600,fps:120},{width:3840,height:1080,fps:120}];v?D.push({width:3840,height:2160,fps:P.fps}):xn(u,p)?D=[{width:1920,height:1080,fps:P.fps}]:wn(u,p)&&(D=[{width:1280,height:720,fps:P.fps}]);let N,L=!1;if(E){const e=null===(o=window.matchMedia)||void 0===o?void 0:o.call(window,"(dynamic-range: high)").matches,t=null===(l=window.matchMedia)||void 0===l?void 0:l.call(window,"(video-dynamic-range: high)").matches,n=null===(c=window.matchMedia)||void 0===c?void 0:c.call(window,"(color-gamut: p3)").matches;i.Log.i("{5083445}","{f9f1c3b}",e,t,n),L=Pe(u)?e||t:(e||t)&&n,N=function(e){var t,n;const r=null!==(t=Lt.hdr10gParams)&&void 0!==t?t:Lt.Mh.hdr10gParams;if(r){const e=r.split(",").map(e=>parseInt(e,10));if(i.Log.i("{5083445}","{4c54116}",e.join(", ")),e.length>=3&&!e.some(e=>isNaN(e))){const[t,n,i]=e;return{version:t,peakLuminanceIndex:n,peakFullFrameLuminanceIndex:i}}}if(Le(e))try{const e=window.webapis.hdr10pluscloud;if(!e)return void i.Log.i("{5083445}","{e293b13}");if(null===(n=null==e?void 0:e.isHdr10plusGamingSupported())||void 0===n||!n)return void i.Log.i("{5083445}","{c91f105}");const t=1,r=null==e?void 0:e.getPeakLuminanceIndex(),s=null==e?void 0:e.getFullFramePeakLuminanceIndex();if(i.Log.i("{5083445}","{a5dcb3f}",t,r,s),void 0===t||void 0===r||void 0===s)return;return{version:t,peakLuminanceIndex:r,peakFullFrameLuminanceIndex:s}}catch(e){return void i.Log.w("{5083445}","{b510204}",e)}}(u),!L&&N&&(i.Log.w("{5083445}","{e13aa38}"),L=!0)}y&&(L=!0);const O=function(){const e=Kt();if(e){const t=e.destination.maxChannelCount;return e.close(),i.Log.i("{d988e7f}","{fa78e0a}",t),t}return i.Log.w("{d988e7f}","{d018fac}"),2}();return mn={displayMode:P,maxAutoMode:_,maxSupportedModes:D,features:{vsync:0,vvsync:!1,hdr:L,reflex:!1,audioChannelCount:O,bitDepth:E?10:8,sdrBitDepth:S?10:8,hdr10PlusGamingData:N}},mn}let mn;function vn(){return mn}function yn(e,t){return Le(e)||Pe(e)||xe(e)?t.includes("H265"):t.includes("AV1")}var En;t.VsyncType=void 0,(En=t.VsyncType||(t.VsyncType={}))[En.OFF=0]="OFF",En[En.ON=1]="ON",En[En.ADAPTIVE=2]="ADAPTIVE";const Sn=new class{constructor(){this.To=[],this.Po=!1,this.Do=()=>{if(!this.Eo)return;const e=window.screen.width,t=window.screen.height,n=window.devicePixelRatio;if(e===this.Eo.Mo&&t===this.Eo.Io&&n===this.Eo.So)return;this.Eo.Mo=e,this.Eo.Io=t,this.Eo.So=n;const i=An(this.Eo);this.Ro(i)},this.No=async()=>{if(!this.Eo)return;const[e,t]=await Promise.all([fn(this.Eo.Ms),Pe(this.Eo.Ms)?fn(this.Eo.Ms,{width:3840,height:2160,fps:120}):Promise.resolve(void 0)]);this.Eo.ko=e,t&&(this.Eo.yo=t);const n=An(this.Eo);this.Ro(n)}}po(){this.Po||(this.Po=!0,this.Bo(),cn.io())}async mo(e){const[t,n,i]=await Promise.all([fn(e),bn(e),Pe(e)?fn(e,{width:3840,height:2160,fps:120}):Promise.resolve(void 0)]);this.Eo={Ms:e,ko:t,Mo:window.screen.width,Io:window.screen.height,So:window.devicePixelRatio,Co:n,yo:i};const r=An(this.Eo);return this.Ro(r),r}bo(e){this.To.push(e),this.To.length>0&&this.xo()}wo(e){this.To=this.To.filter(t=>t!==e),0===this.To.length&&this.Oo()}Ro(e){for(const t of this.To)t(e)}xo(){var e;const t=window.screen;var n;null===(e=t.addEventListener)||void 0===e||e.call(t,"change",this.Do),window.addEventListener("focus",this.Do),window.addEventListener("resize",this.Do),n=this.No,Ot.push(n)}Oo(){var e,t;t=this.No,Ot=Ot.filter(e=>e!==t),window.removeEventListener("resize",this.Do),window.removeEventListener("focus",this.Do);const n=window.screen;null===(e=n.removeEventListener)||void 0===e||e.call(n,"change",this.Do)}async Bo(){const e=await this.Fo(!0);return this.Lo(e)}async Ho(){const e=await this.Fo(!1);return this.Lo(e)}Fo(e){return e&&(this.refreshRate=void 0),this.refreshRate?Promise.resolve(this.refreshRate):this.Uo?this.Uo:this.Vo()}Lo(e){return e>=117}Vo(){return this.Uo=this.Go(2e3,4e3).then(e=>(this.refreshRate=e,this.refreshRate),()=>{var e;return null!==(e=this.refreshRate)&&void 0!==e?e:0}),this.Uo}Go(e,t){return new Promise((n,r)=>{let s=!1;const a=window.setTimeout(()=>{s=!0},t),o=e=>{i.Log.w("{5083445}","{0b0c6f9}",e),window.clearTimeout(a),r()};e>t&&o("Specified timeout less than the scan interval");const l=[];let c,u=window.innerWidth,d=window.innerHeight,h=window.screenX,p=window.screenY;const f=()=>{window.requestAnimationFrame(()=>{if(s)o("Timed out during the refreshRate loop");else if(window.innerWidth==u&&window.innerHeight==d&&h==window.screenX&&p==window.screenY||(u=window.innerWidth,d=window.innerHeight,h=window.screenX,p=window.screenY,0)){const r=performance.now();l.length&&l[0]<=r-e?(c=Math.floor(l.length/(e/1e3)),i.Log.d("{5083445}","{8c3d290}",c,l[l.length-1]-l[0]),t=c,window.clearTimeout(a),n(t)):(l.push(r),f())}else i.Log.w("{5083445}","{824b461}"),l.length=0,f();var t})};f()})}};function bn(e){const t={panelWidth:3840,panelHeight:2160};return new Promise((n,r)=>{var s,a,o;Le(e)?(null===(s=window.tizen)||void 0===s?void 0:s.systeminfo)?window.tizen.systeminfo.getPropertyValue("PANEL",e=>n(e)):(i.Log.w("{5083445}","{c258be7}"),(null===(o=null===(a=window.webapis)||void 0===a?void 0:a.productinfo)||void 0===o?void 0:o.isUdPanelSupported())?n(t):(i.Log.w("{5083445}","{ef1d74b}"),n(void 0))):n(void 0)}).catch(e=>{var n,r;return i.Log.w("{5083445}","{82c980c}",e),(null===(r=null===(n=window.webapis)||void 0===n?void 0:n.productinfo)||void 0===r?void 0:r.isUdPanelSupported())?t:void i.Log.w("{5083445}","{ef1d74b}")})}function xn(e,t){return!!Le(e)&&!!t&&1920===t.panelWidth&&1080===t.panelHeight}function wn(e,t){return!!Le(e)&&!!t&&t.panelWidth<1920&&t.panelHeight<1080}function In(e){let t=0;return(null==e?void 0:e.supported)&&(t|=1),(null==e?void 0:e.smooth)&&(t|=2),(null==e?void 0:e.powerEfficient)&&(t|=4),t}var Cn,Tn,Mn,Bn,Rn,Pn,_n,Dn,Nn,Ln,On,kn,Un;t.HidType=void 0,t.InputType=void 0,t.VideoCodecType=void 0,t.MicState=void 0,t.DynamicStreamingMode=void 0,t.EditBoxActionType=void 0,t.PrefilterModel=void 0,t.MediaTrackKind=void 0,t.StreamStopReason=void 0,t.StreamWarningType=void 0,t.CursorType=void 0,t.StreamingConfigurationProfile=void 0,t.StreamingState=void 0,(Un=t.HidType||(t.HidType={}))[Un.NONE=0]="NONE",Un[Un.DS4=1]="DS4",Un[Un.DS5=2]="DS5",(kn=t.InputType||(t.InputType={}))[kn.None=0]="None",kn[kn.Mouse=1]="Mouse",kn[kn.Keyboard=2]="Keyboard",kn[kn.Gamepad=4]="Gamepad",kn[kn.Touch=8]="Touch",kn[kn.All=15]="All",(On=t.VideoCodecType||(t.VideoCodecType={})).H264="H264",On.H265="H265",On.AV1="AV1",On.UNKNOWN="UNKNOWN",(Ln=t.MicState||(t.MicState={}))[Ln.UNINITIALIZED=0]="UNINITIALIZED",Ln[Ln.PERMISSION_PENDING=1]="PERMISSION_PENDING",Ln[Ln.PERMISSION_DENIED=2]="PERMISSION_DENIED",Ln[Ln.STARTED=3]="STARTED",Ln[Ln.NO_SUITABLE_DEVICE=4]="NO_SUITABLE_DEVICE",Ln[Ln.STOPPED=5]="STOPPED",Ln[Ln.UNSUPPORTED=6]="UNSUPPORTED",Ln[Ln.ERROR=7]="ERROR",(Nn=t.DynamicStreamingMode||(t.DynamicStreamingMode={}))[Nn.NONE=0]="NONE",Nn[Nn.DRC=1]="DRC",Nn[Nn.DFC=2]="DFC",Nn[Nn.ALL=3]="ALL",(Dn=t.EditBoxActionType||(t.EditBoxActionType={}))[Dn.OPEN_KEYBOARD=0]="OPEN_KEYBOARD",Dn[Dn.CLOSE_KEYBOARD=1]="CLOSE_KEYBOARD",Dn[Dn.PASTE_CLIPBOARD=2]="PASTE_CLIPBOARD",(_n=t.PrefilterModel||(t.PrefilterModel={}))[_n.UNDEFINED=-1]="UNDEFINED",_n[_n.DEFAULT=0]="DEFAULT",_n[_n.LOW_SHARPENING=1]="LOW_SHARPENING",_n[_n.HIGH_SHARPENING=2]="HIGH_SHARPENING",_n[_n.WITH_SHARPNESS_LEVELS_ONLY=3]="WITH_SHARPNESS_LEVELS_ONLY",_n[_n.WITH_INTENSITY_LEVELS=4]="WITH_INTENSITY_LEVELS",(Pn=t.MediaTrackKind||(t.MediaTrackKind={})).VIDEO="video",Pn.AUDIO="audio",(Rn=t.StreamStopReason||(t.StreamStopReason={}))[Rn.CLIENT_DISCONNECTED=0]="CLIENT_DISCONNECTED",Rn[Rn.SERVER_DISCONNECTED=1]="SERVER_DISCONNECTED",Rn[Rn.NETWORK_ERROR=2]="NETWORK_ERROR",Rn[Rn.ERROR=3]="ERROR",(Bn=t.StreamWarningType||(t.StreamWarningType={}))[Bn.Unknown=0]="Unknown",Bn[Bn.ApproachingEntitlementTimeout=1]="ApproachingEntitlementTimeout",Bn[Bn.ApproachingIdleTimeout=2]="ApproachingIdleTimeout",Bn[Bn.ApproachingSessionMaxTimeLimit=3]="ApproachingSessionMaxTimeLimit",Bn[Bn.ClearUserIdleTimeOut=4]="ClearUserIdleTimeOut",(Mn=t.CursorType||(t.CursorType={}))[Mn.SOFTWARE=0]="SOFTWARE",Mn[Mn.HARDWARE=1]="HARDWARE",Mn[Mn.FREE=2]="FREE",(Tn=t.StreamingConfigurationProfile||(t.StreamingConfigurationProfile={}))[Tn.DEFAULT=0]="DEFAULT",Tn[Tn.GAMING=1]="GAMING",Tn[Tn.XR=2]="XR",(Cn=t.StreamingState||(t.StreamingState={}))[Cn.NONE=0]="NONE",Cn[Cn.STARTING_STREAM=1]="STARTING_STREAM",Cn[Cn.STREAMING=2]="STREAMING",Cn[Cn.STOPPING_STREAM=3]="STOPPING_STREAM",Cn[Cn.STOPPED=4]="STOPPED";const Fn={allowUnconfined:!1,preventNavigation:!1};class Qn{constructor(){this.Wo=1}$o(){return this.Wo++}}function Vn(e){if(!((15868672^e)>>8))return 256;let t=32769;switch(e){case 15859712:case 15867908:case 15868418:t=0;break;case 3237093894:case 3237093899:t=32776;break;case 3237093898:t=32772;break;case 3237093900:t=32773;break;case 3237093901:t=32770;break;case 15867910:t=1;break;default:i.Log.d("{c00be32}","{233ad08}",Ce(e))}return t}function Hn(e){let t=15868672;switch(e){case 256:t=15868704;break;case 257:t=15868705;break;case 258:t=15868706;break;case 259:t=15868707;break;case 260:t=15868708;break;case 261:t=15868709;break;case 262:t=15868710;break;case 263:t=15868711;break;case 264:t=15868712;break;case 265:t=15868713;break;case 266:t=15868714;break;case 267:t=15868715;break;case 268:t=15868716;break;case 269:t=15868719;break;case 270:t=15868688;break;case 512:t=15868736;break;case 513:t=15868737;break;case 514:t=15868738;break;case 515:t=15868739;break;case 516:t=15868740;break;case 517:t=15868741;break;case 518:t=15868742;break;case 519:t=15868743;break;case 520:t=15868744;break;case 521:t=15868745;break;case 33025:t=3237094145;break;case 33026:t=3237094146;break;case 33027:t=3237094147;break;case 33028:t=3237094148;break;case 33029:t=3237094149;break;case 33030:t=3237094150;break;case 33031:t=3237094151;break;case 33032:t=3237094152;break;case 33034:t=3237094153;break;case 33035:t=3237094154;break;case 33040:t=3237094155;break;case 33041:t=3237094156;break;case 33042:t=3237094157;break;case 37634:t=15868718;break;case 32768:t=3237094158;break;case 768:t=15868717;break;case 0:t=15868752;break;default:i.Log.d("{c00be32}","{1be40ed}",Ce(e))}return t}const Gn="streamkit-latency-indicator";class zn{constructor(){this.v_=null,this.qo=""}static getInstance(){return zn.Ko||(zn.Ko=new zn),zn.Ko}initialize(e,t){this.Ms=t,this.Qo=this.zo(e),this.Qo.style.display="block",this.v_=this.Qo.getContext("webgl"),this.Yo()}Yo(){"white"===this.qo?this.Xo():this.jo()}zo(e){let t=Gn,n=document.getElementById(t);if(n&&n instanceof HTMLCanvasElement&&n.parentElement===e.parentElement)return n;{if(n)do{t=Gn+Math.round(1e4*Math.random()),n=document.getElementById(t)}while(n);let i=document.createElement("canvas");return i.id=t,i.style.position="fixed",xe(this.Ms)?(i.style.bottom="env(safe-area-inset-bottom, 0)",i.style.right="max(24px, env(safe-area-inset-right, 0))"):(i.style.bottom="0",i.style.right="0"),i.style.width="40px",i.style.height="40px",i.style.zIndex="300",i.style.pointerEvents="none",e.insertAdjacentElement("afterend",i),i}}jo(){this.v_&&(this.v_.clearColor(1,1,1,1),this.v_.clear(this.v_.COLOR_BUFFER_BIT),this.qo="white")}Xo(){this.v_&&(this.v_.clearColor(1,0,0,1),this.v_.clear(this.v_.COLOR_BUFFER_BIT),this.qo="red")}}function Wn(e,t=!1){let n=t?Qt(e):{x:e.clientX,y:e.clientY};return{identifier:e.identifier,clientX:n.x,clientY:n.y,deltaX:0,deltaY:0}}class Xn{constructor(e,t,n,i,r){this.target=e,this.videoAddEventListener=t,this.videoRemoveEventListener=n,this.Jo=i,this.Zo=r,this.tr=10,this.ir=[],this.sr=0,this.er=0,this.hr=0,this.nr=e=>{let t=!1;const n=e.changedTouches,i=this.Zo.rr(e.timeStamp);for(let e=0;e<n.length;e++){const r=n[e];r.target===this.target&&(t=!0,zn.getInstance().Yo(),0===this.ir.length?(this.hr=1,this.sr=window.setTimeout(()=>{this.sr=0,1===this.er&&(this.hr=2,Lt.Bh&&this.Jo.ar(this.target,i,Wn(r)))},500)):1!==this.hr&&(Lt.Bh?4!==this.hr&&2!==this.hr||this.Jo.dr(this.target,i,Wn(r),2===this.hr):6===this.hr&&Lt.Bh&&this.Jo.cr(this.target,i),this.hr=0),this.ir.push(Wn(r)),this.ir.length>this.er&&(this.er=this.ir.length))}this.Jo.lr()&&t&&e.preventDefault()},this.ur=e=>{let t=!1;for(let e of this.ir)e.deltaX=0,e.deltaY=0;const n=e.changedTouches,i=this.Zo.rr(e.timeStamp);let r=[];for(let e=0;e<n.length;e++){const i=n[e],s=this.ir.findIndex(e=>e.identifier==i.identifier);if(-1!=s){t=!0;const e=this.ir[s],n=i.clientX-e.clientX,a=i.clientY-e.clientY;let o=!1;if(0!==this.sr?(Math.abs(n)>this.tr||Math.abs(a)>this.tr)&&(window.clearTimeout(this.sr),this.sr=0,o=!0):o=!0,o){const e={identifier:i.identifier,clientX:i.clientX,clientY:i.clientY,deltaX:n,deltaY:a};r.push(s),this.ir[s]=e}}}r.length>0&&0===this.sr&&0!==this.hr&&(1===this.ir.length?(1===this.hr?this.hr=3:2===this.hr&&(this.hr=4),Lt.Bh&&this.Jo.Ar(this.target,i,this.ir[0])):2===this.ir.length?5===this.hr?Lt.Bh&&this.Jo.scroll(this.target,i,this.ir):6===this.hr?Lt.Bh&&this.Jo.vr(this.target,i,this.ir):1===this.hr&&(this.ir[0].deltaY*this.ir[1].deltaY>0&&(Math.sign(this.ir[0].deltaX)===Math.sign(this.ir[1].deltaX)||Math.abs(this.ir[0].deltaX)<this.tr&&Math.abs(this.ir[1].deltaX)<this.tr)?(this.hr=5,Lt.Bh&&this.Jo.scroll(this.target,i,this.ir)):(this.hr=6,Lt.Bh&&this.Jo.vr(this.target,i,this.ir))):this.hr=0),this.Jo.lr()&&t&&e.preventDefault()},this.pr=e=>{this.mr(e,!1)},this.gr=e=>{this.mr(e,!0)}}static isSupported(){return Lt.xh||Ue()}mr(e,t){let n=!1;const i=e.changedTouches,r=this.Zo.rr(e.timeStamp);for(let e=0;e<i.length;e++){const s=i[e],a=this.ir.findIndex(e=>e.identifier==s.identifier);-1!=a&&(n=!0,zn.getInstance().Yo(),this.ir.splice(a,1),0===this.ir.length?(0!==this.sr?(window.clearTimeout(this.sr),this.sr=0,t&&this.Jo.br(this.target,r,Wn(s,!0),this.er)):Lt.Bh&&(4!==this.hr&&2!==this.hr||this.Jo.dr(this.target,r,Wn(s),2===this.hr)),this.er=0,this.hr=0):5===this.hr?this.hr=0:6===this.hr&&(Lt.Bh&&this.Jo.cr(this.target,r),this.hr=0))}this.Jo.lr()&&n&&e.preventDefault()}start(){const e={passive:!Lt.Bh};this.videoAddEventListener("touchstart",this.nr,e),this.videoAddEventListener("touchmove",this.ur,e),this.videoAddEventListener("touchcancel",this.pr,e),this.videoAddEventListener("touchend",this.gr,e)}stop(){if(this.videoRemoveEventListener("touchstart",this.nr),this.videoRemoveEventListener("touchmove",this.ur),this.videoRemoveEventListener("touchcancel",this.pr),this.videoRemoveEventListener("touchend",this.gr),this.ir=[],0!==this.sr&&(window.clearTimeout(this.sr),this.sr=0),this.er=0,Lt.Bh)switch(this.hr){case 6:this.Jo.cr(this.target,performance.now());break;case 2:case 4:this.Jo.dr(this.target,performance.now())}this.hr=0}}const jn=65535;class qn{constructor(e,t,n){this.clientX=0,this.clientY=0,this.radiusX=0,this.radiusY=0,this.wr=!1,this.identifier=e.identifier,this.Sr=t,this.kr=n,this.Cr(e),Lt.Oh&&navigator.standalone?this.yr():this.wr=!1}update(e){this.Cr(e),this.wr&&this.yr()}Cr(e){this.clientX=e.pageX-this.kr.Mr,this.clientY=e.pageY-this.kr.vertical,this.radiusX=e.radiusX,this.radiusY=e.radiusY}yr(){const e=Qt(this);this.wr=Math.abs(e.y-this.clientY)>.01,this.clientX=e.x,this.clientY=e.y}}class Yn{constructor(e,t,n,i,r){this.Sr=t,this.id=e.identifier,this.touchType=n,this.Ir=e.pageX,this.Tr=e.pageY,this.Pr=e.radiusX,this.Dr=e.radiusY,this.Er=i,this.captureTs=r}}class Jn{constructor(e,t,n,i,r,s,a){this.target=e,this.videoAddEventListener=t,this.videoRemoveEventListener=n,this.Rr=i,this.Jo=r,this.Zo=a,this.Nr=0,this.Br=0,this.kr={Mr:1,vertical:1},this.Or=new Map,this.Fr=new Set,this.Lr=0,this.Hr=[],this.Ur=0,this.Vr=!0,this.nr=e=>{const t=performance.now(),n=this.Zo.rr(e.timeStamp);let i=!1;this.Jo.Gr(!1);const r=e.changedTouches;let s=[];for(let n=0;n<r.length;n++){const a=r[n];if(this.Wr(a)){i=!0,zn.getInstance().Yo();let n=this.$r(a);s.push(n),this.Fh(a,n,1,t,e)}}this.A_(s,1,n),Lt.Fh&&Lt.Lh&&8==this.Or.size&&this.Vr&&(this.qr(),this.Kr()),this.Jo.lr()&&i&&e.preventDefault()},this.ur=e=>{const t=performance.now(),n=this.Zo.rr(e.timeStamp);let i=!1;const r=e.changedTouches;let s=[];for(let n=0;n<r.length;n++){const a=r[n];if(this.Wr(a)){let n=this.Or.get(a.identifier);n&&(i=!0,n.update(a),s.push(n),this.Fh(a,n,4,t,e))}}this.A_(s,4,n),this.Jo.lr()&&i&&e.preventDefault()},this.pr=e=>{this.Qr(e,8)},this.gr=e=>{this.Qr(e,2)},this.qr=this.zr.bind(this),this.Kr=this.Yr.bind(this),this.Xr=Me(s)}static isSupported(){return Lt.xh||Ue()}Fh(e,t,n,i,r){if(!Lt.Fh)return;let s=new Yn(e,t.Sr,n,i,r.timeStamp);this.Hr.push(s)}zr(){const e=this.Hr.length;if(!e)return;let t=this.Hr[e-1].Er-3e4,n=-1;for(let i=0;i<e&&this.Hr[i].Er<t;i++)n=i;this.Hr.splice(0,n+1)}Yr(){for(let e of this.Hr)i.Log.d("{ec05004}","{3c6a946}",e.captureTs.toFixed(2),e.Er.toFixed(2),e.id,e.Sr,e.touchType,e.Ir.toFixed(2),e.Tr.toFixed(2),e.Pr.toFixed(0),e.Dr.toFixed(0));this.Hr=[]}$r(e){let t=0;for(;this.Fr.has(t);)t++;let n=new qn(e,t,this.kr);return this.Or.set(e.identifier,n),this.Fr.add(t),n}jr(e){let t=this.Or.get(e);t&&(this.Or.delete(e),this.Fr.delete(t.Sr))}Wr(e){return e.target===this.target}A_(e,t,n){var r;let s=0;for(let a of e){if(s>40)return void i.Log.e("{ec05004}","{2faaf33}",e.length-s);const o=null===(r=this.Or.get(a.identifier))||void 0===r?void 0:r.Sr;if(void 0===o){i.Log.e("{ec05004}","{960ee4f}",a.identifier);continue}let l=this.Nr*a.clientX,c=this.Br*a.clientY;const u=this.Nr*a.radiusX,d=this.Br*a.radiusY;if(l<0-u||l>jn+u||c<0-d||c>jn+d)switch(t){case 2:case 8:break;default:continue}if(l=Math.min(Math.max(l,0),jn),c=Math.min(Math.max(c,0),jn),!this.Rr.Jr(s,o,t,l,c,a.radiusX,a.radiusY,n)){this.Lr+=e.length-s;break}s++}0!=s&&(s>e.length?i.Log.w("{ec05004}","{4e60a66}",s,e.length):this.Rr.Zr(s)||i.Log.e("{ec05004}","{56a8404}"))}Qr(e,t){const n=performance.now(),i=this.Zo.rr(e.timeStamp);let r=!1,s=[];const a=e.changedTouches;let o=[];for(let i=0;i<a.length;i++){const l=a[i];if(this.Wr(l)){let i=this.Or.get(l.identifier);s.push(l.identifier),i&&(r=!0,zn.getInstance().Yo(),i.update(l),o.push(i),this.Fh(l,i,t,n,e))}}this.A_(o,t,i);for(const e of s)this.jr(e);Lt.Fh&&(0==this.Or.size?this.Vr=!0:this.Vr=!1),this.Jo.lr()&&r&&e.preventDefault()}start(){this.Lr=0;const e={passive:!1};this.videoAddEventListener("touchstart",this.nr,e),this.videoAddEventListener("touchmove",this.ur,e),this.videoAddEventListener("touchcancel",this.pr,e),this.videoAddEventListener("touchend",this.gr,e),Lt.Fh&&(i.Log.d("{ec05004}","{72764d2}",performance.now()),this.Hr=[],this.Ur=window.setInterval(this.qr,6e4)),this.Jo.Gr(!1)}stop(){Lt.Fh&&(this.Ur&&clearTimeout(this.Ur),this.qr(),this.Kr()),this.Or.size&&(this.A_(Array.from(this.Or.values()),8,performance.now()),this.Or.clear(),this.Fr.clear()),this.Lr&&i.Log.w("{ec05004}","{10858ae}",this.Lr);const e={passive:!1};this.videoRemoveEventListener("touchstart",this.nr,e),this.videoRemoveEventListener("touchmove",this.ur,e),this.videoRemoveEventListener("touchcancel",this.pr,e),this.videoRemoveEventListener("touchend",this.gr,e)}ta(e,t,n){this.kr=t,this.Nr=65535/e.ia,this.Br=65535/e.sa,this.Nr/=n,this.Br/=n}}const Zn=new Map([["Escape",27],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["Minus",189],["Equal",187],["Backspace",8],["Tab",9],["KeyQ",81],["KeyW",87],["KeyE",69],["KeyR",82],["KeyT",84],["KeyY",89],["KeyU",85],["KeyI",73],["KeyO",79],["KeyP",80],["BracketLeft",219],["BracketRight",221],["Enter",13],["ControlLeft",162],["KeyA",65],["KeyS",83],["KeyD",68],["KeyF",70],["KeyG",71],["KeyH",72],["KeyJ",74],["KeyK",75],["KeyL",76],["Semicolon",186],["Quote",222],["Backquote",192],["ShiftLeft",160],["Backslash",220],["KeyZ",90],["KeyX",88],["KeyC",67],["KeyV",86],["KeyB",66],["KeyN",78],["KeyM",77],["Comma",188],["Period",190],["Slash",191],["ShiftRight",161],["NumpadMultiply",106],["AltLeft",164],["Space",32],["CapsLock",20],["F1",112],["F2",113],["F3",114],["F4",115],["F5",116],["F6",117],["F7",118],["F8",119],["F9",120],["F10",121],["Pause",19],["ScrollLock",145],["Numpad7",103],["Numpad8",104],["Numpad9",105],["NumpadSubtract",109],["Numpad4",100],["Numpad5",101],["Numpad6",102],["NumpadAdd",107],["Numpad1",97],["Numpad2",98],["Numpad3",99],["Numpad0",96],["NumpadDecimal",110],["PrintScreen",42],["IntlBackslash",226],["F11",122],["F12",123],["NumpadEqual",187],["F13",124],["F14",125],["F15",126],["F16",127],["F17",128],["F18",129],["F19",130],["F20",131],["F21",132],["F22",133],["F23",134],["F24",135],["KanaMode",233],["Lang2",25],["Lang1",21],["IntlRo",194],["Convert",234],["NonConvert",235],["IntlYen",193],["NumpadComma",188],["NumpadEnter",13],["ControlRight",163],["NumpadDivide",111],["PrintScreen",42],["AltRight",165],["NumLock",144],["Pause",19],["Home",36],["ArrowUp",38],["PageUp",33],["ArrowLeft",37],["ArrowRight",39],["End",35],["ArrowDown",40],["PageDown",34],["Insert",45],["Delete",46],["MetaLeft",91],["OSLeft",91],["MetaRight",92],["OSRight",92],["Lang2",25],["Lang1",21],["NumpadClear",12],["NumpadClearEntry",12]]),Kn=new Map([["HanjaMode",25],["HangulMode",21]]),$n=new Map([["1",{vkCode:49,shift:!1}],["2",{vkCode:50,shift:!1}],["3",{vkCode:51,shift:!1}],["4",{vkCode:52,shift:!1}],["5",{vkCode:53,shift:!1}],["6",{vkCode:54,shift:!1}],["7",{vkCode:55,shift:!1}],["8",{vkCode:56,shift:!1}],["9",{vkCode:57,shift:!1}],["0",{vkCode:48,shift:!1}],["!",{vkCode:49,shift:!0}],["@",{vkCode:50,shift:!0}],["#",{vkCode:51,shift:!0}],["$",{vkCode:52,shift:!0}],["%",{vkCode:53,shift:!0}],["^",{vkCode:54,shift:!0}],["&",{vkCode:55,shift:!0}],["*",{vkCode:56,shift:!0}],["(",{vkCode:57,shift:!0}],[")",{vkCode:48,shift:!0}],["-",{vkCode:189,shift:!1}],["_",{vkCode:189,shift:!0}],["=",{vkCode:187,shift:!1}],["+",{vkCode:187,shift:!0}],[",",{vkCode:188,shift:!1}],["<",{vkCode:188,shift:!0}],[".",{vkCode:190,shift:!1}],[">",{vkCode:190,shift:!0}],[";",{vkCode:186,shift:!1}],[":",{vkCode:186,shift:!0}],["/",{vkCode:191,shift:!1}],["?",{vkCode:191,shift:!0}],["`",{vkCode:192,shift:!1}],["~",{vkCode:192,shift:!0}],["[",{vkCode:219,shift:!1}],["{",{vkCode:219,shift:!0}],["\\",{vkCode:220,shift:!1}],["|",{vkCode:220,shift:!0}],["]",{vkCode:221,shift:!1}],["}",{vkCode:221,shift:!0}],["'",{vkCode:222,shift:!1}],['"',{vkCode:222,shift:!0}],[" ",{vkCode:32,shift:!1}],["A",{vkCode:65,shift:!0}],["B",{vkCode:66,shift:!0}],["C",{vkCode:67,shift:!0}],["D",{vkCode:68,shift:!0}],["E",{vkCode:69,shift:!0}],["F",{vkCode:70,shift:!0}],["G",{vkCode:71,shift:!0}],["H",{vkCode:72,shift:!0}],["I",{vkCode:73,shift:!0}],["J",{vkCode:74,shift:!0}],["K",{vkCode:75,shift:!0}],["L",{vkCode:76,shift:!0}],["M",{vkCode:77,shift:!0}],["N",{vkCode:78,shift:!0}],["O",{vkCode:79,shift:!0}],["P",{vkCode:80,shift:!0}],["Q",{vkCode:81,shift:!0}],["R",{vkCode:82,shift:!0}],["S",{vkCode:83,shift:!0}],["T",{vkCode:84,shift:!0}],["U",{vkCode:85,shift:!0}],["V",{vkCode:86,shift:!0}],["W",{vkCode:87,shift:!0}],["X",{vkCode:88,shift:!0}],["Y",{vkCode:89,shift:!0}],["Z",{vkCode:90,shift:!0}],["a",{vkCode:65,shift:!1}],["b",{vkCode:66,shift:!1}],["c",{vkCode:67,shift:!1}],["d",{vkCode:68,shift:!1}],["e",{vkCode:69,shift:!1}],["f",{vkCode:70,shift:!1}],["g",{vkCode:71,shift:!1}],["h",{vkCode:72,shift:!1}],["i",{vkCode:73,shift:!1}],["j",{vkCode:74,shift:!1}],["k",{vkCode:75,shift:!1}],["l",{vkCode:76,shift:!1}],["m",{vkCode:77,shift:!1}],["n",{vkCode:78,shift:!1}],["o",{vkCode:79,shift:!1}],["p",{vkCode:80,shift:!1}],["q",{vkCode:81,shift:!1}],["r",{vkCode:82,shift:!1}],["s",{vkCode:83,shift:!1}],["t",{vkCode:84,shift:!1}],["u",{vkCode:85,shift:!1}],["v",{vkCode:86,shift:!1}],["w",{vkCode:87,shift:!1}],["x",{vkCode:88,shift:!1}],["y",{vkCode:89,shift:!1}],["z",{vkCode:90,shift:!1}]]);function ei(e,t,n,i,r=1){const s=4294967295&Math.floor(e*r),a=Math.floor(e/4294967296*r);i?(t.setUint32(n,s,!0),t.setUint32(n+4,a,!0)):(t.setUint32(n,a,!1),t.setUint32(n+4,s,!1))}class ti{constructor(e){this.ea=0,this.ha=e}na(){return this.ha.getUint8(this.ea)}getUint8(){const e=this.na();return this.ea++,e}oa(e=!1){return e=null!=e&&e,this.ha.getUint16(this.ea,e)}getUint16(e=!1){const t=this.oa(e);return this.ea+=2,t}ra(e=!1){return e=null!=e&&e,this.ha.getInt16(this.ea,e)}getInt16(e=!1){const t=this.ra(e);return this.ea+=2,t}aa(e=!1){return e=null!=e&&e,this.ha.getUint32(this.ea,e)}getUint32(e=!1){const t=this.aa(e);return this.ea+=4,t}da(e=!1){return function(e,t,n){let i=0,r=0;return n?(i=e.getUint32(t,!0),r=e.getUint32(t+4,!0)):(r=e.getUint32(t,!1),i=e.getUint32(t+4,!1)),4294967296*r+i}(this.ha,this.ea,e)}ca(e=!1){const t=this.da(e);return this.ea+=8,t}reset(){this.ea=0}get la(){return this.ea}done(){return this.ea===this.ha.byteLength}left(){return this.ha.byteLength-this.ea}ua(e){e>=0&&e<=this.ha.byteLength&&(this.ea=e)}Aa(e){this.ua(this.ea+e)}fa(e){if(e>this.left())return;const t=new ti(new DataView(this.ha.buffer,this.ha.byteOffset+this.ea,e));return this.Aa(e),t}}class ni{constructor(e){this.va=0,this.ha=e,this.va=0}get offset(){return this.va}reset(){this.va=0}pa(e){this.va+=e}ma(){return this.ha.byteLength-this.va}ga(e){this.ha.setUint8(this.va,e),this.va+=1}ba(e,t){this.ha.setUint16(this.va,e,t),this.va+=2}wa(e,t){this.ha.setUint32(this.va,e,t),this.va+=4}Sa(e){this.ha.setInt8(this.va,e),this.va+=1}ka(e,t){this.ha.setInt16(this.va,e,t),this.va+=2}Ca(e,t){this.ha.setInt32(this.va,e,t),this.va+=4}ya(e,t){this.ha.setFloat32(this.va,e,t),this.va+=4}Ma(e,t){this.ha.setFloat64(this.va,e,t),this.va+=8}Ia(e,t,n=1){ei(e,this.ha,this.va,t,n),this.va+=8}}function ii(e,t,n){var i,r;let s;const a=t.length+22;if(e.length>a)s=e;else{let e="";const a=null!==(r=null===(i=document.currentScript)||void 0===i?void 0:i.src)&&void 0!==r?r:n;if(a){const t=a.lastIndexOf("/");-1!==t&&(e+=a.substring(0,t+1))}e+=t,s="importScripts('"+e+"');"}const o=new Blob([s],{type:"text/javascript"}),l=URL.createObjectURL(o),c=new Worker(l);return URL.revokeObjectURL(l),c}function ri(e){return Math.floor(1e3*e)}function si(e){return e>=6&&e<=9}var ai;const oi=1314280009,li=null===(ai=document.currentScript)||void 0===ai?void 0:ai.src;function ci(e,t){switch(e){case 3:case 4:return 14;case 8:case 9:case 10:case 5:case 7:return 26;case 12:return 24;case 18:return 2;case 17:return function(e){let t=1;return si(e.id)&&(t+=9),t}(t);default:return 0}}class ui{constructor(e){this.Zo=e,this.Ta=0,this.buffer=new ArrayBuffer(8388608),this.Pa=new ni(new DataView(this.buffer)),this.initialized=!1,this.Da=[],this.Zo=e}initialize(e){this.Ea(),this.params=e,this.Ta=this.Zo.Ra(),this.initialized=!0,i.Log.d("{5eeca93}","{46ee72b}")}Na(e){return e>this.Ta?e-this.Ta:0}Ea(){this.Pa.wa(oi),this.Pa.ga(1),this.Pa.ga(0),this.Pa.ka(0)}Ba(e){this.Pa.Ia(e.recordedTs,!1,1e3),this.Pa.wa(e.packetId),this.Pa.wa(e.size)}xa(e){this.Pa.ba(e.keycode),this.Pa.ba(e.flags),this.Pa.ba(e.scancode),this.Pa.Ia(e.captureTs,!1,1e3)}Oa(e){this.Pa.ba(e.flags),this.Pa.ba(e.xpos),this.Pa.ba(e.ypos),this.Pa.ba(e.data1),this.Pa.ba(e.data2),this.Pa.wa(e.windowHandle),this.Pa.ba(e.vwheel),this.Pa.ba(e.hwheel),this.Pa.Ia(e.captureTs,!1,1e3)}Fa(e){this.Pa.ba(e.index),this.Pa.ba(e.bitmap),this.Pa.ba(e.buttons),this.Pa.ba(e.trigger);for(let t=0;t<4;t++)this.Pa.ka(e.axes[t]);this.Pa.Ia(e.captureTs,!1,1e3)}La(e){this.Pa.ga(e.id),this.Pa.ga(e.control)}Ha(e){for(let t=0;t<4;t++)this.Pa.ga(e.axes[t]);this.Pa.ga(e.ds4Btns[0]),this.Pa.ga(e.ds4Btns[1]),this.Pa.ga(e.ds4Btns[2]),this.Pa.ga(e.triggers[0]),this.Pa.ga(e.triggers[1])}Ua(e){this.Pa.ga(e.id),si(e.id)&&this.Ha(e.data)}Va(e){const t={keycode:0,flags:0,scancode:0,captureTs:0};return t.keycode=e.getUint16(),t.flags=e.getUint16(),t.scancode=e.getUint16(),t.captureTs=this.Na(e.ca()/1e3),t}Ga(e){const t={flags:0,xpos:0,ypos:0,data1:0,data2:0,windowHandle:0,vwheel:0,hwheel:0,captureTs:0};return t.data1=e.getUint8(),t.flags=e.getUint8(),t.windowHandle=e.getUint32(),t.captureTs=this.Na(e.ca()/1e3),t}Wa(e){const t={flags:0,xpos:0,ypos:0,data1:0,data2:0,windowHandle:0,vwheel:0,hwheel:0,captureTs:0};return t.hwheel=e.getUint16(),t.vwheel=e.getUint16(),t.flags=e.getUint16(),t.windowHandle=e.getUint32(),t.captureTs=this.Na(e.ca()/1e3),t}$a(e,t){const n={flags:0,xpos:0,ypos:0,data1:0,data2:0,windowHandle:0,vwheel:0,hwheel:0,captureTs:0};return n.xpos=e.getUint16(),n.ypos=e.getUint16(),n.flags=e.getUint16(),t&&(n.data1=e.getUint16(),n.data2=e.getUint16()),n.windowHandle=e.getUint32(),n.captureTs=this.Na(e.ca()/1e3),n}p_(e){const t={index:0,bitmap:0,buttons:0,trigger:0,axes:[0,0,0,0],captureTs:0};e.getUint16(!0),t.index=e.getUint16(!0),t.bitmap=e.getUint16(!0),e.getUint16(!0),t.buttons=e.getUint16(!0),t.trigger=e.getUint16(!0);for(let n=0;n<4;n++)t.axes[n]=e.getInt16(!0);return e.getUint16(!0),e.getUint16(!0),e.getUint16(!0),t.captureTs=this.Na(e.ca(!0)/1e3),t}qa(e){return{id:e.getUint8(),control:e.getUint8()}}Ka(e){let t;const n=e.getUint8();return si(n)&&(t={id:n,data:this.Qa(e)}),t}Qa(e){const t={ds4Btns:[0,0,0],triggers:[0,0],axes:[0,0,0,0]};e.getUint8(),e.getUint8(),e.getUint8();for(let n=0;n<4;n++)t.axes[n]=e.getUint8();return t.ds4Btns[0]=e.getUint8(),t.ds4Btns[1]=e.getUint8(),t.ds4Btns[2]=e.getUint8(),t.triggers[0]=e.getUint8(),t.triggers[1]=e.getUint8(),t}za(e,t){let n;const r=e.getUint32(!0);switch(r){case 3:case 4:n=this.Va(e);break;case 8:case 9:n=this.Ga(e);break;case 10:n=this.Wa(e);break;case 5:case 7:const t=5==r;n=this.$a(e,t);break;case 12:n=this.p_(e);break;case 13:e.getUint16();break;case 18:n=this.qa(e);break;case 17:n=this.Ka(e)}if(void 0!==n)return{header:{recordedTs:t,size:ci(r,n),packetId:r},data:n};i.Log.d("{5eeca93}","{e255bfc}",r)}Ya(e){const t=new ti(e),n=this.Na(this.Zo.Ra());for(;!t.done();){const e=t.getUint8();switch(e){case 36:t.ca();break;case 33:case 34:const r=33==e?t.getUint16():t.left(),s=t.fa(r);if(void 0===s)return void i.Log.e("{5eeca93}","{8400b62}",r,t.left());const a=this.za(s,n);if(void 0===a)break;this.Xa(a);break;default:return void i.Log.e("{5eeca93}","{0028fe1}",e)}}}Xa(e){switch(this.Ba(e.header),e.header.packetId){case 4:case 3:this.xa(e.data);break;case 8:case 9:case 7:case 5:case 10:this.Oa(e.data);break;case 12:this.Fa(e.data);break;case 18:this.La(e.data);break;case 17:this.Ua(e.data)}this.Da.push(e)}ja(e){this.initialized&&this.Ya(e)}Ja(e){for(const t of e)t.header.recordedTs=ri(t.header.recordedTs),t.data.captureTs&&(t.data.captureTs=ri(t.data.captureTs))}Za(){var e,t,n;try{const i=null!==(t=null===(e=this.params)||void 0===e?void 0:e.fileName)&&void 0!==t?t:"inputrecordfile";Zt([this.buffer.slice(0,this.Pa.offset)],i+".dat","application/octet-stream"),(null===(n=this.params)||void 0===n?void 0:n.td)&&(this.Ja(this.Da),Zt([JSON.stringify(this.Da)],i+"-events.json","application/json"))}catch(e){i.Log.e("{5eeca93}","{45fa32c}",e)}}}class di{constructor(e,t){this.Zo=t,this.sd=!0,this.ed=e,this.Zo=t}hd(e){const t=e.data;if(t.input){const e=t.input;this.ed.nd(e)}else t.result?i.Log.d("{5eeca93}","{6ab9f7d}",t.result):t.log&&i.Log.d("{59381ac}","{0b0c6f9}",t.log)}od(e){}stop(){var e;null===(e=this.rd)||void 0===e||e.terminate()}start(){var e;if(!this.playbackBuffer)return;const t={start:{playbackBuffer:this.playbackBuffer,loop:this.sd,absStreamBeginTs:performance.timeOrigin+this.Zo.ad()}};i.Log.d("{5eeca93}","{8a97b19}"),null===(e=this.rd)||void 0===e||e.postMessage(t)}dd(e){const t=e.getUint32(0),n=e.getInt8(4),i=e.getInt8(5);return t==oi&&1==n&&0==i}initialize(e){if(e.buffer.byteLength<8)return i.Log.e("{5eeca93}","{fbe135e}"),!1;const t=new DataView(e.buffer,0,8);if(!this.dd(t))return i.Log.e("{5eeca93}","{9946103}"),!1;try{this.rd=ii('class t{constructor(t){this.i=0,this.h=t}o(){return this.h.getUint8(this.i)}getUint8(){const t=this.o();return this.i++,t}u(t=!1){return t=null!=t&&t,this.h.getUint16(this.i,t)}getUint16(t=!1){const e=this.u(t);return this.i+=2,e}l(t=!1){return t=null!=t&&t,this.h.getInt16(this.i,t)}getInt16(t=!1){const e=this.l(t);return this.i+=2,e}m(t=!1){return t=null!=t&&t,this.h.getUint32(this.i,t)}getUint32(t=!1){const e=this.m(t);return this.i+=4,e}T(t=!1){return function(t,e,s){let i=0,r=0;return s?(i=t.getUint32(e,!0),r=t.getUint32(e+4,!0)):(r=t.getUint32(e,!1),i=t.getUint32(e+4,!1)),4294967296*r+i}(this.h,this.i,t)}D(t=!1){const e=this.T(t);return this.i+=8,e}reset(){this.i=0}get U(){return this.i}done(){return this.i===this.h.byteLength}left(){return this.h.byteLength-this.i}I(t){t>=0&&t<=this.h.byteLength&&(this.i=t)}v(t){this.I(this.i+t)}B(e){if(e>this.left())return;const s=new t(new DataView(this.h.buffer,this.h.byteOffset+this.i,e));return this.v(e),s}}const e=self;function s(t){const s={log:t};e.postMessage(s)}let i=new class{constructor(){this.absStreamBeginTs=0,this.H=0}S(t){return this.H+t}M(t){return t>0?this.S(t):0}P(){return performance.timeOrigin+performance.now()-this.absStreamBeginTs}C(t){return{recordedTs:t.D()/1e3,packetId:t.getUint32(),size:t.getUint32()}}G(t){return{keycode:t.getUint16(),flags:t.getUint16(),scancode:t.getUint16(),captureTs:this.M(t.D()/1e3)}}K(t){return{flags:t.getUint16(),xpos:t.getUint16(),ypos:t.getUint16(),data1:t.getUint16(),data2:t.getUint16(),windowHandle:t.getUint32(),vwheel:t.getUint16(),hwheel:t.getUint16(),captureTs:this.M(t.D()/1e3)}}L(t){const e=t.getUint16(),s=t.getUint16(),i=t.getUint16(),r=t.getUint16(),n=[0,0,0,0];for(let e=0;e<4;e++)n[e]=t.getInt16();return{index:e,bitmap:s,buttons:i,trigger:r,axes:n,captureTs:this.M(t.D()/1e3)}}R(t){return{id:t.getUint8(),control:t.getUint8()}}V(t){const e=[0,0,0,0];for(let s=0;s<4;s++)e[s]=t.getUint8();const s=[0,0,0];s[0]=t.getUint8(),s[1]=t.getUint8(),s[2]=t.getUint8();const i=[0,0];return i[0]=t.getUint8(),i[1]=t.getUint8(),{ds4Btns:s,axes:e,triggers:i}}j(t){let e;const s=t.getUint8();return function(t){return t>=6&&t<=9}(s)&&(e={id:s,data:this.V(t)}),e}A(t,e){let s;switch(t){case 3:case 4:s=this.G(e);break;case 8:case 9:case 10:case 5:case 7:s=this.K(e);break;case 12:s=this.L(e);break;case 18:s=this.R(e);break;case 17:s=this.j(e)}return s}F(t){if(t.length>0){const s={input:t};e.postMessage(s)}}async J(t,e){const s=e-this.P();s>0&&await new Promise((t=>setTimeout(t,s))),this.F(t)}async N(e,i=!1){do{this.H=this.P();const i=new t(e);let r=[],n=0;for(;!i.done();){const t=i.B(16);if(void 0===t)return s("{76ef155}16{0da0ef8}"+i.left()),!1;const e=this.C(t),a=i.B(e.size);if(void 0===a)return s("{fbf3a80}"+e.size+"{0da0ef8}"+i.left()),!1;const h=this.A(e.packetId,a);if(!h){s("{20d711f}"+e.packetId);continue}const c=this.S(e.recordedTs);n>0&&c>n&&(await this.J(r,n),r=[]),r.push({header:e,data:h}),n=c}await this.J(r,n)}while(i);return!0}async O(t){if(t.start){const s=t.start;this.absStreamBeginTs=s.absStreamBeginTs;const i={result:await this.N(s.playbackBuffer,s.loop)};e.postMessage(i)}}};e.onmessage=async t=>{i.O(t.data)};',"inputplaybackworker.js",li),this.rd.onmessage=this.hd.bind(this),this.rd.onerror=this.od.bind(this)}catch(e){return i.Log.e("{5eeca93}","{cb06694}",e.message),!1}return this.playbackBuffer=new DataView(e.buffer,8,e.buffer.byteLength-8),this.sd=e.loop,!0}}const hi=9+4*(Math.max(38,72)+3),pi=65535;class fi extends DataView{constructor(e,t,n,i){super(e,t,n),this.shift=0,this.setUint8=(e,t)=>super.setUint8(e+this.shift,t),this.setUint16=(e,t,n)=>super.setUint16(e+this.shift,t,n),this.setUint32=(e,t,n)=>super.setUint32(e+this.shift,t,n),this.setInt8=(e,t)=>super.setInt8(e+this.shift,t),this.setInt16=(e,t,n)=>super.setInt16(e+this.shift,t,n),this.setInt32=(e,t,n)=>super.setInt32(e+this.shift,t,n),this.setFloat32=(e,t,n)=>super.setFloat32(e+this.shift,t,n),this.setFloat64=(e,t,n)=>super.setFloat64(e+this.shift,t,n),this.shift=null!=i?i:0}}class gi{constructor(e,t){this.ld=new DataView(new ArrayBuffer(e)),this.ud=new ni(this.ld),this.Ad=t,this.fd()}get writer(){return this.ud}get channel(){return this.Ad}get vd(){return this.ud.offset-9}fd(){this.ud.reset(),this.ud.pa(9)}ma(){return this.ud.ma()}data(){return new DataView(this.ld.buffer,9,this.vd)}pd(e){if(e>this.ma())return;const t=new fi(this.ld.buffer,this.ud.offset,e);return this.ud.pa(e),t}}function Ai(e){switch(e){case 3:case 4:case 8:case 9:return 18;case 10:return 22;case 5:case 7:return vi(5==e);case 12:return 38;case 18:return 10;case 17:return 72;default:return 0}}class mi{constructor(e,t,n,i,r,s,a,o,l,c){if(this.md=0,this.gd=0,this.buffer=new ArrayBuffer(1150),this.bd=new DataView(this.buffer),this.wd=new gi(hi,"input_channel_v1"),this.Sd=new ArrayBuffer(658),this.kd=new DataView(this.Sd),this.Cd=new ArrayBuffer(100),this.yd=new ArrayBuffer(1150),this.Md=0,this.Id=this.Td,this.Pd=this.Dd,this.Ed=[],this.Rd=new Map,this.Nd=0,this.Bd=[],this.xd=!1,this.Od=(e,t)=>{const n=e/t;return Math.round(pi*n)},this.Zo=o,this.Fd=e,this.Ld=t,this.Hd=r,this.Ud=i,this.Vd=s,this.Vd.onmessage=e=>this.onMessage(e),this.Gd=l,this.telemetry=a,this.Wd=n,this.$d=this.m_.bind(this),this.kd.setUint8(9,34),this.kd.setUint32(10,24,!0),this.Gd){this.Rd=new Map;const e=hi+16;if(this.qd=new gi(e,"input_channel_partially_reliable"),c){this.Nd=c.Kd;for(let e=0;e<64;e++){const t=BigInt(1)<<BigInt(e);(t&c.Qd)==t&&(this.Bd[e]=!0)}}}this.xd=Lt.zh,this.xd&&(this.zd=new ui(this.Zo),this.zd.initialize({td:!0}))}Yd(e,t,n){return e.setUint32(t,19,!0),e.setUint8(t+4,n),t+5}Xd(e){const t=this.Pd(5);this.Yd(t,0,e);try{this.jd(t),i.Log.d("{57a6a4d}","{56c9613}",e.toString(2))}catch(e){const t="LockKeys state synchronize exception";i.Log.e("{57a6a4d}","{cbe483c}",e),this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}onMessage(e){const t=new DataView(e.data);if(0===this.gd){let e=t.getUint16(0,!0);526==e?(this.$d=this.Zd.bind(this),this.gd=t.getUint16(2,!0)):(this.$d=this.m_.bind(this),this.gd=e),2==this.gd?this.Ld.tc=!0:this.gd>2&&(this.Ld.tc=!0,this.Id=this.sc,this.Pd=this.ec),i.Log.i("{57a6a4d}","{68c4654}",this.gd)}else this.$d(t,0)}Zd(e,t){let n=e.getUint16(t,!0);if(267===n)this.m_(e,t+2);else{let t=255&n;switch(t){case 32:case 33:case 34:case 35:case 36:case 255:this.hc(t,e,1);break;default:i.Log.w("{57a6a4d}","{aea35b8}",n)}}}hc(e,t,n){34===e?this.nc(t,n):i.Log.d("{57a6a4d}","{ba4ff6a}",e)}nc(e,t){let n=e.getUint32(t+0,!0);switch(n){case 267:this.m_(e,t+4);break;case 17:this.oc(e,t+4);break;default:i.Log.w("{57a6a4d}","{25be6a3}",n)}}oc(e,t){let n=e.getUint8(t+0);if(si(n)){let r=n-6,s=e.getUint8(t+3),a=e.getUint8(t+4);if(5!==s||1&~a)i.Log.w("{57a6a4d}","{d8b7bec}",s,a,n);else{const n=e.getUint8(t+7)<<8,i=e.getUint8(t+8)<<8;for(const e of this.Ed)e.rc(r,n,i)}}else i.Log.w("{57a6a4d}","{6135ec1}",n)}m_(e,t){const n=e.getUint16(t+0,!0);if(1==n){const n=e.getUint16(t+2,!0);if(n<6)return void i.Log.e("{57a6a4d}","{1527181}",n);n>6&&i.Log.w("{57a6a4d}","{78db114}",n);const r=e.getUint16(t+4,!0),s=e.getUint16(t+6,!0),a=e.getUint16(t+8,!0);for(const e of this.Ed)e.ac(r,s,a)}else 0==n?(e=new DataView(e.buffer,t+2),this.Hd.dc(e)):i.Log.w("{57a6a4d}","{c7cf6da}",n)}cc(e,t,n,i,r){return e.setUint32(t,n,!0),e.setUint8(t+4,i),e.setUint8(t+5,0),e.setUint32(t+6,0),ei(r,e,t+10,!1,1e3),t+18}lc(e,t){const n=this.Pd(18);this.cc(n,0,8,Si(e),t);try{this.jd(n)}catch(e){const t="send mousedown exception";i.Log.e("{57a6a4d}","{b258856}",e),this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}uc(e,t){const n=this.Pd(18);this.cc(n,0,9,Si(e),t);try{this.jd(n)}catch(e){const t="send mouseup exception";i.Log.e("{57a6a4d}","{c1ae1fc}",e),this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}Ac(e,t,n,i){return e.setUint32(t,10,!0),e.setUint16(t+4,0,!1),e.setUint16(t+6,n,!1),e.setUint16(t+8,0,!1),e.setUint32(t+10,0),ei(i,e,t+14,!1,1e3),t+22}fc(e,t){const n=this.Pd(22);this.Ac(n,0,-e,t);try{this.jd(n)}catch(e){const t="send mousewheel exception";i.Log.e("{57a6a4d}","{3d81a57}",e),this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}vc(e,t,n,r=0){const s=this.Pd(vi(e));this.mc(s,0,e,t,n,r);try{this.gc()&&this.jd(s)}catch(e){const t="send CursorPos exception";i.Log.e("{57a6a4d}","{dba1265}",e),this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}bc(e,t,n,i,r){return e.setUint8(t+0,32),e.setUint16(t+1,n,!1),ei(r,e,t+3,!1,1e3),ei(i,e,t+11,!1,1e3),t+19}wc(e,t,n,i){const r=this.Ld.Sc[n],s=t;t+=19;for(let i=0;i<r.kc;++i){const r=this.Ld.Sc[n+i];e.setUint8(t,vi(r.Cc)),t++,t=this.mc(e,t,r.Cc,r.x,r.y,r.yc)}const a=t-s;return this.bc(e,s,a,r.Mc,i),t}mc(e,t,n,i,r,s=0,a=!1){let o=7,l=this.Ud.ia,c=this.Ud.sa;n&&(o=5,this.xd&&!a?(i=this.Od(i,this.Ud.ia),r=this.Od(r,this.Ud.sa),l=c=pi):a&&(l=c=pi));let u=0;return 5==o&&(u=4),e.setUint32(t+0,o,!0),e.setUint16(t+4,i,!1),e.setUint16(t+6,r,!1),e.setUint16(t+8,0,!1),e.setUint32(t+10+u,0,!1),ei(s,e,t+14+u,!1,1e3),u&&(e.setUint16(t+10,l,!1),e.setUint16(t+12,c,!1)),t+vi(n)}Ic(e,t,n,i,r,s=0){return e.setUint32(t,n,!0),e.setUint16(t+4,i,!1),e.setUint16(t+6,r,!1),e.setUint16(t+8,0,!1),ei(s,e,t+10,!1,1e3),t+18}Tc(e,t,n,r=0){if(4!==e&&3!==e)return void i.Log.e("{57a6a4d}","{66e269d}",e);const s=this.Pd(18);this.Ic(s,0,e,t,n,r),this.jd(s)}Pc(){const e=this.Pd(4);e.setUint32(0,2,!0);try{this.Vd.send(e),i.Log.d("{57a6a4d}","{5693344}")}catch(e){const t="heartbeat exception";i.Log.e("{57a6a4d}","{ab52f04}",e),this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}jd(e,t=!0,n="input_channel_v1"){var r,s;if("input_channel_partially_reliable"!=n&&this.Dc()&&(e=this.Id(e)),void 0===e)return!1;this.xd&&"input_channel_v1"==n&&(null===(r=this.zd)||void 0===r||r.ja(e));const a=window.performance.now();if(!this.Fd.Ec())return!1;let o=!1;this.gd>2&&t&&(e.byteOffset<9?i.Log.w("{57a6a4d}","{0fc6121}"):((e=new DataView(e.buffer,e.byteOffset-9,9+e.byteLength)).setUint8(0,35),ei(this.Zo.Ra(),e,1,!1,1e3)));try{let t=performance.now();switch(n){case"input_channel_partially_reliable":null===(s=this.Gd)||void 0===s||s.send(e);break;case"input_channel_v1":this.Vd.send(e);break;default:throw new Error("Invalid input channel "+n)}let i=performance.now();this.Hd.Rc(i-t);const r=window.performance.now();this.Wd.Nc+=1;const l=r-a;l>5&&(this.Wd.Bc+=1),l>10&&(this.Wd.xc+=1),o=!0}catch(e){if(e.stack&&!e.stack.includes("Could not send data")){const t="sendinput exception";i.Log.e("{57a6a4d}","{7a6bf7c}",e),this.gc()&&this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}return o}Oc(){let e=1,t=0;for(;t<this.Ld.Fc;){e+=2;const n=this.Ld.Sc[t].kc;if(n>0){e+=19;for(let i=0;i<n;i++)e+=1+vi(this.Ld.Sc[t+i].Cc);t+=n}else e+=vi(this.Ld.Sc[t].Cc),t++}return e}Lc(){let e=0,t=-1;for(let n=0;n<this.Ld.Fc;n++)this.Ld.Sc[n].kc>0?(e+=9,t=this.Ld.Sc[n].kc):0===t&&(e+=9),e+=3+vi(this.Ld.Sc[n].Cc),t--;return e}Dc(){return this.Ld.Fc>0}Hc(e){this.Md=window.setTimeout(()=>{this.Md=0,this.Uc()},e)}Uc(){this.jd()}Td(e){0!==this.Md&&(window.clearTimeout(this.Md),this.Md=0);const t=performance.now();this.md=t;const n=e?2+e.byteLength:0,i=this.Oc()+n;let r;i>this.buffer.byteLength?(r=new DataView(new ArrayBuffer(i)),this.Wd.Vc++):r=new DataView(this.buffer,0,i),r.setUint8(0,255);let s=1,a=0;for(;a<this.Ld.Fc;){const e=s;s+=2;const n=this.Ld.Sc[a];n.kc>0?(s=this.wc(r,s,a,t),a+=n.kc):(s=this.mc(r,s,n.Cc,n.x,n.y,n.yc),a++),r.setUint16(e,s-e-2)}if(this.Ld.clear(),e){r.setUint16(s,e.byteLength),s+=2;for(let t=0;t<e.byteLength;t++)r.setUint8(s+t,e.getUint8(t));s+=e.byteLength}return r}sc(e){var t;if(e&&e.buffer!=this.buffer)return this.Uc(),e;0!==this.Md&&(window.clearTimeout(this.Md),this.Md=0),this.md=performance.now();const n=this.Lc()+(null!==(t=null==e?void 0:e.byteLength)&&void 0!==t?t:0),i=9+n;let r;if(i>this.buffer.byteLength){if(r=new DataView(new ArrayBuffer(i),i-n,n),this.Wd.Vc++,e){const t=r.byteLength-e.byteLength;for(let n=0;n<e.byteLength;n++)r.setUint8(t+n,e.getUint8(n))}}else r=new DataView(this.buffer,this.buffer.byteLength-n,n);let s=0,a=-1;for(let e=0;e<this.Ld.Fc;e++){const t=this.Ld.Sc[e];t.kc>0?(a=t.kc,r.setUint8(s,36),ei(t.Mc,r,s+1,!1,1e3),s+=9):0===a&&(r.setUint8(s,36),ei(0,r,s+1,!1,1e3),s+=9),r.setUint8(s,33),r.setUint16(s+1,vi(t.Cc)),s=this.mc(r,s+3,t.Cc,t.x,t.y,t.yc),a--}return this.Ld.clear(),r}Dd(e){return new fi(this.Cd,0,e)}ec(e){e+=1;const t=this.buffer.byteLength-e;let n=new fi(this.buffer,t,e,1);return this.bd.setUint8(t,34),n}Gc(e){var t;const n=null!==(t=this.Rd.get(e))&&void 0!==t?t:1;return this.Rd.set(e,(n+1)%65536),n}Wc(e,t){if(0===e.vd)return;t=null!=t?t:e.channel;const n=e.data();this.jd(n,!0,t),e.fd()}$c(e,t,n=!1,i){const r=t+(n?1:3)+(void 0===i?0:4);if(!(r>e.ma()&&(this.Wc(e),r>e.ma()))){if(void 0!==i){const t=this.Gc(i);e.writer.ga(38),e.writer.ga(i),e.writer.ba(t)}return n?e.writer.ga(34):(e.writer.ga(33),e.writer.ba(t)),e.pd(t)}}sendTextInput(e){let t=0,n=new DataView(e,0,e.byteLength),r=new ArrayBuffer(1021);for(;t<e.byteLength;){let s=0;if(e.byteLength-t<=1016)s=e.byteLength-t;else{s=t+1016;let e=!1;for(let t=0;t<4;t++){if(128!=(192&n.getUint8(s))){e=!0;break}s--}if(!e){i.Log.e("{57a6a4d}","{938b0d3}");break}s-=t}let a=new DataView(r,0,s+5);a.setUint8(0,34),a.setUint32(1,23,!0),new Uint8Array(r).set(new Uint8Array(e,t,s),5),t+=s,this.jd(a,!1)}}b_(e,t){const n=e.byteLength;if(n>1135)return i.Log.e("{57a6a4d}","{d6be538}"),!1;const r=13+n,s=new DataView(this.yd,0,r),a=new ni(s);a.ga(34),a.wa(1,!0),a.wa(0,!0),a.wa(n,!0);const o=new DataView(e);for(let e=0;e<n;e++)a.ga(o.getUint8(e));let l=!1;try{if(t)this.Vd.send(s);else{if(!this.Gd)return i.Log.w("{57a6a4d}","{4908850}"),!1;this.Gd.send(s)}l=!0}catch(e){if(e.stack&&!e.stack.includes("Could not send data")){const t="sendinput (bulk payload) exception";i.Log.e("{57a6a4d}","{f3886c1}",e),this.gc()&&this.telemetry.Jd(e,t,"{57a6a4d}.ts",0,0,!0)}}return l}gc(){return"open"===this.Vd.readyState&&(!this.Gd||"open"===this.Gd.readyState)}stop(){var e;this.Vd.bufferedAmount>0&&i.Log.w("{57a6a4d}","{5e5b9e5}",this.Vd.bufferedAmount),this.Gd&&this.Gd.bufferedAmount>0&&i.Log.w("{57a6a4d}","{3a88bc1}",this.Gd.bufferedAmount),this.xd&&(null===(e=this.zd)||void 0===e||e.Za())}get qc(){return this.gd}get Kc(){return this.md}Qc(e){let t=new Uint8Array(e);return Array.prototype.map.call(t,function(e){return("0"+(255&e).toString(16)).slice(-2)}).join("")}zc(e){let t="";for(let n=0;n<e.byteLength;n++)t+=("0"+(255&e.getUint8(n)).toString(16)).slice(-2);return t}Yc(e,t,n,i,r,s,a=0,o=0){e.setUint32(t,12,!0),e.setUint16(t+4,26,!0),e.setUint16(t+6,n,!0),e.setUint16(t+8,o,!0),e.setUint16(t+6+4,20,!0),e.setUint16(t+6+6,i,!0),e.setUint16(t+6+8,r,!0),e.setInt16(t+6+10,s[0],!0),e.setInt16(t+6+12,s[1],!0),e.setInt16(t+6+14,s[2],!0),e.setInt16(t+6+16,s[3],!0),e.setUint16(t+6+18,0,!0),e.setUint16(t+6+20,85,!0),e.setUint16(t+6+22,0,!0),ei(a,e,t+6+24,!0,1e3)}Xc(e){const t=this.$c(this.wd,38,!0);t&&(this.Yc(t,0,0,0,0,Ei([0,0,0,0]),0,e),this.Wc(this.wd))}jc(e,t,n,i,r,s,a,o){if(this.gd<3)return;let l;if(l=this.Jc(t)&&this.qd?this.$c(this.qd,38,!1,t):this.$c(this.wd,38),!l)return;const c=this.Zo.rr(s);this.Yc(l,0,t,n,i,Ei(r),c,a)}Zc(e,t,n,i,r=0){const s=this.$c(this.wd,38,!0);s&&(this.Yc(s,0,n,e,t,Ei(i),0,r),this.Wc(this.wd))}tl(){this.gd<3||(this.Uc(),this.Wc(this.wd),this.qd&&this.Wc(this.qd))}il(e){}sl(e){}el(e){const t=this.$c(this.wd,6,!0);t&&(t.setUint32(0,13,!0),t.setUint16(4,e?1:0,!1),this.Wc(this.wd))}hl(e,t,n){e.setUint32(0,18,!0),e.setUint8(4,t),e.setUint8(5,n),e.setUint32(6,1)}nl(e,t){const n=this.$c(this.wd,10,!0);n&&(this.hl(n,e,t),this.Wc(this.wd))}ol(e){return e<4?e+2:0}rl(e){return e<4?e+6:0}al(e){this.nl(this.ol(e),1)}dl(e){this.nl(this.ol(e),3)}cl(e){this.nl(this.rl(e),1)}ll(e){this.nl(this.rl(e),3)}ul(e,t,n,i,r,s=0){e.setUint32(0,17,!0),e.setUint8(4,t),e.setUint8(5,4),e.setUint8(6,0);let a=7;e.setUint8(a+0,1),e.setUint8(a+1,r[0]),e.setUint8(a+2,r[1]),e.setUint8(a+3,r[2]),e.setUint8(a+4,r[3]),e.setUint8(a+5+0,n[0]),e.setUint8(a+5+1,n[1]),e.setUint8(a+5+2,n[2]),e.setUint8(a+8,i[0]),e.setUint8(a+9,i[1]),e.setUint16(a+10,0,!0),e.setUint8(a+12,0),e.setInt16(a+13,0,!0),e.setInt16(a+15,0,!0),e.setInt16(a+17,0,!0),e.setInt16(a+19,0,!0),e.setInt16(a+21,0,!0),e.setInt16(a+23,0,!0),e.setUint32(a+25,0,!0),e.setUint8(a+29,0),e.setUint8(a+30,11),e.setUint8(a+31,0),e.setUint8(a+32,0),e.setUint8(a+33,0),a+=34;const o=72-a;new Uint8Array(e.buffer,e.byteOffset+a,o).fill(0)}Al(e,t,n,i,r,s,a,o){if(this.gd<3)return;let l;const c=this.rl(t);if(l=this.fl(c)&&this.qd?this.$c(this.qd,72,!1,4+c):this.$c(this.wd,72),!l)return;const u=this.Zo.rr(s);var d;this.ul(l,c,function(e,t){let n=0;const i=!!(4&e),r=!!(2&e),s=!!(8&e),a=!!(1&e);i||r||s||a?a?n=s?1:i?7:0:r?n=s?3:i?5:4:s?n=2:i&&(n=6):n=8,n|=16384&e?16:0,n|=4096&e?32:0,n|=8192&e?64:0,n|=32768&e?128:0;let o=0;o|=256&e?1:0,o|=512&e?2:0,o|=255&t?4:0,o|=65280&t?8:0,o|=32&e?16:0,o|=16&e?32:0,o|=64&e?64:0,o|=128&e?128:0;let l=0;return l|=0,l|=65536&e?1:0,l|=131072&e?2:0,[n,o,l]}(n,i),[255&(d=i),(65280&d)>>8],function(e){const t=e=>127.5*(e+1);return[t(e[0]),t(e[1]),t(e[2]),t(e[3])]}(r),u)}Jr(e,t,n,i,r,s,a,o){if(e>=40)return!1;const l=18+16*e;return this.kd.setUint8(l+0,t),this.kd.setUint8(l+1,n),this.kd.setUint16(l+2,i,!1),this.kd.setUint16(l+4,r,!1),this.kd.setUint8(l+6,s),this.kd.setUint8(l+7,a),ei(o,this.kd,l+8,!1,1e3),!0}Zr(e){let t=8+16*e;this.kd.setUint16(14,t,!1),this.kd.setUint16(16,e,!1);let n=10;this.gd>=3&&(t++,n--);const i=new DataView(this.kd.buffer,n,t);return this.Uc(),this.jd(i)}vl(e){this.Ed.push(e)}pl(e){const t=this.Ed.indexOf(e);t>-1&&this.Ed.splice(t,1)}Jc(e){if(!this.Gd)return!1;const t=1<<e;return(t&this.Nd)==t}fl(e){var t;return!!this.Gd&&null!==(t=this.Bd[e])&&void 0!==t&&t}ml(e){let t;switch(e.header.packetId){case 12:const n=e.data.index;this.Jc(n)&&(t=n);break;case 17:const i=e.data.id;this.fl(i)&&(t=i)}return t}nd(e){void 0===this.playbackBuffer&&(this.playbackBuffer=new gi(1150,"input_channel_v1"));let t="input_channel_v1";for(let n=0;n<e.length;n++){const i=e[n],r=i.header.packetId,s=this.ml(i);void 0!==s&&(t="input_channel_partially_reliable");const a=this.$c(this.playbackBuffer,Ai(r),!1,s);if(!a)return;switch(r){case 4:case 3:{let e=i.data;this.Ic(a,0,r,e.keycode,e.flags,e.captureTs);break}case 8:case 9:{let e=i.data;this.cc(a,0,r,e.data1,e.captureTs);break}case 7:case 5:{let e=i.data;const t=5==i.header.packetId;this.mc(a,0,t,e.xpos,e.ypos,e.captureTs,!0);break}case 10:{let e=i.data;this.Ac(a,0,e.vwheel,e.captureTs);break}case 12:{let e=i.data;this.Yc(a,0,e.index,e.buttons,e.trigger,e.axes,e.captureTs,e.bitmap);break}case 18:{let e=i.data;this.hl(a,e.id,e.control);break}case 17:{let e=i.data;if(si(e.id)){const t=e.data;this.ul(a,e.id,t.ds4Btns,t.triggers,t.axes,0)}break}}}this.Wc(this.playbackBuffer,t)}}function vi(e){return e?26:22}class yi{constructor(e){this.tc=!1,this.gl=0,this.bl=new Array(e);for(let e=0;e<this.Sc.length;e++)this.bl[e]={Cc:!1,x:0,y:0,yc:0,kc:0,Mc:0}}get Sc(){return this.bl}get Fc(){return this.gl}clear(){this.gl=0}wl(e,t){this.bl[e].kc=t}Sl(e,t,n,i,r,s,a){if(a&&this.gl>0){const i=this.bl[this.gl-1];if(i.Cc===e&&i.Mc===s)return void(e?(i.x=t,i.y=n):(i.x+=t,i.y+=n))}const o=this.tc?r:0;if(this.gl==this.bl.length)this.bl.push({Cc:e,x:t,y:n,yc:i,kc:o,Mc:s}),this.gl++;else{const r=this.bl[this.gl++];r.Cc=e,r.x=t,r.y=n,r.yc=i,r.kc=o,r.Mc=s}}}function Ei(e){const t=e=>Math.round(32767.5*(e+1))-32768;return[t(e[0]),t(-e[1]),t(e[2]),t(-e[3])]}function Si(e){return e+1}class bi{constructor(e){this.kl=e}enable(){this.kl.Cl=!0}disable(){this.kl.Cl=!1}updateInput(e,t,n){this.kl.Cl&&(zn.getInstance().Yo(),this.kl.yl=e,this.kl.Ml=t,this.kl.Il=n,this.kl.Tl=!0)}}class xi{constructor(e){this.buttons=e.Pl(e.device),this.axes=e.Dl(e.device),this.triggers=e.El(e.device),this.timestamp=performance.now()}Rl(e,t){for(let n=0;n<e.length;n++)if(Math.abs(e[n]-t[n])>.01)return!0;return!1}Nl(e){return this.buttons==e.buttons&&this.triggers==e.triggers&&!this.Rl(this.axes,e.axes)}}const wi={startDelay:0,duration:0,weakMagnitude:0,strongMagnitude:0};class Ii{constructor(e,t){var n,r;this.Bl=new Set,this.telemetry=new Set,this.xl=!1,this.Ol=0,this.Fl=0,this.Ll=0,this.gamepadPollInterval=100,this.Hl=4,this.Ul=[],this.Vl=[],this.Gl=[],this.hapticsSupported=!1,this.Wl=!1,this.$l=!1,this.allowHaptics=!0,this.g_=!1,this.ql=new Set,this.Kl=!1,this.Ql=!1,this.zl=!1,this.Yl=!1,this.Xl=!1,this.jl=!1,this.Jl=!1,this.Zl=!1,this.tu=!1,this.maxSchedulingDelay=0,this.iu=[],this.su=!1,this.eu=!1,this.hu=!1,this.nu=!0,this.ou=!1,this.ru=!1,this.au=new Map,this.du=new Map,this.windowAddEventListener=t&&t.windowAddEventListener?t.windowAddEventListener.bind(window):window.addEventListener.bind(window),this.windowRemoveEventListener=t&&t.windowRemoveEventListener?t.windowRemoveEventListener.bind(window):window.removeEventListener.bind(window),window.GamepadEvent&&(this.xl=!0),this.cu(),this.lu=this.uu.bind(this),this.Au=this.fu.bind(this),this.vu=this.pu.bind(this),this.mu=[],this.gu=[],this.bu=[];const s=e.os,a=null!==(r=null!==(n=e.osVersion)&&void 0!==n?n:e.osVer)&&void 0!==r?r:"",o=(s==i.PlatformOS.IOS||s==i.PlatformOS.IPADOS)&&e.browser==i.PlatformBrowser.SAFARI;this.Ql=o&&a.startsWith("13"),this.zl=o&&a.startsWith("14"),this.Kl=o&&"12-"==a,this.Yl=s==i.PlatformOS.CHROME_OS,this.Xl=s==i.PlatformOS.WEBOS,this.jl=s==i.PlatformOS.TIZEN,this.Jl=s==i.PlatformOS.ANDROID,this.Zl=we(e),this.kl={wu:0,Cl:!1,Su:!1,yl:0,Ml:0,Il:[],Tl:!1},this.ku=new bi(this.kl),this.Cu(),this.yu=!Lt.en,this.Mu=!1,this.Iu(void 0),i.Log.d("{515a922}","{b0c674b}")}Cu(){this.Hl=this.Tu(),this.allowHaptics=this.Pu(),this.su=this.Du()}Tu(){var e,t;return null!==(t=null!==(e=Lt.gamepadPollInterval)&&void 0!==e?e:Lt.Mh.gamepadPollInterval)&&void 0!==t?t:4}Pu(){var e,t;return null===(t=null!==(e=Lt.allowHaptics)&&void 0!==e?e:Lt.Mh.allowHaptics)||void 0===t||t}Du(){var e,t;return null===(t=null!==(e=Lt.synthesizeGamepadHid)&&void 0!==e?e:Lt.Mh.synthesizeGamepadHid)||void 0===t||t}Eu(e){this.Cu();const t=4&e,n=2&e;this.nu=Lt.un||0!=t,this.ou=Lt.An||0!=n,this.Ru(!0)}Nu(){this.Cu(),this.ru=!0,this.Ru(!0)}Bu(){return!this.kl.Su&&(i.Log.i("{515a922}","{132d93a}",this.kl.wu),this.kl.Su=!0,this.xu={Ou:"Nvidia Virtual Gamepad",state:0,buttons:0,triggers:0,axes:[]},this.Fu(this.kl.wu,!1),!0)}Lu(){if(this.xu){for(const e of this.telemetry)e.Hu(this.xu.Ou,"0","0",0,!1,0,!0,this.xu.state,this.Uu(this.xu));this.xu=void 0}}Vu(){if(this.kl.Su){i.Log.i("{515a922}","{98ac7c2}",this.kl.wu),this.kl.Su=!1,this.Lu();const e=this.kl.wu;for(const t of this.mu)if(t&&1==t.Gu&&t.Wu===e)return!1;return this.$u(e)}return!1}w_(e){return e<4?1<<e:0}qu(e){return e<4?1<<e+8:0}Ku(e){let t=[];for(let n of this.mu)n&&n.Gu==e&&(t[n.Wu]=!0);let n=0;for(;t[n];)n++;return n}Fu(e,t){let n;n=this.kl.Su&&e===this.kl.wu?this.kl.wu:this.mu[e].Wu,this.Ol|=this.w_(n);const i=this.qu(n);t?this.Ol|=i:this.Ol&=~i}$u(e){return!(e===this.kl.wu&&this.kl.Su||(this.Ol&=~this.w_(e),this.Ol&=~this.qu(e),0))}Qu(e){this.zu=e}Yu(e){this.Xu(e),this.Bl.delete(e),0==this.Bl.size&&this.ju()}Ju(e){this.Bl.add(e),1==this.Bl.size&&this.Zu()}Xu(e){var t;for(let n of this.mu){if(!n)continue;let i=n.device;this.tA(i)&&(1===n.Gu?e.jc(i.index,n.Wu,0,0,[0,0,0,0],performance.now(),this.Ol,i.id):null===(t=e.Al)||void 0===t||t.call(e,i.index,n.Wu,0,0,[0,0,0,0],performance.now(),this.Ol,i.id))}e.tl()}iA(e){this.telemetry.add(e)}sA(e){this.telemetry.delete(e)}eA(e,t=!1){return this.tu||(e|=2),t&&(e|=1),e}hA(e,t){return{Ou:t,state:this.mu[e.index]?this.mu[e.index].nA.state:this.eA(0),buttons:this.mu[e.index]?this.mu[e.index].nA.buttons:0,triggers:this.mu[e.index]?this.mu[e.index].nA.triggers:0,axes:this.mu[e.index]?this.mu[e.index].nA.axes:[]}}oA(e){if(!this.su)return 1;const t=this.yu&&this.eu&&this.nu&&!this.ru,n=this.Mu&&this.hu&&this.ou&&!this.ru;if(t||n){const i=Lt.an,r=Lt.dn;if(!(e.id.includes("Vendor: 054c")||e.id.includes("Wireless Controller")&&e.id.includes("054c")||i||r))return 1;if(!(e.buttons.length>=18)||i||r)return 1;const s=e.id.includes("Product: 09cc")||e.id.includes("Product: 05c4")||e.id.includes("Product: 0ba0")||e.id.includes("Wireless Controller")&&e.id.includes("09cc"),a=e.id.includes("Product: 0ce6")||e.id.includes("Product: 0df2"),o=(s||i)&&!Lt.rn,l=(a||r)&&!Lt.nn;return n&&(a||o||r)?3:t&&(s||l||i)?2:1}return 1}rA(e){const t=this.oA(e);return{device:e,aA:!0,Gu:t,Pl:this.dA,El:this.cA,Dl:this.lA,nA:this.hA(e,"Standard Gamepad"),Wu:this.Ku(t)}}uA(e){const t=this.oA(e);return{device:e,aA:!0,Gu:t,Pl:this.dA,El:this.cA,Dl:this.lA,nA:this.hA(e,"Standard Gamepad"),AA:!0,Wu:this.Ku(t)}}fA(e){const t=this.oA(e);return{device:e,aA:!0,Gu:t,Pl:this.dA,El:this.vA,Dl:this.lA,nA:this.hA(e,"Nvidia Shield Gamepad"),Wu:this.Ku(t)}}pA(e){const t=this.oA(e);return{device:e,aA:!0,Gu:t,Pl:this.mA,El:this.cA,Dl:this.gA,nA:this.hA(e,"Standard Gamepad"),Wu:this.Ku(t)}}bA(e){const t=this.oA(e);return{device:e,aA:!1,Gu:t,Pl:this.wA.bind(this),El:this.SA.bind(this,3,4),Dl:this.kA,nA:this.hA(e,"Dual Sense Gamepad"),Wu:this.Ku(t)}}CA(e){const t=this.oA(e);return{device:e,aA:!1,Gu:t,Pl:this.yA.bind(this),El:this.SA.bind(this,3,4),Dl:this.kA,nA:this.hA(e,"Xbox Series Gamepad"),Wu:this.Ku(t)}}MA(e){const t=this.oA(e);return{device:e,aA:!1,Gu:t,Pl:this.IA.bind(this),El:this.SA.bind(this,2,5),Dl:this.TA,nA:this.hA(e,"Xbox Series Wired Gamepad"),Wu:this.Ku(t)}}PA(e){return this.zl?this.rA(e):this.Ql?this.pA(e):this.Kl?null:!this.DA(e)||this.Xl||this.jl?this.EA(e)?this.uA(e):this.RA(e)?this.rA(e):this.NA(e)?this.bA(e):this.BA(e)?this.CA(e):this.xA(e)?this.MA(e):(i.Log.e("{515a922}","{be4bfd9}",e),null):this.fA(e)}Xc(e,t){const n=(e,t)=>{e.Xc(t)};if(e)n(e,null!=t?t:this.Ol);else for(const e of this.Bl)n(e,null!=t?t:this.Ol)}uu(e){this.OA(e.gamepad,e.gamepad.index)&&this.Xc()}fu(e){this.FA(e.gamepad.index,!0)&&this.Xc()}LA(){0!=this.Ll&&(clearInterval(this.Ll),this.Ll=0),this.g_&&!Lt.Nh?this.Ll=window.setInterval(this.vu,this.gamepadPollInterval):this.Ll=0}HA(e){let t=["-1","-1"];const n=/Vendor:[ ]+([\w\d]+).+Product:[ ]+([\w\d]+)/.exec(e);return n&&n.length>=3&&(t=[n[1],n[2]]),t}UA(e){if(this.Fl&&(this.Xc(e,0),this.ql.size<=1)){let e=!0;for(let t of this.mu)t&&(t.nA.state=this.eA(t.nA.state,!0),this.FA(t.device.index,!0,e),e=!1);this.Lu(),this.Ol=0,this.Fl=0,this.kl.Su=!1,this.cu(),this.LA(),this.mu=[],this.tu=!1}}tA(e){return!!("standard"==e.mapping||this.zl||this.Ql||this.NA(e)||this.BA(e)||this.xA(e))}RA(e){return"standard"==e.mapping}EA(e){return e.id.includes("Vendor: 045e")&&(e.id.includes("Product: 0b13")||e.id.includes("Product: 0b20")||e.id.includes("Product: 0b05")||e.id.includes("Product: 02e0")||e.id.includes("Product: 02fd"))}DA(e){return"standard"==e.mapping&&e.id.includes("Vendor: 0955")}NA(e){return!this.Jl&&"standard"!=e.mapping&&e.id.includes("Vendor: 054c")&&e.id.includes("Product: 0ce6")}BA(e){return"standard"!=e.mapping&&e.id.includes("Vendor: 045e")&&e.id.includes("Product: 0b13")}xA(e){return this.Yl&&"standard"!=e.mapping&&e.id.includes("Vendor: 045e")&&e.id.includes("Product: 0b12")}VA(e){return e.id.includes("Xbox")||e.id.includes("xinput")}OA(e,t){if(this.tA(e)){const n=this.PA(e);if(n){this.hapticsSupported=this.hapticsSupported||this.GA(n.device),this.WA();const r=this.Ol,s=this.mu[t],a=this.Fl,o=this.VA(e);this.mu[t]=n,void 0===this.bu[t]&&(this.bu[t]=0),s&&this.$A(e,t)?this.mu[t].Wu=s.Wu:(0==this.Fl&&(this.gamepadPollInterval=this.Hl,this.LA()),this.Fl++,2===n.Gu?(this.S_(n),this.du.set(n.Wu,t)):(this.Fu(t,o),this.au.set(n.Wu,t)));const l=r!==this.Ol,c=s?"Changing":"Adding";return l?i.Log.i("{515a922}","{96051ae}",c,t,o,n.device.id):a!=this.Fl&&i.Log.i("{515a922}","{98be0dd}",c,t,n.device.id),l}for(const t of this.Bl)t.il(e);return this.FA(t)}for(const t of this.Bl)t.il(e);return this.FA(t)}qA(e,t){this.mu[t].device=e,this.hapticsSupported=this.hapticsSupported||this.GA(e),this.WA()}KA(e){let t=!1;for(const n of this.mu)if(n){e===n.device.index&&(t=!0);break}return t}FA(e,t=!1,n=void 0){let r=this.mu[e];if(r){i.Log.i("{515a922}","{1b26b8a}",e,r.device.id);const s=r.Gu,a=this.gu[e];if(a){const e=performance.now()-a.timestamp;if(e>=3e3&&a.axes.some(e=>Math.abs(e)>.5)){i.Log.w("{515a922}","{fde5612}",e,a.axes.join());for(const t of this.telemetry)t.Ge("GamepadStuck",r.device.id,e.toString(),a.axes.join())}}if(t){const[e,t]=this.HA(r.device.id);for(const i of this.telemetry)i.Hu(r.nA.Ou,e,t,r.device.index,!!r.device.hapticActuators&&r.device.hapticActuators.length>0,0,null!=n?n:this.KA(r.device.index),r.nA.state,this.Uu(r.nA))}return delete this.mu[e],delete this.bu[e],delete this.gu[e],this.hapticsSupported=this.QA(),this.WA(),this.Fl--,0==this.Fl&&(this.cu(),this.LA()),2===s?(this.zA(r),this.du.delete(r.Wu),!1):(this.au.delete(r.Wu),this.$u(r.Wu))}return!1}cu(){this.gamepadPollInterval=100}$A(e,t){var n,i;return null!=e.id&&e.id==(null===(i=null===(n=this.mu[t])||void 0===n?void 0:n.device)||void 0===i?void 0:i.id)}S_(e){var t;switch(e.Gu){case 3:i.Log.e("{515a922}","{ea001a4}",e.device.id);break;case 2:for(const n of this.Bl)null===(t=n.cl)||void 0===t||t.call(n,e.Wu);break;default:i.Log.e("{515a922}","{36eeed4}",e.device.id)}}zA(e){var t;switch(e.Gu){case 3:i.Log.e("{515a922}","{2b2d286}",e.device.id);break;case 2:for(const n of this.Bl)null===(t=n.ll)||void 0===t||t.call(n,e.Wu);break;default:i.Log.e("{515a922}","{fafe5f9}",e.device.id)}}Ru(e=!1){let t=!1;this.kl.Cl&&!this.kl.Su?t=this.Bu():!this.kl.Cl&&this.kl.Su&&(t=this.Vu());let n=navigator.getGamepads();for(var i=0;i<n.length;i++){let r=n[i];if(r)if(this.$A(r,i)){if(this.qA(r,i),e){let e=this.mu[i];const n=e.Gu,s=this.oA(r);n!==s&&(1===n?(this.$u(e.Wu),e.Gu=s,e.Wu=this.Ku(s),this.S_(e)):(this.zA(e),e.Gu=s,e.Wu=this.Ku(s),this.Fu(i,this.VA(r)))),t=!0}}else this.FA(i,!0),this.OA(r,i)&&(t=!0);else this.FA(i,!0)&&(t=!0)}if(t){this.Xc();for(const e of this.mu)2==(null==e?void 0:e.Gu)&&this.S_(e)}this.tu=!0}dA(e){let t=e.buttons;return(t[0].value?4096:0)|(t[1].value?8192:0)|(t[2].value?16384:0)|(t[3].value?32768:0)|(t[4].value?256:0)|(t[5].value?512:0)|(t[8]&&t[8].value?32:0)|(t[9]&&t[9].value?16:0)|(t[10]&&t[10].value?64:0)|(t[11]&&t[11].value?128:0)|(t[12]&&t[12].value?1:0)|(t[13]&&t[13].value?2:0)|(t[14]&&t[14].value?4:0)|(t[15]&&t[15].value?8:0)|(t[16]&&t[16].value?65536:0)|(t[17]&&t[17].value?131072:0)}Uu(e){const t=e.buttons,n=e.triggers,i=e.axes;return"A:"+(4096&t?"1":"0")+"_B:"+(8192&t?"1":"0")+"_X:"+(16384&t?"1":"0")+"_Y:"+(32768&t?"1":"0")+"_LB:"+(256&t?"1":"0")+"_LSB:"+(64&t?"1":"0")+"_RB:"+(512&t?"1":"0")+"_RSB:"+(128&t?"1":"0")+"_LT:"+(255&n?"1":"0")+"_RT:"+(65280&n?"1":"0")+"_DU:"+(1&t?"1":"0")+"_DD:"+(2&t?"1":"0")+"_DL:"+(4&t?"1":"0")+"_DR:"+(8&t?"1":"0")+"_ST:"+(16&t?"1":"0")+"_BA:"+(32&t?"1":"0")+"_LS:"+(i.length>=2&&(2===i[0]||2===i[1])?"1":"0")+"_RS:"+(4!==i.length||2!==i[2]&&2!==i[3]?"0":"1")}cA(e){var t,n;let i=e.buttons,r=Math.round(255*(null===(t=i[6])||void 0===t?void 0:t.value));return(255&Math.round(255*(null===(n=i[7])||void 0===n?void 0:n.value)))<<8|255&r}vA(e){var t,n;let i=e.buttons,r=Math.round(255*(null===(t=i[7])||void 0===t?void 0:t.value));return(255&Math.round(255*(null===(n=i[6])||void 0===n?void 0:n.value)))<<8|255&r}SA(e,t,n){let i=Math.round(127.5*(n.axes[e]+1));return(255&Math.round(127.5*(n.axes[t]+1)))<<8|255&i}lA(e){return e.axes}gA(e){return[e.axes[0],-e.axes[1],e.axes[2],-e.axes[3]]}kA(e){return[e.axes[0],e.axes[1],e.axes[2],e.axes[5]]}TA(e){return[e.axes[0],e.axes[1],e.axes[3],e.axes[4]]}mA(e){var t,n,i,r,s,a;let o=e.buttons,l=e.axes;return((null===(t=o[0])||void 0===t?void 0:t.value)?4096:0)|((null===(n=o[1])||void 0===n?void 0:n.value)?8192:0)|((null===(i=o[2])||void 0===i?void 0:i.value)?16384:0)|((null===(r=o[3])||void 0===r?void 0:r.value)?32768:0)|((null===(s=o[4])||void 0===s?void 0:s.value)?256:0)|((null===(a=o[5])||void 0===a?void 0:a.value)?512:0)|(l[5]>0?1:0)|(l[5]<0?2:0)|(l[4]<0?4:0)|(l[4]>0?8:0)}YA(e){switch(Number.parseFloat((null!=e?e:0).toFixed(5))){case.71429:return 4;case-.42857:return 8;case-1:return 1;case.14286:return 2;case 1.28571:return 0;case 1:return 5;case-.71429:return 9;case.42857:return 6;case-.14286:return 10;default:return 0}}XA(e,t){return(t<0?1:0)|(t>0?2:0)|(e<0?4:0)|(e>0?8:0)}wA(e){var t,n,i,r,s,a,o,l,c,u;let d=e.buttons;const h=this.Yl?this.XA(e.axes[6],e.axes[7]):this.YA(e.axes[9]);return((null===(t=d[1])||void 0===t?void 0:t.value)?4096:0)|((null===(n=d[2])||void 0===n?void 0:n.value)?8192:0)|((null===(i=d[0])||void 0===i?void 0:i.value)?16384:0)|((null===(r=d[3])||void 0===r?void 0:r.value)?32768:0)|((null===(s=d[4])||void 0===s?void 0:s.value)?256:0)|((null===(a=d[5])||void 0===a?void 0:a.value)?512:0)|((null===(o=d[8])||void 0===o?void 0:o.value)?32:0)|((null===(l=d[9])||void 0===l?void 0:l.value)?16:0)|((null===(c=d[10])||void 0===c?void 0:c.value)?64:0)|((null===(u=d[11])||void 0===u?void 0:u.value)?128:0)|h}yA(e){var t,n,i,r,s,a,o,l,c,u;let d=e.buttons;const h=this.YA(e.axes[9]);return((null===(t=d[0])||void 0===t?void 0:t.value)?4096:0)|((null===(n=d[1])||void 0===n?void 0:n.value)?8192:0)|((null===(i=d[3])||void 0===i?void 0:i.value)?16384:0)|((null===(r=d[4])||void 0===r?void 0:r.value)?32768:0)|((null===(s=d[6])||void 0===s?void 0:s.value)?256:0)|((null===(a=d[7])||void 0===a?void 0:a.value)?512:0)|((null===(o=d[10])||void 0===o?void 0:o.value)?32:0)|((null===(l=d[11])||void 0===l?void 0:l.value)?16:0)|((null===(c=d[13])||void 0===c?void 0:c.value)?64:0)|((null===(u=d[14])||void 0===u?void 0:u.value)?128:0)|h}IA(e){var t,n,i,r,s,a,o,l,c,u;let d=e.buttons;const h=this.XA(e.axes[6],e.axes[7]);return((null===(t=d[0])||void 0===t?void 0:t.value)?4096:0)|((null===(n=d[1])||void 0===n?void 0:n.value)?8192:0)|((null===(i=d[2])||void 0===i?void 0:i.value)?16384:0)|((null===(r=d[3])||void 0===r?void 0:r.value)?32768:0)|((null===(s=d[4])||void 0===s?void 0:s.value)?256:0)|((null===(a=d[5])||void 0===a?void 0:a.value)?512:0)|((null===(o=d[6])||void 0===o?void 0:o.value)?32:0)|((null===(l=d[7])||void 0===l?void 0:l.value)?16:0)|((null===(c=d[9])||void 0===c?void 0:c.value)?64:0)|((null===(u=d[10])||void 0===u?void 0:u.value)?128:0)|h}jA(){Lt.Th&&Lt.Nh&&this.pu()}Zc(){for(const e of this.Bl)e.Zc(this.kl.yl,this.kl.Ml,this.kl.wu,this.kl.Il,this.Ol)}JA(){return this.maxSchedulingDelay}ZA(){this.maxSchedulingDelay=0}tf(){const e=performance.now();if(this.if){const t=e-this.if-this.gamepadPollInterval;this.maxSchedulingDelay=Math.max(this.maxSchedulingDelay,t)}this.if=e}pu(){var e;this.tf(),this.Ru();let t=0;for(let n of this.mu){if(!n)continue;const i=n.device.timestamp;let r=n.device;if(!this.tA(r))continue;if(n.device.timestamp<=this.bu[r.index]){this.zu&&performance.now()-n.device.timestamp>=5e3&&this.zu();continue}this.bu[r.index]=n.device.timestamp;const s=this.gu[r.index],a=new xi(n);if(s&&s.Nl(a))continue;this.gu[r.index]=a;let o=n.El(r),l=n.Pl(r),c=n.Dl(r);const u=(e,t,n)=>{var i;const r=(t|e)===l,a=Ti(o,n,255)&&Ti(o,n,65280),c=!((null!==(i=null==s?void 0:s.buttons)&&void 0!==i?i:0)&e||!(l&e));return r&&a&&c};for(let e of this.iu)u(e.sf,e.ef,e.hf)&&e.nf();switch(n.Gu){case 1:for(const e of this.Bl)e.jc(r.index,n.Wu,l,o,c,i,this.Ol,r.id);break;case 2:for(const t of this.Bl)null===(e=t.Al)||void 0===e||e.call(t,r.index,n.Wu,l,o,c,n.device.timestamp,this.Ol,r.id)}t++,this.rf(n.nA,l,o,c)}if(t){zn.getInstance().Yo();for(const e of this.Bl)e.tl()}this.kl.Su&&this.kl.Tl&&(this.Zc(),this.kl.Tl=!1,this.xu&&this.rf(this.xu,this.kl.yl,this.kl.Ml,this.kl.Il))}af(e){for(let t=0;t<this.iu.length;t++){const n=this.iu[t];if(n.sf===e.sf&&n.ef===e.ef&&n.hf===e.hf&&n.nf===e.nf)return t}return-1}df(e){this.iu.push(e)}cf(e){const t=this.af(e);-1!==t&&this.iu.splice(t,1)}rf(e,t,n,i){e.buttons|=t,e.triggers|=n,0===e.axes.length?e.axes=[i[0],i[1],i[2],i[3]]:(e.axes[0]=2==e.axes[0]||e.axes[0]!==i[0]?2:e.axes[0],e.axes[1]=2==e.axes[1]||e.axes[1]!==i[1]?2:e.axes[1],e.axes[2]=2==e.axes[2]||e.axes[2]!==i[2]?2:e.axes[2],e.axes[3]=2==e.axes[3]||e.axes[3]!==i[3]?2:e.axes[3])}lf(e){var t;if(this.$l!=e&&(this.$l=e,this.allowHaptics))for(const n of this.Bl)null===(t=n.el)||void 0===t||t.call(n,e)}Zu(){this.g_=!0,this.Cu(),this.WA(),Lt.Th&&(this.windowAddEventListener("gamepadconnected",this.lu),this.windowAddEventListener("gamepaddisconnected",this.Au),this.LA(),this.Ru(!0))}ju(){this.g_=!1,this.Cu(),this.WA(),Lt.Th&&(this.uf(),this.windowRemoveEventListener("gamepadconnected",this.lu),this.windowRemoveEventListener("gamepaddisconnected",this.Au),this.LA())}uf(){for(const e of this.Bl)this.Xu(e)}getVirtualGamepadHandler(){return this.ku}QA(){let e=!1;for(let t of this.mu)t&&(e=e||this.GA(t.device));return e}WA(){var e,t;if(this.Wl=this.g_&&this.hapticsSupported,this.lf(this.Wl),!this.Wl){let n=navigator.getGamepads();for(let i of n)i&&(this.Ul[i.index]=0,this.Vl[i.index]=0,null===(t=null===(e=i.vibrationActuator)||void 0===e?void 0:e.playEffect)||void 0===t||t.call(e,"dual-rumble",wi))}}GA(e){var t;return"dual-rumble"==(null===(t=e.vibrationActuator)||void 0===t?void 0:t.type)}ac(e,t,n){const i=this.au.get(e);void 0!==i&&this.Af(i,t,n)}rc(e,t,n){const i=this.du.get(e);void 0!==i&&this.Af(i,t,n)}Af(e,t,n){var i,r;if(!this.Wl)return;let s=this.mu[e];if(s){let a=s.device;if(a)if(0!=t||0!=n){const i=t/65535,r=n/65535,o=performance.now();let l=o-this.Gl[e];this.Ul[e]=i,this.Vl[e]=r,(!s.AA||l>500)&&(this.Gl[e]=o,(()=>{var t,n;null===(n=null===(t=a.vibrationActuator)||void 0===t?void 0:t.playEffect)||void 0===n||n.call(t,"dual-rumble",{startDelay:0,duration:1e3,weakMagnitude:this.Vl[e],strongMagnitude:this.Ul[e]})})())}else this.Gl[e]=performance.now(),this.Ul[e]=0,this.Vl[e]=0,null===(r=null===(i=a.vibrationActuator)||void 0===i?void 0:i.playEffect)||void 0===r||r.call(i,"dual-rumble",wi)}}ff(){return this.Cu(),this.Ru(),this.Ol}Iu(e){var t,n;this.Cu();let i=null!=e?e:0;return Lt.cn&&(i|=1),Lt.ln&&(i|=2),this.su&&i?(this.eu=null!==(t=Lt.cn)&&void 0!==t?t:!!(1&i),this.hu=null!==(n=Lt.ln)&&void 0!==n?n:!!(2&i),void this.Ru(!0)):(this.eu=!1,void(this.hu=!1))}static getInstance(e,t){return Ii.vf||(Ii.vf=new Ii(e,t)),Ii.vf}}function Ci(e,t){return(e&t)>=.9*t}function Ti(e,t,n){return!!(n&t)===Ci(e,n)}Ii.vf=void 0;class Mi{constructor(e,t){this.pf=0,this.mf=8,this.gf=0,this.bf=0,this.wf=0,this.Sf=0,this.kf=!1,this.Cf=!1,this.scale=12,this.yf="mousemove",this.Mf="mousedown",this.If="mouseup",this.Tf=2,this.Pf=3,this.Ms=t,this.Df=e,this.Ef=this.Rf.bind(this),Se(this.Ms)&&(this.Tf=0,this.Pf=1)}jc(e,t,n,i,r,s,a,o){this.Nf(n,i,r)}Al(e,t,n,i,r,s,a,o){this.Nf(n,i,r)}Nf(e,t,n){const i=(e=>{const t=t=>-.1<e[t]&&e[t]<.1?0:e[t],n=[];return n[0]=t(0),n[1]=t(1),n[2]=t(2),n[3]=t(3),n})(n),r=i[this.Tf],s=i[this.Pf],a=4-3*Math.min(1,Math.sqrt(r*r+s*s));this.gf=r*this.scale/a,this.bf=s*this.scale/a;const o=!!(4224&e)||Ci(t,65280),l=Ci(t,255),c=this.kf,u=this.Cf;this.kf=o,this.Cf=l,!o&&c&&this.Bf(0,!1),!l&&u&&this.Bf(2,!1),o&&!c&&this.Bf(0,!0),l&&!u&&this.Bf(2,!0)}Rf(){this.wf=Math.sign(this.wf)!=Math.sign(this.gf)?this.gf:this.wf+this.gf,this.Sf=Math.sign(this.Sf)!=Math.sign(this.bf)?this.bf:this.Sf+this.bf;let e=0,t=0;if((this.wf>=1||this.wf<=-1)&&(e=Math.trunc(this.wf),this.wf-=e),(this.Sf>=1||this.Sf<=-1)&&(t=Math.trunc(this.Sf),this.Sf-=t),0!=e||0!=t){const n={movementX:e,movementY:t,isPrimary:!0};let i;i="pointerrawupdate"==this.yf||"pointermove"==this.yf?new PointerEvent(this.yf,n):new MouseEvent("mousemove",n),this.Df.dispatchEvent(i)}}xf(){return(this.kf?1:0)|(this.Cf?2:0)}Bf(e,t){let n={button:e,buttons:this.xf()};const i=new MouseEvent(t?this.Mf:this.If,n);this.Df.dispatchEvent(i)}start(){this.pf&&this.stop(),this.pf=window.setInterval(this.Ef,this.mf)}stop(){this.pf&&(clearInterval(this.pf),this.pf=0)}Of(e){this.yf=e}Ff(e,t){this.Mf=e,this.If=t}reset(){this.kf&&this.Bf(0,!1),this.Cf&&this.Bf(2,!1),this.gf=this.bf=0,this.wf=this.Sf=0,this.kf=this.Cf=!1}Xc(e){}tl(){}Zc(e,t,n,i,r){}il(e){}sl(e){}}class Bi{constructor(){this.x=0,this.y=0}Lf(){return this.x}Hf(){return this.y}update(e,t,n){return this.x=e,this.y=t,!0}}class Ri{constructor(){this.Uf=0,this.Vf=0,this.Gf=0,this.Wf=0,this.$f=0,this.E_=0,this.qf=0,this.Kf=0,this.Qf=0,this.zf=!1}Lf(){return this.Uf}Hf(){return this.Vf}update(e,t,n){if(0===e&&0===t)return this.zf?(this.Kf=0,this.Qf=0):this.zf=!0,!1;if(this.zf=!1,0===this.Kf&&0===this.Qf){if(n<this.Gf)return this.Kf=e,this.Qf=t,!1}else e+=this.Kf,t+=this.Qf,this.Kf=0,this.Qf=0;const i=e*this.Uf+t*this.Vf,r=e*e+t*t,s=this.Uf*this.Uf+this.Vf*this.Vf;let a=!0;if(n-this.Gf<.95&&i<0&&0!==s&&i*i>.81*r*s){const e=Math.sqrt(r)/Math.sqrt(s);let t=Math.abs(e-Math.trunc(e));t>.5&&(t=1-t),t<.1&&(a=!1)}const o=e-this.Uf,l=t-this.Vf,c=o*o+l*l;if(a){const i=1+.1*Math.max(1,Math.min(16,n-this.Gf)),r=2*i*Math.abs(this.Wf),s=2*i*Math.abs(this.$f),o=Math.max(8100,r*r+s*s);if(a=c<o,!a&&(this.E_||this.qf)){const n=e-this.E_,i=t-this.qf;a=n*n+i*i<o}}return a?(this.Wf=.4*this.Wf+.6*o,this.$f=.4*this.$f+.6*l,this.Uf=e,this.Vf=t,this.Gf=n,this.E_=0,this.qf=0,!0):(this.E_=e,this.qf=t,!1)}}function Pi(e){return{Yf:"image/x-icon",scale:1,...e}}const _i={style:"default",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAOAAAADAAAABwAAAAYAAAAOAAABDAAAAZwAAAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////////5////8P///+D////h////wf//98P///OD///xh///8Af///AP///wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=",jf:2,Jf:1},Di=[{style:"none",Xf:"",jf:0,Jf:0},_i,{style:"text",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfvwAAAAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAfPwAAAAAAAAAAAAAAAAAA/////////////////////////////////////+BA///Agf///z////8/////P////z////8/////P////z////8/////P////z////8/////P////z////8/////P////z////8/////P////z///+BA///Agf////////////8=",jf:8,Jf:13},{style:"wait",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8AAAzzAAAHDgAABfoAAAb2AAADbAAAAfgAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAB+AAAA/wAAAaWAAAH/gAABWoAAA//AAAP/wAAAAAAAAAAAAA//////////////////////////////////////////+AAf//gAH//4AB//+AAf//wAP//8AD///gB///8A////gf///8P////D////w////8P////D////gf///wD///4Af//8AD///AA///gAH//4AB//+AAf//gAH///////8=",jf:7,Jf:12},{style:"crosshair",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAABjAAABgMAAAQBAAAIAIAACACAABAAQAAAIAAAEABAAAgAgAAIAIAABgMAAAICAAABjAAAAFAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////4////5T///53P//+97///fff//333//79+//+AAP//v37//999///fff//53P///d3///5T////j////////8=",jf:8,Jf:8},{style:"progress",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4AAAAiAAAAPgAAABwAAAYIAAAOCAAADAgAABwcAAAYNgAAOCoABDA+AAZwAAAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA///////////////////////+A////gP///4D///+A///5wf//8OP//+Dj///h4///wcH/98OA//ODgP/xh4D/8AeA//AP///wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=",jf:2,Jf:1},{style:"nwse-resize",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP4AAAB+AAAAPgAAAB4AAABuAAAA5gAAAcIAAEOAAABnAAAAdgAAAHgAAAB8AAAAfgAAAH8AAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////wA///+AP///wD///+A////gP///wD//34A//88GP//GDz//wB+//8A////Af///wH///8A////AH///wA////////8=",jf:9,Jf:8},{style:"nesw-resize",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfwAAAH4AAAB8AAAAeAAAAHYAAABnAAAAQ4AAAAHCAAAA5gAAAG4AAAAeAAAAPgAAAH4AAAD+AAAAAAAAAAAAA////////////////////////////////////////////////////////////////////////////////wA///8Af///AP///wH///8B////AP///wB+//8YPP//PBj//34A////AP///4D///+A////AP///gD///wA///////8=",jf:9,Jf:9},{style:"ew-resize",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAEAABgBgAA4AcAAeAHgAPv98AH7/fgA+/3wAHgB4AA4AcAAGAGAAAgBAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////+/3///P8///j/H//w/w//4P8H/8AAA/+AAAH/AAAA/4AAAf/AAAP/4P8H//D/D//4/x///P8///7/f//////8=",jf:13,Jf:8},{style:"ns-resize",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADgAAAB8AAAA/gAAAf8AAAP/gAAAAAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAAAAAA/+AAAH/AAAA/gAAAHwAAAA4AAAAEAAAAAAAAAAAAAA//////////////////////////////////////+/////H////g////wH///4A///8AH//+AA///AAH///g////4P///+D////g////4P///+D////g////4P///AAH//4AD///AB///4A////Af///4P////H////7////////8=",jf:9,Jf:12},{style:"move",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAABwAAAA+AAAAHAAAABwAAAAcAAAAHAAAABwAAAgACAAf3fwAP93+AB/d/AAIAAgAABwAAAAcAAAAHAAAABwAAAAcAAAAPgAAABwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////f////j////wf///4D///8Af///wf///8H///vB7//zwef/4AAD/8AAAf+AAAD/wAAB/+AAA//zwef/+8Hv///B////wf///wB///+A////wf///+P////3///////////////////////8=",jf:13,Jf:12},_i,{style:"pointer",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAB/gAAA/4AAAP/AAAH/wAAB/8AAA//gAAP/4AAH/+AADttgABzbYAAY2wAAANsAAADYAAAAwAAAAMAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////+Af///AD///wA///4AP//+AB///AAf//wAH//4AA//+AAP//AAD//gAA//wAAP/8IAH//mAH///gD///4H///+H////z////////8=",jf:8,Jf:3},{style:"help",Xf:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAABgAAAAYAAAYHAAAOAYAADADAABwwwAAYMMAAODDABDAZgAZwDwAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA/////////////+f////D////5//////////n////w///58P//8PB//+D4P//hzB//wYYf98OGH/ODhh/xh8A/8Afgf/AP8P/wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=",jf:2,Jf:1}];class Ni{constructor(e,t,n,r,s,a,o,l,c,u,d,h){var p,f,g,A,m,v,y,E,S,b,x,w,I,C,T,M,B,R;this.Fd=e,this.Hd=t,this.Hn=n,this.Zf=s,this.Ms=a,this.tv=o,this.Wd=l,this.Ld=c,this.ed=u,this.sv=d,this.Zo=h,this.ev=new Map,this.hv=Di.map(Pi),this.nv=0,this.ov=0,this.rv=!1,this.av=new Set,this.dv=!1,this.cv=!1,this.lv=!1,this.uv=!1,this.Av=!1,this.fv=!1,this.vv=0,this.pv=0,this.mv=!1,this.gv={passive:!1},this.bv=!0,this.g_=!1,this.wv=0,this.Sv=0,this.kv=null,this.Cv=void 0,this.yv=()=>{this.Sv=0,this.Mv()&&!this.Iv()&&(this.rv=!0,this.Tv())},r.onmessage=e=>this.Pv(e),this.Ud={ia:n.clientWidth||window.screen.width,sa:n.clientHeight||window.screen.height,Dv:1,Ev:0,Rv:0,videoWidth:0,videoHeight:0,Nv:0,offsetX:0,offsetY:0,Bv:1};const P=window.zoneless;if(this.documentAddEventListener=null!==(f=null===(p=null==P?void 0:P.documentAddEventListener)||void 0===p?void 0:p.bind(document))&&void 0!==f?f:document.addEventListener.bind(document),this.documentRemoveEventListener=null!==(A=null===(g=null==P?void 0:P.documentRemoveEventListener)||void 0===g?void 0:g.bind(document))&&void 0!==A?A:document.removeEventListener.bind(document),this.videoAddEventListener=null!==(E=null!==(v=null===(m=null==P?void 0:P.videoAddEventListener)||void 0===m?void 0:m.bind(n))&&void 0!==v?v:null===(y=null==P?void 0:P.documentAddEventListener)||void 0===y?void 0:y.bind(document))&&void 0!==E?E:n.addEventListener.bind(n),this.videoRemoveEventListener=null!==(w=null!==(b=null===(S=null==P?void 0:P.videoRemoveEventListener)||void 0===S?void 0:S.bind(n))&&void 0!==b?b:null===(x=null==P?void 0:P.documentRemoveEventListener)||void 0===x?void 0:x.bind(document))&&void 0!==w?w:n.removeEventListener.bind(n),this.xv=this.Ov.bind(this),this.Fv=this.Lv.bind(this),this.Hv=this.Uv.bind(this),this.Vv=this.Gv.bind(this),this.Wv=this.$v.bind(this),this.T_=this.qv.bind(this),this.Kv=this.Qv.bind(this),this.zv=this.Yv.bind(this),this.Xv=this.jv.bind(this),this.Jv=this.Zv.bind(this),this.tp=this.sp.bind(this),this.ep=this.hp.bind(this),this.np=this.op.bind(this),this.ap=!!s.windowedStreaming,this.cursorType=null!==(C=null!==(I=function(){switch(Lt.cursor){case"hw":return 1;case"sw":return 0;case"free":return 2;default:return}}())&&void 0!==I?I:s.cursorType)&&void 0!==C?C:this.ap?2:0,i.Log.i("{70cc40b}","{3277c0e}",this.cursorType),this.cp={lp:!1,up:0===this.cursorType&&!s.allowUnconfined,Ap:0,fp:0,vp:0,pp:0,style:"",cursor:this.hv[0]},this.mp={gp:1,bp:!1,wp:!1,Sp:!1},this.kp=["image-set","-webkit-image-set"].find(e=>CSS.supports("cursor",e+"(url(image.bmp) 2x) 0 0, auto")),0===this.cursorType?(this.Cp=this.yp(this.Hn),this.Cp.style.visibility="hidden",this.Cp.style.display="none"):this.Cp=document.createElement("canvas"),this.Mp(),this.Ip(),this.dv="onpointerrawupdate"in this.Hn,this.cv=$t(),this.lv=this.cv&&"getCoalescedEvents"in PointerEvent.prototype&&!(a.browser===i.PlatformBrowser.FIREFOX),i.Log.i("{70cc40b}","{f30b8ee}",this.lv?"supported":"not supported"),this.dv){const e=function(){const e=Lt.Mh.mouseCoalesceInterval;if(void 0!==e)return new Map([[0,0],[4,1],[8,2],[16,3]]).get(e)}();void 0!==e?this.Tp(e):_e(a)?this.Tp(3):this.Tp(1);const t=void 0!==e;i.Log.i("{70cc40b}","{20be0c0}",this.pv,t?" (overridden)":"")}this.uv=null!==(T=s.unadjustedMovement)&&void 0!==T?T:this.Pp();const _=_e(a)&&He(this.Ms,84,0,4147,94)&&!He(this.Ms,88,0,4324,139),D=De(this.Ms)||!_||!He(this.Ms,84,0,4147,94);(null!==(M=Lt.jh)&&void 0!==M?M:D)?this.jh=new Ri:this.jh=new Bi,["pointerlockchange","mozpointerlockchange"].forEach(e=>this.documentAddEventListener(e,this.Jv)),["pointerlockerror","mozpointerlockerror"].forEach(e=>this.documentAddEventListener(e,this.tp)),this.sv.Dp(0,this.ep),this.sv.Dp(2,this.np),Pe(this.Ms)||Le(this.Ms)?this.Ep=!0:!Ve(a)||He(a,99,0,4844,44)||Ne(a)?Be(a)&&Ne(a)?this.Ep=!0:this.Ep=!1:this.Ep=!0,1===this.cursorType&&this.Rp(1),this.Np=1===this.cursorType&&(null===(R=null!==(B=Lt.pointerLockEscape)&&void 0!==B?B:Lt.Mh.pointerLockEscape)||void 0===R||R),this.Bp=1===this.cursorType&&Me(a),i.Log.d("{70cc40b}","{ec7c4c5}")}uninitialize(){["pointerlockerror","mozpointerlockerror"].forEach(e=>this.documentRemoveEventListener(e,this.tp)),["pointerlockchange","mozpointerlockchange"].forEach(e=>this.documentRemoveEventListener(e,this.Jv)),this.sv.xp(0,this.ep),this.sv.xp(2,this.np),this.Op(),this.Cp.remove()}Fp(e){this.mp.bp&&(this.mp.bp=!1,this.Lp(this.cp.lp,this.cp.Ap,this.cp.fp))}jA(){0===this.vv&&this.ed.Uc()}Lv(e){Li(e)||(e.preventDefault(),this.Ov(e),2===this.cursorType&&this.Hn.setPointerCapture(e.pointerId))}Ov(e){this.Hd.Hp(),this.sv.Up(!0),this.rv=!0;const t=this.Zo.rr(e.timeStamp);if(!this.Mv()||this.Iv()){if(this.Bp&&this.cp.lp){this.Op();const e=500;this.Sv=window.setTimeout(this.yv,e)}zn.getInstance().Yo(),this.lc(e.button,t)}else if(this.Tv(),this.cp.lp){this.Vp(e.offsetX,e.offsetY),this.Gp();const n=this.cp.Ap,i=this.cp.fp;this.ed.vc(!0,n,i,t)}}Op(){this.Sv&&(window.clearTimeout(this.Sv),this.Sv=0)}Gv(e){Li(e)||(e.preventDefault(),this.Uv(e))}Uv(e){zn.getInstance().Yo(),this.uc(e.button,this.Zo.rr(e.timeStamp))}$v(e){this.ap&&e.target!==this.Hn||(this.ed.fc(e.deltaY,this.Zo.rr(e.timeStamp)),e.preventDefault())}jv(e){if(!Li(e)){if(e.preventDefault(),-1!==e.button){let t;switch(e.button){case 1:t=2;break;case 2:t=1;break;default:t=e.button}const n=this.Zo.rr(e.timeStamp);e.buttons&1<<t?this.lc(e.button,n):this.uc(e.button,n)}this.Yv(e)}}Yv(e){this.Vp(e.offsetX,e.offsetY),this.ed.vc(!0,this.cp.Ap,this.cp.fp,this.Zo.rr(e.timeStamp))}Wp(e){if(e instanceof PointerEvent){if(Li(e))return;e.preventDefault()}let t=performance.now();if(!this.sv.$p()||this.Mv()&&!this.Iv())return;if(0===e.movementX&&0===e.movementY)return;this.Gr(!0);let n=1,i=0;const r=this.cp.lp,s=this.Ld.Fc,a=e=>{if(!this.jh.update(e.movementX,e.movementY,e.timeStamp))return;let s=this.jh.Lf(),a=this.jh.Hf();if(r)this.cp.up?this.N_(s,a):this.Vp(e.offsetX,e.offsetY),this.mp.bp=!0,s=this.cp.Ap,a=this.cp.fp;else if(this.Ep){let e=this.mp.gp;s+=this.cp.vp,a+=this.cp.pp,this.cp.vp=s%e,this.cp.pp=a%e,s/=e,a/=e}const o=i%n!=0;this.Ld.Sl(r,s,a,this.Zo.rr(e.timeStamp),0,t,o),i++};if(e instanceof PointerEvent&&this.lv){const t=e.getCoalescedEvents();if(0==t.length)a(e);else{const e=this.Ld.Sc.length,i=t.length>2*e?1:Math.max(e-this.Ld.Fc-4,1);t.length>i&&(n=Math.ceil(t.length/i),this.Wd.qp+=t.length);for(let e of t)a(e)}}else a(e);this.ed.qc>1&&0===s&&this.Ld.Fc>s&&this.Ld.wl(s,this.Ld.Fc-s)}qv(e){this.Wp(e)}Qv(e){const t=this.ed.Dc();if(this.Wp(e),!t&&this.ed.Dc()){const e=performance.now()-this.ed.Kc;e>=this.pv?this.ed.Uc():this.ed.Hc(this.pv-e)}}Vp(e,t){this.Kp(e-this.Ud.Ev,t-this.Ud.Rv)}N_(e,t){const n=this.Ep?this.mp.gp:1;this.Kp(this.cp.Ap+e/n,this.cp.fp+t/n)}Qp(e,t){this.Kp(e*this.Ud.ia/pi,t*this.Ud.sa/pi)}Kp(e,t){this.cp.Ap=Math.min(Math.max(e,0),this.Ud.ia),this.cp.fp=Math.min(Math.max(t,0),this.Ud.sa),this.Gp()}yp(e){let t=document.createElement("canvas");return t.style.touchAction="none",t.style.pointerEvents="none",t.style.willChange="transform",e.insertAdjacentElement("afterend",t),t}Mp(){var e,t;if(0!==this.cursorType)return;const n=this.Hn.getBoundingClientRect(),i=null!==(t=null===(e=this.Hn.parentElement)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==t?t:new DOMRect(0,0,0,0),r=n.left-i.left+this.Ud.Bv*this.Ud.Ev,s=n.top-i.top+this.Ud.Bv*this.Ud.Rv;this.Cp.style.position="absolute",this.Cp.style.left=r+"px",this.Cp.style.top=s+"px",this.Cp.style.zIndex="200"}ta(e){if(this.Ud.ia&&this.Ud.sa){const t=e.ia/this.Ud.ia,n=e.sa/this.Ud.sa;this.cp.Ap*=t,this.cp.fp*=n}this.Ud=e,this.Mp(),this.Ip()}Ip(){const e=this.Cp.getContext("2d");if(e){this.mp.zp=e;const t=window.devicePixelRatio;if(this.mp.gp!=t){i.Log.i("{70cc40b}","{b786ba9}",t),this.mp.gp=t,this.mp.wp=!0;for(const e of this.ev.values())e.style=void 0;this.Gp()}}}Yp(e){return e>=1.499&&e<1.999?2:Math.max(1,Math.floor(e+.001))}Lp(e,t,n){if(0===this.cursorType)if(this.bv&&e){const e=this.Yp(this.mp.gp/this.cp.cursor.scale);this.mp.wp&&(this.mp.wp=!1,this.Xp(e)),this.jp(t,n,e),this.Jp()}else this.Zp()}tm(e){const t=()=>{if(this.cp.im=void 0,this.cp.cursor=e,this.mp.wp=!0,0===this.cursorType)this.Gp();else{if(!e.style){const t=this.mp.gp;let n=1,i=1;this.sm()&&(n=this.Yp(t/e.scale),i=n/t),this.Xp(n),e.style=this.hm(this.Cp.toDataURL("image/bmp"),e.jf*i,e.Jf*i)}this.cp.style=e.style,this.nm()}};if(0!==this.cursorType&&e.style)t();else if(Oi(e))if(e.image)0!==e.image.width||0!==e.image.height?t():this.cp.im=e.image;else{const n=new Image;e.image=n,!n.decode&&n.decoding&&(n.decoding="sync"),n.src=this.om(e.Xf,e.Yf),n.decode?(this.cp.im=n,n.decode().then(()=>{this.cp.im===n&&t()}).catch(e=>{this.cp.im===n&&(this.cp.im=void 0,this.tm(this.hv[1]))})):t()}else this.cp.cursor=e,this.Zp()}Xp(e){const t=this.cp.cursor;if(!t.image)return void i.Log.e("{70cc40b}","{bc9bdcd}");const n=this.mp.gp,r=this.mp.zp,s=t.image.width*e,a=t.image.height*e,o=Math.ceil(s),l=Math.ceil(a);o!==this.Cp.width||l!==this.Cp.height?(this.Cp.style.width=s/n+"px",this.Cp.style.height=a/n+"px",this.Cp.width=o,this.Cp.height=l,r.scale(1,1),r.imageSmoothingEnabled=!1):r.clearRect(0,0,this.Cp.width,this.Cp.height),r.drawImage(t.image,0,0,s,a)}jp(e,t,n){const i=this.cp.cursor,r=this.mp.gp,s=n/r;let a=(e*this.Ud.Bv-i.jf*s)*r,o=(t*this.Ud.Bv-i.Jf*s)*r;this.mv||(a=Math.round(a),o=Math.round(o)),a/=r,o/=r,this.Cp.style.transform="translate("+a+"px, "+o+"px)"}Jp(){this.mp.Sp||(this.mp.Sp=!0,this.Cp.style.visibility="visible")}Zp(){this.mp.Sp&&(this.mp.Sp=!1,this.Cp.style.visibility="hidden")}Pv(e){let t=new Uint8Array(e.data);switch(t[0]){case 0:case 1:let e=t[1],n=t[2],i=t[3],r=t[4],s=5,a=()=>{const e=t[s]+(t[s+1]<<8);return s+=2,e},o="";if(0!=r){let e=t.subarray(s,s+r);s+=r,o=new TextDecoder("utf-8").decode(e)}const l=a();let c,u,d,h="";if(0!=l){let e=t.subarray(s,s+l);s+=l,h=new TextDecoder("utf-8").decode(e)}s+4<=t.byteLength&&(c=a(),u=a()),s+2<=t.byteLength&&(d=a()/100),0==t[0]?this.Rp(e,c,u):this.rm(e,n,i,o,h,c,u,d);break;case 10:if(this.Zf.allowUnconfined){let e=t[1];this.am(1==e)}}}Rp(e,t,n){e>=this.hv.length?i.Log.e("{70cc40b}","{de8eabe}",e):this.dm(this.hv[e],t,n)}rm(e,t,n,r,s,a,o,l){let c;if(s.length>0)c={Xf:s,jf:t,Jf:n,Yf:r,scale:l||1},this.ev.set(e,c);else if(c=this.ev.get(e),void 0===c)return void i.Log.e("{70cc40b}","{0196577}",e);this.dm(c,a,o)}dm(e,t,n){const i=Oi(e);!this.cp.lp&&i&&void 0!==t&&void 0!==n&&this.Qp(t,n),this.lm(i),this.Tv(),this.tm(e),this.nm()}hm(e,t,n){const i=this.mp.gp,r=this.kp;return r?r+"(url("+e+") "+i+"x) "+t+" "+n+", auto":"url("+e+") "+t+" "+n+", auto"}sm(){return void 0!==this.kp}om(e,t){return"data:"+t+";base64,"+e}nm(){const e=this.Hn;!this.um()||this.Mv()&&!this.Iv()||2==this.cursorType?e.style.cursor="default":0===this.cursorType?e.style.cursor="none":e.style.cursor=this.cp.style}Gp(){this.mp.bp=!0}lm(e){this.cp.lp=e,e||(this.cp.vp=0,this.cp.pp=0)}am(e){this.cp.up=e,this.Tv()}op(e){this.rv=e,this.Tv(),this.nm()}Zv(e){if(document.pointerLockElement instanceof HTMLElement)return this.kv=null,this.Cv=void 0,this.nv=2,void this.Fd.Am();const t=2===this.nv;this.nv=0,this.fm();const n=()=>{i.Log.i("{70cc40b}","{d4b3de3}"),this.rv=!1,this.nm()},r=this.Fd.vm();if(!this.Np||!t||r)return t&&n(),void this.Fd.pm(!1);this.wv=window.setTimeout(()=>{n(),this.gm(!0)},50)}gm(e){0!==this.wv&&(this.fm(),this.Fd.pm(e))}fm(){0!==this.wv&&(window.clearTimeout(this.wv),this.wv=0)}sp(e){this.fv||(this.nv=0,this.uv?(this.uv=!1,i.Log.e("{70cc40b}","{7599808}"),this.Tv()):(i.Log.e("{70cc40b}","{d633cd1}"),this.bm()))}bm(){this.nm()}Mv(){var e,t;return!Ie(this.Ms)&&this.um()&&2!=this.cursorType&&this.sv.$p()&&(!this.cp.lp||this.cp.up)&&(null===(t=null===(e=this.Hd.wm())||void 0===e?void 0:e.rv())||void 0===t||t)}Iv(){return 1===this.nv||2===this.nv}Tv(){const e=this.Mv(),t=this.Iv(),n=this.uv&&!this.cp.lp,r=this.Av;if(!this.rv||!e||t&&n===r)1==this.nv||!e&&t&&(document.exitPointerLock?(this.nv=3,document.exitPointerLock()):this.nv=0);else{const e=this.Hn;if(e.requestPointerLock&&this.ov<3){if(1===this.nv){if(n===this.kv)return;if(this.Cv)return void this.Cv.then(()=>{this.Tv()});this.fv?i.Log.e("{70cc40b}","{d70c0a5}"):i.Log.e("{70cc40b}","{da98287}")}this.nv=1,this.kv=n;const t={unadjustedMovement:n},r=e.requestPointerLock(t);this.Cv=r,r&&(this.fv=!0,r.then(()=>{this.nv=2,this.kv=null,this.Cv=void 0,this.Av=n,this.ov=0}).catch(e=>{this.nv=0,"NotSupportedError"===e.name&&n?(i.Log.i("{70cc40b}","{08fd91e}"),this.uv=!1,this.Tv()):("UnknownError"==e.name?(this.ov++,i.Log.w("{70cc40b}","{9f2ba9f}",this.ov)):i.Log.e("{70cc40b}","{4cdd98f}",e.name,e.message),this.bm())}))}else this.nv=2}}Zu(){this.g_||(this.g_=!0,xe(this.Ms)||this.Sm(),this.documentAddEventListener("wheel",this.Wv,this.gv),this.km(),0===this.cursorType&&(this.Cp.style.display="block"),this.Tv(),this.nm())}ju(){this.g_&&(this.Cm(),this.g_=!1,xe(this.Ms)||this.ym(),this.documentRemoveEventListener("wheel",this.Wv,this.gv),this.Mm(),0===this.cursorType&&(this.Cp.style.display="none"),this.Tv(),this.nm(),this.fm())}um(){return this.g_}Tp(e){if(this.dv&&this.vv!==e)switch(this.g_&&this.Mm(),this.vv=e,this.g_&&this.km(),e){case 1:this.pv=4;break;case 2:this.pv=8;break;case 3:this.pv=16;break;default:this.pv=0}}km(){2==this.cursorType?(this.tv.Of(this.Im()),this.videoAddEventListener(this.Im(),this.Tm())):0!==this.vv?(this.tv.Of("pointerrawupdate"),this.videoAddEventListener("pointerrawupdate",this.Kv)):(this.tv.Of(this.Im()),this.videoAddEventListener(this.Im(),this.T_))}Mm(){2==this.cursorType?this.videoRemoveEventListener(this.Im(),this.Tm()):0!==this.vv?this.videoRemoveEventListener("pointerrawupdate",this.Kv):this.videoRemoveEventListener(this.Im(),this.T_)}static Pm(e){e.preventDefault()}Sm(){2==this.cursorType&&this.cv?(this.tv.Ff("pointerdown","pointerup"),this.videoAddEventListener("pointerdown",this.Fv),this.videoAddEventListener("pointerup",this.Vv)):(this.tv.Ff("mousedown","mouseup"),this.videoAddEventListener("mousedown",this.xv),this.videoAddEventListener("mouseup",this.Hv)),ye(this.Ms)||this.videoAddEventListener("contextmenu",Ni.Pm)}ym(){2==this.cursorType&&this.cv?(this.videoRemoveEventListener("pointerdown",this.Fv),this.videoRemoveEventListener("pointerup",this.Vv)):(this.videoRemoveEventListener("mousedown",this.xv),this.videoRemoveEventListener("mouseup",this.Hv)),ye(this.Ms)||this.videoRemoveEventListener("contextmenu",Ni.Pm)}hp(e){e?(this.sv.Dm()&&(this.rv=!0,this.Tv()),this.Ip()):(this.Tv(),this.gm(!1))}Cm(){if(this.av.size>0){i.Log.i("{70cc40b}","{041c67f}",this.av.size);for(const e of this.av)this.uc(e,0)}}Im(){return this.cv?"pointermove":"mousemove"}Tm(){return this.cv?this.Xv:this.zv}lc(e,t){this.av.has(e)||(this.av.add(e),this.ed.lc(e,t))}uc(e,t){this.av.has(e)&&(this.av.delete(e),this.ed.uc(e,t))}Gr(e){this.bv!=e&&(this.Gp(),this.bv=e)}Em(e){this.mv=e,this.Gp()}Rm(){return this.cp}Nm(){this.uv=!this.uv;const e="UnadjustedMovement: "+(this.uv?"ON":"OFF");this.Hd.Bm(e),i.Log.i("{70cc40b}","{796c5cb}",this.uv?"ON":"OFF")}xm(){let e="UNSUPPORTED";if(this.dv)switch(this.Tp((this.vv+1)%4),this.vv){case 1:e="4ms";break;case 2:e="8ms";break;case 3:e="16ms";break;default:e="OFF"}const t="Non-vsync mouse events: "+e;this.Hd.Bm(t),i.Log.i("{70cc40b}","{bac28ff}",e)}Pp(){if(Ve(this.Ms)){if(De(this.Ms)&&(this.ap||!He(this.Ms,84,0,4147,78)))return!1;if((_e(this.Ms)||Ne(this.Ms))&&!He(this.Ms,86,0,4240,198))return!1}return!0}Om(){return(this.cp.lp?"local":"alt")+" "+(this.Iv()?"locked":"unlocked")}}function Li(e){return!e.isPrimary||"touch"===e.pointerType||"pen"===e.pointerType}function Oi(e){return"none"!==e.style}const ki=65535;class Ui{constructor(e,t,n,i){if(this.Fm=!1,this.id=e.id,this.Lm=e.rect,e.flags)for(const t of e.flags)1&t&&(this.Fm=!0);this.Hm(t,n,i)}Um(e,t){return this.clientRect.left<=e&&this.clientRect.right>=e&&this.clientRect.top<=t&&this.clientRect.bottom>=t}Hm(e,t,n){this.clientRect={left:this.Lm.left*e.ia*n/ki+t.Mr,top:this.Lm.top*e.sa*n/ki+t.vertical,right:this.Lm.right*e.ia*n/ki+t.Mr,bottom:this.Lm.bottom*e.sa*n/ki+t.vertical}}getClientRect(){return this.clientRect}}class Fi{constructor(e,t,n){this.Vm=e,this.vn=t,this.telemetry=n,this.regions=[],this.Gm=-1,this.Wm=!1}ta(e){if(this.$m=e,0===this.regions.length||!this.$m)return;const t=this.Vm.I_();for(const e of this.regions)e.Hm(this.$m,t,this.$m.Bv)}qm(e){if(this.Wm===e)return!1;if(this.Wm=e,!this.$m)return!1;const t=this.Vm.I_();if(e){if(this.regions.length>0){for(const e of this.regions)e.Hm(this.$m,t,this.$m.Bv);if(-1===this.Gm)return this.Gm=0,!0;-1!==this.Gm&&this.Km()}}else if(-1!==this.Gm)return this.Qm(),!0;return!1}zm(e){const t=JSON.stringify(e);i.Log.d("{b61561f}","{012742b}",t),this.telemetry.Ge("EditBoxList",t);const n=this.Vm.I_();this.regions=[];for(const t of e)this.regions.push(new Ui(t,this.$m,n,this.$m.Bv));0===e.length&&this.Wm&&(this.Ym(1),this.Qm()),this.Wm&&this.Xm()&&this.Km()}jm(e,t){if(0===this.regions.length)return;const n=this.Gm;this.Jm(e,t),-1!==this.Gm?this.Gm===n?this.Ym(2):(this.Ym(0),-1!==n?(i.Log.d("{b61561f}","{28b6a30}"),this.Km(!0)):this.Km()):-1!==n&&this.Ym(1)}Km(e=!1){if(-1===this.Gm||!this.$m)return;const t=this.regions[this.Gm].getClientRect();if(!t)return;const n=window.innerHeight-t.bottom;!e&&n<0&&Math.abs(this.$m.offsetY-n)>5||n<0&&this.Vm.Zm(this.$m.offsetX,n,this.$m.Bv)}tg(){return this.regions.length>0}Xm(){return-1!==this.Gm}Qm(){this.Gm=-1}Jm(e,t){this.Gm=this.regions.findIndex(n=>n.Um(e,t))}Ym(e){this.vn.emit("EditBoxEvent",{action:e})}ig(e,t){if(0===this.regions.length)return;const n=this.Gm;this.Jm(e,t),-1!==this.Gm?this.regions[this.Gm].Fm?i.Log.d("{b61561f}","{ced563b}"):this.Ym(2):-1!==n&&this.Ym(1)}}const Qi=[{sg:8,eg:128,hg:Gi(),ng:27,og:[]},{sg:46,eg:128,hg:Gi(),ng:27,og:[]}];class Vi{constructor(e,t,n,r,s,a,o,l,c,u,d,h,p,f,g,A,m,v,y){var E,S,b,x,w,I,C,T,M,B,R,P,_,D,N,L,O,k;this.Hd=e,this.rg=t,this.telemetry=s,this.vn=a,this.ag=c,this.dg=u,this.Ms=d,this.Fd=h,this.cg=p,this.sv=f,this.Zo=A,this.lg=!1,this.ug=0,this.Ag=new Set,this.fg=0,this.Wm=!1,this.vg=!1,this.pg=!1,this.mg=!0,this.gg=!1,this.bg=0,this.wg=new Hi,this.Uh=!1,this.Sg=0,this.kg=!1,this.Cg=!0,this.yg=!1,this.Mg=0,this.Ig=0,this.Tg=0,this.Pg="off",this.Dg="off",this.Eg=new Map,this.Rg=new Map,this.Ng=!1,this.Bg=0,this.xg=!1,this.Og=e=>{i.Log.d("{8bacfa5}","{9c2578a}"),this.Fg()},this.Lg=()=>{this.Ng=!0},this.Hg=()=>{this.Ng=!1},this.Ud={ia:this.rg.clientWidth||window.screen.width,sa:this.rg.clientHeight||window.screen.height,Dv:1,Ev:0,Rv:0,videoWidth:0,videoHeight:0,Nv:0,offsetX:0,offsetY:0,Bv:1};const U=window.zoneless;this.windowAddEventListener=null!==(S=null===(E=null==U?void 0:U.windowAddEventListener)||void 0===E?void 0:E.bind(window))&&void 0!==S?S:window.addEventListener.bind(window),this.windowRemoveEventListener=null!==(x=null===(b=null==U?void 0:U.windowRemoveEventListener)||void 0===b?void 0:b.bind(window))&&void 0!==x?x:window.removeEventListener.bind(window),this.documentAddEventListener=null!==(I=null===(w=null==U?void 0:U.documentAddEventListener)||void 0===w?void 0:w.bind(document))&&void 0!==I?I:document.addEventListener.bind(document),this.documentRemoveEventListener=null!==(T=null===(C=null==U?void 0:U.documentRemoveEventListener)||void 0===C?void 0:C.bind(document))&&void 0!==T?T:document.removeEventListener.bind(document),this.videoAddEventListener=null!==(B=null===(M=null==U?void 0:U.videoAddEventListener)||void 0===M?void 0:M.bind(this.rg))&&void 0!==B?B:this.rg.addEventListener.bind(this.rg),this.videoRemoveEventListener=null!==(P=null===(R=null==U?void 0:U.videoRemoveEventListener)||void 0===R?void 0:R.bind(this.rg))&&void 0!==P?P:this.rg.removeEventListener.bind(this.rg),this.Ug=this.Vg.bind(this),this.Gg=this.Wg.bind(this),this.$g=this.y_.bind(this),this.ep=this.hp.bind(this),this.qg=this.Kg.bind(this),this.Qg=this.zg.bind(this),this.Yg=this.Xg.bind(this),this.jg=this.Jg.bind(this),this.Zg=this.tb.bind(this),this.ib=this.sb.bind(this),this.preventNavigation=!!o.preventNavigation;const F=Se(this.Ms);this.eb={sf:F?64:128,ef:0,hf:255,nf:this.nb.bind(this)};const Q=new yi(36);this.ed=new mi(this,Q,g,this.Ud,this.Hd,n,this.telemetry,this.Zo,v,m),this.tv=new Mi(this.rg,this.Ms),this.ob=new Ni(this,e,this.rg,r,o,d,this.tv,g,Q,this.ed,this.sv,this.Zo),this.rb=new Fi(this,this.vn,this.telemetry),l?Jn.isSupported()?(this.ab=this.cb(),i.Log.i("{8bacfa5}","{60f3637}")):i.Log.w("{8bacfa5}","{32104d3}"):i.Log.i("{8bacfa5}","{6be89bf}"),Xn.isSupported()&&!Fe(this.Ms)&&(this.lb=this.ub()),this.Ab=De(this.Ms),this.Yl=_e(this.Ms),this.fb=Ne(this.Ms),this.pb=ke(this.Ms),this.Zl=we(this.Ms);const V=Me(this.Ms),H=!!o.windowedStreaming;i.Log.i("{8bacfa5}","{fa2e72c}",H?"on":"off"),this.Ab?(i.Log.d("{8bacfa5}","{da5ae1d}"),this.mb=[20,144,145]):this.Yl||Oe(this.Ms)?(i.Log.d("{8bacfa5}","{b7becf9}"),this.mb=[]):(i.Log.d("{8bacfa5}","{098ce9c}"),this.mb=[20]),this.sv.Dp(2,this.$g),window.ResizeObserver?(this.gb=new ResizeObserver(e=>{this.Kg()}),this.gb.observe(this.rg)):this.windowAddEventListener("resize",this.qg),(xe(d)||Le(d))&&window.IntersectionObserver&&(this.bb=new IntersectionObserver(e=>{this.Kg()},{threshold:[1]}),this.bb.observe(this.rg)),this.videoAddEventListener("resize",this.qg),this.windowAddEventListener("orientationchange",this.Og);const G=window.visualViewport;G&&(this.Ud.Nv=G.height,G.addEventListener("resize",this.Qg)),this.ed.vl(this.dg),this.dg.iA(this.telemetry),Lt.Gh&&this.dg.df(this.eb),this.y_(this.sv.Dm()),this.wb(!0),Lt.Hh&&zn.getInstance().initialize(this.rg,this.Ms),(Fe(this.Ms)||this.pb||xe(this.Ms))&&(this.textInputElement=y,this.pb&&(this.Pg=null!==(D=null===(_=this.textInputElement)||void 0===_?void 0:_.getAttribute("autocapitalize"))&&void 0!==D?D:"off",this.Dg=null!==(L=null===(N=this.textInputElement)||void 0===N?void 0:N.getAttribute("autocorrect"))&&void 0!==L?L:"off",null===(O=this.textInputElement)||void 0===O||O.setAttribute("autocapitalize","off"),null===(k=this.textInputElement)||void 0===k||k.setAttribute("autocorrect","off"))),(Lt.sn||Lt.Qh&&(V||H))&&(this.Sb(o.streamingHotkeys),this.kb()),i.Log.d("{8bacfa5}","{cc9c05b}")}uninitialize(){var e,t,n,r,s,a;Lt.Gh&&this.dg.cf(this.eb),this.Cb(!1);const o=this.rg.paused,l=void 0!==o?o?"paused":"playing":"unknown",c=this.rg.currentTime;(o||(null!=c?c:1)<1)&&this.telemetry.Ge("VideoPaused",l,null==c?void 0:c.toFixed(2)),i.Log.i("{8bacfa5}","{fdc8bf7}",l,c),null===(e=this.bb)||void 0===e||e.disconnect(),null===(t=this.gb)||void 0===t||t.disconnect(),this.dg.UA(this.ed),this.ed.pl(this.dg),this.toggleRsdmm(!1),this.dg.sA(this.telemetry),this.toggleUserInput(!1),this.ed.stop(),this.windowRemoveEventListener("resize",this.qg),this.windowRemoveEventListener("orientationchange",this.Og),this.videoRemoveEventListener("resize",this.qg),null===(n=window.visualViewport)||void 0===n||n.removeEventListener("resize",this.Qg),this.sv.xp(2,this.$g),this.Uh&&(this.dg.Yu(this.ag),this.ag.yb(this.rg)),this.ob.uninitialize(),null===(r=this.Mb)||void 0===r||r.stop(),this.wb(!1),this.Ib(),null===(s=this.textInputElement)||void 0===s||s.setAttribute("autocapitalize",this.Pg),null===(a=this.textInputElement)||void 0===a||a.setAttribute("autocorrect",this.Dg),i.Log.d("{8bacfa5}","{b6b2756}")}ub(){return new Xn(this.rg,this.videoAddEventListener,this.videoRemoveEventListener,this,this.Zo)}cb(){return new Jn(this.rg,this.videoAddEventListener,this.videoRemoveEventListener,this.ed,this,this.Ms,this.Zo)}wb(e){e?this.sv.Dp(0,this.ep):this.sv.xp(0,this.ep)}Tb(e){if(this.Yl&&20===e.keyCode)return;if(xe(this.Ms)&&20!==e.keyCode)return;let t=0;t|=16,!this.Pb()&&e.getModifierState("CapsLock")&&(t|=1),this.Ab&&(t|=32,t|=64,e.getModifierState("NumLock")&&(t|=2),e.getModifierState("ScrollLock")&&(t|=4)),t!=this.ug&&(this.ug=t,this.ed.Xd(t))}Fp(e){this.ob.Fp(e)}jA(){this.ob.jA(),this.dg.jA()}Zc(){this.ed.gc()&&this.dg.Zc()}Kg(e){this.ta(this.rg)}zg(e){this.Ud.Nv=window.visualViewport.height,this.Db(this.Ud.offsetX,this.Ud.offsetY,this.Ud.Bv)}Xg(e){i.Log.d("{8bacfa5}","{b6fbd34}"),history.pushState(null,document.title,location.href)}Eb(e){var t;if(this.mg){if(this.pb){let n=(null===(t=e.code)||void 0===t?void 0:t.length)?Zn.get(e.code):Zn.get(e.key);return null!=n?n:0}{let t=e.code?Zn.get(e.code):Kn.get(e.key);return null!=t?t:0}}return e.keyCode}Rb(e){return"CapsLock"==e.code&&("Alphanumeric"==e.key||"Katakana"==e.key||"Hiragana"==e.key)||"KanaMode"==e.code&&("Hiragana"==(t=e.key)||"Katakana"==t||"Romaji"==t||"KanaMode"==t);var t}Nb(e){return"Lang1"==e.code||"HangulMode"==e.key}Pb(){return this.Cg&&this.fb&&this.yg}Bb(e){return!!this.Pb()&&"CapsLock"==e.code}Vg(e){var t,n;let r=this.Ng;this.kg=!1;const s=this.Zo.rr(e.timeStamp);if(!this.sv.$p())return;this.xb(e)&&e.preventDefault();let a=this.Bb(e);a&&(r=r||a),this.Tb(e);const o=this.Rb(e);r=r||o;const l=this.Nb(e);if(r=r||l,this.mb.includes(e.keyCode)&&!o&&!a)return;const c=a?160:this.Eb(e);if(0===c){this.lg=!0;const t={compositionText:e.key,imeRecommendation:!0};return void this.vn.emit("TextComposition",t)}if(this.lg){this.lg=!1;const e={compositionText:""};this.vn.emit("TextComposition",e)}if(this.Ag.has(c))return;this.Ag.add(c);let u=!1;const d=this.Hd.wm();let h;if(187==c)u=!this.Hd.Ob();else if(e.ctrlKey&&e.altKey)if(!Lt.isInternalUser&&!Lt.stutterIndicator||119!=c&&219!=c)if(Lt.isInternalUser)switch(c){case 48:this.ob.xm();break;case 49:this.Hd.Fb();break;case 56:this.Hd.Lb();break;case 68:this.Hd.Hb();break;case 71:this.yb();break;case 76:null==d||d.Ub(),this.ob.Tv();break;case 83:this.cg.Vb();break;case 115:this.Hd.Gb();break;case 116:this.Hd.Wb();break;case 117:this.Hd.toggleOnScreenStats(e.shiftKey);break;case 118:case 192:this.Hd.$b();break;case 120:this.ob.Nm();break;case 189:this.mg=!this.mg;const t="Position dependent keys: "+(this.mg?"ON":"OFF");this.Hd.Bm(t),i.Log.i("{8bacfa5}","{61d2ab5}",this.mg?"ON":"OFF");break;case 77:this.Hd.__();break;case 81:e.shiftKey&&this.Hd.qb();break;case 80:e.shiftKey&&this.Hd.Kb();break;default:u=!0}else u=!0;else this.Hd.toggleStutterIndicator();else if(h=this.Qb(e,c)){let t=this.zb(e);for(const e of h.hg){const n=t&~Wi(e);t!=n&&(t=n,this.ed.Tc(4,e,t,s)),this.Ag.delete(e)}for(const e of h.og)t|=Wi(e),this.ed.Tc(3,e,t,s);this.ed.Tc(3,h.ng,t,s),this.ed.Tc(4,h.ng,t,s);for(const e of h.og)t&=~Wi(e),this.ed.Tc(4,e,t,s);this.Ag.delete(c)}else(null==d?void 0:d.isVisible())?13==c?(d.toggle(),this.ob.Tv()):82==c?(d.reset(),this.ob.Tv()):65==c?d.Yb():83==c?d.Xb():67==c?d.jb():77==c?d.Jb():u=!0:u=!0;if(u&&(zn.getInstance().Yo(),this.ed.Tc(3,c,this.zb(e),s)),"Hankaku"!=e.key&&"Zenkaku"!=e.key||192==c&&(r=!0),this.fb&&e.metaKey&&!h&&(r=!0),this.pb&&("Backspace"==e.code&&(r=!0),""==e.code&&"Enter"==e.key)){const e=new CompositionEvent("compositionend",{data:null===(t=this.textInputElement)||void 0===t?void 0:t.value});null===(n=this.textInputElement)||void 0===n||n.dispatchEvent(e)}r&&(this.ed.Tc(4,c,this.zb(e),s),this.Ag.delete(c))}kb(){var e,t,n,r,s,a,o;for(const s of this.Rg.values())i.Log.i("{8bacfa5}","{e7c6e9b}",null===(e=s.sg)||void 0===e?void 0:e.toString(16),null===(t=s.eg)||void 0===t?void 0:t.toString(16),null===(n=s.ng)||void 0===n?void 0:n.toString(16),null===(r=s.og)||void 0===r?void 0:r.map(e=>e.toString(16)));for(const e of this.Eg.values())i.Log.i("{8bacfa5}","{b5e3a31}",e.Zb,null===(s=e.eg)||void 0===s?void 0:s.toString(16),null===(a=e.ng)||void 0===a?void 0:a.toString(16),null===(o=e.og)||void 0===o?void 0:o.map(e=>e.toString(16)))}Sb(e){if(e)for(const t of e){const e=t.remote.code;if(!e)continue;const n=Zn.get(e);if(!n)continue;const i=zi(t.remote.modifiers),r=t.local.key,s=t.local.code;if(s){const e=Zn.get(s);if(!e)continue;this.Rg.set(e,{sg:e,eg:t.local.modifiers,hg:Gi(),ng:n,og:i})}else r&&this.Eg.set(r,{Zb:r,eg:t.local.modifiers,hg:Gi(),ng:n,og:i})}else for(const e of Qi)e.Zb?this.Eg.set(e.Zb,e):e.sg&&this.Rg.set(e.sg,e)}Qb(e,t){if(!(e.ctrlKey||e.shiftKey||e.metaKey||e.altKey))return;let n=this.Rg.get(t);if(n||(n=this.Eg.get(e.key)),n){let t=n.eg;128==t&&(t=this.fb?4:1);const i=e.ctrlKey,r=e.altKey,s=e.metaKey,a=e.shiftKey;if((1&t?i:!i)&&(2&t?r:!r)&&(4&t?s:!s)&&(8&t?a:!a))return n}}Wg(e){let t=!1;const n=this.Zo.rr(e.timeStamp);if(this.pb&&""==e.code&&"Unidentified"==e.key&&!this.kg)return this.ed.Tc(3,8,0,n),void this.ed.Tc(4,8,0,n);let i=this.Bb(e);if(i&&(t=t||i),this.Tb(e),this.mb.includes(e.keyCode)&&!i)return;const r=i?160:this.Eb(e);t&&(this.ed.Tc(3,r,this.zb(e),n),this.Ag.add(r)),this.Ag.has(r)&&(this.Ag.delete(r),zn.getInstance().Yo(),this.ed.Tc(4,r,this.zb(e),n))}ta(e){var t;if(e.videoWidth<=0||e.videoHeight<=0)return;let n,i,r=1,s=0,a=0,o=e.videoWidth/e.videoHeight;e.clientWidth/e.clientHeight>o?(r=e.clientHeight/e.videoHeight,n=e.videoWidth*r,i=e.videoHeight*r,a=(e.clientWidth-n)/2):(r=e.clientWidth/e.videoWidth,n=e.videoWidth*r,i=e.videoHeight*r,s=(e.clientHeight-i)/2);let l=1,c=1;this.Ud.ia&&this.Ud.sa&&(l=n/this.Ud.ia,c=i/this.Ud.sa),this.Ud.ia=n,this.Ud.sa=i,this.Ud.Dv=r,this.Ud.Rv=s,this.Ud.Ev=a,this.Ud.videoWidth=e.videoWidth,this.Ud.videoHeight=e.videoHeight,this.Db(this.Ud.offsetX*l,this.Ud.offsetY*c,this.Ud.Bv),this.ob.ta(this.Ud),null===(t=this.ab)||void 0===t||t.ta(this.Ud,this.I_(),this.Ud.Bv),this.cg.ta(this.Ud.Rv,this.Ud.Ev),this.rb.ta(this.Ud),this.Fg()}y_(e){if(i.Log.d("{8bacfa5}","{77df54c}",e?"fullscreen":"not fullscreen"),this.Kg({}),e){if(window.isSecureContext){const e=window.navigator.keyboard;e&&e.lock&&e.lock(["Escape","F11","BrowserBack","BrowserForward","BrowserRefresh","BrowserHome","BrowserFavorites","BrowserSearch","BrowserStop","Sleep","Power","WakeUp","KeyT","KeyZ","Slash","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyM","KeyD","KeyN","KeyS","KeyK","KeyL","Space","PrintScreen","LaunchApp1","LaunchApp2","LaunchMail","Comma","Semicolon","ArrowLeft","ArrowRight","BracketLeft","BracketRight","KeyW","KeyQ","KeyR","KeyY","KeyO","KeyP","KeyF","KeyG"])}this.rg.onclick=null,this.rg.removeAttribute("controls")}else if(this.tw(),window.isSecureContext){const e=window.navigator.keyboard;e&&e.unlock&&e.unlock()}}iw(){this.pg||(this.pg=!0,history.pushState(null,document.title,location.href),this.windowAddEventListener("popstate",this.Yg))}sw(){this.pg&&(this.windowRemoveEventListener("popstate",this.Yg),history.back(),this.pg=!1)}ew(){return this.ab&&!this.Wm}Zu(e){var t,n,i,r,s,a,o;const l=!this.um(),c=(this.fg^e)&e;return!!c&&(this.fg|=c,4&c&&(this.hw()?(this.dg.Ju(this.tv),this.tv.start()):(this.tv.stop(),this.tv.reset(),this.dg.Ju(this.ed))),1&c&&this.ob.Zu(),2&c&&(this.documentAddEventListener("keydown",this.Ug),this.documentAddEventListener("keyup",this.Gg),null===(t=this.textInputElement)||void 0===t||t.addEventListener("input",this.Zg),null===(n=this.textInputElement)||void 0===n||n.addEventListener("compositionstart",this.ib),null===(i=this.textInputElement)||void 0===i||i.addEventListener("compositionupdate",this.ib),null===(r=this.textInputElement)||void 0===r||r.addEventListener("compositionend",this.ib),this.Sg=0,this.Zl&&(null===(s=this.textInputElement)||void 0===s||s.addEventListener("focus",this.Lg),null===(a=this.textInputElement)||void 0===a||a.addEventListener("blur",this.Hg))),8&c&&(this.ew()?this.ab.start():null===(o=this.lb)||void 0===o||o.start()),l&&this.preventNavigation&&this.iw(),!0)}ju(e){var t,n,i,r,s,a,o,l;const c=this.fg&e;if(!c)return!1;this.fg^=c;const u=!this.um();return 4&c&&(this.hw()?(this.dg.Yu(this.tv),this.tv.stop(),this.tv.reset()):this.dg.Yu(this.ed)),1&c&&this.ob.ju(),2&c&&(this.nw(),this.documentRemoveEventListener("keydown",this.Ug),this.documentRemoveEventListener("keyup",this.Gg),null===(t=this.textInputElement)||void 0===t||t.removeEventListener("input",this.Zg),null===(n=this.textInputElement)||void 0===n||n.removeEventListener("compositionstart",this.ib),null===(i=this.textInputElement)||void 0===i||i.removeEventListener("compositionupdate",this.ib),null===(r=this.textInputElement)||void 0===r||r.removeEventListener("compositionend",this.ib),this.Zl&&(null===(s=this.textInputElement)||void 0===s||s.removeEventListener("focus",this.Lg),null===(a=this.textInputElement)||void 0===a||a.removeEventListener("blur",this.Hg))),8&c&&(null===(o=this.lb)||void 0===o||o.stop(),null===(l=this.ab)||void 0===l||l.stop(),0!==this.bg&&this.ow(),this.wg.clear()),u&&this.preventNavigation&&this.sw(),!0}toggleUserInput(e,t){if(this.xg)return;i.Log.d("{8bacfa5}","{2424824}",e,t);const n=null!=t?t:15;this.xg=!0,e?this.Zu(n):this.ju(n),this.xg=!1}um(){return 0!==this.fg}nb(){const e=performance.now();e<this.Bg+500?(this.Bg=0,this.toggleRsdmm(!this.gg)):this.Bg=e}toggleRsdmm(e){Lt.Vh&&e!=this.gg&&(e?(this.dg.Ju(this.tv),this.dg.Yu(this.ed),this.tv.start()):(this.tv.stop(),this.tv.reset(),this.dg.Ju(this.ed),this.dg.Yu(this.tv)),this.gg=e)}hw(){return this.gg}hp(e){e?(this.Fg(),i.Log.d("{8bacfa5}","{cb19d31}")):(i.Log.d("{8bacfa5}","{8744dbe}"),this.tw())}Am(){}pm(e){e&&(this.nw(),i.Log.i("{8bacfa5}","{f46c4da}"),this.ed.Tc(3,27,0),this.ed.Tc(4,27,0))}vm(){return this.Ag.has(27)}rw(e){let t;if(xe(this.Ms)){const n='!@#$%^&*()~_+{}|:"<>?',i="1234567890`-=[]\\;',./";1===e.key.length&&(n.includes(e.key)?t=1:i.includes(e.key)&&(t=0))}return void 0===t&&e.shiftKey&&!e.code.startsWith("Shift")&&(t=1),null!=t?t:0}zb(e){let t=0;return e.ctrlKey&&!e.code.startsWith("Control")&&(t|=2),e.altKey&&!e.code.startsWith("Alt")&&(t|=4),e.metaKey&&!e.code.startsWith("Meta")&&(t|=8),t|=this.rw(e),t}aw(){void 0!==this.dw&&(this.toggleUserInput(!1,15&~this.dw),this.dw=void 0),this.Cb(!1),this.vn.emit("StreamingEvent",{streamingWarnings:{code:4}}),this.ed.Pc(),this.Fd.cw()}lw(){return[this.ob.Im(),"pointerdown","touchstart"]}Jg(){this.vg&&this.aw()}Cb(e){this.vg=e,e&&15!==this.fg&&(this.dw=this.fg,this.toggleUserInput(!0)),e?this.lw().forEach(e=>this.documentAddEventListener(e,this.jg)):this.lw().forEach(e=>this.documentRemoveEventListener(e,this.jg))}nw(){if(this.Ag.size>0){i.Log.i("{8bacfa5}","{7998ee8}",this.Ag.size);for(const e of this.Ag)this.ed.Tc(4,e,0);this.Ag.clear()}}tw(){this.nw(),this.ob.Cm()}getVirtualGamepadHandler(){return this.dg.getVirtualGamepadHandler()}sendTextInput(e){this.ed.sendTextInput(e)}b_(e,t){this.ed.gc()?this.ed.b_(e,t):i.Log.e("{8bacfa5}","{97db405}")}uw(e){const t=(new TextEncoder).encode(e);this.sendTextInput(t.buffer),this.textInputElement.value=""}Aw(e){for(let t=e.length-1;t>=0;t--)if(void 0===$n.get(e.charAt(t)))return!1;return!0}fw(e){let t=!1;16&this.ug&&(t=!!(1&this.ug));for(let n=0;n<e.length;n++){const r=$n.get(e.charAt(n));if(!r)return void i.Log.e("{8bacfa5}","{67554be}",e.charAt(n));const s=r.vkCode;let a=r.shift?1:0;s>=65&&s<=90&&t&&(a=~a),a&&this.ed.Tc(3,160,0,performance.now()),this.ed.Tc(3,s,a,performance.now()),this.ed.Tc(4,s,a,performance.now()),a&&this.ed.Tc(4,160,0,performance.now())}this.textInputElement.value=""}sb(e){switch(e.type){case"compositionstart":this.Sg=1;break;case"compositionupdate":if(xe(this.Ms)||!this.Aw(e.data)){const t={compositionText:e.data,imeRecommendation:!0};this.vn.emit("TextComposition",t)}break;case"compositionend":const t=this.pb?e.data.trim():e.data;if(t.length){const n=xe(this.Ms)||!this.Aw(e.data);if(this.pb&&!n?this.fw(t):this.uw(t),n){const e={compositionText:""};this.vn.emit("TextComposition",e)}}this.Sg=0}}tb(){this.kg=!0;let e=this.textInputElement.value;if(1==this.Sg&&(this.pb&&e.length>1&&(e=e.charAt(e.length-1)),this.Sg=2),this.pb&&this.Aw(e))return this.fw(e),void(this.Sg=0);2!=this.Sg&&this.uw(e)}setVirtualKeyboardState(e){i.Log.i("{8bacfa5}","{60b2d45}",e),this.Wm!==e&&(this.Wm=e,this.lb&&this.ab&&(this.Wm?(this.ab.stop(),this.lb.start(),this.rb.qm(!0)):(this.lb.stop(),1!==this.Ud.Bv&&this.Db(0,0,1),this.rb.qm(!1),this.ab.start())))}pw(){return this.Wm}setKeyboardLayout(e){this.yg="zh-TW"==e}mw(){return{Mr:this.Ud.ia*(this.Ud.Bv-1)/2,vertical:this.Ud.sa*(this.Ud.Bv-1)/2}}gw(e,t,n){this.wg.bw();const i=e.getBoundingClientRect(),r=(t.clientX-i.left)/this.Ud.Bv,s=(t.clientY-i.top)/this.Ud.Bv;this.Gr(!0),this.ob.Vp(r,s);const{Ap:a,fp:o}=this.ob.Rm();this.ed.vc(!0,a,o,n)}Db(e,t,n){this.Ud.Bv=n;const i=this.mw();i.Mr=Math.max(i.Mr-this.Ud.Ev,0),i.vertical=Math.max(i.vertical-this.Ud.Rv,0);const r=Math.max(0,this.Ud.sa-this.Ud.Nv+2*this.Ud.Rv);let s=Math.max(i.vertical+r,0),a=Math.max(i.vertical,0);i.Mr=Math.max(i.Mr,0),e=Math.min(Math.max(e,-1*i.Mr),i.Mr),t=Math.min(Math.max(t,-1*s),a),this.rg.style.transform="translate3d("+e+"px,"+t+"px,0px) scale3d("+n+","+n+",1)",this.Ud.offsetX=e,this.Ud.offsetY=t,this.ob.ta(this.Ud),this.rb.ta(this.Ud)}Zm(e,t,n){const i=window.visualViewport;i&&(this.Ud.Nv=i.height),this.Db(e,t,n)}lr(){return this.vg?(this.aw(),!1):this.sv.$p()}xb(e){var t;if(null===(t=this.Hd.wm())||void 0===t?void 0:t.isVisible())return!1;if(this.Yl)switch(e.code){case"Tab":return!e.altKey;case"ZoomToggle":case"SelectTask":case"BrightnessDown":case"BrightnessUp":case"AudioVolumeMute":case"AudioVolumeDown":case"AudioVolumeUp":return!1}return!0}ow(){window.clearTimeout(this.bg),this.bg=0,this.Mg=0,this.Ig=0}br(e,t,n,i){switch(this.wg.bw(),i){case 1:this.rb.jm(n.clientX,n.clientY),this.gw(e,n,t),this.wg.delay(()=>{this.ww(0,t)});break;case 2:this.Mg++,Lt.isInternalUser&&0===this.bg&&(this.bg=window.setTimeout(()=>{2===this.Mg?this.Hd.toggleOnScreenStats():3===this.Mg&&this.Hd.toggleOnScreenStats(!0),this.ow()},300)),this.ww(2,t);break;case 3:this.Ig++,Lt.isInternalUser&&0===this.bg&&(this.bg=window.setTimeout(()=>{2===this.Ig?this.Hd.__():3===this.Ig&&this.cg.Vb(),this.ow()},300)),this.ww(1,t);break;case 4:this.ww(3,t);break;case 5:this.ww(4,t)}}ww(e,t){this.lc(e,t),this.wg.delay(()=>{this.uc(e,t)})}ar(e,t,n){1===this.Ud.Bv&&(this.gw(e,n,t),this.wg.delay(()=>{this.lc(0,t)}))}dr(e,t,n,i){n&&i&&this.rb.ig(n.clientX,n.clientY),1===this.Ud.Bv&&(this.wg.bw(),this.uc(0,t))}Ar(e,t,n){1!==this.Ud.Bv||this.Wm||void 0!==this.ab?this.Db(this.Ud.offsetX+n.deltaX,this.Ud.offsetY+n.deltaY,this.Ud.Bv):this.gw(e,n,t)}scroll(e,t,n){n.length>0&&this.ed.fc(Math.sign(n[0].deltaY),t)}vr(e,t,n){if(2===n.length){this.ob.Em(!0);const e=n[0],t=n[1],i=Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY),r=Math.hypot(e.clientX-e.deltaX-(t.clientX-t.deltaX),e.clientY-e.deltaY-(t.clientY-t.deltaY)),s=this.rg.getBoundingClientRect(),a=this.mw();let o=this.Ud.Bv*(i/r);o=Math.min(Math.max(o,1),3);let l=(e.clientX+t.clientX)/2-s.left;l+=this.Ud.offsetX-a.Mr-(s.width-l)/this.Ud.Bv,l=(o/this.Ud.Bv-1)*l*-1,l+=this.Ud.offsetX+(e.deltaX+t.deltaX)/2;let c=(e.clientY+t.clientY)/2-s.top;c+=this.Ud.offsetY-a.vertical-(s.height-c)/this.Ud.Bv,c=(o/this.Ud.Bv-1)*c*-1,c+=this.Ud.offsetY+(e.deltaY+t.deltaY)/2,this.Db(l,c,o)}}cr(e,t){this.ob.Em(!1),this.Ud.Bv<1.1&&this.Db(this.Ud.offsetX,this.Ud.offsetY,1)}I_(){const e=this.rg.getBoundingClientRect();return{Mr:e.left+window.pageXOffset+this.Ud.Ev*this.Ud.Bv,vertical:e.top+window.pageYOffset+this.Ud.Rv*this.Ud.Bv}}sendKeyEvent(e){if(this.ed.gc())if(this.Eb(e))"keydown"===e.type?this.Vg(e):"keyup"===e.type&&this.Wg(e);else if("keydown"===e.type&&1===e.key.length){const t=(new TextEncoder).encode(e.key);this.sendTextInput(t.buffer)}}Fg(){this.Ib(),this.Tg=window.setTimeout(()=>{this.cg.send()},350)}Ib(){0!==this.Tg&&(window.clearTimeout(this.Tg),this.Tg=0)}lc(e,t){this.ob.lc(e,t)}uc(e,t){this.ob.uc(e,t)}Ec(){return!this.vg||(this.aw(),!1)}Sw(){return this.ob.Om()}Gr(e){this.ob.Gr(e)}yb(){Lt.isInternalUser&&(this.Uh=!this.Uh,this.ag.yb(this.rg),this.Uh?this.dg.Ju(this.ag):this.dg.Yu(this.ag))}startInputPlayback(e){var t;this.Mb||(this.Mb=new di(this.ed,this.Zo)),(null===(t=this.Mb)||void 0===t?void 0:t.initialize(e))&&this.Mb.start()}kw(e){this.rb.zm(e)}}class Hi{constructor(){this.Ke=0,this.Cw=!1}bw(){this.Cw=!0,this.yw(),this.Mw(),this.Cw=!1}clear(){this.nf=void 0,this.yw()}delay(e){this.Cw?e():(this.bw(),this.nf=e,this.Ke=window.setTimeout(()=>{this.Ke=0,this.Mw()},Hi.Iw))}Mw(){const e=this.nf;e&&(this.nf=void 0,e())}yw(){0!==this.Ke&&(window.clearTimeout(this.Ke),this.Ke=0)}}function Gi(e){let t=[];return t.push(162),t.push(163),t.push(164),t.push(165),t.push(91),t.push(92),t.push(160),t.push(161),t}function zi(e){let t=[];return 1&e&&t.push(162),2&e&&t.push(164),4&e&&t.push(91),8&e&&t.push(160),t}function Wi(e){switch(e){case 162:case 163:return 2;case 164:case 165:return 4;case 91:case 92:return 8;case 160:case 161:return 1}return 0}Hi.Iw=30;class Xi{constructor(e=0,t=0){this.maxBitrate=e/1e3,this.Tw=t/1e3,this.Pw=250,this.Dw=10,this.Ew=16,this.qualityScore=100,this.latencyScore=100,this.bandwidthScore=100,this.networkLossScore=100,this.Rw=100,this.Nw=25}Bw(e){if(e.currentRoundTripTime>this.Pw)this.latencyScore=0;else{const t=1e3*e.currentRoundTripTime,n=100*(this.Pw-t)/(this.Pw-this.Dw);if(void 0===n||isNaN(n))return;this.latencyScore=this.xw(this.latencyScore,n,this.Ew),this.latencyScore=Math.min(this.latencyScore,this.Rw)}}Ow(e){let t=0;if(e<this.Pw){const n=e;t=100*(this.Pw-n)/(this.Pw-this.Dw),(void 0===t||isNaN(t))&&(t=0)}this.latencyScore=this.xw(this.latencyScore,t,this.Ew),this.latencyScore=Math.min(this.latencyScore,this.Rw)}Fw(e,t){if(!this.maxBitrate||!this.Tw)return;let n=100;t>=this.Nw&&(n=(e-this.Tw)/(this.maxBitrate-this.Tw)*100),n>100&&(n=100),void 0===n||isNaN(n)||n<0||(this.bandwidthScore=this.xw(this.bandwidthScore,n,this.Ew),this.bandwidthScore=Math.min(this.bandwidthScore,this.Rw))}Lw(e,t){if(void 0===e.packetsReceived||void 0===e.packetsLost||void 0===t.packetsReceived||void 0===t.packetsLost||void 0===t.pliCount||void 0===e.pliCount)return;const n=t.packetsReceived,i=t.packetsLost,r=e.packetsReceived-n,s=e.packetsLost-i;let a=100-s/(r+s)*100;(isNaN(a)||void 0===a)&&(a=0);const o=t.pliCount,l=e.pliCount-o;l>0&&s&&(a=0);for(let e=0;e<l+1;e++)this.networkLossScore=this.xw(this.networkLossScore,a,this.Ew/2)}Hw(){const e=Math.min(this.latencyScore,this.networkLossScore,this.bandwidthScore);return this.qualityScore=this.xw(this.qualityScore,e,this.Ew/4),{latencyScore:this.latencyScore,networkLossScore:this.networkLossScore,bandwidthScore:this.bandwidthScore,qualityScore:this.qualityScore}}xw(e,t,n){return e*(n-1)/n+t/n}reset(){this.qualityScore=100,this.latencyScore=100,this.bandwidthScore=100,this.networkLossScore=100,this.Rw=100}}function ji(e,t,n,r,s,a,o){var l;const c=4e3;t=Math.max(c,t);const u=Math.max(c,Math.round(t/4));return{Uw:e.width,Vw:e.height,Gw:e.fps,dynamicStreamingMode:a,Ww:t,$w:u,M_:u,qw:n,Kw:c,Qw:rr(null!==(l=e.sdrHdrMode)&&void 0!==l?l:i.SdrHdrMode.SDR),bitDepth:tn(s),zw:"UNKNOWN",prefilterParams:o,hudStreamingParams:r}}function qi(e){return e.split(/\r?\n/)}function Yi(e,t,n,r){const s=/^([^[.]+)(?:\[(\d+)\])?\.([^:]+): *(.+)$/;let a=!0;for(const o of qi(e)){const e=s.exec(o);if(e){const s=e[1],o=void 0!==e[2]?Number.parseInt(e[2]):void 0,l=e[3],c=e[4],u=s+"."+l,d=Ji(s),h=nr(t,d,o),p=nr(n,d,o);if(!h||!p){i.Log.w("{eb7c2d0}","{a649ad8}",r,d,o),a=!1;continue}if(!p.has(u)){i.Log.w("{eb7c2d0}","{cc4fdef}",r,u,c),a=!1;continue}i.Log.d("{eb7c2d0}","{2beb68f}",r,u,c),h.set(u,c)}}return a}function Ji(e){switch(e){case"video":case"vqos":case"qscore":case"bwe":case"clientPerfBr":case"packetPacing":return"video";case"audio":case"aqos":case"audioBitrate":return"audio";case"ri":return"application";case"mic":return"mic";default:return}}function Zi(e,t,n,r,s){switch(i.Log.i("{eb7c2d0}","{a034cb7}",e),e){case 2:return a=t,o=n,l=r,c=s,i.Log.i("{eb7c2d0}","{5f2f77f}"),$i(a,o,l,c),i.Log.i("{eb7c2d0}","{818de31}"),a.set("video.encoderFeatureSetting",47..toString()),a.set("video.updateSplitEncodeStateDynamically","1"),a.set("video.videoSplitEncodeStripsPerFrame","3"),a.set("vqos.rtcPreemptiveIdrSettings.minBurstNackSize",65535..toString()),void a.set("vqos.rtcPreemptiveIdrSettings.minNackPacketCaptureAgeMs",65535..toString());case 0:case 1:return Ki(t,n,r,s);default:return i.Log.e("{eb7c2d0}","{0615bb6}",e),Ki(t,n,r,s)}var a,o,l,c}function Ki(e,t,n,r){return i.Log.i("{eb7c2d0}","{6f4d343}"),$i(e,t,n,r)}function $i(e,t,n,r){var s,a,o,l,c,u,d,h,p,f,g,A,m;const v=n.zw;e.set("vqos.fec.rateDropWindow","10"),e.set("vqos.fec.minRequiredFecPackets","2"),e.set("vqos.drc.minRequiredBitrateCheckEnabled","1"),e.set("video.dx9EnableNv12","1"),e.set("video.dx9EnableHdr","1"),e.set("vqos.qpg.enable","1"),e.set("vqos.resControl.qp.qpg.featureSetting",7..toString()),e.set("bwe.useOwdCongestionControl","1"),e.set("video.enableRtpNack","1"),e.set("vqos.bw.txRxLag.minFeedbackTxDeltaMs","200"),e.set("vqos.fec.repairMinPercent","5"),e.set("vqos.fec.repairPercent","5"),e.set("vqos.fec.repairMaxPercent","35"),e.set("vqos.drc.bitrateIirFilterFactor","18"),e.set("video.packetSize","1140"),e.set("packetPacing.minNumPacketsPerGroup","15"),e.set("vqos.bllFec.enable","0"),function(e){var t;const n=De(e)||Ne(e);return null!==(t=Lt.Mh.enableOOFQosEnhancements)&&void 0!==t?t:n}(r)&&(e.set("vqos.adjustStreamingFpsDuringOutOfFocus","1"),e.set("vqos.resControl.cpmRtc.ignoreOutOfFocusWindowState","1"),e.set("vqos.resControl.perfHistory.rtcIgnoreOutOfFocusWindowState","1"));const y=n.Gw>=120,E=120===n.Gw,S=240===n.Gw,b=Ht(n.Uw,n.Vw),x=Gt(n.Uw,n.Vw),w=b||x,I=n.Uw*n.Vw>=2764800,C=Wt(r);if(C&&e.set("vqos.resControl.cpmRtc.featureMask","3"),y&&(e.set("bwe.iirFilterFactor","8"),e.set("video.encoderFeatureSetting",47..toString()),e.set("video.encoderPreset",6..toString()),e.set("vqos.resControl.cpmRtc.badNwSkipFramesCount"," 600"),e.set("vqos.resControl.cpmRtc.decodeTimeThresholdMs","9"),E?(e.set("video.fbcDynamicFpsGrabTimeoutMs","6"),e.set("vqos.resControl.cpmRtc.serverResolutionUpdateCoolDownCount","6000")):S&&(e.set("video.fbcDynamicFpsGrabTimeoutMs","18"),e.set("vqos.resControl.cpmRtc.serverResolutionUpdateCoolDownCount","12000"),e.set("video.enableNextCaptureMode","1"),e.set("vqos.maxStreamFpsEstimate","240"),e.set("video.videoSplitEncodeStripsPerFrame","3"),e.set("video.updateSplitEncodeStateDynamically","1"))),(w||n.Ww>=42e3)&&(E?e.set("packetPacing.numGroups","3"):e.set("packetPacing.numGroups","5"),e.set("packetPacing.maxDelayUs","1000"),e.set("packetPacing.minNumPacketsFrame","10"),e.set("video.rtpNackQueueLength","1024"),e.set("video.rtpNackQueueMaxPackets","512"),e.set("video.rtpNackMaxPacketCount","25"),e.set("vqos.drc.qpMaxResThresholdAdj","4"),e.set("vqos.grc.qpMaxResThresholdAdj","4"),e.set("vqos.drc.iirFilterFactor","100"),w&&(e.set("video.videoSplitEncodeStripsPerFrame","3"),e.set("video.updateSplitEncodeStateDynamically","1")),x&&(e.set("video.encoderPreset",6..toString()),e.set("vqos.drc.add1440pResLevelFor4kDrcTable","1"),e.set("vqos.drc.minAdaptiveQpThreshold","40"),e.set("vqos.grc.minAdaptiveQpThreshold","40"),e.set("vqos.drc.upperQpThreshold","40"),e.set("vqos.grc.upperQpThreshold","40"),e.set("vqos.drc.qpMaxResThresholdAdj","5"),e.set("vqos.grc.qpMaxResThresholdAdj","5"),e.set("vqos.drc.iirFilterFactor","100"),e.set("vqos.fec.repairMinPercent","0"))),"AV1"===v&&function(e,t,n){var i,r,s,a,o,l,c,u,d,h,p,f,g,A,m;e.set("vqos.drc.minQpHeadroom","20"),e.set("vqos.drc.lowerQpThreshold","100"),e.set("vqos.drc.upperQpThreshold","200"),e.set("vqos.drc.minAdaptiveQpThreshold","180");let v=Number(null!==(i=e.get("vqos.drc.qpMaxResThresholdAdj"))&&void 0!==i?i:"0");e.set("vqos.drc.qpMaxResThresholdAdj",(5*v).toString()),e.set("vqos.drc.qpCodecThresholdAdj","0"),e.set("vqos.dfc.minQpHeadroom",null!==(r=e.get("vqos.drc.minQpHeadroom"))&&void 0!==r?r:"0"),e.set("vqos.dfc.qpLowerLimit",null!==(s=e.get("vqos.drc.lowerQpThreshold"))&&void 0!==s?s:"0"),e.set("vqos.dfc.qpMaxUpperLimit",null!==(a=e.get("vqos.drc.upperQpThreshold"))&&void 0!==a?a:"0"),e.set("vqos.dfc.qpMinUpperLimit",null!==(o=e.get("vqos.drc.minAdaptiveQpThreshold"))&&void 0!==o?o:"0"),e.set("vqos.dfc.qpMaxResThresholdAdj",null!==(l=e.get("vqos.drc.qpMaxResThresholdAdj"))&&void 0!==l?l:"0"),e.set("vqos.dfc.qpCodecThresholdAdj",null!==(c=e.get("vqos.drc.qpCodecThresholdAdj"))&&void 0!==c?c:"0"),t&&(e.set("vqos.drc.minAdaptiveQpThreshold",null!==(u=e.get("vqos.drc.upperQpThreshold"))&&void 0!==u?u:"0"),e.set("vqos.dfc.qpMinUpperLimit",null!==(d=e.get("vqos.dfc.qpMaxUpperLimit"))&&void 0!==d?d:"0")),e.set("vqos.grc.minQpHeadroom",null!==(h=e.get("vqos.drc.minQpHeadroom"))&&void 0!==h?h:"0"),e.set("vqos.grc.lowerQpThreshold",null!==(p=e.get("vqos.drc.lowerQpThreshold"))&&void 0!==p?p:"0"),e.set("vqos.grc.upperQpThreshold",null!==(f=e.get("vqos.drc.upperQpThreshold"))&&void 0!==f?f:"0"),e.set("vqos.grc.minAdaptiveQpThreshold",null!==(g=e.get("vqos.drc.minAdaptiveQpThreshold"))&&void 0!==g?g:"0"),e.set("vqos.grc.qpMaxResThresholdAdj",null!==(A=e.get("vqos.drc.qpMaxResThresholdAdj"))&&void 0!==A?A:"0"),e.set("vqos.grc.qpCodecThresholdAdj",null!==(m=e.get("vqos.drc.qpCodecThresholdAdj"))&&void 0!==m?m:"0"),n&&(e.set("video.videoSplitEncodeStripsPerFrame","63"),e.set("video.enableAv1RcPrecisionFactor","1")),e.set("video.minQp","25")}(e,x,I),e.set("video.clientViewportWd",n.Uw.toString()),e.set("video.clientViewportHt",n.Vw.toString()),e.set("video.maxFPS",n.Gw.toString()),e.set("video.initialBitrateKbps",n.$w.toString()),e.set("video.initialPeakBitrateKbps",n.M_.toString()),e.set("vqos.bw.maximumBitrateKbps",n.Ww.toString()),e.set("vqos.bw.minimumBitrateKbps",n.Kw.toString()),e.set("video.maxNumReferenceFrames","4"),e.set("video.mapRtpTimestampsToFrames",n.qw?"1":"0"),Re()&&(e.set("vqos.drc.stepDownMinHeight","480"),!Xe(r,14,5))){const t=n.Uw/n.Vw*100;e.set("vqos.drc.stepDownResolutionAlignment","16"),e.set("vqos.drc.stepDownTargetAspectRatioX100",t.toFixed(0))}!function(e,t,n,i){if((t||2===i)&&(1!==i&&(e.set("vqos.drc.enable","0"),e.set("vqos.dfc.enable","1")),e.set("vqos.dfc.decodeFpsAdjPercent","85"),e.set("vqos.dfc.targetDownCooldownMs","250"),e.set("vqos.dfc.dfcAlgoVersion",1..toString()),e.set("vqos.dfc.minTargetFps","60"),n&&e.set("vqos.cpm.flags","1"),e.set("vqos.resControl.dfc.useClientFpsPerf","0")),void 0!==i)switch(i){case 3:er(e,!0,t);break;case 2:er(e,!0,!0);break;case 1:er(e,!0,!1);break;case 0:er(e,!1,t)}}(e,y,C,n.dynamicStreamingMode);let T=Le(r)?2:3,M=0,B=8;if("H265"===v||"AV1"===v){const e=vn(),i=null!==(s=null==e?void 0:e.features.hdr)&&void 0!==s&&s,r=1===n.Qw;if(i&&r){t.has("video.encoderHdrCscMode")||(T=4),M=n.Qw;const i=(null==e?void 0:e.features.bitDepth)||10,r=10;B=Math.max(r,Math.min(i,n.bitDepth))}else{const t=(null==e?void 0:e.features.sdrBitDepth)||8,i=8;B=Math.max(i,Math.min(t,n.bitDepth))}}10===B&&"H265"===v&&e.set("video.minQp","14"),e.set("video.encoderCscMode",T.toString()),e.set("video.encoderHdrCscMode",4..toString()),e.set("video.dynamicRangeMode",M.toString()),e.set("video.bitDepth",B.toString());const R="AV1"===v&&(null===(_=Lt.Mh.scalingFeature1)||void 0===_||_)&&(De(P=r)||_e(P)?He(P,127,0,6512):!!Pe(P));var P,_;switch(e.set("video.scalingFeature1",R?"1":"0"),e.set("video.prefilterParams.prefilterMode",null!==(l=null===(o=null===(a=n.prefilterParams)||void 0===a?void 0:a.mode)||void 0===o?void 0:o.toString())&&void 0!==l?l:i.PrefilterMode.OFF.toString()),e.set("video.prefilterParams.prefilterModel",null!==(d=null===(u=null===(c=n.prefilterParams)||void 0===c?void 0:c.model)||void 0===u?void 0:u.toString())&&void 0!==d?d:(0).toString()),e.set("video.prefilterParams.denoiseLevel",null!==(f=null===(p=null===(h=n.prefilterParams)||void 0===h?void 0:h.denoiseLevel)||void 0===p?void 0:p.toString())&&void 0!==f?f:"0"),e.set("video.prefilterParams.sharpnessLevel",null!==(m=null===(A=null===(g=n.prefilterParams)||void 0===g?void 0:g.sharpnessLevel)||void 0===A?void 0:A.toString())&&void 0!==m?m:"0"),n.hudStreamingParams.mode){case i.HudStreamingMode.QP_MAP:e.set("video.captureSettings.captureStrategy",13..toString()),e.set("vqos.qpDelta.enabled","1");case i.HudStreamingMode.SEPARATE_STREAM:case i.HudStreamingMode.OFF:}}function er(e,t,n){e.set(n?"vqos.dfc.adjustResAndFps":"vqos.drc.enable",t?"1":"0")}function tr(e,t){var n,i,r,s;e.set("ri.partialReliableThresholdMs",null!==(n=t.attributes.get("ri.partialReliableThresholdMs"))&&void 0!==n?n:"0"),e.set("ri.hidDeviceMask",null!==(i=t.attributes.get("ri.hidDeviceMask"))&&void 0!==i?i:"0"),e.set("ri.enablePartiallyReliableTransferGamepad",null!==(r=t.attributes.get("ri.enablePartiallyReliableTransferGamepad"))&&void 0!==r?r:"0xff"),e.set("ri.enablePartiallyReliableTransferHid",null!==(s=t.attributes.get("ri.enablePartiallyReliableTransferHid"))&&void 0!==s?s:"0xffffffffffffffff")}function nr(e,t,n){var i;return void 0===t?e.Yw:null===(i=e.media.filter(e=>e.Xw===t)[null!=n?n:0])||void 0===i?void 0:i.attributes}function ir(e,t){let n="v=0\no="+e.origin+"\ns=-\nt="+e.time+"\n";const i=(e,t)=>{for(const[i,r]of e)r!==t.get(i)&&(n+="a="+i+":"+r+"\n")};i(e.Yw,t.Yw);for(const r of e.media){n+="m="+r.Xw+" 0 RTP/AVP\n",n+="a=msid:"+r.jw+"\n";const e=t.media.find(e=>e.jw===r.jw);i(r.attributes,e.attributes)}return n}function rr(e){switch(e){case i.SdrHdrMode.SDR:return 0;case i.SdrHdrMode.HDR:return 1;case i.SdrHdrMode.EDR:return i.Log.w("{eb7c2d0}","{30c875c}"),0;default:return i.Log.w("{eb7c2d0}","{7cd5754}",e),0}}class sr{constructor(){this.Jw=0,this.Zw=0,this.tS=0,this.iS=0}update(e,t){if(0==this.Jw&&0==this.tS)return this.Jw=e,void(this.tS=t);this.iS=t,this.Zw=e}sS(){const e=this.iS-this.tS;return 0!=e?(this.Zw-this.Jw)/e:0}reset(){this.Jw=this.Zw,this.tS=this.iS}}class ar{constructor(e,t,n){this.Ms=t,this.eS=n,this.fps=0,this.hS=0,this.nS=4,this.oS=0,this.rS=0,this.aS=0,this.dS=0,this.cS=0,this.lS=0,this.rtd=0,this.uS=0,this.streamingResolution={width:0,height:0},this.AS=0,this.fS=0,this.vS={count:0,max:0,value:0},this.pS={count:0,max:0,value:0},this.mS=new sr,this.gS=0,this.bS=0,this.wS=0,this.codec="UNKNOWN",this.hdr=!1,this.SS=!1,this.kS=!1,this.bitDepth=8,this.CS=!1,this.yS="",this.markers=0,this.MS={mode:i.PrefilterMode.OFF},this.IS="",this.relayProtocol="",this.PS={qualityScore:0,bandwidthScore:0,networkLossScore:0,latencyScore:0};const r=this.DS();e.insertAdjacentElement("afterend",r),this.ES=r,this.RS={NS:!1,BS:!1,um:!1,Wm:!1,xS:0,hw:!1,keyboardLayout:"",appLaunchMode:0,inputMode:""},this.saScores={gpuPerfScore:-1,serverPerfScore:-1,visualScore:-1,decoderScore:-1,downlinkLag:-1,downlinkCongestion:-1,uplink:-1,overall:-1}}OS(e,t){var n,i,r,s;const a=null!==(n=e.bytesReceived)&&void 0!==n?n:0,o=null!==(i=t.bytesReceived)&&void 0!==i?i:0,l=null!==(r=e.timestamp)&&void 0!==r?r:0,c=null!==(s=t.timestamp)&&void 0!==s?s:0;l!=c&&(this.hS=(a-o)/(125*(l-c)))}FS(e){return e&&this.hS<=e&&(this.nS=this.hS/e*100),this.oS=e,this.nS}LS(e){if(e.frameWidth&&e.frameHeight&&(this.streamingResolution={width:e.frameWidth,height:e.frameHeight}),e.framesDecoded){const t=this.rS,n=e.timestamp;if(t!==n){const i=(e.framesDecoded-this.aS)/(n-t)*1e3;this.fps=Math.floor(i)}this.aS=e.framesDecoded,e.totalDecodeTime&&(this.mS.update(e.totalDecodeTime,e.framesDecoded),this.gS=1e3*e.totalDecodeTime/e.framesDecoded)}if(e.framesReceived&&(this.dS=e.framesReceived,e.totalInterFrameDelay)){const t=1e3*e.totalInterFrameDelay;this.AS=t/(e.framesReceived-1)}e.framesDropped&&(this.cS=e.framesDropped),e.packetsLost&&(this.uS=e.packetsLost),e.pliCount&&(this.bS=e.pliCount),this.rS=e.timestamp}HS(e){this.PS=e}US(e){this.rtd=e}VS(e){this.lS=e}GS(e){this.avgGameFps=e}WS(e){this.saScores=e}$S(){return{fps:this.fps,gS:this.gS,avgDecodeTime:1e3*this.mS.sS(),O_:this.oS,nS:this.nS,width:this.streamingResolution.width,height:this.streamingResolution.height}}qS(){return this.aS}KS(e){const t=(1e3*this.mS.sS()).toFixed(2);i.Log.i("{4155ac9}","{9a6628a}",e,this.aS,t,this.cS,this.lS.toFixed(2),this.bS,this.rtd,this.hS.toFixed(2),this.nS.toFixed(2))}QS(){var e;const t={avgGameFps:null!==(e=this.avgGameFps)&&void 0!==e?e:0,fps:this.fps,rtd:this.rtd,avgDecodeTime:1e3*this.mS.sS(),frameLoss:this.bS-this.wS,packetLoss:this.uS,totalBandwidth:this.oS,currentBitrateMbps:this.hS,utilizedBandwidth:this.nS,streamingResolution:this.streamingResolution,codec:this.codec,bitDepth:this.bitDepth,sdrHdrMode:this.hdr?i.SdrHdrMode.HDR:i.SdrHdrMode.SDR,hdr10PlusGaming:this.hdr&&this.kS&&this.SS};return this.wS=this.bS,t}zS(e){this.YS(e),this.vS={value:0,count:0,max:0},this.pS={value:0,count:0,max:0},this.mS.reset()}YS(e){this.ES.innerText=this.XS(e)}jS(e){this.ES.style.display=e?"block":"none"}DS(){const e=document.createElement("div");return e.style.display="none",e.style.position="fixed",xe(this.Ms)?(e.style.top="env(safe-area-inset-top, 0)",e.style.left="max(24px, env(safe-area-inset-left, 0))"):(e.style.top="0",e.style.left="0"),e.style.padding="0.5em",e.style.backgroundColor="rgba(0,0,0,0.5)",e.style.zIndex="300",e.style.fontSize="12px",e.style.fontFamily="monospace",e.style.color="white",e.style.whiteSpace="pre",e.style.lineHeight="100%",e.style.pointerEvents="none",e}JS(e){this.vS.value+=e,this.vS.count+=1,this.vS.max=Math.max(e,this.vS.max)}ZS(e){this.pS.value+=e,this.pS.count+=1,this.pS.max=Math.max(e,this.pS.max)}tk(e){this.fS=Math.max(e,this.fS)}ik(e){this.RS=e}sk(e){this.codec=e}ek(){return this.codec}hk(e){const t=e!==this.hdr;return this.hdr=e,t}nk(){return this.hdr}ak(e,t){return(this.SS!==e||this.kS!==t)&&(i.Log.i("{4155ac9}","{417fbf6}",cr(e),cr(t)),this.SS=e,this.kS=t,!0)}dk(e){this.bitDepth=e}ck(){return this.bitDepth}lk(){this.markers++}uk(e){return!!e&&(this.MS.mode=e.mode,this.MS.model=e.model,this.MS.denoiseLevel=e.denoiseLevel,this.MS.sharpnessLevel=e.sharpnessLevel,!0)}Ak(e){return!!e&&(this.fk?this.fk.scxQpDelta=e.scxQpDelta:this.fk={...e},!0)}vk(e){this.CS=e}pk(e){this.yS=e}mk(e,t){this.IS=e,this.relayProtocol=t}XS(e){var t,n,r,s;const a="Seat: "+this.eS.zoneName+" ("+this.eS.gk+") / "+this.eS.gpuType+"\n";let o="Game: CMS "+this.eS.appId;void 0!==this.avgGameFps&&(o+=" / fps "+this.avgGameFps.toFixed()),o+="\n";const l="Stream: Current "+Yt(this.streamingResolution)+"@"+this.fps+" / Default: "+this.eS.streamInfo.width+"x"+this.eS.streamInfo.height+"@"+this.eS.streamInfo.fps+" / Codec "+this.codec+this.bk()+" "+this.bitDepth+" bpc\n",c="Network: RTD "+this.rtd+"ms / FL "+this.bS+" / PL "+this.uS+" / J "+this.lS.toFixed(2)+"ms / Bitrate "+this.hS.toFixed(2)+"Mbps / BWU "+this.nS.toFixed(2)+"%\n",u="QOS: frame "+this.aS+" / FT "+this.AS.toFixed(2)+" / D "+(1e3*this.mS.sS()).toFixed(2)+" / Q "+Math.floor(this.PS.qualityScore)+" / Marker "+this.markers+"\n";let d="";this.MS.mode!==i.PrefilterMode.OFF&&(d+=" PF ("+this.MS.mode+", "+(null!==(t=this.MS.model)&&void 0!==t?t:0)+", "+(null!==(n=this.MS.denoiseLevel)&&void 0!==n?n:0)+", "+(null!==(r=this.MS.sharpnessLevel)&&void 0!==r?r:0)+")"),this.fk&&this.fk.mode!==i.HudStreamingMode.OFF&&(d+=" HUD ("+this.fk.mode+", "+(null!==(s=this.fk.scxQpDelta)&&void 0!==s?s:0)+")"),d=d.length>0?" / Server:"+d:"";let h=a+o+l+c+u+"Client: "+this.Ms.os+" "+this.eS.clientAppVersion+" "+this.eS.clientLocale+" Resolution "+Yt({width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio})+d+"\nInput "+this.RS.inputMode+"\nSA: dec "+this.saScores.decoderScore.toFixed(2)+" / lag "+this.saScores.downlinkLag.toFixed(2)+" / cong "+this.saScores.downlinkCongestion.toFixed(2)+" / up "+this.saScores.uplink.toFixed(2)+" / gpu "+this.saScores.gpuPerfScore.toFixed(2)+" / srv "+this.saScores.serverPerfScore.toFixed(2)+"  / vis "+this.saScores.visualScore.toFixed(2)+" / ovr "+this.saScores.overall.toFixed(2)+"\n"+(this.IS.length>0?"TURN Details: "+this.IS+", "+this.relayProtocol+"\n":"");const p="DC "+or(this.vS)+"ms ("+lr(this.vS)+"ms) / Blocked "+this.fS+"\n",f="Stats "+or(this.pS)+"ms ("+lr(this.pS)+"ms) / FR "+this.dS+" / FDR "+this.cS+"\n",g="Latency "+this.PS.latencyScore.toFixed(1)+" / Network "+this.PS.networkLossScore.toFixed(1)+" / Bandwidth "+this.PS.bandwidthScore.toFixed(1)+"\n",A="VP "+cr(this.RS.NS)+" / AP "+cr(this.RS.BS)+" / UI "+cr(this.RS.um)+" / VKB "+cr(this.RS.Wm)+" / MS "+this.RS.xS+" / RSDMM "+ +this.RS.hw+"\n",m="KBL "+this.RS.keyboardLayout+" / ALM "+ +this.RS.appLaunchMode+" / SWD "+cr(this.CS)+" / "+this.yS;return e&&(h+=p+f+g+A+m),h}bk(){return this.hdr?this.kS?" HDR10+G ("+(this.SS?"C":"_")+(this.kS?"S":"_")+")":" HDR":""}uninitialize(){this.ES.remove()}}function or(e){let t=0;return e.count>0&&(t=e.value/e.count),t.toFixed(2)}function lr(e){return e.max.toFixed(2)}function cr(e){return e?"y":"n"}class ur{constructor(e,t,n,i=120){this.Zo=e,this.wk=t,this.index=n,this.Sk=i,this.kk=0,this.Ck=0,this.yk=0,this.Mk=0,this.Ik=0,this.framesDecoded=0,this.pliCount=0,this.Tk=0,this.framesDropped=0,this.Pk=0,this.Dk=new Array,this.Ek=-1}Rk(e){return void 0!==e?e-this.Zo.ad():0}Na(){return this.Zo.Ra()}Nk(e){const t=new ArrayBuffer(88),n=new DataView(t);n.setFloat64(0,dr(e.audioLevel),!0),ei(dr(e.concealedSamples),n,8,!0),ei(dr(e.concealmentEvents),n,16,!0),ei(dr(e.insertedSamplesForDeceleration),n,24,!0),n.setFloat64(32,dr(e.jitterBufferDelay),!0),ei(dr(e.jitterBufferEmittedCount),n,40,!0),ei(dr(e.removedSamplesForAcceleration),n,48,!0),ei(dr(e.silentConcealedSamples),n,56,!0),n.setFloat64(64,dr(e.totalSamplesReceived),!0),n.setFloat64(72,dr(e.totalSamplesDuration),!0),n.setFloat64(80,this.Na(),!0),this.wk.Bk([t],4)}sendVideoTrack(e){const t=dr(e.framesDropped);t>=this.Pk&&(this.framesDropped=t-this.Pk,this.Pk=t);const n=new ArrayBuffer(44),i=new DataView(n);i.setUint32(0,dr(e.framesDecoded),!0),i.setUint32(4,t,!0),i.setUint32(8,dr(e.frameHeight),!0),i.setUint32(12,dr(e.frameWidth),!0),i.setUint32(16,dr(e.framesReceived),!0),i.setFloat64(20,dr(e.jitterBufferDelay),!0),ei(dr(e.jitterBufferEmittedCount),i,28,!0),i.setFloat64(36,this.Na(),!0),this.wk.Bk([n],3)}xk(e){"audio"===e.kind?(this.Ok(e),this.Nk(e)):(this.Fk(e),this.sendVideoTrack(e),this.Lk(e))}Ok(e){const t=new ArrayBuffer(48),n=new DataView(t);ei(dr(e.packetsReceived),n,0,!0),ei(dr(e.bytesReceived),n,8,!0),ei(dr(e.packetsLost),n,16,!0),n.setFloat64(24,dr(e.lastPacketReceivedTimestamp),!0),n.setFloat64(32,dr(e.jitter),!0),n.setFloat64(40,this.Na(),!0),this.wk.Bk([t],2)}Hk(){return this.kk}Uk(){return Math.round(this.Ck)}Vk(){return this.framesDecoded}Gk(){return this.pliCount}Wk(){return this.framesDropped}$k(e,t,n,i){e>=this.yk&&(this.kk=e-this.yk,this.yk=e),i>=this.Tk&&(this.pliCount=i-this.Tk,this.Tk=i),this.framesDecoded=t-this.Mk,this.framesDecoded>0&&n>this.Ik&&(this.Ck=1e3*(n-this.Ik)/this.framesDecoded,this.Mk=t,this.Ik=n)}Fk(e){const t=dr(e.packetsLost),n=dr(e.framesDecoded),i=dr(e.totalDecodeTime),r=dr(e.pliCount);this.$k(t,n,i,r);const s=new ArrayBuffer(92),a=new DataView(s);a.setUint32(0,n,!0),a.setUint32(4,dr(e.keyFramesDecoded),!0),a.setUint32(8,dr(e.nackCount),!0),a.setInt32(12,t,!0),a.setInt32(16,r,!0),ei(dr(e.bytesReceived),a,20,!0),ei(dr(e.packetsReceived),a,28,!0),a.setFloat64(36,i,!0),a.setFloat64(44,dr(e.totalInterFrameDelay),!0),a.setFloat64(52,dr(e.totalSquaredInterFrameDelay),!0),a.setFloat64(60,dr(e.totalAssemblyTime),!0),a.setUint32(68,dr(e.framesAssembledFromMultiplePackets),!0),a.setFloat64(72,this.Na(),!0),a.setUint32(80,dr(e.freezeCount),!0),a.setFloat64(84,dr(e.totalFreezesDuration),!0),this.wk.Bk([s],1)}Lk(e){if(e.perFrameEntries){const t=JSON.parse(e.perFrameEntries),n=[];let i=this.Ek;for(let e=0;e<t.length;e++){if(t[e].frameNumber>this.Ek){const i=new ArrayBuffer(20),r=new DataView(i);r.setUint32(0,t[e].frameNumber,!0),r.setFloat64(4,t[e].decodeTime,!0),r.setFloat64(12,t[e].assemblyTime,!0),n.push(i)}i=Math.max(i,t[e].frameNumber)}this.Ek=i,n.length>0&&this.wk.Bk(n,6)}}k_(e){const t=e.timingFrameInfo.split(",",15);if(t.length<15)return;const n=new ArrayBuffer(70),i=new DataView(n);i.setUint32(0,dr(e.targetDelayMs),!0),i.setUint32(4,dr(e.minPlayoutDelayMs),!0),i.setUint32(8,dr(e.currentDelayMs),!0),i.setFloat64(12,this.Na(),!0),i.setFloat64(20,dr(parseFloat(t[3])),!0),i.setFloat64(28,dr(parseFloat(t[4])),!0),i.setFloat64(36,dr(parseFloat(t[8])),!0),i.setFloat64(44,dr(parseFloat(t[9])),!0),i.setFloat64(52,dr(parseFloat(t[10])),!0),i.setFloat64(60,dr(parseFloat(t[11])),!0),i.setUint8(68,dr(parseFloat(t[13]))),i.setUint8(69,dr(parseFloat(t[14]))),this.wk.Bk([n],0)}qk(e){var t,n,i;const r=null!==(t=e.receiveTime)&&void 0!==t?t:0,s=e.presentationTime-r,a=1e3*(null!==(n=e.processingDuration)&&void 0!==n?n:0),o=this.Rk(e.presentationTime),l=new ArrayBuffer(16),c=new DataView(l);c.setFloat64(0,o,!0),c.setUint16(8,Math.min(100*s,65535),!0),c.setUint16(10,Math.min(100*a,65535),!0),c.setUint32(12,null!==(i=e.rtpTimestamp)&&void 0!==i?i:0,!0),this.Dk.push(l),this.Dk.length==this.Sk&&this.Kk()}Kk(){this.Dk.length>0&&(this.wk.Bk(this.Dk,5),this.Dk=[])}}function dr(e){return e||0}class hr{constructor(e){this.active=!1,this.Qk=.06,this.zk=new DOMRect(0,0,0,0),this.Yk=[],this.Xk=[],this.Hn=e,this.xv=this.onmousedown.bind(this)}setActive(e){this.active!==e&&(this.active=e,e?(i.Log.i("{0c7ed7c}","{b56e30d}"),this.Hn.dispatchEvent(new Event("focus",{bubbles:!0})),this.Hn.addEventListener("pointerdown",this.xv),this.Hn.addEventListener("mousedown",this.xv)):(i.Log.i("{0c7ed7c}","{00425c2}"),this.Hn.removeEventListener("pointerdown",this.xv),this.Hn.removeEventListener("mousedown",this.xv),this.Yk=[],this.Xk=[]))}isActive(){return this.active}jk(e){e<=0||e>=1?i.Log.e("{0c7ed7c}","{1cbd879}",e.toFixed(2)):this.Qk=e}Jk(){return this.Qk}Zk(e){e.width<=0||e.height<=0?i.Log.e("{0c7ed7c}","{3e0eb8f}",e.width,e.height):this.zk=e}tC(){return this.zk}iC(e){this.sC=e}eC(e,t){this.Yk.push({presentedFrames:t.presentedFrames,hC:e,presentationTime:t.presentationTime,receiveTime:t.receiveTime,processingDuration:t.processingDuration});const n=this.nC(this.zk);hr.oC(this.Hn,n.x,n.y,n.width,n.height).then(e=>this.rC(e,t.presentedFrames))}onmousedown(e){if(this.Yk.length){if(!(this.Xk.length&&e.timeStamp-this.Xk[this.Xk.length-1].aC<100))for(this.Xk.push({aC:e.timeStamp,dC:performance.now()});this.Xk.length>32;)this.Xk.shift()}else i.Log.w("{0c7ed7c}","{fe08a50}")}static oC(e,t,n,i,r){return new Promise((s,a)=>{window.setTimeout(()=>{const o=hr.cC(e,t,n,i,r);-1===o&&a(-1),s(o)},0)})}static cC(e,t,n,r,s){if(r<=0||s<=0)return-1;const a=new OffscreenCanvas(r,s).getContext("2d");if(!a)return i.Log.e("{0c7ed7c}","{b72639c}"),-1;let o;try{a.drawImage(e,t,n,r,s,0,0,r,s),o=a.getImageData(0,0,r,s).data}catch(e){return i.Log.e("{0c7ed7c}","{b16b792}",e),-1}let l=0,c=0;for(let e=0;e<o.length-3;e+=4)l+=.2126*o[e]+.7152*o[e+1]+.0722*o[e+2],c++;return l/c/255}rC(e,t){var n;if(!this.Yk.length)return;const r=this.Yk[this.Yk.length-1];if(t!==r.presentedFrames)return void i.Log.d("{0c7ed7c}","{06323ea}",t);for(r.lC=e;this.Yk.length>32;)this.Yk.shift();if(1==this.Yk.length)return;const s=this.Yk[this.Yk.length-2];if(!(s.presentedFrames<t-2||void 0===s.lC||-1===s.lC)&&r.lC-s.lC>this.Qk){let e,s=0;const a={presentedFrames:t,hC:r.hC,presentationTime:r.presentationTime,receiveTime:r.receiveTime,processingDuration:r.processingDuration,aC:0,dC:0};for(;this.Xk.length&&this.Xk[0].aC<(null!==(n=r.receiveTime)&&void 0!==n?n:r.presentationTime);)s++,e=this.Xk.shift();if(!e)return;s>1&&i.Log.d("{0c7ed7c}","{a4b8c55}",t,s),a.aC=e.aC,a.dC=e.dC,this.sC&&this.sC(a)}}uC(){const e=this.nC(this.zk);return!(e.x<0||e.y<0||e.x+e.width>this.Hn.videoWidth||e.y+e.height>this.Hn.videoHeight)}nC(e){const t=this.Hn.videoWidth,n=this.Hn.videoHeight;return new DOMRect(e.x*t,e.y*n,e.width*t,e.height*n)}AC(){const e={isPrimary:!0,pointerId:1,button:0};this.Hn.dispatchEvent(new PointerEvent("pointerdown",e)),this.Hn.dispatchEvent(new MouseEvent("mousedown")),window.setTimeout(()=>{this.Hn.dispatchEvent(new PointerEvent("pointerup",e)),this.Hn.dispatchEvent(new MouseEvent("mouseup"))},100)}}const pr="Show hotkeys";class fr{constructor(e,t){this.sv=t,this.visible=!1,this.fC=[],this.vC=!1,this.pC=0,this.mC=0,this.gC={x:0,y:0},this.bC=0,this.Hn=e,this.controller=new hr(e),this.np=this.onfullscreenchange.bind(this),this.wC=this.onmousedown.bind(this),this.SC=this.onmousemove.bind(this),this.kC=this.CC(),this.yC=this.MC(),this.IC=this.TC(),this.PC=this.DC(),this.EC=this.createNotification(),e.insertAdjacentElement("afterend",this.kC),this.kC.insertAdjacentElement("afterend",this.yC),this.yC.insertAdjacentElement("afterend",this.IC),this.kC.insertAdjacentElement("beforebegin",this.PC),this.PC.insertAdjacentElement("beforebegin",this.EC),this.controller.iC(this.sC.bind(this)),this.RC(!1),this.NC(!1),this.BC(!0)}stop(){this.kC.remove(),this.yC.remove(),this.IC.remove(),this.PC.remove(),this.EC.remove(),this.xC(!1),this.fC=[]}reset(){this.setActive(!1),this.OC(this.FC,.06),this.OC(this.LC,20),this.OC(this.HC,1e3),this.RC(!1),this.NC(!1),this.BC(!0),this.UC(!1),this.VC.value="",this.GC.value="",this.fC=[]}Ub(){this.xC(!this.isVisible())}xC(e){if(e!==this.visible){i.Log.i("{50c79eb}","{5595c14}",e),this.visible=e;for(const t of[this.kC,this.yC,this.PC])t===this.PC&&e?this.UC(this.WC.value!==pr):t.style.display=e?"block":"none";const t=$t(),n=t?"pointerdown":"mousedown",r=t?"pointermove":"mousemove";if(e){this.$C(),this.R_(this.yC,this.qC),this.FC.oninput=e=>{const t=parseFloat(e.target.value);this.controller.jk(t),this.KC.innerHTML=this.QC(t)},this.zC.oninput=e=>{this.RC(e.target.checked)},this.LC.oninput=e=>{this.YC.innerHTML=e.target.value},this.HC.oninput=e=>{this.XC.innerHTML=this.jC(e.target.value)},this.JC.oninput=e=>{this.NC(e.target.checked)};const e=(e,t)=>{const n=parseInt(e.target.value);t.value=Math.max(Math.min(n,100),0).toFixed(0),this.ZC()};this.VC.oninput=t=>e(t,this.VC),this.GC.oninput=t=>e(t,this.GC),this.ty.onclick=e=>this.setActive("Start"===this.ty.value),this.WC.onclick=e=>this.UC(this.WC.value===pr),this.yC.onmouseup=this.$C.bind(this),this.yC.onmousedown=e=>{this.isActive()&&this.controller.AC()},this.sv.Dp(2,this.np),this.Hn.addEventListener(n,this.wC),this.Hn.addEventListener(r,this.SC)}else this.setActive(!1),this.FC.oninput=null,this.zC.oninput=null,this.LC.oninput=null,this.HC.oninput=null,this.JC.oninput=null,this.VC.oninput=null,this.GC.oninput=null,this.ty.onclick=null,this.WC.onclick=null,this.yC.onmouseup=null,this.yC.onmousedown=null,this.qC.onmousedown=null,this.sv.xp(2,this.np),this.Hn.removeEventListener(n,this.wC),this.Hn.removeEventListener(r,this.SC)}}isVisible(){return this.visible}toggle(){this.setActive(!this.isActive())}setActive(e){if(!e||this.controller.uC())if(e&&this.vC)i.Log.e("{50c79eb}","{89742e9}");else if(this.controller.setActive(e),this.BC(),e){if(this.ty.value="Stop",this.iy()){i.Log.i("{50c79eb}","{5974b2c}"),this.vC=!0,this.mC=parseInt(this.LC.value);const e=parseInt(this.HC.value);this.pC=window.setInterval(()=>this.sy(),e)}}else this.ty.value="Start",this.vC&&(this.pC?(i.Log.i("{50c79eb}","{d340c50}"),this.ey()):i.Log.w("{50c79eb}","{6d8948b}")),this.hy(),this.ny();else this.oy()}isActive(){return this.controller.isActive()}rv(){return!this.isVisible()||this.isActive()}Yb(){this.RC(!this.iy())}ly(e){var t;const n=null!==(t=e.processingDuration)&&void 0!==t?t:0,i=e.receiveTime&&e.processingDuration?e.presentationTime-e.processingDuration-e.receiveTime:0,r=e.receiveTime?e.receiveTime-e.dC:0;return{uy:e.dC-e.aC,Ay:r,vy:i,decode:n,py:e.hC-e.presentationTime,total:e.hC-e.aC}}iy(){return this.zC.checked}Xb(){if(!this.fC.length)return void i.Log.w("{50c79eb}","{2884507}");const e="LDAT_"+(new Date).toISOString()+".csv",t=[["Sample #","Total","Render","Decode","Begin","Server + Rtd + Receive","Input Callback"].join(",")];for(let e=0;e<this.fC.length;e++){const n=this.fC[e],i=this.ly(n);t.push([e,i.total,i.py,i.decode,i.vy,i.Ay,i.uy].join(","))}Zt([t.join("\n")],e,"text/plain")&&i.Log.i("{50c79eb}","{690879e}",e)}jb(){i.Log.i("{50c79eb}","{d2811a7}"),this.VC.value="50",this.GC.value="50",this.my(.5,.5)}Jb(){this.NC(!this.JC.checked)}eC(e,t){this.controller.eC(e,t)}gy(){const e=document.createElement("div");return e.style.display="none",e.style.position="absolute",e.style.color="white",e.style.backgroundColor="rgb(105, 105, 105, 0.7)",e.style.padding="2px",e}by(e){const t=document.createElement("div");return t.style.width="100%",t.style.borderBottom="1px dashed darkgray",t.style.paddingBottom="2px",t.innerHTML=e,t}wy(e){const t=document.createElement("input");return t.type="button",t.value=e,t.style.margin="5px",t.style.backgroundColor="rgb(132, 130, 143, .7)",t.style.color="white",t.style.padding="8px 40px",t.style.border="none",t.style.borderRadius="4px",t.style.cursor="pointer",t}Sy(){const e=document.createElement("input");return e.type="checkbox",e}ky(e){const t=document.createElement("label");return t.innerHTML=e,t}Cy(e,t,n,i=1){const r=document.createElement("input");return r.type="range",r.min=t.toString(),r.max=n.toString(),r.step=i.toString(),r.value=e.toString(),r}CC(){const e=this.gy(),t=this.by("Latency Display Analysis Tool (LDAT)");this.ty=this.wy("Start"),this.WC=this.wy(pr),e.style.bottom="0px",e.style.left="0px",e.style.margin="5px",this.WC.style.border="1px solid white",this.WC.style.fontSize="10px",this.WC.style.padding="5px",this.WC.style.position="absolute",this.WC.style.right="0px",e.appendChild(t),e.appendChild(this.ty),e.appendChild(this.WC),e.appendChild(this.yy()),e.appendChild(this.My()),e.appendChild(this.Iy()),this.JC=this.Sy();const n=document.createElement("span");return n.title="Simulate mouse move event whenever a mouse click is detected.  Introduces two 300 ms delays between move events and requires a minimum shot delay of 1 sec.",n.innerHTML="<sup> i </sup>",e.appendChild(this.ky("Move On Click")),e.appendChild(n),e.appendChild(this.JC),e}yy(){const e=document.createElement("div"),t=this.controller.Jk();this.FC=this.Cy(t,.01,.2,.01),this.KC=document.createElement("span");const n=this.ky("Activation Level"),i=document.createElement("span");return this.KC.innerHTML=this.QC(t),i.style.paddingRight="2px",i.title="% increase in luminance used to determine whether a flash occurred",i.innerHTML="<sup> i </sup>",e.appendChild(n),e.appendChild(i),e.appendChild(this.FC),e.appendChild(this.KC),e}My(){const e=document.createElement("div");this.Ty=document.createElement("div"),this.zC=this.Sy(),this.LC=this.Cy(20,5,100,5),this.HC=this.Cy(1e3,500,5e3,100);const t=this.ky("Autofire"),n=this.ky("# Shots"),i=this.ky("Shot Delay");return this.YC=document.createElement("span"),this.XC=document.createElement("span"),this.YC.innerHTML=this.LC.value,this.XC.innerHTML=this.jC(this.HC.value),this.LC.id="shot-count-slider",this.Ty.appendChild(n),this.Ty.appendChild(this.LC),this.Ty.appendChild(this.YC),this.Ty.appendChild(document.createElement("br")),this.Ty.appendChild(i),this.Ty.appendChild(this.HC),this.Ty.appendChild(this.XC),e.appendChild(t),e.appendChild(this.zC),e.appendChild(this.Ty),e}RC(e){this.zC.checked=e,this.LC.disabled=!e,this.HC.disabled=!e,this.Ty.style.color=e?"white":"gray"}Iy(){const e=document.createElement("div"),t=this.ky("Loupe Position:"),n=this.ky("X"),i=this.ky("Y");n.style.paddingLeft="10px",i.style.paddingLeft="10px",n.style.paddingRight="2px",i.style.paddingRight="2px";const r=()=>{const e=document.createElement("input");return e.type="number",e.min="0",e.max="100",e.step="1",e.placeholder="Int",e.style.width="40px",e};return this.VC=r(),this.GC=r(),e.appendChild(t),e.appendChild(n),e.appendChild(this.VC),e.appendChild(this.ky("%")),e.appendChild(i),e.appendChild(this.GC),e.appendChild(this.ky("%")),e}MC(){const e=this.gy(),t=this.by("Loupe");return this.qC=document.createElement("div"),this.qC.style.cursor="move",this.qC.style.width="100%",this.qC.style.height="100%",this.qC.innerHTML="Click here to drag the loupe to the area of the screen where flashes will occur.  Then, press start.",e.appendChild(t),e.appendChild(this.qC),e}my(e,t){const n=this.Hn.getBoundingClientRect(),i=this.yC.getBoundingClientRect(),{paddingTop:r,paddingRight:s,paddingBottom:a,paddingLeft:o}=this.Py(this.Hn),l=n.height-r-a,c=n.width-o-s,u=n.top+r+l*t-i.height*t,d=n.left+o+c*e-i.width*e;this.yC.style.top=u.toString()+"px",this.yC.style.left=d.toString()+"px",this.$C()}ZC(){const e=e=>parseInt(e||"50")/100;this.my(e(this.VC.value),e(this.GC.value))}BC(e=!1){e&&(this.yC.style.bottom="5px",this.yC.style.left="300px",this.yC.style.top="",this.yC.style.right="",this.yC.style.width="150px",this.yC.style.height="150px"),this.isActive()?(this.qC.style.display="none",this.yC.style.border="2px rgb(76, 175, 80) solid",this.yC.style.backgroundColor="transparent"):(this.qC.style.display="block",this.yC.style.border="none",this.yC.style.backgroundColor="rgb(105, 105, 105, 0.7)")}NC(e){this.JC.checked=e}onmousedown(e){if(this.JC.checked&&this.isActive()&&!e.Dy){const t=64,n=(e,t)=>{switch(e){case 0:this.Hn.dispatchEvent(new PointerEvent("pointerup",t)),this.Hn.dispatchEvent(new MouseEvent("mouseup",t));break;case 1:const e=new PointerEvent("pointerdown",t),n=new MouseEvent("mousedown",t);e.Dy=!0,n.Dy=!0,this.Hn.dispatchEvent(e),this.Hn.dispatchEvent(n);break;case 2:this.Hn.dispatchEvent(new PointerEvent("pointerrawupdate",t)),this.Hn.dispatchEvent(new PointerEvent("pointermove",t)),this.Hn.dispatchEvent(new MouseEvent("mousemove",t))}},i={button:2,isPrimary:!0,pointerId:1},r={clientX:(Math.max(e.clientX,0)||this.gC.x)+t,clientY:Math.max(e.clientY,0)||this.gC.y,movementX:t,isPrimary:!0};n(1,i);const s=300;window.setTimeout(()=>{n(2,r),window.setTimeout(()=>{r.clientX-=t,r.movementX=-64,n(2,r),window.setTimeout(()=>n(0,i),s)},s)},s)}}onmousemove(e){this.gC={x:e.clientX,y:e.clientY}}TC(){const e=this.gy();return e.style.position="relative",e.style.backgroundColor="gray",e.style.textAlign="center",e.innerHTML="Warning: Must place loupe over video element to activate the LDAT.  Please reposition the loupe and then click start.",e}DC(){const e=this.gy(),t=this.by("LDAT Hot Keys"),n=document.createElement("ul");e.style.bottom="195px",e.style.left="0px",e.style.margin="5px",n.style.listStyle="none",n.style.paddingLeft="2px",n.style.margin="5px";for(const e of["Enter - Start/Stop","R - Reset","A - Turn On/Off Auto-Fire Mode","S - Save Log File","C - Center Loupe on Screen"]){const t=document.createElement("li");t.innerHTML=e,n.append(t)}return e.appendChild(t),e.appendChild(n),e}UC(e){e?(this.WC.value="Hide hotkeys",this.PC.style.display="block"):(this.WC.value=pr,this.PC.style.display="none")}createNotification(){const e=this.gy();return e.style.bottom="325px",e.style.left="0px",e.style.margin="5px",e}$C(){const e=this.Hn.getBoundingClientRect(),t=this.yC.getBoundingClientRect();if(this.Hn.style.paddingTop||this.Hn.style.paddingRight||this.Hn.style.paddingBottom||this.Hn.style.paddingLeft){const{paddingTop:t,paddingRight:n,paddingBottom:i,paddingLeft:r}=this.Py(this.Hn);e.x+=r,e.y+=t,e.width-=r+n,e.height-=t+i}t.x=(t.x-e.x)/e.width,t.y=(t.y-e.y)/e.height,t.width/=e.width,t.height/=e.height,this.controller.Zk(t)}oy(){this.IC.style.display="block",window.setTimeout(()=>this.IC.style.display="none",5e3)}onfullscreenchange(e){this.$C()}hy(){0!==this.bC&&(window.clearTimeout(this.bC),this.bC=0)}ny(){this.EC.innerHTML="",this.EC.style.display="none"}sC(e){this.hy(),this.fC.push(e);const t=this.ly(e),n=t.total.toFixed(),r="Flash occurred at frame "+e.presentedFrames+". Latency: "+n+" ms.";i.Log.i("{50c79eb}","{78905f8}",e.presentedFrames,n),t.uy.toFixed(),t.Ay.toFixed(),t.vy.toFixed(),t.decode.toFixed(),t.py.toFixed(),i.Log.d("{50c79eb}","{d3d4a0c}",n,t.uy.toFixed(),t.Ay.toFixed(),t.vy.toFixed(),t.decode.toFixed(),t.py.toFixed()),this.EC.innerHTML=r,this.EC.style.display="block",this.bC=window.setTimeout(()=>{this.ny(),this.bC=0},5e3)}sy(){this.mC-- >0?this.controller.AC():(i.Log.i("{50c79eb}","{d37e51d}"),this.ey(),this.setActive(!1))}ey(){window.clearInterval(this.pC),this.pC=0,this.vC=!1}R_(e,t){let n=0,i=0,r=0,s=0;const a=document.onmouseup,o=document.onmousemove;t.onmousedown=t=>{t.preventDefault(),n=t.clientX,i=t.clientY,document.onmouseup=()=>{document.onmouseup=a,document.onmousemove=o},document.onmousemove=t=>{t.preventDefault(),r=n-t.clientX,s=i-t.clientY,n=t.clientX,i=t.clientY,e.style.top=e.offsetTop-s+"px",e.style.left=e.offsetLeft-r+"px"}}}QC(e){return(100*e).toFixed()+"%"}jC(e){return e+" ms"}OC(e,t){e.value=t.toString(),e.dispatchEvent(new Event("input"))}Py(e){const t=e=>{if(!e)return 0;const t=e.length;return"%"===e.substring(t-1)?parseInt(e.substring(0,t-1)):"px"===e.substring(t-2)?parseInt(e.substring(0,t-2)):(i.Log.w("{50c79eb}","{3351f27}",e),0)};return{paddingTop:t(e.style.paddingTop),paddingRight:t(e.style.paddingRight),paddingBottom:t(e.style.paddingBottom),paddingLeft:t(e.style.paddingLeft)}}}class gr{constructor(e){this.Ms=e,this.extraData=new Map,this.Ey=65535,this.Ry=new Array,this.Ny=1,this.saScores={gpuPerfScore:-1,serverPerfScore:-1,visualScore:-1,decoderScore:-1,downlinkLag:-1,downlinkCongestion:-1,uplink:-1,overall:-1}}WS(e,t,n){this.saScores=e,this.extraData.set("WiFiScanScore",100*t),this.extraData.set("ThrottlingScore",100*n)}By(e){let t=0;De(this.Ms)?t=1:Ne(this.Ms)?t=2:Oe(this.Ms)&&(t=3),this.extraData.set("Platform",t);const n=this.xy(e);n&&this.extraData.set("AvgTotalCPUUsage",n),this.extraData.set("DecodeType",this.Ny);let r={saScores:this.saScores,extraData:this.extraData};i.Log.i("{240ae89}","{d1eda5e}",r.saScores.overall,r.saScores.gpuPerfScore,r.saScores.serverPerfScore,r.saScores.visualScore,r.saScores.decoderScore,r.saScores.downlinkLag,r.saScores.downlinkCongestion,r.saScores.uplink);for(const e of r.extraData.entries())i.Log.i("{240ae89}","{4d3c418}",e[0],e[1]);return r}US(e){e&&(this.Ey=Math.min(this.Ey,e),this.extraData.set("Rtd",this.Ey))}Oy(e){this.extraData.set("Power",e)}Fy(e){this.extraData.set("Display",e)}Ly(e,t){this.extraData.set("MaxStreamingWidth",e),this.extraData.set("MaxStreamingHeight",t)}Hy(e){this.extraData.set("MaxStreamingFps",e)}xy(e){if(0===this.Ry.length||0===e)return 0;let t=0,n=0,i=0;for(const{frameNumber:e,cpuUsage:r}of this.Ry)t+=i*(e-n-1),t+=r,n=e,i=r;return e>n&&(t+=i*(e-n)),t/e}Uy(e,t){0==e&&(e=1),this.Ry.push({frameNumber:e,cpuUsage:t})}Vy(e){this.Ny=e}}class Ar extends Map{constructor(){super([["TCP",0],["MDNS",0],["IPV6",0],["IPV4",0],["UNKNOWN",0]])}}const mr=["transport","inbound-rtp","candidate-pair","local-candidate"];class vr{constructor(e,t,n,r,s,a,o,l,c,u,d,h){this.vn=e,this.Fd=t,this.Pn=r,this.telemetry=a,this.Ms=o,this.eS=l,this.sv=c,this.Wd=u,this.Zo=d,this.wk=h,this.Gy=!0,this.Wy=0,this.$y=0,this.C_=[],this.qy="",this.Ky=new Map,this.Qy=!1,this.zy=new Map,this.Yy=new Map,this.Xy=0,this.jy=0,this.Jy=0,this.Zy=0,this.tM=[],this.iM={width:0,height:0},this.sM={width:0,height:0},this.eM=!1,this.hM=!1,this.nM=!1,this.oM=0,this.rM=0,this.aM=0,this.dM=!1,this.cM=!1,this.lM=(e,t,n)=>{var i,r,s;const a=this.C_[e];0===e&&a.uM.qk(n),(null===(i=this.AM)||void 0===i?void 0:i.isActive())&&0===e&&this.AM.eC(t,n),a.qw&&n.rtpTimestamp&&n.receiveTime&&(a.fM={vM:n.rtpTimestamp,pM:n.receiveTime-this.Zo.ad()}),this.isEnabled()&&a.lM&&(null===(s=null===(r=a.Hn)||void 0===r?void 0:r.requestVideoFrameCallback)||void 0===s||s.call(r,a.lM))},this.mM={gM:0,droppedVideoFrames:[],totalVideoFrames:[]},n.length!==s.length&&i.Log.w("{5cea617}","{c443e77}");for(let e=0;e<n.length&&e<s.length;e++){const t=s[e],i=n[e],r=new ar(i,this.Ms,l);r.dk(t.bitDepth),r.hk(1===t.Qw),r.uk(t.prefilterParams),r.Ak(t.hudStreamingParams);const a={bM:{wM:0,SM:0,kM:0},yS:"",CM:-1},o=new Xi(t.Ww,t.Kw),c=new gr(this.Ms);c.Ly(t.Uw,t.Vw),c.Hy(t.Gw);const u={qw:t.qw,yM:0,MM:r,IM:o,TM:a,packetsReceived:0,PM:c,uM:new ur(this.Zo,this.wk,e),Hn:i,lM:this.lM.bind(this,e),DM:0};this.C_[e]=u,this.mM.droppedVideoFrames.push(0),this.mM.totalVideoFrames.push(0)}if(!this.C_.length){const e={MM:new ar(document.body,this.Ms,l),packetsReceived:0,PM:new gr(this.Ms),uM:new ur(this.Zo,this.wk,0),IM:new Xi,DM:0};this.C_.push(e)}Lt.isInternalUser&&n[0]&&(this.AM=new fr(n[0],c)),this.EM={ts:0,timingFrameInfo:"",targetDelayMs:0,minPlayoutDelayMs:0,currentDelayMs:0},this.RM(),this.NM=this.vn.hasListener("StreamingStats"),this.BM(),this.dM=-1!==this.Ms.gpuDetail.indexOf("SwiftShader"),this.xM(),this.Yy.set("audio",!1),this.Yy.set("video",!1)}async xM(){if(this.OM=await async function(){const e=await cn.oo("h264");if(void 0!==e)return!!(null==e?void 0:e.powerEfficient)}(),void 0===this.OM)for(const e of this.C_)e.PM.Vy(0)}FM(){const e=performance.now();this.Pn.getStats(null).then(t=>{let n=!1;for(let e of t.values())if("track"===e.type&&(n=!0),this.LM(e.type)){this.Yy.has(e.kind)&&(this.Yy.set(e.kind,!0),"video"!==e.kind&&this.Xw||(this.Xw=e.kind));const t=this.zy.get(e.type);t?t.includes(e.id)?i.Log.e("{5cea617}","{76f5968}",e.id):t.push(e.id):this.zy.set(e.type,[e.id])}this.nM=!n,i.Log.i("{5cea617}","{1317761}",this.nM?"yes":"no"),this.Qy=!0,this.HM(t),this.UM(t,e),this.VM(t,e)}).catch(e=>this.GM(e,"init")).finally(()=>this.WM())}RM(){this.$M=this.Pn.createDataChannel("stats_channel",{ordered:!1,reliable:!1,maxRetransmits:0}),this.$M.binaryType="arraybuffer",this.Fd.D_(this.$M,{open:()=>{this.oM=1},close:()=>{this.qM(),this.oM=2}}),this.$M.onmessage=e=>{var t=new DataView(e.data);const n=t.getUint8(0);3==n?this.KM(new DataView(e.data,1)):4==n?this.KM(t):i.Log.e("{5cea617}","{1549673}",n)}}KM(e){const t=e.getUint8(0),n=this.C_[0];if(t>=4){const t=e.getFloat64(1,!0)/1e6,i=1e3*e.getFloat64(9,!0),r=e.getFloat64(17,!0);n.MM.VS(i),n.MM.US(r),n.PM.US(r);const s=e.getFloat64(25,!0);n.MM.GS(s);let a=e.getFloat32(33,!0),o=e.getFloat32(37,!0),l=e.getFloat32(41,!0),c=e.getFloat32(45,!0),u=e.getFloat32(49,!0),d=e.getFloat32(53,!0),h=e.getFloat32(57,!0),p=e.getFloat32(61,!0),f=e.getFloat32(65,!0),g=e.getFloat32(69,!0),A={gpuPerfScore:o,serverPerfScore:l,visualScore:c,decoderScore:u,downlinkLag:d,downlinkCongestion:h,uplink:p,overall:a};n.MM.WS(A),n.PM.WS(A,f,g);const m=n.MM.FS(t);n.IM.Fw(t,m),n.IM.Ow(r)}else i.Log.e("{5cea617}","{c27953b}",t)}BM(){var e,t,n,i;this.Wy=window.setInterval(()=>{this.QM()},null!==(e=Lt.Mh.getStatsInterval)&&void 0!==e?e:96),Te()&&(this.$y=window.setInterval(()=>{this.zM()},null!==(t=Lt.Mh.getDeprecatedStatsInterval)&&void 0!==t?t:201));for(const e of this.C_)e.lM&&(null===(i=null===(n=e.Hn)||void 0===n?void 0:n.requestVideoFrameCallback)||void 0===i||i.call(n,e.lM))}Fp(e){if(this.wk.YM(e),!Lt.Ih){const e=window.performance.now();for(let e=0;e<this.C_.length;e++){const t=this.C_[e].Hn;if(!t)continue;const n=yr(t);if(n){const t=n.XM,i=t-this.mM.droppedVideoFrames[e],r=n.jM-this.mM.totalVideoFrames[e];this.mM.droppedVideoFrames[e]=t,this.mM.totalVideoFrames[e]=n.jM,1==i?this.Wd.JM[e]++:i>1&&(this.Wd.ZM[e]+=i),this.wk.tI(r,i)}}this.mM.gM=e}}jA(){Lt.Ih||this.iI()}iI(){const e=window.performance.now();e>this.Wd.sI+1e4?(0!==this.Wd.sI&&i.Log.i("{5cea617}","{5fa9066}",this.Wd.eI,this.Wd.Nc,this.Wd.Bc,this.Wd.xc,this.mM.totalVideoFrames.map((e,t)=>e-this.Wd.hI[t]),this.Wd.JM,this.Wd.ZM,this.Wd.qp,this.Wd.Vc),this.Wd.sI=e,this.Wd.hI=this.mM.totalVideoFrames,this.Wd.eI=1,this.Wd.Nc=0,this.Wd.Bc=0,this.Wd.xc=0,this.Wd.JM.fill(0),this.Wd.ZM.fill(0),this.Wd.qp=0,this.Wd.Vc=0):this.Wd.eI+=1}qM(){this.Wy&&(clearInterval(this.Wy),this.Wy=0),this.$y&&(clearInterval(this.$y),this.$y=0);for(const e of this.C_)e.uM.Kk()}reset(){var e;this.qM();for(const t of this.C_)t.IM.reset(),t.MM.uninitialize(),t.MM=new ar(null!==(e=t.Hn)&&void 0!==e?e:document.body,this.Ms,this.eS);this.Ky.clear()}isEnabled(){return 0!=this.Wy}nI(){this.isEnabled()&&(this.qM(),this.oI(!1))}rI(){this.isEnabled()||this.BM()}stop(){var e;if(!this.Gy)return;this.Gy=!1;let t=!1;for(const e of this.C_)e.MM.uninitialize(),!t&&e.TM&&(this.telemetry.zn("InboundVideoStats",e.TM.yS,e.TM.bM.kM,e.TM.bM.wM,e.TM.CM,e.TM.bM.SM),t=!0);this.aI(),this.nI(),null===(e=this.AM)||void 0===e||e.stop()}LM(e){return mr.includes(e)}dI(){this.Qy=!1}cI(e,t){for(const n of e.values())t.includes(n.type)&&this.Ky.set(n.id,n)}HM(e){this.cI(e,mr)}lI(e){this.HM(e)}uI(){return"video"===this.Xw||!this.Yy.get("video")}AI(e){return e>=this.jy&&this.uI()}VM(e,t){const n=performance.now();if(this.AI(t)){if(this.fI(),this.vI(e),this.pI()){const e=2===this.Xy;for(const t of this.C_)t.MM.zS(e)}this.jy=t+1e3}if(this.mI(),this.Fd.gI(),this.bI(t)&&(this.rM=t+5e3),this.Xw){const e="video"===this.Xw?"audio":"video";this.Yy.get(e)&&(this.Xw=e)}const i=performance.now()-n;for(const[e,t]of this.C_.entries()){const n=i+t.DM;0===e&&this.wk.wI(n),t.MM.ZS(n),t.DM=0}}getSelectedCandidatePair(e){for(const[t,n]of e)if("transport"===n.type){const t=n;if(t.selectedCandidatePairId){const n=t.selectedCandidatePairId,i=e.get(n);if(i)return i;break}}for(const[t,n]of e)if("candidate-pair"===n.type){const e=n;if(e.selected)return e}}aI(){if(this.cM||0===this.Ky.size)return;const e=this.Pn.getConfiguration(),t=(e.iceServers||[]).map(e=>(Array.isArray(e.urls)?e.urls:[e.urls]).filter(e=>e.startsWith("turn:")||e.startsWith("turns:")).map(t=>e.username?t+","+e.username:t)).reduce((e,t)=>e.concat(t),[]).join(" | ")||void 0;if(t){const n=this.SI(this.Ky),i=(null==n?void 0:n.url)||"",r=(null==n?void 0:n.protocol)||"",s="TURN in use: "+i+", Protocol: "+r+" | \n                Configured TURNs: "+t+" | ICE Policy: "+(e.iceTransportPolicy||"default");if(this.Fd.kI(s),this.telemetry.zn("TURN Server Details",""+s,0,0,0,0),i.length>0)for(const e of this.C_)e.MM.mk(i,r)}this.cM=!0}SI(e){let t,n;const r=this.getSelectedCandidatePair(e);if(r)for(const[s,a]of e)if(s===r.localCandidateId||s===r.remoteCandidateId){const e=a;if("relay"===e.candidateType||e.relayProtocol){if(t=e.url,n=e.relayProtocol,void 0===t||void 0===n)continue;return i.Log.i("{5cea617}","{5f36af2}",t,n),{url:t,protocol:n}}}i.Log.i("{5cea617}","{265646b}")}UM(e,t,n){var i;const r=performance.now();if(void 0===n&&1===this.C_.length&&(n=0),void 0===n)return;this.AI(t)&&(this.CI(e,n),this.yI(n)),this.MI(e,n);const s=this.C_[n],a=s.fM;t>=(null!==(i=s.yM)&&void 0!==i?i:0)&&a&&(this.II(a,n),s.fM=void 0,s.yM=t+1e3);const o=s.MM;if(this.uI()){Wt(this.Ms)&&this.TI(n);const e=s.IM.Hw();o.HS(e),0===n&&(this.vn.emit("StreamingQuality",e),this.NM&&this.vn.emit("StreamingStats",o.$S()),this.wk.DI(e))}this.bI(t)&&o.KS(n),s.DM=performance.now()-r,this.aI()}bI(e){return e>=this.rM}MI(e,t){if(0===t)for(const[n,i]of this.zy.entries())for(const r of i){const i=e.get(r);i&&"inbound-rtp"===n&&this.C_[t].uM.xk(this.EI(e,i))}}JS(e){for(const t of this.C_)t.MM.JS(e)}RI(e){for(const t of this.C_)t.MM.tk(e)}hk(e,t){this.C_[t].MM.hk(e)&&(i.Log.i("{5cea617}","{3cc6c54}",e?"on":"off"),this.yI(t))}ak(e,t,n){this.C_[n].MM.ak(e,t)&&this.yI(n)}uk(e,t){this.C_[t].MM.uk(e)&&this.yI(t)}Ak(e,t){this.C_[t].MM.Ak(e)&&this.yI(t)}QM(){if(!this.eM)if(this.eM=!0,0===this.oM)this.Pn.getStats().then(e=>this.lI(e)).catch(e=>this.GM(e,"early")).finally(()=>this.WM());else if(1===this.oM)if(this.Qy){let e=[];const t=performance.now();switch(this.Xw){case"audio":case"video":e=this.Pn.getTransceivers().filter(e=>{var t,n;return(null===(t=e.receiver.track)||void 0===t?void 0:t.kind)===this.Xw&&(null===(n=e.receiver.track)||void 0===n?void 0:n.enabled)}).map((e,n)=>e.receiver.getStats().then(e=>(this.UM(e,t,n),e)));break;default:e.push(this.Pn.getStats().then(e=>(this.UM(e,t,0),e)))}if(0===e.length)return void(this.eM=!1);Promise.all(e).then(e=>e[0]).then(e=>this.VM(e,t)).catch(e=>this.GM(e,"standard")).finally(()=>this.WM())}else this.FM();else this.eM=!1}pI(){return 0!==this.Xy}toggleOnScreenStats(e,t){this.oI(null!=t?t:!this.pI(),e)}__(e){const t=this.C_[e].MM;this.wk.NI(),t.lk(),t.YS(2===this.Xy)}oI(e,t=!1){for(const n of this.C_)n.MM.jS(e),e&&n.MM.zS(t);e?(this.jy=performance.now(),this.Xy=t?2:1):this.Xy=0}CI(e,t){"video"===this.Xw?this.BI(e,t):this.Yy.get("video")||this.xI(e),this.C_[t].MM.ik(this.Fd.OI())}xI(e){var t;const n=this.zy.get("inbound-rtp");if(!n)return;let i=n.map(t=>e.get(t)).find(e=>"audio"===(null==e?void 0:e.kind)||"audio"===(null==e?void 0:e.Xw));if(!i)return;i=this.EI(e,i);const r=this.C_[0];r.MM.LS(i),r.packetsReceived=null!==(t=i.packetsReceived)&&void 0!==t?t:0,this.cI(e,["inbound-rtp"])}BI(e,t){var n,r;const s=this.zy.get("inbound-rtp");if(!s)return;const a=this.C_[t],o=a.TM,l=a.MM;if(!o)return;let c=s.map(t=>e.get(t)).find(e=>"video"===(null==e?void 0:e.kind)||"video"===(null==e?void 0:e.Xw));if(!c)return void o.bM.wM++;c=this.EI(e,c);const u=c.decoderImplementation;let d=!1;if((null==u?void 0:u.indexOf)&&(u!==o.yS&&"unknown"!==u&&(o.yS=u,l.pk(u)),d=-1!==u.indexOf("fallback")),(d||"FFmpeg"===u||this.dM||!1===this.OM)&&-1===o.CM){o.CM=null!==(n=c.framesDecoded)&&void 0!==n?n:this.Vk(t),this.wk.FI("SoftwareDecodeFallback");const e="Fallback to software decode at frame "+String(o.CM);i.Log.i("{5cea617}","{953d211}",String(o.CM)),l.vk(!0),this.Fd.kI(e);const r=a.PM;d?r.Vy(3):(this.dM||"FFmpeg"===u||!1===this.OM)&&r.Vy(2)}const h=this.Ky.get(c.id);if(!h)return void o.bM.SM++;o.bM.kM++;const p=c.codecId;if(p){const t=e.get(p).mimeType.toUpperCase();let n="UNKNOWN";t.includes("H265")?n="H265":t.includes("AV1")?n="AV1":t.includes("H264")?n="H264":i.Log.d("{5cea617}","{4b31535}",t),l.sk(n)}a.IM.Lw(c,h),l.LS(c),a.packetsReceived=null!==(r=c.packetsReceived)&&void 0!==r?r:0,this.cI(e,["inbound-rtp"])}EI(e,t){if(!this.nM){const n=e.get(t.trackId);n&&(t=Object.assign(n,t))}return t}vI(e){var t;const n=this.zy.get("candidate-pair");if(!(null==n?void 0:n.length))return;const i=n.map(t=>e.get(t));if(!i.length)return;let r=this.getSelectedCandidatePair(e);r||(r=i[0]),this.tM.length>=6&&this.tM.splice(0,1),this.tM.push(r);const s=null===(t=this.Ky)||void 0===t?void 0:t.get(r.id);if(s)for(const e of this.C_)e.MM.OS(r,s);this.cI(e,["candidate-pair","transport"]),this.aI()}zM(){if(this.hM)return;this.hM=!0;const e=()=>{i.Log.i("{5cea617}","{cf8b53f}"),this.hM=!1,clearInterval(this.$y),this.$y=0};this.Pn.getStats(e=>{for(let t of e.result())if("ssrc"==t.type)for(let e of t.names()){"video"===t.stat("mediaType")&&(this.EM.ts=this.Zo.Ra(),this.EM.timingFrameInfo=t.stat("googTimingFrameInfo"),this.EM.targetDelayMs=+t.stat("googTargetDelayMs"),this.EM.minPlayoutDelayMs=+t.stat("googMinPlayoutDelayMs"),this.EM.currentDelayMs=+t.stat("googCurrentDelayMs"));break}this.C_[0].uM.k_(this.EM),this.hM=!1},e).catch(e)}TI(e){if(0!==e)return;const t=new ArrayBuffer(12),n=new DataView(t),i=this.C_[e].uM;n.setUint8(0,1),n.setUint8(1,1),n.setUint16(2,i.Hk(),!0),n.setUint16(4,i.Uk(),!0),n.setUint16(6,i.Vk(),!0),n.setUint16(8,i.Gk(),!0),n.setUint16(10,i.Wk(),!0),this.LI(t,"clientperf")}II(e,t){if(0!==t)return;const n=new ArrayBuffer(15),i=new DataView(n);i.setUint8(0,2),i.setUint8(1,1),i.setUint8(2,1),i.setUint32(3,e.vM,!0),i.setFloat64(7,e.pM,!0),this.LI(n,"rtpmapping")}LI(e,t){try{"open"===this.$M.readyState&&this.$M.send(e)}catch(e){i.Log.e("{5cea617}","{78e74c5}",e),this.GM(e,t)}}GM(e,t){this.telemetry.Jd(e,"Exception in "+t+" getStats","{5cea617}.ts",0,0,!0,"getStats")}WM(){this.eM=!1}mI(){const e=performance.memory;if(!e)return;const t=e.usedJSHeapSize,n=e.totalJSHeapSize,i=t-this.Jy,r=n-this.Zy;this.Jy=t,this.Zy=n,i>=0&&r>=0||this.wk.HI(i,r)}UI(){return this.C_.reduce((e,t)=>e+t.MM.qS(),0)}Vk(e){return this.C_[e].MM.qS()}ek(e){return this.C_[e].MM.ek()}VI(){return this.qy}ck(e){return this.C_[e].MM.ck()}nk(e){return this.C_[e].MM.nk()}GI(){return this.C_.reduce((e,t)=>e+t.packetsReceived,0)}WI(){const e=e=>isNaN(e)?-1:e;if(this.tM.length<2)return;const t=this.tM[0],n=this.tM[this.tM.length-1];return{$I:e(n.requestsSent-t.requestsSent+n.consentRequestsSent-t.consentRequestsSent),P_:e(n.responsesReceived-t.responsesReceived),qI:e(n.packetsReceived-t.packetsReceived)}}KI(){let e=0,t=0,n=0,r=0,s=0,a=0;for(const i of this.Ky.values())if("candidate-pair"===i.type){const o=i;e+=o.requestsSent+o.consentRequestsSent,t+=o.responsesReceived,n+=o.requestsReceived,r+=o.responsesSent,o.nominated&&s++,"succeeded"===o.state&&a++}return i.Log.i("{5cea617}","{47c0ce7}",e,t),e>0&&0===t?3237093926:s?a?void 0:3237093928:3237093927}QI(){const e=this.zy.get("local-candidate");return null==e?void 0:e.map(e=>{var t;return null===(t=this.Ky)||void 0===t?void 0:t.get(e)})}zI(){let e=new Ar;const t=this.QI();if(!t)return e;for(const n of t){const t=Er(n);e.set(t,e.get(t)+1)}return e}YI(){let e=new Set;const t=this.QI();if(!t)return e;for(const n of t)if("IPV4"===Er(n)){const t=Sr(n);"UNKNOWN"!==t&&e.add(t)}return e}async fI(){const e={width:screen.width*window.devicePixelRatio,height:screen.height*window.devicePixelRatio},t=Jt(),n=this.sv.XI(),r=(e,t)=>e.width===t.width&&e.height===t.height;if(r(e,this.sM)&&r(t,this.iM)&&n===this.aM)return;this.sM=e,this.iM=t;const s=await Sn.Fo();this.aM=n;for(let r=0;r<this.C_.length;r++){const a=this.C_[r].MM.qS(),o="Stream["+r+"]: Client display[-1] resolution : {physical : "+Yt(e)+"@"+s+", logical : "+Yt(t)+"@"+s+"} at frame#"+a+" topology: "+n;i.Log.i("{5cea617}","{7b74aa7}",r,Yt(e),s,Yt(t),s,a,n),this.Fd.kI(o)}}wm(){return this.AM}yI(e){if(0!==e)return;const t=this.C_[e].MM.QS();this.vn.emit("StreamStatsUpdate",t)}Oy(e){for(const t of this.C_)t.PM.Oy(e)}Fy(e){for(const t of this.C_)t.PM.Fy(e)}Uy(e){for(const[t,n]of this.C_.entries()){const i=this.Vk(t);n.PM.Uy(i,e)}}By(e){return this.C_[e].PM.By(this.Vk(e))}}function yr(e){var t;if(e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();return{jM:t.totalVideoFrames,XM:t.droppedVideoFrames}}if(void 0!==e.webkitDecodedFrameCount)return{jM:e.webkitDecodedFrameCount,XM:null!==(t=e.webkitDroppedFrameCount)&&void 0!==t?t:0}}function Er(e){if("tcp"===e.protocol)return"TCP";const t=e.address||e.relatedAddress;return t?t.endsWith(".local")?"MDNS":-1!==t.indexOf(":")?"IPV6":"IPV4":"UNKNOWN"}function Sr(e){const t=e.address||e.relatedAddress,n=null==t?void 0:t.split(".");if(4===(null==n?void 0:n.length)){const e=parseInt(n[0]),t=parseInt(n[1]);if(!isNaN(e)&&!isNaN(t)){let n="UNKNOWN";return 10===e?n="10/8":192===e&&168===t?n="192.168/16":172===e&&16==(240&t)&&(n="172.16/12"),"UNKNOWN"!==n&&i.Log.d("{5cea617}","{343589d}",n),n}}return i.Log.i("{5cea617}","{fa2d6b9}"),"UNKNOWN"}class br{constructor(e,t,n,r,s,a){if(this.instanceId=e,this.telemetry=n,this.jI=r,this.Zo=s,this.JI=a,this.ZI=!1,this.tT=!1,this.iT=0,this.perf={RAFTS:0,DCSend:0,GetStats:0,FrameInfo:0,VSyncDelta:0},this.JI){const e={initMessage:{sessionId:t},instanceId:this.instanceId};this.JI.postMessage(e),i.Log.d("{1f5ec29}","{404f264}")}else i.Log.e("{1f5ec29}","{c62bf29}")}sT(){return this.instanceId}od(e){xr(this.telemetry,e)}hd(e){e.initialized?(i.Log.i("{1f5ec29}","{6ccab8d}"),this.tT=!0):e.statsStarted?(this.ZI=!0,i.Log.d("{1f5ec29}","{e98d45f}")):e.log?i.Log.i("{cbf9f59}","{0b0c6f9}",e.log):e.exception?i.Log.i("{cbf9f59}","{0b0c6f9}",e.exception):e.wsClose?this.eT?this.eT.hT(e.wsClose):i.Log.e("{1f5ec29}","{900a6f2}"):e.wsMessage?this.eT?this.eT.nT(e.wsMessage):i.Log.e("{1f5ec29}","{900a6f2}"):e.wsOpening?this.eT?this.eT.oT():i.Log.e("{1f5ec29}","{900a6f2}"):e.wsOpen?this.eT?this.eT.rT():i.Log.e("{1f5ec29}","{900a6f2}"):e.uninitialized&&i.Log.i("{1f5ec29}","{22b6f70}")}startWebSocket(e,t,n,r){if(this.eT=n,this.JI){const n={startWebSocket:{signInURL:e,maxReceivedAckId:t,reconnect:r},instanceId:this.instanceId};this.JI.postMessage(n),i.Log.d("{1f5ec29}","{b3f6faa}")}}stopWebSocket(){if(this.JI){const e={stopWebSocket:!0,instanceId:this.instanceId};i.Log.d("{1f5ec29}","{7ac815d}"),this.JI.postMessage(e)}this.eT=void 0}uninitialize(){var e;if(this.tT||null===(e=this.telemetry)||void 0===e||e.Ge("Worker Thread Creation Failed"),this.JI){const e={uninitialize:!0,instanceId:this.instanceId};i.Log.d("{1f5ec29}","{9212ec5}",this.instanceId),this.JI.postMessage(e)}}startProfiling(e){if(this.ZI=!1,this.JI){const t={startStats:{statsHeader:e},instanceId:this.instanceId};i.Log.d("{1f5ec29}","{6897d5e}"),this.JI.postMessage(t)}}stopProfiling(){if(this.ZI=!1,this.JI){const e={stopStats:!0,instanceId:this.instanceId};i.Log.d("{1f5ec29}","{76b05dd}"),this.JI.postMessage(e)}}aT(){this.perf.RAFTS=0,this.perf.DCSend=0,this.perf.GetStats=0,this.perf.FrameInfo=0,this.perf.VSyncDelta=0}dT(e){if(this.JI){const t={send:e,instanceId:this.instanceId};this.JI.postMessage(t)}}YM(e){var t;if(this.ZI){if(this.perf.VSyncDelta=e-this.iT,0!=this.perf.RAFTS){if(this.JI){const e={perf:this.perf,instanceId:this.instanceId};this.JI.postMessage(e)}this.aT()}this.perf.RAFTS=null!==(t=this.Zo.Ra())&&void 0!==t?t:0,this.iT=e}}cT(e){this.ZI&&(this.perf.DCSend+=e)}wI(e){this.ZI&&(this.perf.GetStats+=e)}Bk(e,t){var n;if(!this.ZI||!this.JI)return;const i={webrtcStats:{type:t,stats:e},ackid:null===(n=this.jI)||void 0===n?void 0:n.$o(),instanceId:this.instanceId};this.JI.postMessage(i,e)}DI(e){var t;if(!this.ZI||!this.JI)return;const n={sq:{latencyScore:e.latencyScore,bandwidthScore:e.bandwidthScore,qualityScore:e.qualityScore,networkLossScore:e.networkLossScore,timestamp:null!==(t=this.Zo.Ra())&&void 0!==t?t:0},instanceId:this.instanceId};this.JI.postMessage(n)}lT(e,t){var n;if(!this.ZI||!this.JI)return;const i={duration:{timestamp:t-(null!==(n=this.Zo.ad())&&void 0!==n?n:0),duration:e},instanceId:this.instanceId};this.JI.postMessage(i)}uT(e,t){var n;if(!this.ZI||!this.JI)return;const i={inputChannelStats:{timestamp:null!==(n=this.Zo.Ra())&&void 0!==n?n:0,bufferedAmount:e,maxSchedulingDelay:t},instanceId:this.instanceId};this.JI.postMessage(i)}HI(e,t){var n;if(!this.ZI||!this.JI)return;const i={garbageCollectionStats:{timestamp:null!==(n=this.Zo.Ra())&&void 0!==n?n:0,deltaUsedHeapSize:e,deltaTotalHeapSize:t},instanceId:this.instanceId};this.JI.postMessage(i)}NI(){if(!this.ZI||!this.JI)return;const e={qosMarker:this.Zo.Ra(),instanceId:this.instanceId};this.JI.postMessage(e)}tI(e,t){if(this.ZI){let n=Math.min(e,15)<<4,i=Math.min(t,15);this.perf.FrameInfo=n|i}}FI(e){var t;if(!this.ZI||!this.JI)return;const n={clientEvent:{TS:null!==(t=this.Zo.Ra())&&void 0!==t?t:0,eventtype:e},instanceId:this.instanceId};this.JI.postMessage(n)}}function xr(e,t){var n,i,r,s;e.Jd(void 0,null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"",null!==(i=null==t?void 0:t.filename)&&void 0!==i?i:"",null!==(r=null==t?void 0:t.lineno)&&void 0!==r?r:0,null!==(s=null==t?void 0:t.colno)&&void 0!==s?s:0,!0,"WorkerError")}const wr=new class{constructor(){this.AT=new Map,this.fT=[],this.vT=[],this.pT=0,this.hd=e=>{const t=e.data,n=this.AT.get(t.instanceId);n?n.hd(t):i.Log.w("{1f5ec29}","{3a7e49f}",t.instanceId)},this.od=e=>{this.AT.size?this.AT.forEach(t=>t.od(e)):this.vT.push(e)},i.Log.i("{1f5ec29}","{139da36}");try{this.JI=ii('const t={size:70,version:1,name:"DEPR"},s={size:92,version:4,name:"RTPV"},i={size:48,version:1,name:"RTPA"},h={size:88,version:1,name:"TRAA"},e={size:44,version:1,name:"TRAV"},n={size:16,version:2,name:"VFMD"},r={size:20,version:1,name:"PFDA"},o={size:0,version:1,name:""};class a{constructor(t){this.i=t,this.h=new Map,this.o=0,this.l()}size(){let t=0;for(let[s,i]of this.h)for(let s of i)t+=s.byteLength;return t+=9*this.h.size,t}u(t){let s=this.h.get(t.type);s||(s=new Array,this.h.set(t.type,s));for(const i of t.stats)s.push(i)}write(t,s){let i=s;for(let[s,h]of this.h)i+=this.v(t,i,s,h.length),i+=this.S(t,h,i),1===s&&this.o++;return i}l(){this.o&&(this.i("{890d3ae}"+this.o),this.o=0),this.h.clear()}v(t,s,i,h){let e=this.M(i),n=e.name,r=new DataView(t.buffer);for(let t=0;t<4;t++)r.setUint8(s+t,n.charCodeAt(t));return r.setUint8(s+4,e.version),r.setUint16(s+5,h,!0),r.setUint16(s+7,e.size,!0),9}M(a){switch(a){case 0:return t;case 1:return s;case 2:return i;case 3:return e;case 4:return h;case 5:return n;case 6:return r;default:return o}}S(t,s,i){let h=0;for(let e of s){let s=new Uint8Array(e);t.set(s,i+h),h+=e.byteLength}return h}}class c{constructor(t,s){this.sessionId=t,this.A=!1,this.m=[],this.I=[],this.T=0,this.maxReceivedAckId=0,this.url="",this.C=0,this.i=s.info,this.D=s.exception}initialize(t,s,i,h=!1){this.url=t,this.maxReceivedAckId=s,this.P=i,this.R(h),this.i("{fcf6f89}"+this.C)}uninitialize(t){var s;this.maxReceivedAckId=0,this.m=[],this.I=[],this.P=void 0,this.B(),null===(s=this.W)||void 0===s||s.close(t),this.H(),this.i("{986b258}"+t+"{754f60b}"+this.C)}H(){this.W&&(this.W.onclose=null,this.W.onerror=null,this.W.onmessage=null,this.W.onopen=null,this.W=void 0)}N(){var t;this.i("{6c3505a}"+(null===(t=this.W)||void 0===t?void 0:t.readyState)+"{754f60b}"+this.C),this.W||this.R(!0),this.O()}B(){0!==this.T&&(self.clearTimeout(this.T),this.T=0)}O(){this.B(),this.T=self.setTimeout((()=>this.N()),3e3)}V(t){for(let s=this.m.length-1;s>=0;s--)this.m[s].ackid<=t&&this.m.splice(s,1)}F(t){void 0!==t.ackid&&this.m.push(t)}J(t){void 0!==t.ackid&&this.F(t),this.W&&(t.stats?this.W.send(t.stats):this.W.send(JSON.stringify(t)))}send(t){this.P&&(this.W||this.R(!0),this.W&&this.W.readyState===WebSocket.OPEN?this.J(t):this.I.push(t))}U(){if(this.W){let t={ack:this.maxReceivedAckId},s=JSON.stringify(t);this.i("{903be10}"+s),this.W.send(s)}}R(t=!1){const s=this.C+1;try{let i;this.sessionId&&(i="x-nv-sessionid."+this.sessionId);let h=this.url;t&&(h+="&reconnect=1");let e=new WebSocket(h,i);e.onopen=t=>{var i;if(this.i("{48fa30b}"+s),e===this.W){null===(i=this.P)||void 0===i||i.G();for(const t of this.m)t.stats?e.send(t.stats):e.send(JSON.stringify(t));for(const t of this.I)this.J(t);this.I=[]}},e.onclose=t=>{var i;this.i("{6406bff}"+s),e===this.W&&(null===(i=this.P)||void 0===i||i.K({error:this.A,code:t.code,reason:t.reason,wasClean:t.wasClean}),this.H(),this.A=!1)},e.onerror=t=>{this.i("{7605058}"+s),e===this.W&&(this.A=!0)},e.onmessage=t=>{if(this.P)try{let s=JSON.parse(t.data);if(this.T||this.i("{523f5b9}"),this.O(),s.hb)return;void 0!==s.ack&&this.V(s.ack),void 0!==s.ackid?(this.maxReceivedAckId<s.ackid&&(this.P.L(s),this.maxReceivedAckId=s.ackid),this.U()):void 0===s.ack&&this.P.L(s)}catch(s){const i="Error in local websocket message handling";this.D(i+": "+s+\' "\'+t.data+\'"\')}},this.W=e}catch(t){this.W=void 0,this.D("WebSocket creation exception: "+t+" for socket "+this.C)}this.C=s}}const l=self;class f{constructor(t,s){this.instanceId=t,this.sessionId=s,this.j=[],this.X=[],this.url="",this.Y=0,this.Z=[],this.$=[],this.inputChannelStats=[],this.garbageCollectionStats=[],this._=[],this.tt=0,this.st=t=>{w(t,this.instanceId)},this.it=t=>{const s={wsMessage:t,instanceId:this.instanceId};l.postMessage(s)},this.ht=t=>{const s={wsClose:t,instanceId:this.instanceId};l.postMessage(s)},this.et=()=>{const t={wsOpen:!0,instanceId:this.instanceId};l.postMessage(t)},this.nt=()=>{const t={wsOpening:!0,instanceId:this.instanceId};l.postMessage(t)},this.rt=t=>{u(t,this.instanceId)},this.ot=new a(this.rt);const i={initialized:!0,instanceId:t};l.postMessage(i)}ct(){this.j=[],this.X=[],this.ot.l(),this.Z=[],this.$=[],this.inputChannelStats=[],this.garbageCollectionStats=[],this._=[]}lt(t,s,i,h,e,n){for(let h=0;h<4;h++)t.setUint8(s+h,i.charCodeAt(h));t.setUint8(s+4,h),t.setUint16(s+5,e,!0),t.setUint16(s+7,n,!0)}ft(t,s){for(let i=0;i<this.j.length;i++)t.setFloat64(s,this.j[i].RAFTS,!0),t.setUint16(s+8,Math.min(1e3*this.j[i].DCSend,65535),!0),t.setUint16(s+10,Math.min(1e3*this.j[i].GetStats,65535),!0),t.setUint8(s+12,this.j[i].FrameInfo),t.setUint16(s+13,Math.min(100*this.j[i].VSyncDelta,65535),!0),s+=15}dt(t,s){for(let i=0;i<this.Z.length;i++)t.setUint8(s,this.Z[i].qualityScore),t.setUint8(s+1,this.Z[i].bandwidthScore),t.setUint8(s+2,this.Z[i].latencyScore),t.setUint8(s+3,this.Z[i].networkLossScore),t.setFloat64(s+4,this.Z[i].timestamp,!0),s+=12}ut(t,s){for(let i=0;i<this.X.length;i++){t.setFloat64(s,this.X[i].TS,!0),s+=8;const h=this.X[i].eventtype;let e=0;for(;e<h.length&&e<63;e++)t.setUint8(s+e,h.charCodeAt(e));t.setUint8(s+e,0),s+=64}}wt(t,s){for(let i=0;i<this.$.length;i++)t.setFloat64(s,this.$[i].timestamp,!0),t.setUint16(s+8,Math.min(this.$[i].duration,65535),!0),s+=10}vt(t,s){for(let i=0;i<this._.length;i++)t.setFloat64(s,this._[i],!0),s+=8}bt(t,s){for(let i=0;i<this.inputChannelStats.length;i++)t.setFloat64(s,this.inputChannelStats[i].timestamp,!0),t.setUint16(s+8,Math.min(this.inputChannelStats[i].bufferedAmount,65535),!0),t.setUint16(s+10,Math.min(this.inputChannelStats[i].maxSchedulingDelay,65535),!0),s+=12}kt(t,s){for(let i=0;i<this.garbageCollectionStats.length;i++)t.setFloat64(s,this.garbageCollectionStats[i].timestamp,!0),t.setInt32(s+8,d(this.garbageCollectionStats[i].deltaUsedHeapSize),!0),t.setInt32(s+12,d(this.garbageCollectionStats[i].deltaTotalHeapSize),!0),s+=16}St(){var t;if((this.j.length||this.X.length||this.ot.size())&&this.Mt)try{this.Mt.ackid=this.tt;const i=JSON.stringify(this.Mt),h=i.length,e=h+2,n=new ArrayBuffer(e),r=new DataView(n);r.setUint16(0,h);for(var s=2;s<e;++s)r.setUint8(s,i.charCodeAt(s-2));const o=new Uint8Array(n),a=15*this.j.length,c=72*this.X.length,l=12*this.Z.length,f=10*this.$.length,d=12*this.inputChannelStats.length,u=16*this.garbageCollectionStats.length,w=8*this._.length;let v=9+o.length;a&&(v+=9+a),c&&(v+=9+c),l&&(v+=9+l),f&&(v+=9+f),d&&(v+=9+d),u&&(v+=9+u),w&&(v+=9+w),v+=this.ot.size();const b=new ArrayBuffer(v),k=new DataView(b);let S=0;new Uint8Array(b).set(o),S+=o.length,this.lt(k,S,"BPRF",1,0,0),S+=9,a&&(this.lt(k,S,"PERF",3,this.j.length,15),S+=9,this.ft(k,S),S+=a),c&&(this.lt(k,S,"EVNT",1,this.X.length,72),S+=9,this.ut(k,S),S+=c),l&&(this.lt(k,S,"SQEV",1,this.Z.length,12),S+=9,this.dt(k,S),S+=l),f&&(this.lt(k,S,"MTBD",1,this.$.length,10),S+=9,this.wt(k,S),S+=f),d&&(this.lt(k,S,"INPT",1,this.inputChannelStats.length,12),S+=9,this.bt(k,S),S+=d),u&&(this.lt(k,S,"GRBG",1,this.garbageCollectionStats.length,16),S+=9,this.kt(k,S),S+=u),w&&(this.lt(k,S,"MKPT",1,this._.length,8),S+=9,this.vt(k,S),S+=w);const p=new Uint8Array(b);this.ot.write(p,S),null===(t=this.At)||void 0===t||t.send({stats:b,ackid:this.tt})}catch(t){this.st("Exception in perf/stats upload. Error : "+t.message+" stack: "+t.stack)}this.ct()}R(t,s){this.At=new c(this.sessionId,{info:this.rt,exception:this.st}),this.At.initialize(this.url,t,{L:this.it,G:this.et,K:this.ht,yt:this.nt},s),this.nt()}zt(t){var s,i;if(t.perf)this.j.push(t.perf);else if(t.clientEvent)this.X.push(t.clientEvent);else if(t.startStats){this.Mt=t.startStats.statsHeader;const s={statsStarted:!0,instanceId:this.instanceId};this.Y=self.setInterval((()=>this.St()),5e3),l.postMessage(s),this.rt("{5209d98}")}else t.stopStats?(self.clearInterval(this.Y),this.St(),this.ct(),this.rt("{b58b6ad}")):t.webrtcStats?(t.ackid&&(this.tt=t.ackid),t.webrtcStats.stats&&this.ot.u(t.webrtcStats)):t.sq?this.Z.push(t.sq):t.startWebSocket?(this.url=t.startWebSocket.signInURL,this.R(t.startWebSocket.maxReceivedAckId,t.startWebSocket.reconnect)):t.stopWebSocket?(null===(s=this.At)||void 0===s||s.uninitialize(),this.At=void 0):t.send?null===(i=this.At)||void 0===i||i.send(t.send):t.duration?this.$.push(t.duration):t.inputChannelStats?this.inputChannelStats.push(t.inputChannelStats):t.garbageCollectionStats?this.garbageCollectionStats.push(t.garbageCollectionStats):t.qosMarker&&this._.push(t.qosMarker)}}function d(t){return t<0?Math.max(t,-2147483648):Math.min(t,4294967295)}function u(t,s){const i={log:t,instanceId:s};l.postMessage(i)}function w(t,s=0){const i={exception:t,instanceId:s};l.postMessage(i)}const v=new Map;l.onmessage=function(t){try{const s=t.data,i=s.instanceId;if(s.initMessage)v.set(i,new f(i,s.initMessage.sessionId));else if(s.uninitialize){v.delete(i);const t={uninitialized:!0,instanceId:i};l.postMessage(t)}else{const t=v.get(i);t?t.zt(s):u("{d710be2}"+i,i)}}catch(t){w("Worker onmessage exception: "+t)}};',"ragnarokworker.js"),this.JI.onmessage=this.hd.bind(this),this.JI.onerror=this.od.bind(this),i.Log.i("{1f5ec29}","{62dee75}")}catch(e){i.Log.e("{1f5ec29}","{50fa2e5}",e.message),this.fT.push({name:"RagnarokWorkerProblem",error:JSON.stringify(e)})}}mT(e,t,n,r){if(this.fT.length>0){for(const e of this.fT)t.Ge(e.name,e.error);this.fT=[]}if(this.vT.length>0){for(const e of this.vT)xr(t,e);this.vT=[]}const s=this.pT++;i.Log.i("{1f5ec29}","{c194458}",s,e);const a=new br(s,e,t,n,r,this.JI);return this.AT.set(s,a),a}gT(e){e.uninitialize(),this.AT.delete(e.sT())}};class Ir{constructor(e,t){this.sessionId=e,this.bT=!1,this.wT=[],this.ST=[],this.kT=0,this.maxReceivedAckId=0,this.url="",this.CT=0,this.yT=t.info,this.MT=t.exception}initialize(e,t,n,i=!1){this.url=e,this.maxReceivedAckId=t,this.IT=n,this.TT(i),this.yT("{fcf6f89}"+this.CT)}uninitialize(e){var t;this.maxReceivedAckId=0,this.wT=[],this.ST=[],this.IT=void 0,this.PT(),null===(t=this.DT)||void 0===t||t.close(e),this.ET(),this.yT("{986b258}"+e+"{754f60b}"+this.CT)}ET(){this.DT&&(this.DT.onclose=null,this.DT.onerror=null,this.DT.onmessage=null,this.DT.onopen=null,this.DT=void 0)}RT(){var e;this.yT("{6c3505a}"+(null===(e=this.DT)||void 0===e?void 0:e.readyState)+"{754f60b}"+this.CT),this.DT||this.TT(!0),this.NT()}PT(){0!==this.kT&&(self.clearTimeout(this.kT),this.kT=0)}NT(){this.PT(),this.kT=self.setTimeout(()=>this.RT(),3e3)}BT(e){for(let t=this.wT.length-1;t>=0;t--)this.wT[t].ackid<=e&&this.wT.splice(t,1)}xT(e){void 0!==e.ackid&&this.wT.push(e)}OT(e){void 0!==e.ackid&&this.xT(e),this.DT&&(e.stats?this.DT.send(e.stats):this.DT.send(JSON.stringify(e)))}send(e){this.IT&&(this.DT||this.TT(!0),this.DT&&this.DT.readyState===WebSocket.OPEN?this.OT(e):this.ST.push(e))}FT(){if(this.DT){let e={ack:this.maxReceivedAckId},t=JSON.stringify(e);this.yT("{903be10}"+t),this.DT.send(t)}}TT(e=!1){const t=this.CT+1;try{let n;this.sessionId&&(n="x-nv-sessionid."+this.sessionId);let i=this.url;e&&(i+="&reconnect=1");let r=new WebSocket(i,n);r.onopen=e=>{var n;if(this.yT("{48fa30b}"+t),r===this.DT){null===(n=this.IT)||void 0===n||n.rT();for(const e of this.wT)e.stats?r.send(e.stats):r.send(JSON.stringify(e));for(const e of this.ST)this.OT(e);this.ST=[]}},r.onclose=e=>{var n;this.yT("{6406bff}"+t),r===this.DT&&(null===(n=this.IT)||void 0===n||n.hT({error:this.bT,code:e.code,reason:e.reason,wasClean:e.wasClean}),this.ET(),this.bT=!1)},r.onerror=e=>{this.yT("{7605058}"+t),r===this.DT&&(this.bT=!0)},r.onmessage=e=>{if(this.IT)try{let t=JSON.parse(e.data);if(this.kT||this.yT("{523f5b9}"),this.NT(),t.hb)return;void 0!==t.ack&&this.BT(t.ack),void 0!==t.ackid?(this.maxReceivedAckId<t.ackid&&(this.IT.nT(t),this.maxReceivedAckId=t.ackid),this.FT()):void 0===t.ack&&this.IT.nT(t)}catch(t){const n="Error in local websocket message handling";this.MT(n+": "+t+' "'+e.data+'"')}},this.DT=r}catch(e){this.DT=void 0,this.MT("WebSocket creation exception: "+e+" for socket "+this.CT)}this.CT=t}}function Cr(e){switch(e){case"H264":return"h264";case"H265":return"hevc";case"AV1":return"av1";default:return"video"}}class Tr{constructor(e){this.LT=e,this.streams=[]}HT(e){this.LT.UT&&(e.encodedInsertableStreams=!0)}start(e){if(1&this.LT.UT){const t=rn(e);for(let e=0;e<t.length;e++){const n={data:new DataView(new ArrayBuffer(209715200)),size:0,VT:"video",extension:Cr(this.LT.video[e].zw),GT:!1};this.WT(t[e].receiver,n)}}}save(){for(const e of this.streams){const t=(new Date).toISOString(),n="streamkit-"+e.VT+"-"+t+"."+e.extension;Zt([new DataView(e.data.buffer,0,e.size)],n,"text/plain")&&i.Log.i("{d7392d2}","{4b3378a}",n)}this.streams=[]}WT(e,t){const{readable:n,writable:r}=e.createEncodedStreams(),s=new TransformStream({start:()=>{i.Log.i("{d7392d2}","{b96b3ec}",t.VT)},flush:()=>{},transform:(e,n)=>{if(!t.GT){const n=new Uint8Array(e.data);t.size+n.byteLength<=t.data.byteLength?(function(e,t,n){const i=n.byteLength;for(let r=0;r<i;++r)e.setUint8(t+r,n[r])}(t.data,t.size,n),t.size+=n.byteLength):(t.GT=!0,i.Log.w("{d7392d2}","{f35b2f4}",t.size,t.VT))}n.enqueue(e)}});n.pipeThrough(s).pipeTo(r),this.streams.push(t)}}class Mr{constructor(e,t,n,i){this.sender=e,this.Hn=t,this.Ms=n,this.telemetry=i,this.$T={top:-1,left:-1,bottom:-1,right:-1},this.Rv=0,this.Ev=0,this.x_=!1,this.qT=0,Lt.isInternalUser&&(this.KT=this.QT(),t.insertAdjacentElement("afterend",this.KT))}uninitialize(){this.KT&&this.KT.remove()}ta(e,t){this.Rv=e,this.Ev=t}send(){var e,t,n;if(this.Hn.videoHeight<=0||this.Hn.videoWidth<=0)return;const r=Ut(),s=this.zT(r);if(function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}(s,this.$T))return;const a=JSON.stringify(s,(e,t)=>t.toFixed?Number(t.toFixed(2)):t);if(i.Log.d("{48f82fd}","{054b8b0}",JSON.stringify(r),a),null!==(e=Lt.Mh.sendInsetValueUpdateEvents)&&void 0!==e&&e&&this.qT++<2){const e=(e,t=1)=>{for(const n of Object.keys(e)){const i=Math.round(e[n]*t);e[n]=isNaN(i)?-1:i}return e},i=e(Object.assign({},r)),a=e(Object.assign({},s),1e3);null===(t=this.telemetry)||void 0===t||t.zn("InsetValueUpdate","Original",i.top,i.left,i.bottom,i.right),null===(n=this.telemetry)||void 0===n||n.zn("InsetValueUpdate","Normalized",a.top,a.left,a.bottom,a.right)}this.$T=Object.assign({},s);for(const e of Object.keys(s))s[e]=isNaN(s[e])?0:s[e];const o={safeZoneData:{type:"InsetValueUpdate",rect:s}},l={messageType:"SAFE_ZONE",messageRecipient:"NvGridSvc:NGS",data:JSON.stringify(o)};this.sender.sendCustomMessage(l),Lt.isInternalUser&&this.YT()}Vb(){this.KT&&(this.x_=!this.x_,this.KT.style.display=this.x_?"block":"none")}zT(e){let{width:t,height:n}=Jt();if(xe(this.Ms)&&(e.top=Math.max(e.top,20),!(()=>{let e;switch(void 0!==window.orientation?e=window.orientation:screen.orientation&&(e=screen.orientation.angle),e){case 90:case-90:case 270:return!1;default:return!0}})())){const e=t;t=n,n=e}const r=(e=>{let t=e.offsetTop,n=e.offsetLeft,r=e.offsetParent;for(;r;)t+=r.offsetTop,n+=r.offsetLeft,r=r.offsetParent;let s=e.clientHeight,a=e.clientWidth;return ke(this.Ms)&&(window.innerHeight>window.innerWidth&&e.clientHeight<e.clientWidth||window.innerHeight<window.innerWidth&&e.clientHeight>e.clientWidth)&&(i.Log.w("{48f82fd}","{c9d343e}"),s=e.clientWidth,a=e.clientHeight),{top:t,left:n,bottom:Math.max(window.innerHeight-t-s,0),right:Math.max(window.innerWidth-n-a,0)}})(this.Hn),s=Math.max(n-window.innerHeight,0)/2,a=Math.max(t-window.innerWidth,0)/2;return{top:Math.max(e.top-s-r.top-this.Rv,0)/(this.Hn.clientHeight-2*this.Rv),left:Math.max(e.left-a-r.left-this.Ev,0)/(this.Hn.clientWidth-2*this.Ev),bottom:Math.max(e.bottom-s-r.bottom-this.Rv,0)/(this.Hn.clientHeight-2*this.Rv),right:Math.max(e.right-a-r.right-this.Ev,0)/(this.Hn.clientWidth-2*this.Ev)}}QT(){const e=document.createElement("div");return e.style.display="none",e.style.position="absolute",e.style.color="white",e.style.backgroundColor="rgb(105, 105, 105, 0.7)",e.style.padding="2px",e.style.bottom="0px",e.style.left="0px",e.style.margin="5px",e}YT(){this.KT&&(this.KT.innerText="Safe Zone: \nTop: "+(100*Math.max(this.$T.top,0)).toFixed()+"%\nRight: "+(100*Math.max(this.$T.right,0)).toFixed()+"%\nBottom: "+(100*Math.max(this.$T.bottom,0)).toFixed()+"%\nLeft: "+(100*Math.max(this.$T.left,0)).toFixed()+"%")}}class Br{constructor(e){var t,n,r,s;this.XT=new Map,this.fullscreen=!1,this.jT=!1,this.JT=!1,this.ZT=void 0,this.XT.set(0,[]),this.XT.set(2,[]),this.XT.set(1,[]),this.XT.set(3,[]),this.XT.set(4,[]),this.XT.set(5,[]),this.XT.set(6,[]),this.tP=function(e){var t;switch(null!==(t=e.platformType)&&void 0!==t?t:e.deviceType){case i.PlatformType.PHONE:case i.PlatformType.TABLET:return!0;default:return!1}}(e),this.iP=Re(e),this.sP=be(e),this.eP=Ne(e),this.Zl=we(e),this.hP=Ie(e),this.nP=this.oP=document.hasFocus(),this.aM=0;const a=window.zoneless,o=null!==(n=null===(t=null==a?void 0:a.windowAddEventListener)||void 0===t?void 0:t.bind(window))&&void 0!==n?n:window.addEventListener.bind(window),l=null!==(s=null===(r=null==a?void 0:a.documentAddEventListener)||void 0===r?void 0:r.bind(document))&&void 0!==s?s:document.addEventListener.bind(document);this.rP=this.aP.bind(this),this.dP=this.cP.bind(this),this.lP=this.op.bind(this),this.uP=this.AP.bind(this),this.fP=this.vP.bind(this),this.pP=this.mP.bind(this),this.gP=this.bP.bind(this),this.wP=this.SP.bind(this),o("focus",this.rP),o("blur",this.dP),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(e=>l(e,this.lP)),l("mouseenter",this.uP),l("mouseleave",this.fP),this.kP()&&navigator.getBattery().then(e=>{this.CP(!e.charging),this.yP(this.MP(e)),e.addEventListener("chargingchange",this.pP),e.addEventListener("levelchange",this.gP)}),this.IP()&&(this.SP(),window.screen.addEventListener("change",this.wP)),this.TP()?(this.PP=new PressureObserver(e=>{if(e.length>0){const t=this.DP(e);if(this.ZT!=t){this.ZT=t;for(const e of this.XT.get(5))e()}}}),this.PP.observe("cpu")):i.Log.i("{0c4eeb2}","{c70b747}"),this.op()}uninitialize(){var e,t,n,r,s,a,o;const l=window.zoneless,c=null!==(t=null===(e=null==l?void 0:l.windowRemoveEventListener)||void 0===e?void 0:e.bind(window))&&void 0!==t?t:window.removeEventListener.bind(window),u=null!==(r=null===(n=null==l?void 0:l.documentRemoveEventListener)||void 0===n?void 0:n.bind(document))&&void 0!==r?r:document.removeEventListener.bind(document);c("focus",this.rP),c("blur",this.dP),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(e=>u(e,this.lP)),u("mouseenter",this.uP),u("mouseleave",this.fP),this.kP()&&navigator.getBattery().then(e=>{e.removeEventListener("chargingchange",this.pP),e.removeEventListener("levelchange",this.gP)}),this.IP()&&window.screen.removeEventListener("change",this.wP);const d=null===(s=this.PP)||void 0===s?void 0:s.takeRecords();null==d||d.map(e=>i.Log.i("{0c4eeb2}","{4f27ba0}",JSON.stringify(e))),null===(a=this.PP)||void 0===a||a.unobserve("cpu"),null===(o=this.PP)||void 0===o||o.disconnect();for(const e of this.XT.values())e.splice(0)}DP(e){let t="nominal";for(const n of e)this.EP(n.state)>this.EP(t)&&(t=n.state);return t}EP(e){switch(e){case"nominal":default:return 0;case"fair":return 1;case"serious":return 2;case"critical":return 3}}$p(){return this.nP}Up(e){if((this.tP||this.Zl)&&this.RP(e),this.nP!==e){this.nP=e;for(const t of this.XT.get(0))t(e)}}Dm(){return this.fullscreen}NP(e){if(this.fullscreen!==e){this.fullscreen=e;for(const t of this.XT.get(2))t(e)}}BP(){return this.oP}RP(e){if(this.oP!==e){this.oP=e;for(const t of this.XT.get(1))t(e)}}xP(){return this.jT}yP(e){if(this.jT!==e){this.jT=e;for(const t of this.XT.get(4))t(e)}}OP(){return this.JT}CP(e){if(this.JT!==e){this.JT=e;for(const t of this.XT.get(3))t(e)}}XI(){return this.aM}FP(){switch(this.ZT){case"nominal":return 60;case"fair":return 75;case"serious":return 90;case"critical":return 100}return-1}Dp(e,t){this.XT.get(e).push(t)}xp(e,t){const n=this.XT.get(e),i=n.indexOf(t);-1!==i&&n.splice(i,1)}kP(){return navigator.getBattery}IP(){return!this.hP&&void 0!==window.screen.isExtended}TP(){var e,t;return Lt.enableComputePressure&&(null===(e=Lt.Mh.enableComputePressure)||void 0===e||e)&&(null===(t=globalThis.PressureObserver)||void 0===t?void 0:t.prototype)&&PressureObserver.knownSources instanceof Array&&PressureObserver.knownSources.includes("cpu")}aP(){this.Up(!0)}cP(){this.Up(!1)}op(){const e=window.document,t=!!(document.fullscreen||1==e.webkitIsFullScreen||e.mozFullScreen||e.msFullscreenElement);this.NP(t)}AP(){this.RP(!0)}vP(){this.RP(!1)}mP(){navigator.getBattery().then(e=>{this.CP(!e.charging)})}bP(){navigator.getBattery().then(e=>{this.yP(this.MP(e))})}MP(e){return this.eP?e.level<=.22:this.iP||this.Zl?e.level<=.2:this.sP?e.level<=.1:e.level<=.33}SP(){let e=0;if(e=window.screen.isExtended?3:0,i.Log.i("{0c4eeb2}","{ee99c72}",e),this.aM!==e){this.aM=e;for(const t of this.XT.get(6))t(e)}}}class Rr{static LP(e){return e.trim().split("\n").map(e=>e.trim())}static HP(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")}static UP(e){const t=Rr.HP(e);return t&&t[0]}static VP(e){const t=Rr.HP(e);return t.shift(),t}static GP(e,t){return Rr.LP(e).filter(e=>0===e.indexOf(t))}static WP(e){const t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}}static $P(e,t){return{role:"auto",L_:Rr.GP(e+t,"a=fingerprint:").map(Rr.WP)}}static qP(e,t){const n=Rr.GP(e+t,"a=ice-ufrag:")[0],i=Rr.GP(e+t,"a=ice-pwd:")[0];return{usernameFragment:n.substr(12),password:i.substr(10)}}}class Pr{constructor(e){this.index=e,this.hdr=!1,this.SS=!0,this.kS=!1}KP(e){this.QP=e}zP(e){var t;const n=null===(t=vn())||void 0===t?void 0:t.features.hdr10PlusGamingData;var r,s;(null==n?void 0:n.version)?e.isSupported?(e.isOn?(r=n,(s=e).version===r.version&&s.peakLuminanceIndex===r.peakLuminanceIndex&&s.peakFullFrameLuminanceIndex===r.peakFullFrameLuminanceIndex?(this.kS=!0,i.Log.i("{a5dd7ef}","{09b4301}")):(this.kS=!1,i.Log.i("{a5dd7ef}","{6aed760}"))):(this.kS=!1,i.Log.i("{a5dd7ef}","{a358edc}")),this.YP()):i.Log.i("{a5dd7ef}","{15eb580}"):i.Log.i("{a5dd7ef}","{0eae5fd}",JSON.stringify(e))}XP(e){var t;this.hdr=e,null===(t=this.QP)||void 0===t||t.hk(e,this.index),this.YP()}jP(e){this.SS=e,this.YP()}YP(){var e,t,n;if(null===(e=this.QP)||void 0===e||e.ak(this.SS,this.kS,this.index),!(null===(t=window.webapis)||void 0===t?void 0:t.hdr10pluscloud))return;let r,s;if(this.hdr?this.SS&&this.kS?(r=2,s="HDR10+G"):(r=1,s="HDR"):(r=0,s="SDR"),r!==(null!==(n=window.webapis.hdr10pluscloud.isHdr10plusGamingModeEnabled())&&void 0!==n?n:0)){const e=window.webapis.hdr10pluscloud.enableHdr10plusGamingMode(r);i.Log.i("{a5dd7ef}","{fc86642}",s,e)}}}const _r="app_video_stream",Dr="app_audio_stream",Nr="app_media_stream",Lr="stream_id",Or="second_stream_id",kr="sendrecv";class Ur{constructor(e,t,n,r,s,a,o,l,c,u,d,h,p,f,g,A,m,v,y,E,S){var b,x,w,I,C,T,M,B,R;let P;this.JP=t,this.ZP=n,this.ag=s,this.dg=a,this.telemetry=o,this.Ms=l,this.session=c,this.Zo=u,this.isResume=d,this.tD=h,this.Ln=f,this.textInputElement=g,this.clientAppVersion=A,this.gk=m,this.signalingUrlQueryParameters=y,this.enableMicUpstream=E,this.name="",this.id=0,this.LT={video:[],UT:0,iD:{sD:0,eD:0,Kd:0,Qd:BigInt("0")},streamingConfigurationProfile:0},this.hD=-1,this.nD=!1,this.oD=!1,this.rD=0,this.aD=0,this.dD=0,this.cD=!1,this.lD=0,this.uD=0,this.AD=!1,this.fD=!1,this.vD=!1,this.pD=!0,this.perfIndicator=!1,this.stutterIndicator=!1,this.mD=0,this.gD=0,this.bD=[],this.wD=[],this.SD="",this.kD=0,this.jI=new Qn,this.CD=0,this.yD=0,this.MD=0,this.ID=0,this.TD=Date.now(),this.PD=0,this.DD=0,this.ED=0,this.RD=!1,this.keyboardLayout="",this.maxReceivedAckId=0,this.videoStreamProgress=0,this.ND=[],this.BD="",this.xD=this.OD.bind(this),this.FD=this.LD.bind(this),this.HD=this.UD.bind(this),this.wP=this.SP.bind(this),this.VD=0,this.GD=new Ar,this.WD=this.$D.bind(this),this.U_=new Set,this.qD=[],this.KD=e=>{e.getEntriesByType("longtask").forEach(e=>{let t=Math.round(e.duration);this.wk.lT(t,e.startTime),this.RI(t),i.Log.i("{b38afd1}","{7071359}",t)})},this.vn=e,i.Log.d("{b38afd1}","{b6c398a}",JSON.stringify(c)),c.finalizedStreamingFeatures||i.Log.w("{b38afd1}","{6f17ef5}"),Lt.maxBitrate&&(i.Log.d("{b38afd1}","{55e5b30}",Lt.maxBitrate),P=Lt.maxBitrate);for(let e=0;e<c.streamInfo.length&&e<this.JP.length;e++){const t=c.streamInfo[e],n=()=>{const e=an(t.width,t.height,t.fps)[0];return i.Log.d("{b38afd1}","{aff4184}",e),e},r=(null!=P?P:p[e].maxBitrateKbps)||n(),s=!(null!==(x=null===(b=this.JP[e])||void 0===b?void 0:b.requestVideoFrameCallback)&&void 0!==x&&!x),a=null===(w=p[e])||void 0===w?void 0:w.prefilterParams;a&&this.QD(a),this.LT.video.push(ji(t,r,s,Hr(null===(I=c.finalizedStreamingFeatures)||void 0===I?void 0:I.hudStreamingMode,null===(C=c.finalizedStreamingFeatures)||void 0===C?void 0:C.profile,null===(T=p[e])||void 0===T?void 0:T.hudStreamingParams),c.finalizedStreamingFeatures,null===(M=p[e])||void 0===M?void 0:M.dynamicStreamingMode,null===(B=p[e])||void 0===B?void 0:B.prefilterParams)),this.qD.push(new Pr(e))}if(this.zD=fn(this.Ms,this.session.streamInfo[0]),this.YD=async function(){let e=2;const t="v=0\no=- 0 3 IN IP4 127.0.0.1\ns=-\nt=0 0\na=fingerprint:sha-256 A7:24:72:CA:6E:02:55:39:BA:66:DF:6E:CC:4C:D8:B0:1A:BF:1A:56:65:7D:F4:03:AD:7E:77:43:2A:29:EC:93\nm=audio 9 UDP/TLS/RTP/SAVPF 100 101\nc=IN IP4 0.0.0.0\na=rtcp-mux\na=sendonly\na=mid:audio\na=setup:actpass\na=ice-ufrag:ETEn\na=ice-pwd:OtSK0WpNtpUjkY4+86js7Z/l\r\n",n="\r\na=rtpmap:101 opus/48000/2\na=fmtp:101 minptime=10;useinbandfec=1\n";let r="minptime=10;useinbandfec=1;channel_mapping=0,4,1,2,3,5;num_streams=4;coupled_streams=2",s=t+"a=rtpmap:100 multiopus/48000/6\r\na=fmtp:100 "+r+n;const a=en(6,s,r);r="minptime=10;useinbandfec=1;channel_mapping=0,6,1,2,3,4,5,7;num_streams=5;coupled_streams=3",s=t+"a=rtpmap:100 multiopus/48000/8\r\na=fmtp:100 "+r+n;const o=en(8,s,r);return await Promise.all([a,o]).then(t=>{e=Math.max(Number(t[0]),Number(t[1]))}),i.Log.i("{d988e7f}","{dc7ee29}",e),e}(),this.Zf={unadjustedMovement:Xt(c.appId),...r},this.Fd=e,this.appLaunchMode=c.appLaunchMode,v)for(const e of v)if(e.track instanceof MediaStreamTrack&&"video"===e.track.kind){this.sendVideoTrack=e.track;break}let _=this.session.signalConnectionInfo.protocol;_=_.replace("http","ws"),this.XD=_+"://"+this.session.signalConnectionInfo.ip+":"+this.session.signalConnectionInfo.port;const D=this.session.signalConnectionInfo.resourcePath;D&&(this.XD+=("/"===D.charAt(0)?"":"/")+D,"/"===this.XD.charAt(this.XD.length-1)&&(this.XD=this.XD.slice(0,-1))),this.wk=wr.mT(this.session.sessionId,this.telemetry,this.jI,this.Zo),this.Zo.jD(),this.JP.length&&(this.cg=new Mr(this,this.JP[0],this.Ms,this.telemetry)),this.sv=new Br(l);const N=document.createElement("div");N.style.position="absolute",N.style.zIndex="300",N.style.left="0",N.style.top="0",N.style.width="100%",N.style.display="none",N.style.fontSize="3em",N.style.color="white",N.style.backgroundColor="gray",N.style.textAlign="center",(null!==(R=this.JP[0])&&void 0!==R?R:document.body).insertAdjacentElement("afterend",N),this.JD=N,this.ZD={sf:32768,ef:256,hf:255,nf:this.__.bind(this)},this.tE={sf:16384,ef:512,hf:65280,nf:this.Fb.bind(this)},this.iE={sf:16384,ef:512,hf:255,nf:this.sE.bind(this)},this.eE={sf:8192,ef:256,hf:255,nf:this.toggleOnScreenStats.bind(this)},this.hE={sf:4096,ef:256,hf:255,nf:this.toggleStutterIndicator.bind(this)},this.Wd={sI:0,hI:[0],eI:0,Nc:0,Bc:0,xc:0,JM:[0],ZM:[0],qp:0,Vc:0},this.nE=this.Fp.bind(this),function(e){const t="MediaCapabilities2";if(!navigator.mediaCapabilities)return void e.zn(t,"API unsupported",-1,-1,-1,-1);const n=performance.now();cn.oo("h264").then(async r=>{if(r){const n=cn.oo("h265; level-id=153;profile-id=1;tier-flag=1"),s=cn.oo("h265; level-id=153;profile-id=2;tier-flag=1"),a=cn.ao(),o=cn.Ao(),l=In(await n),c=In(await s),u=In(await a),d=In(await o),h=In(r);e.zn(t,"AV1: "+u,h,d,l,c);const p=await Sn.Fo(),f=await Sn.Ho();i.Log.d("{5083445}","{1efbc27}",p,f),e.zn("DisplayCaps","Is120FpsSupported: "+f,p,0,0,0)}else e.zn(t,"webrtc or h264 unsupported",performance.now()-n,-1,-1,-1)})}(this.telemetry),S?(i.Log.i("{b38afd1}","{700f320}",S),this.LT.streamingConfigurationProfile=S):i.Log.i("{b38afd1}","{013ac09}",0)}start(){this.oE(),this.Zo.jD(),this.rE(),Lt.isInternalUser&&(this.dg.df(this.ZD),this.dg.df(this.tE),this.dg.df(this.iE),this.dg.df(this.eE),this.dg.df(this.hE))}aE(){this.name="peer-"+function(){let e=1;for(let t=1;t<10;t++)e*=10;let t=""+Math.floor(Math.random()*e);return t=t.padEnd(10,"0"),t}(),i.Log.d("{b38afd1}","{f2b789d}",this.name),this.SD=this.XD+"/sign_in?peer_id="+this.name+"&version=2",this.signalingUrlQueryParameters&&(this.SD+="&"+this.signalingUrlQueryParameters),i.Log.d("{b38afd1}","{05b8afd}",this.SD)}stop(e){var t,n,r,s,a,o;this.telemetry.zn("StreamTimersAndReconnects",Ce(e),0,this.PD,this.DD,this.ED);const l=t=>{i.Log.i("{b38afd1}","{a848987}",t),this.telemetry.zn("PeerAPIDurationsAndMic",Ce(e),this.MD,this.CD,this.yD,t)};this.ZP.Nn().then(e=>{l(e)}),this.dE({code:e,description:"Session stopped before stream connected"}),this.aD&&(clearTimeout(this.aD),this.aD=0),this.JD.remove(),this.nD=!0;try{this.cE({exitMessage:{code:Vn(e)}})}catch(e){i.Log.e("{b38afd1}","{d337883}",e)}this.lE(),this.Vd&&this.Vd.close(),null===(t=this.Gd)||void 0===t||t.close(),this.uE(),null===(n=this.pc)||void 0===n||n.removeEventListener("icecandidate",this.WD),this.pc&&this.pc.close(),this.AE(),0!==this.dD&&(window.clearTimeout(this.dD),this.dD=0),0!==this.uD&&(window.clearTimeout(this.uD),this.uD=0),this.wk.stopProfiling(),null===(r=this.fE)||void 0===r||r.uninitialize(),this.wk.stopWebSocket(),this.rE(),wr.gT(this.wk),this.BD&&this.pD&&(i.Log.e("{b38afd1}","{283a180}"),this.telemetry.Ge("Audio track muted")),this.lD>0&&this.telemetry.zn("WebSocketClose","",0,this.lD,0,0),null===(s=this.tD)||void 0===s||s.uninitialize(),null===(a=this.cg)||void 0===a||a.uninitialize(),this.sv.xp(0,this.xD),this.sv.xp(1,this.xD),this.sv.xp(2,this.xD),this.sv.xp(4,this.FD),this.sv.xp(3,this.FD),this.sv.xp(5,this.HD),this.sv.xp(6,this.wP),this.sv.uninitialize(),this.dg.cf(this.ZD),this.dg.cf(this.tE),this.dg.cf(this.iE),this.dg.cf(this.eE);for(const e of this.JP)e.srcObject=null;this.Ln&&(this.Ln.srcObject=null),null===(o=this.perf)||void 0===o||o.disconnect()}nT(e){var t;if(i.Log.i("{b38afd1}","{39024c3}",Wr(JSON.stringify(e))),e.ackid&&this.maxReceivedAckId<e.ackid&&(this.maxReceivedAckId=e.ackid),e.peer_info)e.peer_info.name!==this.name&&0!==this.id||(this.id=e.peer_info.id,i.Log.d("{b38afd1}","{c5faf27}",this.id));else if(e.peer_msg){let t=e.peer_msg.from;this.vE(t,e.peer_msg.msg)}else if(e.error)if("peerRemoved"===e.error){let e;0!==this.dD?(e=null!==(t=this.pE())&&void 0!==t?t:3237094161,i.Log.w("{b38afd1}","{cbb35d3}")):e=3237094159,this.mE(e)}else this.mE(3237094160)}signInTimeout(){var e,t;this.uD=0,i.Log.i("{b38afd1}","{6d6b337}"),this.telemetry.gE(this.SD,0,null!==(t=null===(e=this.session)||void 0===e?void 0:e.signalConnectionInfo.ip)&&void 0!==t?t:"","signInTimeout",this.kD,!1),this.dE({code:3237093907})}hT(e){const t=()=>{var t,n,r,s,a;const o=null!==(t=e.code)&&void 0!==t?t:1005;i.Log.i("{b38afd1}","{0a06f78}",o,null!==(n=e.error)&&void 0!==n&&n),this.telemetry.gE(this.SD,o,null!==(s=null===(r=this.session)||void 0===r?void 0:r.signalConnectionInfo.ip)&&void 0!==s?s:"",null!==(a=e.reason)&&void 0!==a?a:"",this.kD,e.wasClean),window.clearTimeout(this.uD),this.uD=0,this.dE({code:nn(o),description:e.reason})};if(0!==this.uD)if(e.error||e.code&&e.code>=1002&&e.code<=1015){const e=3;this.kD++,this.kD<=e?(this.aE(),this.bE()):t()}else t();e.wasClean||this.lD++}oT(){i.Log.i("{b38afd1}","{6423101}")}rT(){0!==this.uD&&(window.clearTimeout(this.uD),this.uD=0,this.PD=Date.now()-this.ID),this.oD||0!==this.dD||this.wE()}SE(e){i.Log.i("{8ba4138}","{0b0c6f9}",e)}kE(e){this.telemetry.Jd(void 0,e,"{8ba4138}.ts",0,0,!0),i.Log.e("{8ba4138}","{0b0c6f9}",e)}bE(){this.fE=new Ir(this.session.sessionId,{info:this.SE.bind(this),exception:this.kE.bind(this)}),this.fE.initialize(this.SD,this.maxReceivedAckId,this)}oE(){this.aE();let e=1e4;Lt.Mh.signInTimeout&&0!==Lt.Mh.signInTimeout&&(e=Lt.Mh.signInTimeout,i.Log.i("{b38afd1}","{4f2f101}",e)),this.uD=window.setTimeout(()=>this.signInTimeout(),e),this.ID=Date.now(),this.bE()}wE(){this.dD=window.setTimeout(()=>this.CE(),3e4),this.TD=Date.now()}CE(){var e;this.dD=0,i.Log.i("{b38afd1}","{d22df91}"),this.mE(null!==(e=this.pE())&&void 0!==e?e:3237093895)}pE(){var e;const t=this.yE();let n;switch(this.videoStreamProgress){case 0:case 2:break;case 3:n=3237093922;break;case 5:n=3237093923;break;case 7:n=3237093924;break;default:n=3237093925}const i=null===(e=this.QP)||void 0===e?void 0:e.KI();return this.id?this.AD?15859712!==t?n=t:this.vD?this.fD?i?n=i:4&this.rD&&("connecting"===zr(this.Vd)?n=3237093919:"connecting"===zr(this.ME)?n=3237093920:"connecting"===zr(this.IE)?n=3237093921:this.Gd&&"connecting"===zr(this.Gd)&&(n=3237093936)):n=3237093903:n=3237093904:n=3237093913:n=3237093912,n}TE(){let e=!1;return Te()&&"closed"===this.pc.signalingState&&(e=!0,this.mE(15867908)),e}PE(){this.TE()||this.mE(15867907)}DE(){var e,t,n,r,s,a,o,l,c;const u=e=>{var t,n;return(null!==(t=null==e?void 0:e.get("TCP"))&&void 0!==t?t:0)+(null!==(n=null==e?void 0:e.get("IPV6"))&&void 0!==n?n:0)},d=(e,t)=>{let n=0;if(t){let r=e+" local candidates:";for(const[e,i]of t)n+=i,r+=" "+e+": "+i;i.Log.i("{b38afd1}","{0b0c6f9}",r)}return n},h=null===(e=this.QP)||void 0===e?void 0:e.zI(),p=d("event",this.GD),f=d("stats",h),g=p-this.VD;let A="";const m=null===(t=this.pc)||void 0===t?void 0:t.getReceivers().find(e=>"video"===e.track.kind&&e.track.enabled),v=null===(a=null===(s=null===(r=null===(n=null==m?void 0:m.transport)||void 0===n?void 0:n.iceTransport)||void 0===r?void 0:r.getSelectedCandidatePair)||void 0===s?void 0:s.call(r))||void 0===a?void 0:a.local;v&&(A="category: "+Er(v)+", type: "+v.type),this.telemetry.zn("LocalCandidatesCategories",A,p,p-u(this.GD),f,f-u(h));const y=null!==(l=null===(o=this.QP)||void 0===o?void 0:o.YI())&&void 0!==l?l:new Set;this.telemetry.zn("LocalCandidateRanges",""+(null===(c=this.pc)||void 0===c?void 0:c.iceGatheringState),g,null==y?void 0:y.size,this.U_.size,new Set([...y,...this.U_]).size)}mE(e,t){var n;if(!this.nD){if(this.nD=!0,this.lE(),this.uE(),this.oD){const r={sessionId:this.session.sessionId,subSessionId:this.session.subSessionId,error:{code:e,description:t},zoneName:this.session.zoneName,zoneAddress:this.session.zoneAddress,isSessionAlive:Vt(e)};this.telemetry.Ge("SignalingState",Ce(e),null===(n=this.pc)||void 0===n?void 0:n.signalingState),i.Log.i("{b38afd1}","{89d3ea6}",this.pc.signalingState),this.Fd.EE(r)}else this.dE({code:e});i.Log.e("{b38afd1}","{573fb24}",Ce(e))}}RE(){for(const e of this.wD)e.streamId===Lr&&2===this.wD.length?e.streamId=_r:e.streamId===Lr?e.streamId=Nr:e.streamId===Or&&(e.streamId=Dr)}NE(){const e=this.wD.find(e=>e.streamId===Nr),t=this.wD.find(e=>e.streamId===_r),n=this.wD.find(e=>e.streamId===Dr),r=!(!t||!n);if(e)i.Log.i("{b38afd1}","{a5e354c}");else if(r){const e={streamId:Nr,tracks:t.tracks.concat(n.tracks)};this.wD.splice(this.wD.indexOf(t),1),this.wD.splice(this.wD.indexOf(n),1),this.wD.push(e),i.Log.i("{b38afd1}","{e2dc4ec}")}else t?i.Log.i("{b38afd1}","{07f3411}"):n?i.Log.i("{b38afd1}","{243a50b}"):i.Log.i("{b38afd1}","{7388213}")}BE(){var e;this.NE();const t=null===(e=this.pc)||void 0===e?void 0:e.getTransceivers();if(!t)return;const n=new Map,r=new Map;for(const e of this.wD){for(const t of e.tracks)t.trackId&&n.set(t.trackId,e.streamId);r.set(e.streamId,[])}let s=0;for(const e of t){const t=e.receiver.track,a=n.get(t.id);if(void 0===a)continue;const o=r.get(a);if(o){if("video"===t.kind){const e=this.JP[s++];if(!e)return i.Log.e("{b38afd1}","{85759dc}"),3237093939;const n=o.find(e=>!e.xE);n?(n.xE=t,n.Hn=e):o.push({xE:t,Hn:e})}else if("audio"===t.kind){const e=o.find(e=>!e.OE);e?e.OE=t:o.push({OE:t})}}else i.Log.w("{b38afd1}","{4c622c1}",a)}return this.FE(r)}setUpstreamMedia(e,t){return Promise.resolve(!1)}unsetUpstreamMedia(e){return Promise.resolve(!1)}stopUpstreamMedia(e){return Promise.resolve(!1)}jP(e,t){var n;null===(n=this.qD[t])||void 0===n||n.jP(e)}LE(){try{if(this.pc&&this.sendVideoTrack){const e=rn(this.pc)[0];if(e){let t="",n=e.direction;e.direction!==kr&&(e.direction=kr,t=" ("+n+" direction is overridden by "+kr+")"),e.sender.replaceTrack(this.sendVideoTrack).then(()=>{i.Log.i("{b38afd1}","{b54f651}",t)}).catch(t=>{e.direction!==n&&(e.direction=n),i.Log.w("{b38afd1}","{d225159}",t)})}else i.Log.w("{b38afd1}","{8272b59}")}}catch(e){i.Log.w("{b38afd1}","{66082ec}",e)}}HE(e,t){i.Log.w("{b38afd1}","{4d3c418}",e,t),this.telemetry.Jd(t,e,"{b38afd1}.ts",0,0,!0)}setCodecPreferences(e){var t,n,r;let s=0;const a=rn(this.pc);if(!a.length)return s;if(!RTCRtpReceiver.getCapabilities||!RTCRtpSender.getCapabilities||!a[0].setCodecPreferences)return i.Log.w("{b38afd1}","{274c489}"),s;const o=null===(t=RTCRtpReceiver.getCapabilities("video"))||void 0===t?void 0:t.codecs;if(!o)return s;let l=!1,c=!1;const u=["flexfec-03","rtx"];for(let t=0;t<a.length&&t<e.length;t++){const d=e[t],h=a[t];let p=[];const f=e=>{const t=o.filter(t=>t.mimeType==="video/"+e);return p=p.concat(t),!!t.length};if(!f(d.zw)&&"H264"!==d.zw){if(1===d.Qw){i.Log.e("{b38afd1}","{a3e8d28}",d.zw),s=2;break}i.Log.w("{b38afd1}","{d1d0397}",d.zw),d.zw="H264",f(d.zw),s=1}for(const e of u)f(e);try{h.setCodecPreferences(p)}catch(e){if(!l){l=!0;const t="Failed to set codec preferences to receiver capabilities";this.HE(t,e)}try{p=p.concat(null!==(r=null===(n=RTCRtpSender.getCapabilities("video"))||void 0===n?void 0:n.codecs)&&void 0!==r?r:[]),h.setCodecPreferences(p)}catch(e){if(!c){c=!0;const t="Failed to set codec preferences to sender and receiver capabilities";this.HE(t,e)}}}}return s}UE(){var e;null===(e=this.fE)||void 0===e||e.uninitialize(4001),this.fE=void 0,this.wk.startWebSocket(this.SD,this.maxReceivedAckId,this,!0)}dE(e){var t,n,i,r,s,a,o,l,c;if(!this.oD){this.DD=Date.now()-this.TD,void 0===e?Lt.fn||(this.UE(),Lt.Dh&&this.VE()):this.DE(),this.oD=!0,0!==this.dD&&(window.clearTimeout(this.dD),this.dD=0);for(const[e,r]of this.session.streamInfo.entries())r.bitDepth=null!==(i=null!==(t=r.bitDepth)&&void 0!==t?t:null===(n=this.QP)||void 0===n?void 0:n.ck(e))&&void 0!==i?i:8;let u={sessionId:this.session.sessionId,subSessionId:this.session.subSessionId,streams:this.wD,streamInfo:this.session.streamInfo,error:e,zoneName:this.session.zoneName,zoneAddress:this.session.zoneAddress,gpuType:this.session.gpuType,isResume:null!==(r=this.isResume)&&void 0!==r&&r,bitDepth:null!==(a=null===(s=this.QP)||void 0===s?void 0:s.ck(0))&&void 0!==a?a:8,prefilterParams:null===(o=this.LT.video[0])||void 0===o?void 0:o.prefilterParams,hudStreamingParams:null===(l=this.LT.video[0])||void 0===l?void 0:l.hudStreamingParams};u.hudStreamingParams&&this.setHudStreamingParams(u.hudStreamingParams),this.Fd.GE(u),null===(c=this.cg)||void 0===c||c.send()}}WE(){return this.oD}FE(e){let t=!1;for(const n of e.values())for(const e of n)if(e.xE&&e.Hn){const t=[e.xE];e.OE&&t.push(e.OE),e.Hn.srcObject=new MediaStream(t)}else if(e.OE){if(!this.Ln)return i.Log.e("{b38afd1}","{a2fe53c}"),3237093937;if(t){i.Log.w("{b38afd1}","{1376fbe}");continue}this.Ln.srcObject=new MediaStream([e.OE]),t=!0}}cE(e){var t;try{if("open"===(null===(t=this.IE)||void 0===t?void 0:t.readyState)){let t=performance.now();this.IE.send(JSON.stringify(e));let n=performance.now()-t;this.Rc(n)}else i.Log.w("{b38afd1}","{593db1b}")}catch(e){const t="sendControlMessage exception";i.Log.e("{b38afd1}","{a585a6e}",e),this.telemetry.Jd(e,t,"{b38afd1}.ts",0,0,!0)}}$E(e){"connecting"===zr(this.IE)?this.ND.push(e):this.cE(e)}Rc(e){var t;this.wk.cT(e),null===(t=this.QP)||void 0===t||t.JS(e)}RI(e){var t;null===(t=this.QP)||void 0===t||t.RI(e)}F_(e,t){var n;i.Log.d("{b38afd1}","{5ba6173}",e,t);const r={streamingWarnings:{code:e,secondsLeft:t}};this.vn.emit("StreamingEvent",r),2===e&&(null===(n=this.Vm)||void 0===n||n.Cb(!0))}qE(e){let t=function(e){let t=0;switch(i.Log.d("{c00be32}","{44bd2b6}",e),e){case 1:case 2:t=1;break;case 3:case 5:break;case 4:t=2;break;case 6:t=3}return t}(e.timerNotification.code);0!==t?this.F_(t,e.timerNotification.secondsLeft):i.Log.e("{b38afd1}","{de37ac5}",e.timerNotification.code)}KE(e){var t;if("Hdr10PlusGaming"===e.messageRecipient){if("Hdr10PlusGamingChange"===e.messageType&&e.data){const n=JSON.parse(e.data);null===(t=this.qD[0])||void 0===t||t.zP(n)}}else if("EDIT_BOX_LIST"===e.messageType&&e.data)try{const t=JSON.parse(e.data);this.Vm&&this.Vm.kw(t)}catch(e){i.Log.e("{b38afd1}","{cb5b85e}",e.message)}else this.vn.emit("CustomMessage",e)}QE(e,t){this.telemetry.zn("IceStats",e,0,t.$I,t.P_,t.qI)}zE(){var e;null===(e=this.YE)||void 0===e||e.start(this.pc)}AE(){var e;null===(e=this.YE)||void 0===e||e.save(),this.YE=void 0}$D(e){i.Log.d("{b38afd1}","{4742d5e}"),e.candidate&&this.VD++,Te()||this.pc&&this.pc.canTrickleIceCandidates&&this.pc.onicecandidate&&this.XE(e,!0)}XE(e,t){if(e.candidate){if(!t){const t=Er(e.candidate);if(this.GD.set(t,this.GD.get(t)+1),"IPV4"===t){const t=Sr(e.candidate);"UNKNOWN"!==t&&this.U_.add(t)}}if("tcp"===e.candidate.protocol)return void i.Log.d("{b38afd1}","{6f19d1e}");i.Log.d("{b38afd1}","{ac052fa}",e.candidate.port,e.candidate.protocol);const n={sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid,candidate:e.candidate.candidate};this.jE(this.hD,n),this.fD=!0}else i.Log.d("{b38afd1}","{a759d16}")}JE(e){var t,n,r,s,a,o,l,c,u,d,h,p;i.Log.d("{b38afd1}","{d79ed0a}",e);try{let f,g={},A=[];if(Lt.Mh.enableStunServer&&A.push({urls:"stun:s1.stun.gamestream.nvidia.com:19308"}),Lt.Yh){A=[];const e=Lt.Yh.split("|");for(let t=0;t<e.length;t++){const[n,r,s]=e[t].split(",").map(e=>e.trim());n&&r&&s?A.push({urls:n,username:r,credential:s}):i.Log.w("{b38afd1}","{cdc808b}",n,r,s)}f=Lt.iceTransportPolicy}else(null===(n=null===(t=this.session.iceServerConfiguration)||void 0===t?void 0:t.iceServers)||void 0===n?void 0:n.length)?(A=A.concat(this.session.iceServerConfiguration.iceServers),f=this.session.iceServerConfiguration.iceTransportPolicy):(null===(s=null===(r=this.LT.ZE)||void 0===r?void 0:r.iceServers)||void 0===s?void 0:s.length)&&(A=A.concat(this.LT.ZE.iceServers),f=this.LT.ZE.iceTransportPolicy,A.length&&A.map(e=>e.urls+" "+e.username).join(" | "),i.Log.i("{b38afd1}","{5d756ff}",A.length?A.map(e=>e.urls+" "+e.username).join(" | "):"None"));A.length&&(g.iceServers=A,g.iceTransportPolicy=f),null===(a=this.YE)||void 0===a||a.HT(g),i.Log.d("{b38afd1}","{93106c2}",JSON.stringify(g)),this.hD=e,this.pc=new RTCPeerConnection(g);const m=e=>{var t,n,i,r;this.tR&&(this.QE("disconnected",this.tR),this.tR=void 0);const s=null===(t=this.QP)||void 0===t?void 0:t.WI();s&&this.QE("failed",s),this.rD|=16,4&this.rD?0===(null===(i=this.QP)||void 0===i?void 0:i.GI())?this.mE(3237093900):0===(null===(r=this.QP)||void 0===r?void 0:r.UI())?this.mE(3237093901):e?this.mE(3237093906):this.mE(3237093899):this.mE(null!==(n=this.pE())&&void 0!==n?n:3237093894)};this.pc.onconnectionstatechange=e=>{if(this.pc)switch(i.Log.d("{b38afd1}","{4ced155}",this.pc.connectionState),this.pc.connectionState){case"connected":case"disconnected":case"closed":break;case"failed":this.TE()||m(!1)}else i.Log.e("{b38afd1}","{648f784}")},this.pc.oniceconnectionstatechange=e=>{var t;if(this.pc)switch(i.Log.d("{b38afd1}","{3a3143a}",this.pc.iceConnectionState),this.pc.iceConnectionState){case"new":this.rD|=1;break;case"checking":this.rD|=2;break;case"connected":this.tR=void 0,32&this.rD&&(this.vn.emit("StreamingEvent",{streamingState:{state:"reconnected"}}),this.ED++),this.rD|=4;break;case"completed":this.tR=void 0,this.rD|=12;break;case"failed":m(!0);break;case"disconnected":this.tR=null===(t=this.QP)||void 0===t?void 0:t.WI(),4&this.rD&&this.vn.emit("StreamingEvent",{streamingState:{state:"reconnecting"}}),this.rD|=32;break;case"closed":this.rD|=64,32&this.rD&&this.mE(3237093892)}else i.Log.e("{b38afd1}","{648f784}")},this.pc.ondatachannel=e=>{i.Log.d("{b38afd1}","{b364db9}",e.channel.label),"control_channel"==e.channel.label&&(this.D_(e.channel,{errorCode:3237093898,open:()=>{this.IE=e.channel;for(const e of this.ND)this.cE(e);i.Log.d("{b38afd1}","{038895c}",this.ND.length),this.ND=[];const t="NvRtcClient Browser name: "+this.Ms.browser+", Browser version: "+this.Ms.browserFullVer;if(this.kI(t),this.iR("GPU Detail",this.Ms.gpuDetail),this.sR(),this.sv.Dp(0,this.xD),this.sv.Dp(1,this.xD),this.sv.Dp(2,this.xD),this.sv.kP()&&(this.eR(),this.sv.Dp(4,this.FD),this.sv.Dp(3,this.FD)),this.sv.TP()){const e="ClientGenericMapping: {ProcCpuUsage, TotalCpuUsage}";this.kI(e),this.hR(),this.sv.Dp(5,this.HD)}this.sv.IP()&&(this.SP(this.sv.XI()),this.sv.Dp(6,this.wP)),window.requestAnimationFrame(this.nE)}}),e.channel.onmessage=e=>{var t;try{let n=JSON.parse(e.data);if(i.Log.d("{b38afd1}","{9371373}"),n.exitMessage)this.mE(function(e){if(e.stopData){const t=function(e){if(e.length<2)return null;const t=atob(e);let n=0;const i=()=>{const e=256*t.charCodeAt(n)+t.charCodeAt(n+1);return n+=2,e};return 0==i()?e.length<n+2?null:i():null}(e.stopData);if(t||0===t)return i.Log.d("{c00be32}","{921626d}",t),Hn(t)}return e.nvstResult?(i.Log.d("{c00be32}","{f30bc33}",e.nvstResult),function(e){let t=15868672;switch(e){case 2147680256:case 2147680291:t=15868704;break;case 2147680257:t=15868705;break;case 2147680258:t=3237093635;break;case 2147680259:t=3237094152;break;case 2147680260:t=15868706;break;case 2147680262:t=15868707;break;case 2147680263:t=15868708;break;case 2147680264:t=15868736;break;case 2147680265:t=15868737;break;case 2147680266:t=15868738;break;case 2147680267:t=15868739;break;case 2147680268:t=15868741;break;case 2147680269:t=15868740;break;case 2147680270:t=15868742;break;case 2147680271:t=3237094147;break;case 2147680275:t=15868743;break;case 2147680277:t=15868709;break;case 2147680278:t=15868744;break;case 2147680279:t=15868710;break;case 2147680280:t=15868711;break;case 2147680281:t=15868712;break;case 2147680283:t=3237094155;break;case 2147680284:t=3237094156;break;case 2147680285:t=3237094157;break;case 2147680286:t=3237093678;break;case 2147680287:t=15868715;break;case 2147680288:t=15868716;break;case 2147680289:t=15868719;break;case 2147680300:t=15868688;break;case 2147745794:case 2147745797:case 2147745803:t=3237093892;break;case 2147745796:t=3237094158;break;case 2147745804:t=3237094146;break;case 2147745805:t=3237094148;break;case 2147745806:t=3237094149;break;case 2147745807:t=3237094150;break;case 2148438786:t=15868718;break;default:i.Log.d("{c00be32}","{094c45e}",Ce(e))}return t}(e.nvstResult)):e.code?(i.Log.d("{c00be32}","{6210ab0}",e.code),Hn(e.code)):15868672}(n.exitMessage));else if(n.timerNotification)this.qE(n);else if(n.debugMessage)this.Bm(n.debugMessage.message);else if(n.customMessage)this.KE(JSON.parse(n.customMessage));else if(n.videoStreamProgressEvent)this.videoStreamProgress=n.videoStreamProgressEvent.videoStreamProgress;else if(n.gameSessionHdrMode){const e=n.gameSessionHdrMode.hdrMode>0,i=n.gameSessionHdrMode.streamIndex;null===(t=this.qD[i])||void 0===t||t.XP(e)}else if(n.videoQualitySnapshotResponse){let e="unknown";switch(n.videoQualitySnapshotResponse.messageType){case 0:e="success";break;case 1:e="not enabled";break;case 2:e="too many snapshots"}i.Log.i("{b38afd1}","{cc428fc}",e,n.videoQualitySnapshotResponse.snapshotsTaken)}else i.Log.d("{b38afd1}","{d14e0fd}")}catch(e){const t="Error in control_channel message handling";i.Log.e("{b38afd1}","{a40734a}",e),this.telemetry.Jd(e,t,"{b38afd1}.ts",0,0,!0)}})},i.Log.d("{b38afd1}","{d9ffda2}");const v={ordered:!0,reliable:!0};if(i.Log.d("{b38afd1}","{2bd4728}"),this.Vd=this.pc.createDataChannel("input_channel_v1",v),this.Vd.binaryType="arraybuffer",this.D_(this.Vd,{errorCode:3237093896}),this.LT.iD.sD>0){i.Log.d("{b38afd1}","{860d2d7}");let e={ordered:!1,maxPacketLifeTime:this.LT.iD.sD};i.Log.d("{b38afd1}","{25e5dc3}",JSON.stringify(e)),this.Gd=this.pc.createDataChannel("input_channel_partially_reliable",e),this.Gd.binaryType="arraybuffer",this.D_(this.Gd,{errorCode:3237093929})}const y={ordered:!0,reliable:!0};if(this.ME=this.pc.createDataChannel("cursor_channel",y),this.ME.binaryType="arraybuffer",this.D_(this.ME,{errorCode:3237093897}),h=this.session.appId,-1!==(null!==(p=Lt.Mh.requireDS4TrackpadForAppIds)&&void 0!==p?p:[]).indexOf(h)&&this.dg.Nu(),this.dg.Eu(this.LT.iD.eD),this.JP.length&&(this.Vm=new Vi(this,this.JP[0],this.Vd,this.ME,this.telemetry,this.vn,this.Zf,2===this.appLaunchMode,this.ag,this.dg,this.Ms,this.Fd,this.cg,this.sv,this.Wd,this.Zo,this.LT.iD,this.Gd,this.textInputElement)),this.RD&&(this.setKeyboardLayout(this.keyboardLayout),this.RD=!1),Lt.Ph){i.Log.d("{b38afd1}","{9ae428b}");const e={zoneName:this.session.zoneName,clientAppVersion:null!==(o=this.clientAppVersion)&&void 0!==o?o:"",appId:this.session.appId,gk:null!==(l=this.gk)&&void 0!==l?l:"",gpuType:this.session.gpuType,streamInfo:null!==(c=this.session.streamInfo[0])&&void 0!==c?c:{width:0,height:0,fps:0},clientLocale:this.session.clientLocale};this.QP=new vr(this.vn,this,this.JP,this.pc,this.LT.video,this.telemetry,this.Ms,e,this.sv,this.Wd,this.Zo,this.wk);for(const e of this.qD)e.KP(this.QP);PerformanceObserver&&(this.perf=new PerformanceObserver(e=>this.KD(e)))}this.pc.addEventListener("icecandidate",this.WD),this.pc.onsignalingstatechange=e=>{i.Log.i("{b38afd1}","{3236227}",this.pc.signalingState)},this.pc.onicecandidate=e=>this.XE(e),this.pc.onicecandidateerror=e=>{const t=e;i.Log.w("{b38afd1}","{9871b05}",t.port,t.url,t.errorCode,t.errorText)};const E=!Pe(this.Ms)&&(null===(u=this.enableMicUpstream)||void 0===u||u);(null!==(d=Lt.Xh)&&void 0!==d?d:E)&&this.ZP.initialize(this.pc,this.vn,this.JP[0],this.Ln),this.pc.ontrack=e=>{var t,n,r;const s=e.streams[0];i.Log.d("{b38afd1}","{47359d4}",s.id,e.track.kind,e.track.id,e.streams.length,Ce(this.rD));let a={kind:"video"===e.track.kind?"video":"audio",trackId:e.track.id};null===(n=null===(t=this.Fd)||void 0===t?void 0:t.onRtcRtpReceiver)||void 0===n||n.call(t,e.receiver),"audio"!==e.track.kind||s.id!==Lr&&s.id!==Nr&&s.id!==Or&&s.id!==Dr||(this.BD=e.track.id,this.nR(s),null===(r=this.tD)||void 0===r||r.initialize(new MediaStream(s.getAudioTracks())));let o=this.wD.find(e=>e.streamId===s.id);o?o.tracks.push(a):this.wD.push({streamId:s.id,tracks:[a]}),this.oR()}}catch(e){const t="Exception in creating peer connection";i.Log.e("{b38afd1}","{ff11182}",e),this.telemetry.Jd(e,t,"{b38afd1}.ts",0,0,!0)}}lE(){this.Vm&&(this.Vm.uninitialize(),this.Vm=void 0)}uE(){var e;null===(e=this.QP)||void 0===e||e.stop()}rR(e){const t=e=>e.startsWith("a=candidate:")?(this.vD=!0,"a="+this.aR(e.substr(2))):e;e.dR=e.dR.map(t);for(const n of e.cR)n.lines=n.lines.map(t)}aR(e){i.Log.d("{b38afd1}","{2dd62a2}");const t=this.session.mediaConnectionInfo.find(e=>2===e.usage||17===e.usage);if(t){let n=e.split(" ");t.ip&&(n[4]=t.ip),t.port&&(n[5]=""+t.port);let r=n.join(" ");return i.Log.d("{b38afd1}","{1fbcd88}",r),r}return i.Log.d("{b38afd1}","{aee7283}"),e}yE(){const e=this.wD.flatMap(e=>e.tracks);for(const t of this.bD)if(!e.find(e=>e.trackId===t.trackId))return"audio"===t.kind?3237093914:3237093905;return i.Log.d("{b38afd1}","{4fef10b}"),e.length>this.bD.length&&i.Log.w("{b38afd1}","{7861bb3}"),15859712}lR(){let e=this.pc.getTransceivers();if(0===e.length)return i.Log.d("{b38afd1}","{3399d9d}"),void this.dE({code:3237093909});for(const t of e)"3"===t.mid&&t.receiver.track.id!==this.BD?(i.Log.i("{b38afd1}","{981392f}"),t.receiver.track.enabled=!1):this.bD.push({trackId:t.receiver.track.id,kind:t.receiver.track.kind});i.Log.d("{b38afd1}","{648ae93}",JSON.stringify(this.bD))}async vE(e,t){var n,r;i.Log.d("{b38afd1}","{9978507}",e);try{const s=JSON.parse(t);if("offer"===s.type){let t,a;this.AD=!0;let o=s.sdp||"";const l=null!==(n=s.nvstServerOverrides)&&void 0!==n?n:"";i.Log.d("{b38afd1}","{ca9a155}",Wr(o));const c=await this.zD,u=Fr(o);if(Ur.uR(u,c,this.LT.video),s.nvstSdp){if(a=function(e){let t,n,r={origin:"",time:"",Yw:new Map,media:[]},s=new Map,a=!1;const o=()=>{if(a){if(!n||!t)return i.Log.e("{eb7c2d0}","{adc37a7}"),!1;r.media.push({Xw:n,jw:t,attributes:s}),n=void 0,t=void 0}else r.Yw=s,a=!0;return s=new Map,!0};for(const l of qi(e)){const e=l.trim();if(e.length<2||"="!==e[1])continue;const c=e[0],u=e.substr(2);if("m"==c){if(!o())return;const e=u.split(" ");n=e[0]}else if("a"==c){const e=u.indexOf(":");if(-1===e)continue;const n=u.slice(0,e).trim(),r=u.slice(e+1).trim();if("msid"===n){if(void 0!==t)return void i.Log.e("{eb7c2d0}","{dc7fbec}",r);t=r}else s.set(n,r)}else if("t"==c){if(a)return void i.Log.e("{eb7c2d0}","{14fc069}");r.time=u}else if("o"==c){if(a)return void i.Log.e("{eb7c2d0}","{eb0287a}");r.origin=u}}if(o()){if(""!==r.time&&""!==r.origin)return r;i.Log.e("{eb7c2d0}","{8e7e486}")}}(s.nvstSdp),!a)return void this.dE({code:3237093911});if(t=this.AR(a,l),!t)return}this.YE=new Tr(this.LT),this.JE(e);let d=Date.now();this.rR(u),Ur.fR(u,this.LT.video.map(e=>({minWidth:960,maxWidth:e.Uw,minHeight:540,maxHeight:e.Vw,vR:30,Gw:e.Gw}))),this.Ms,(null===(r=Lt.Mh.allowUpdateH265Tier)||void 0===r||r)&&function(e){var t,n,r,s;if(null===(n=null===(t=null===RTCRtpReceiver||void 0===RTCRtpReceiver?void 0:RTCRtpReceiver.getCapabilities("video"))||void 0===t?void 0:t.codecs)||void 0===n?void 0:n.some(e=>{var t;return"video/H265"===e.mimeType&&(null===(t=e.sdpFmtpLine)||void 0===t?void 0:t.includes("tier-flag=1"))}))return void i.Log.i("{b38afd1}","{9da2c0f}");const a=/^a=fmtp:([0-9]+)/;let o=!1;for(const t of e.cR)if(null===(r=t.lines[0])||void 0===r?void 0:r.startsWith("m=video"))for(const[e,n]of t.lines.entries()){const i=n.match(a);if(!i)continue;const r=i[1];"H265"===(null===(s=t.pR.get(r))||void 0===s?void 0:s.codec)&&(t.lines[e]=n.replace("tier-flag=1","tier-flag=0"),o=!0)}o&&i.Log.i("{b38afd1}","{c656b20}")}(u);const h=Ur.mR(u);h&&Ur.gR(u,h),o=Qr(u),i.Log.d("{b38afd1}","{542f9d5}",Wr(o)),this.pc.setRemoteDescription({type:s.type,sdp:o}).then(()=>{this.CD=Date.now()-d,this.lR(),i.Log.d("{b38afd1}","{ab7b3af}",this.CD),this.RE();const n=this.BE();if(n)return void this.mE(n);this.LE();const r=this.setCodecPreferences(this.LT.video);2!==r?1===r&&a&&(t=this.AR(a,l),!t)||(this.zE(),d=Date.now(),this.pc.createAnswer().then(n=>{var r;this.MD=Date.now()-d,i.Log.d("{b38afd1}","{2984003}",this.MD);const s=this.LT.video.map(e=>({max:e.Ww.toString(),min:e.Kw.toString(),bR:e.$w.toString()}));if(i.Log.d("{b38afd1}","{b535c15}",Wr(Xr(null!==(r=n.sdp)&&void 0!==r?r:""))),n.sdp){const e=Fr(n.sdp);Ur.wR(e,s),Te()&&Ur.SR(e,s),Ur.kR(e),h&&Ur.CR(e,h),n.sdp=Qr(e),i.Log.d("{b38afd1}","{1a048a7}",Wr(Xr(n.sdp)))}d=Date.now(),this.pc.setLocalDescription(n).then(()=>{if(this.yD=Date.now()-d,i.Log.d("{b38afd1}","{de86c01}",this.yD),n.sdp&&!Te()){const e=Fr(n.sdp);Ur.SR(e,s),n.sdp=Qr(e)}if(n.sdp&&t){const e=Rr.HP(n.sdp),i=e.shift(),r=Rr.qP(e[0],i),s=Rr.$P(e[0],i),a=Rr.HP(t);a[0]+="a=general.icePassword:"+r.password+"\r\n",a[0]+="a=general.iceUserNameFragment:"+r.usernameFragment+"\r\n",a[0]+="a=general.dtlsFingerprint:"+s.L_[0].value+"\r\n",t=a.join("")}const r={type:n.type,sdp:n.sdp,nvstSdp:t};this.jE(e,r),i.Log.i("{b38afd1}","{bd70666}",JSON.stringify(this.wD)),this.oR()}).catch(e=>{i.Log.e("{b38afd1}","{ba2deaa}",e),this.mE(3237093902)})}).catch(e=>{i.Log.d("{b38afd1}","{40c0f69}",e)})):this.mE(3237093938)}).catch(e=>{i.Log.e("{b38afd1}","{ec2853e}",e),this.mE(3237093902)})}else if(s.candidate){i.Log.d("{b38afd1}","{cf4c103}");let e=this.aR(s.candidate);i.Log.d("{b38afd1}","{43e80e0}",e),this.pc.addIceCandidate({sdpMLineIndex:s.sdpMLineIndex,sdpMid:s.sdpMid,candidate:e}).then(()=>{i.Log.d("{b38afd1}","{db0ae14}"),this.vD=!0}).catch(e=>{i.Log.e("{b38afd1}","{62f207e}",e),this.telemetry.Ge("AddCandidateFailed",null==e?void 0:e.name,null==e?void 0:e.message)}),i.Log.d("{b38afd1}","{9454009}")}}catch(e){if("BYE"===t)this.mE(15868672);else{const t="Invalid handlePeerMessage Response";i.Log.e("{b38afd1}","{93367fc}",e),this.telemetry.Jd(e,t,"{b38afd1}.ts",0,0,!0)}}}AR(e,t){var n;const r=function(e,t,n,r){const s=function(e,t,n){var i,r,s;const a={origin:e.origin,time:e.time,Yw:new Map,media:[]};a.Yw.set("general.clientSupportsIntraRefresh",Me(n)?"0":"1"),a.Yw.set("general.clientCapture",null!==(i=e.Yw.get("general.clientCapture"))&&void 0!==i?i:"0"),a.Yw.set("runtime.serverTraceCapture",2..toString());let o=0;for(const i of e.media){const e=new Map;"video"===i.Xw&&o<t.video.length&&(Zi(t.streamingConfigurationProfile,e,i.attributes,t.video[o],n),o++),"application"===i.Xw&&tr(e,i),a.media.push({Xw:i.Xw,jw:i.jw,attributes:e})}return a.Yw.set("general.turnInfo",null!==(r=e.Yw.get("general.turnInfo"))&&void 0!==r?r:""),a.Yw.set("general.iceTransportPolicy",null!==(s=e.Yw.get("general.iceTransportPolicy"))&&void 0!==s?s:""),a}(t,e,r);return Yi(null!==(o=null===(a=Lt.Mh.nvscClientConfigFields)||void 0===a?void 0:a.join("\n"))&&void 0!==o?o:"",s,t,"remoteconfig"),Yi(n,s,t,"server"),Lt.isInternalUser&&!Yi(Lt.clientConfigOverride,s,t,"client")?{error:3237093917}:function(e,t){let n=!0;const r=(e,t)=>{const r=e.get(t);if(r){const e=parseInt(r);if(!Number.isNaN(e))return e}return i.Log.e("{eb7c2d0}","{0a60213}",t),n=!1,0},s=(e,t)=>r(e,t)>0,a=(e,t)=>{const r=e.get(t);if(r)try{return BigInt(r)}catch(e){i.Log.e("{eb7c2d0}","{66a68eb}",r)}return i.Log.e("{eb7c2d0}","{0a60213}",t),n=!1,BigInt(0)};e.UT=r(t.Yw,"general.clientCapture");let o=0;for(const n of t.media){if("video"===n.Xw&&o<e.video.length){const t=e.video[o],i=n.attributes;t.Uw=r(i,"video.clientViewportWd"),t.Vw=r(i,"video.clientViewportHt"),t.Gw=r(i,"video.maxFPS"),t.$w=r(i,"video.initialBitrateKbps"),t.M_=r(i,"video.initialPeakBitrateKbps"),t.Ww=r(i,"vqos.bw.maximumBitrateKbps"),t.Kw=r(i,"vqos.bw.minimumBitrateKbps"),t.qw=s(i,"video.mapRtpTimestampsToFrames"),t.Qw=r(i,"video.dynamicRangeMode"),t.bitDepth=r(i,"video.bitDepth"),t.prefilterParams={mode:r(i,"video.prefilterParams.prefilterMode"),model:r(i,"video.prefilterParams.prefilterModel"),denoiseLevel:r(i,"video.prefilterParams.denoiseLevel"),sharpnessLevel:r(i,"video.prefilterParams.sharpnessLevel")},o++}"application"===n.Xw&&(e.iD.sD=r(n.attributes,"ri.partialReliableThresholdMs"),e.iD.eD=r(n.attributes,"ri.hidDeviceMask"),e.iD.Kd=r(n.attributes,"ri.enablePartiallyReliableTransferGamepad"),e.iD.Qd=a(n.attributes,"ri.enablePartiallyReliableTransferHid"))}let l=t.Yw.get("general.turnInfo"),c=t.Yw.get("general.iceTransportPolicy");return l.length&&c.length&&(i.Log.i("{eb7c2d0}","{3cd9339}",l.split("|").map(e=>{const[t,n,,i]=e.split(",");return t+" ("+i+")"}).join(" | ")),i.Log.i("{eb7c2d0}","{f32ebdb}",c),e.ZE=function(e,t){const n=[];for(const t of e.split("|")){const[e,r,s]=t.split(",").map(e=>e.trim());e&&r&&s?n.push({urls:e,username:r,credential:s}):i.Log.w("{eb7c2d0}","{d516cac}",t)}return{iceServers:n,iceTransportPolicy:1==parseInt(t)?"relay":"all"}}(l,c)),n}(e,s)?{config:e,yR:ir(s,t)}:{error:3237093918};var a,o}(this.LT,e,t,this.Ms);return r.config&&r.yR?this.LT=r.config:this.dE({code:null!==(n=r.error)&&void 0!==n?n:3237093910}),r.yR}Fp(e){var t,n;null===(t=this.QP)||void 0===t||t.Fp(e),window.setTimeout(()=>this.jA()),null===(n=this.Vm)||void 0===n||n.Fp(e)}jA(){var e,t;this.nD||window.requestAnimationFrame(this.nE),null===(e=this.Vm)||void 0===e||e.jA(),null===(t=this.QP)||void 0===t||t.jA()}toggleOnScreenStats(e=!1,t){Lt.isInternalUser&&(this.MR()?this.QP.toggleOnScreenStats(e,t):this.Bm("Stats is OFF. Please enable by ctrl+alt+F5/F6"))}wm(){if(this.MR())return this.QP.wm()}Gb(){this.cD?(this.wk.stopProfiling(),this.cD=!1,this.IR(),this.Bm("Profiler: OFF, Stats: OFF")):(this.VE(),this.TR(),this.Bm("Profiler: ON, Stats: ON"))}Wb(){this.MR()?(this.IR(),this.Bm("Stats: OFF")):(this.TR(),this.Bm("Stats: ON"))}__(){var e;null===(e=this.QP)||void 0===e||e.__(0),this.Bm("User marker added")}qb(){this.$E({videoQualitySnapshot:{}})}MR(){var e;return!!(null===(e=this.QP)||void 0===e?void 0:e.isEnabled())}TR(){var e;null===(e=this.QP)||void 0===e||e.rI()}IR(){var e;null===(e=this.QP)||void 0===e||e.nI()}jE(e,t){const n=JSON.stringify(t),r={peer_msg:{from:this.id,to:e,msg:n},ackid:this.jI.$o()};i.Log.d("{b38afd1}","{7ecb902}",e,n.length,Wr(Xr(JSON.stringify(r)))),this.fE?this.fE.send(r):this.wk.dT(r)}UI(){return this.QP?this.QP.UI():0}ek(e){var t,n;let i=null===(t=this.QP)||void 0===t?void 0:t.ek(e);return void 0!==i&&"UNKNOWN"!==i||(i=null===(n=this.LT.video[e])||void 0===n?void 0:n.zw),i}toggleUserInput(e,t){this.Vm?this.Vm.toggleUserInput(e,t):i.Log.e("{b38afd1}","{5a0e299}",e)}toggleRsdmm(e){var t;null===(t=this.Vm)||void 0===t||t.toggleRsdmm(e)}Bm(e){this.JD.innerHTML=e,this.JD.style.display="block",this.aD&&clearTimeout(this.aD),this.aD=window.setTimeout(()=>{this.JD.style.display="none"},1e3)}VE(){const e={stats:{from:this.id,to:this.hD}};this.wk.startProfiling(e),this.cD=!0}static wR(e,t){const n=jr(e);for(let e=0;e<n.length&&e<t.length;e++){const r=n[e],s="b=AS:"+t[e].max;let a=r.lines.length;for(const[e,t]of r.lines.entries())if(!(t.startsWith("m=")||t.startsWith("i=")||t.startsWith("c="))){if(t.startsWith("b=")){i.Log.d("{b38afd1}","{e77177e}",e),r.lines[e]=s,a=-1;break}a=e;break}-1!==a&&(i.Log.d("{b38afd1}","{3dfc348}",a),r.lines.splice(a,0,s))}}static mR(e){const t=e.cR.find(e=>{var t;return null===(t=e.lines[0])||void 0===t?void 0:t.startsWith("m=audio")});if(!t)return;let n,r,s,a;for(const[e,o]of t.pR)"multiopus"===o.codec?(n=e,s=o.channels,i.Log.i("{b38afd1}","{898cad9}",n,s)):"red"===o.codec&&(r=e,a=o.channels,i.Log.i("{b38afd1}","{8c08358}",r,a));if(!n)return void i.Log.d("{b38afd1}","{b49e215}");let o=[],l=[],c="";const u=/^a=(?:rtpmap|rtcp-fb|fmtp):([0-9]+)/;for(const e of t.lines){const t=e.match(u);if(!t)continue;const i=t[1];i===n?(o.push(e),e.includes("fmtp")&&(c=e.split(" ")[1])):i===r&&l.push(e)}return{PR:r,DR:n,ER:l,RR:o,NR:null!=s?s:"",BR:null!=a?a:"",xR:c}}static gR(e,t){const n=e.cR.find(e=>{var t;return null===(t=e.lines[0])||void 0===t?void 0:t.startsWith("m=audio")});if(!n)return;if(t.BR&&t.BR!==t.NR){i.Log.w("{b38afd1}","{ad53601}",t.BR,t.NR);const e=n.lines[0].split(" ");for(let n=3;n<e.length;++n)if(e[n]===t.PR){e.splice(n,1);break}n.lines[0]=e.join(" ");const r=/^a=(?:rtpmap|rtcp-fb|fmtp):([0-9]+)/;n.lines=n.lines.filter(e=>{const n=e.match(r);return!n||n[1]!==t.PR})}const r=/^a=rtpmap:([0-9]+)/,s=/^a=fmtp:([0-9]+)/;for(const[e,i]of n.lines.entries()){const a=i.match(r);if(a){const r=a[1];r===t.DR?n.lines[e]=Vr(i,"opus","2"):r===t.PR&&(n.lines[e]=Vr(i,void 0,"2"))}const o=i.match(s);if(o&&o[1]===t.DR){const t=i.split(" "),r=t[1].split(";").filter(e=>!e.startsWith("channel_mapping")&&!e.startsWith("num_streams")&&!e.startsWith("coupled_streams"));n.lines[e]=t[0]+" "+r.join(";")}}}static CR(e,t){const n=e.cR.find(e=>{var t;return null===(t=e.lines[0])||void 0===t?void 0:t.startsWith("m=audio")});if(!n)return;const i=/^a=rtpmap:([0-9]+)/,r=/^a=fmtp:([0-9]+)/;for(const[e,s]of n.lines.entries()){const a=s.match(i);if(a){const i=a[1];i===t.DR?n.lines[e]=Vr(s,"multiopus",t.NR):i===t.PR&&(n.lines[e]=Vr(s,void 0,t.BR))}const o=s.match(r);if(o&&o[1]===t.DR){const i=s.split(" ");n.lines[e]=i[0]+" "+t.xR}}}static kR(e){var t,n;const r=/^a=fmtp:([0-9]+)/;for(const s of e.cR)if(null===(t=s.lines[0])||void 0===t?void 0:t.startsWith("m=audio"))for(const[e,t]of s.lines.entries()){const a=t.match(r);a&&"opus"===(null===(n=s.pR.get(a[1]))||void 0===n?void 0:n.codec)&&(s.lines[e]=t+";stereo=1",i.Log.d("{b38afd1}","{6540768}",s.lines[e]))}}static fR(e,t){var n;const r=jr(e);for(let e=0;e<r.length&&e<t.length;e++){const s=r[e],a=t[e];if(s.lines.some(e=>e.startsWith("a=imageattr")))i.Log.d("{b38afd1}","{b38bf22}");else for(const[e,t]of s.lines.entries())if(t.startsWith("a=rtpmap:")){const i=t.slice(9,t.indexOf(" ")),r=null===(n=s.pR.get(i))||void 0===n?void 0:n.codec;if("H264"===r||"H265"===r||"AV1"===r){const n="\r\na=imageattr:"+i+" send [x=["+a.minWidth+":"+a.maxWidth+"],y=["+a.minHeight+":"+a.maxHeight+"],fps=["+a.vR+":"+a.Gw+"]]";s.lines[e]=t+n}}}}static SR(e,t){var n;const i=jr(e);for(let e=0;e<i.length&&e<t.length;e++){const r=i[e],s=t[e];let a="";a+=";x-google-max-bitrate="+s.max,a+=";x-google-min-bitrate="+s.min,a+=";x-google-start-bitrate="+s.bR;const o=/^a=fmtp:([0-9]+)/;for(const[e,t]of r.lines.entries()){const i=t.match(o);i&&"H264"===(null===(n=r.pR.get(i[1]))||void 0===n?void 0:n.codec)&&(r.lines[e]+=a)}}}static uR(e,t,n){const r=jr(e);for(let e=0;e<n.length;e++){const s=r[e],a=n[e];let o;if(s){const e=new Set;for(const t of s.pR.values()){const n=t.codec;"H264"!==n&&"H265"!==n&&"AV1"!==n||e.add(n)}for(const n of t)if(e.has(n)){i.Log.i("{b38afd1}","{304c3b1}",n),o=n;break}}void 0!==o?a.zw=o:(i.Log.i("{b38afd1}","{81357e4}"),a.zw="H264")}}getVirtualGamepadHandler(){var e;return null===(e=this.Vm)||void 0===e?void 0:e.getVirtualGamepadHandler()}OI(){var e,t,n,i,r,s,a,o,l,c,u,d;return{NS:null!==(t=null===(e=this.JP[0])||void 0===e?void 0:e.paused)&&void 0!==t&&t,BS:null!==(i=null===(n=this.Ln)||void 0===n?void 0:n.paused)&&void 0!==i&&i,um:null!==(s=null===(r=this.Vm)||void 0===r?void 0:r.um())&&void 0!==s&&s,Wm:null!==(o=null===(a=this.Vm)||void 0===a?void 0:a.pw())&&void 0!==o&&o,xS:this.ZP.getMicState(),hw:null!==(c=null===(l=this.Vm)||void 0===l?void 0:l.hw())&&void 0!==c&&c,keyboardLayout:this.keyboardLayout,appLaunchMode:this.appLaunchMode,inputMode:null!==(d=null===(u=this.Vm)||void 0===u?void 0:u.Sw())&&void 0!==d?d:""}}$b(){this.perfIndicator=!this.perfIndicator;const e={perfIndicator:{on:this.perfIndicator}};this.$E(e)}toggleStutterIndicator(e){this.stutterIndicator=null!=e?e:!this.stutterIndicator;const t={stutterIndicator:{on:this.stutterIndicator}};this.$E(t)}Fb(){this.gD^=1;const e={riDeviceOverlay:{bitmap:this.gD}};this.$E(e)}sE(){var e;null===(e=this.Vm)||void 0===e||e.yb()}Kb(){this.mD=(this.mD+1)%3;const e={qpDeltaMap:{view:this.mD}};this.$E(e)}Ob(){var e;if(null===(e=this.tD)||void 0===e?void 0:e.OR()){const e={latencyTrigger:!0};return this.$E(e),!0}return!1}Hb(){var e;if(null===(e=this.tD)||void 0===e?void 0:e.FR()){const e={pcmDumpTrigger:!0};this.$E(e)}}Hp(){var e;null===(e=this.tD)||void 0===e||e.LR()}Lb(){this.sendCustomMessage({messageType:"GpuViewStartRequest",messageRecipient:"GPUViewTraceControl",data:"GpuView"}),i.Log.i("{b38afd1}","{0915cd3}")}sendTextInput(e){var t;null===(t=this.Vm)||void 0===t||t.sendTextInput(e)}sendBulkPayload(e,t){var n;null===(n=this.Vm)||void 0===n||n.b_(e,t)}setVirtualKeyboardState(e){var t;null===(t=this.Vm)||void 0===t||t.setVirtualKeyboardState(e)}setVideoTransforms(e,t,n){var i;null===(i=this.Vm)||void 0===i||i.Zm(e,t,n)}sendCustomMessage(e){const t={customMessage:JSON.stringify(e)};this.$E(t)}setStreamingMaxBitrate(e,t,n){n||(this.$E({setMaxBitrate:{streamIndex:e,maxBitrate:t}}),i.Log.d("{b38afd1}","{6bbc1a2}",t))}setDrcDfcState(e,t,n){n||(this.$E({setDrcState:{streamIndex:e,state:!!(1&t)}}),this.$E({setDfcState:{streamIndex:e,state:!!(2&t)}}),i.Log.d("{b38afd1}","{0ed76f3}",t))}setHudStreamingParams(e){var t;e.scxQpDelta=Gr(e.mode,e.scxQpDelta);const n={messageType:"SCXDeltaQpMap",messageRecipient:"NvStreamer",data:"value:"+e.scxQpDelta+";"};return i.Log.d("{b38afd1}","{06d5c28}",e.scxQpDelta),this.sendCustomMessage(n),null===(t=this.QP)||void 0===t||t.Ak(e,0),!0}startInputPlayback(e){var t;null===(t=this.Vm)||void 0===t||t.startInputPlayback(e)}setPrefilterParams(e){var t,n,r,s;this.QD(e);const a={messageType:"PrefilterControl",messageRecipient:"Prefilter",data:"PrefilterMode:"+e.mode+";PrefilterModel:"+(null!==(t=e.model)&&void 0!==t?t:0)+";PrefilterDenoiseLevel:"+(null!==(n=e.denoiseLevel)&&void 0!==n?n:0)+";PrefilterSharpnessLevel:"+(null!==(r=e.sharpnessLevel)&&void 0!==r?r:0)+";"};i.Log.d("{b38afd1}","{7963e20}",JSON.stringify(a)),this.sendCustomMessage(a),null===(s=this.QP)||void 0===s||s.uk(e,0)}QD(e){var t,n,r;const s=null!==(t=e.model)&&void 0!==t?t:0;switch(e.model=[-1,0].includes(s)?4:s,e.mode){case i.PrefilterMode.OFF:e.sharpnessLevel=0,e.denoiseLevel=0;break;case i.PrefilterMode.AUTO:const t=this.session.finalizedStreamingFeatures;e.sharpnessLevel=null!==(n=null==t?void 0:t.prefilterSharpness)&&void 0!==n?n:0,e.denoiseLevel=null!==(r=null==t?void 0:t.prefilterNoiseReduction)&&void 0!==r?r:0;break;case i.PrefilterMode.CUSTOM:break;default:i.Log.e("{b38afd1}","{0944f7b}",e.mode)}}kI(e){this.$E({etwPrint:e})}iR(e,t){this.$E({etwPrintPair:{key:e,value:t}})}HR(e,t,n){const r=null==t?void 0:t.error;this.nD||this.telemetry.Ge("ChannelError",e,null==r?void 0:r.name,null==r?void 0:r.message,null==n?void 0:n.toString()),i.Log.e("{b38afd1}","{db7ae96}",e,null==r?void 0:r.name,null==r?void 0:r.message)}gI(){this.wk.uT(this.Vd.bufferedAmount,this.dg.JA()),this.dg.ZA()}sendKeyEvent(e){var t;null===(t=this.Vm)||void 0===t||t.sendKeyEvent(e)}dc(e){this.Fd.onBulkPayload&&this.Fd.onBulkPayload(e)}oR(){this.bD.length>0&&"connecting"!==zr(this.IE)&&"connecting"!==zr(this.ME)&&"connecting"!==zr(this.Vd)&&(!this.Gd||"connecting"!==zr(this.Gd))&&15859712===this.yE()&&this.dE()}nR(e){let t=function(e){let t;const n=e.getAudioTracks();return n.length&&(t=n[0]),t}(e);t&&(t.onunmute=()=>{this.pD=!1})}setKeyboardLayout(e){this.keyboardLayout=e,this.Vm?(this.sendCustomMessage({messageType:"kbLayout",messageRecipient:"KBLayoutChange",data:e}),this.Vm.setKeyboardLayout(e)):this.RD=!0}rE(){i.Log.d("{b38afd1}","{440d709}",this.Zo.ad(),performance.timeOrigin)}D_(e,t){const n=e.label;let r=!1;e.onopen=()=>{var e;i.Log.d("{b38afd1}","{8e9ee5d}",n),null===(e=t.open)||void 0===e||e.call(t),t.errorCode&&this.oR()},e.onclosing=()=>{i.Log.d("{b38afd1}","{d0c8ae7}",n),r=!0},e.onclose=()=>{var e;i.Log.d("{b38afd1}","{a3c9826}",n),null===(e=t.close)||void 0===e||e.call(t),t.errorCode&&this.TE()},e.onerror=s=>{i.Log.e("{b38afd1}","{fcd64bb}",n),r&&t.errorCode?this.PE():(this.HR(n,s,e.bufferedAmount),t.errorCode&&this.mE(t.errorCode))}}sR(){var e,t;let n=0;this.sv.$p()&&(n|=2),this.sv.BP()&&(n|=1),this.sv.Dm()&&(n|=16);for(let r=0;r<this.LT.video.length;r++){const s=null!==(t=null===(e=this.QP)||void 0===e?void 0:e.Vk(r))&&void 0!==t?t:0,a={windowState:{streamIndex:r,frameNumber:s,windowStateFlags:n}};i.Log.i("{b38afd1}","{ca317d5}",n.toString(16),s),this.$E(a)}}eR(){var e,t,n;let r=0;this.sv.xP()&&(r|=4),this.sv.OP()&&(r|=1),null===(e=this.QP)||void 0===e||e.Oy(r);for(let e=0;e<this.LT.video.length;e++){const s=null!==(n=null===(t=this.QP)||void 0===t?void 0:t.Vk(e))&&void 0!==n?n:0,a={systemState:{streamIndex:e,frameNumber:s,systemStateFlags:r}};this.$E(a),i.Log.i("{b38afd1}","{455ccc0}",r.toString(16),s)}}hR(){var e,t,n;const r=this.sv.FP();if(-1!=r){null===(e=this.QP)||void 0===e||e.Uy(r);for(let e=0;e<this.LT.video.length;e++){const s=null!==(n=null===(t=this.QP)||void 0===t?void 0:t.Vk(e))&&void 0!==n?n:0,a={cpuUsage:{streamIndex:e,frameNumber:s,procCpuUsage:0,totalCpuUsage:r}};this.$E(a),i.Log.i("{b38afd1}","{9bb3298}",r.toString(),s)}}}OD(){this.MR()?this.sR():i.Log.w("{b38afd1}","{76bcede}")}LD(){this.MR()?this.eR():i.Log.w("{b38afd1}","{20ab5a1}")}UD(){this.MR()?this.hR():i.Log.w("{b38afd1}","{7b1f129}")}SP(e){var t;this.MR()?null===(t=this.QP)||void 0===t||t.Fy(e):i.Log.w("{b38afd1}","{1b4b74e}")}By(e){var t;return null===(t=this.QP)||void 0===t?void 0:t.By(e)}}function Fr(e){const t=Rr.HP(e);let n={dR:[],cR:[]};const i=new RegExp("^a=rtpmap:([0-9]+) ([^/]+)/([0-9]+)(?:/([0-9]+))?","gm");for(const e of t)if(e.startsWith("m=")){const t=new Map;for(const n of e.matchAll(i)){const e={codec:n[2],clockRate:n[3],channels:n[4]};t.set(n[1],e)}const r={lines:Rr.LP(e),pR:t};n.cR.push(r)}else n.dR=Rr.LP(e);return n}function Qr(e){return[...e.dR,...e.cR.flatMap(e=>e.lines)].join("\r\n")+"\r\n"}function Vr(e,t,n){const i=e.split(" "),r=i[1].split("/");return t&&(r[0]=t),n&&(r[2]=n),i[0]+" "+r.join("/")}function Hr(e,t,n){const r={mode:i.HudStreamingMode.OFF},s=null!=e?e:i.HudStreamingMode.OFF;if(s===i.HudStreamingMode.OFF)return r;if(!n)return r;let a=n.mode;if(a===i.HudStreamingMode.OFF){if(n.scxQpDelta=-1,t!==i.Profile.CUSTOM)return r;a=s}return r.mode=a,r.scxQpDelta=Gr(a,n.scxQpDelta),r}function Gr(e,t){var n;return e!==i.HudStreamingMode.QP_MAP?-1:null!==(n=null!=t?t:Lt.Mh.scxQpDelta)&&void 0!==n?n:0}function zr(e){var t;return null!==(t=null==e?void 0:e.readyState)&&void 0!==t?t:"connecting"}function Wr(e){return(e=e.replace(/((ice-pwd|ufrag)(:|\s))((?!(\\|\s)).)*/g,"$1***")).replace(/(turn:[^,]+,[^,]+),[^,]+/g,"$1,***")}function Xr(e){const t=new RegExp('(candidate:[^"\\r\\n\\\\]+)(\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b)',"g");let n="";for(;n!==e;)n=e,e=e.replace(t,"$1***");return e}function jr(e){return e.cR.filter(e=>{var t;return null===(t=e.lines[0])||void 0===t?void 0:t.startsWith("m=video")})}const qr="#006FCD",Yr="#0e7a0d";class Jr{constructor(){this.UR="gamepadTester",this.visible=!1,this.VR=[],this.GR=[],this.au=new Map,Lt.Uh&&(document.body.appendChild(this.WR()),this.start())}Xc(e){for(let t=0;t<4;t++){const n=this.au.get(t);void 0!==n&&(e&1<<t||(this.VR[n]=null,this.au.delete(t)))}}ll(e){for(let t=0;t<this.VR.length;t++){let n=this.VR[t];n&&n.$R&&n.Wu==e&&(this.VR[t]=null)}}jc(e,t,n,i,r,s,a,o){this.au.set(t,e),this.VR[e]={index:e,Wu:t,buttons:n,trigger:i,axes:r,name:o,$R:!1}}Al(e,t,n,i,r,s,a,o){this.VR[e]={index:e,Wu:t,buttons:n,trigger:i,axes:r,name:o,$R:!0}}il(e){e.index<4&&(this.GR[e.index]={index:e.index,Wu:e.index,buttons:-1,trigger:-1,axes:[-1],name:e.id,$R:!1})}sl(e){e<4&&(this.GR[e]=null)}WR(){let e=document.createElement("div");e.id=this.UR,e.className="genericdiv",e.style.display="grid",e.style.gridTemplateColumns="1fr 1fr",e.style.gridTemplateRows="1fr 1fr",this.visible=!0;let t=document.createElement("p");return t.id="instruction",t.style.color="white",t.style.position="fixed",t.innerHTML="Connect GamePads",t.style.top="0",e.appendChild(t),e}yb(e){let t=document.getElementById(this.UR);t?(t.remove(),this.VR=[],this.visible=!1):(e.insertAdjacentElement("afterend",this.WR()),this.start())}start(){let e,t=document.getElementById(this.UR);if(null==t)return void i.Log.e("{e13a879}","{0c955af}");let n=.49*window.innerWidth,r=.4*window.innerHeight,s=.3*n,a=.7*n,o=.8*r,l=.8*r,c=.07*n;const u=e=>{e.style.position="absolute",e.style.width="2%",e.style.height="3.5%",e.style.backgroundColor="red",e.style.borderRadius="50%",e.style.transform="translate(-50%, -50%)"},d=e=>{let n=(i=e)?{left:{V_:i.axes[0],qR:i.axes[1]},right:{V_:i.axes[2],qR:i.axes[3]}}:null;var i;if(null===t.querySelector(".gamepad"+e.index).querySelector(".leftStick")){let i=document.createElement("div");i.className="gamepadJoystickPointer leftStick",u(i),i.style.left=s+n.left.V_*c+"px",i.style.top=o+n.left.qR*c+"px",t.querySelector(".gamepad"+e.index).querySelector(".gamepadContainer").appendChild(i)}else{let i=t.querySelector(".gamepad"+e.index).querySelector(".leftStick");i.style.opacity="1",i.style.left=s+c*n.left.V_+"px",i.style.top=o+n.left.qR*c+"px"}if(null===t.querySelector(".gamepad"+e.index).querySelector(".rightStick")){let i=document.createElement("div");i.className="gamepadJoystickPointer rightStick",u(i),i.style.left=a+n.right.V_*c+"px",i.style.top=l+n.right.qR*c+"px",t.querySelector(".gamepad"+e.index).querySelector(".gamepadContainer").appendChild(i)}else{let i=t.querySelector(".gamepad"+e.index).querySelector(".rightStick");i.style.opacity="1",i.style.left=(a+n.right.V_*c).toString()+"px",i.style.top=(l+n.right.qR*c).toString()+"px"}},h=(e,t,n,i)=>{var r=e.getContext("2d");if(!r)return;r.beginPath();const s=!0===n?1:!1===n?0:n;r.fillStyle=n?i?qr:Yr:"grey";const a=t=>{if(!r)return;const n=.12*s;r.rect(e.width*t,e.height*(.12-n+.07),.02*e.width,e.height*n),r.closePath(),r.fill(),r.beginPath(),r.fillStyle="grey",r.rect(e.width*t,.07*e.height,.02*e.width,e.height*(.12-n))};switch(t){case 0:r.moveTo(.14*e.width,.48*e.height),r.lineTo(.19*e.width,.48*e.height),r.lineTo(.165*e.width,.54*e.height),r.lineTo(.14*e.width,.48*e.height);break;case 1:r.moveTo(.14*e.width,.66*e.height),r.lineTo(.19*e.width,.66*e.height),r.lineTo(.165*e.width,.61*e.height),r.lineTo(.14*e.width,.66*e.height);break;case 2:r.moveTo(.09*e.width,.55*e.height),r.lineTo(.09*e.width,.61*e.height),r.lineTo(.135*e.width,.57*e.height),r.lineTo(.09*e.width,.55*e.height);break;case 3:r.moveTo(.24*e.width,.55*e.height),r.lineTo(.24*e.width,.61*e.height),r.lineTo(.195*e.width,.57*e.height),r.lineTo(.24*e.width,.55*e.height);break;case 4:r.arc(.7*e.width,.4*e.height,.02*e.width,0,2*Math.PI);break;case 5:r.arc(.3*e.width,.4*e.height,.02*e.width,0,2*Math.PI);break;case 6:r.arc(.3*e.width,.8*e.height,.07*e.width,0,2*Math.PI);break;case 7:r.arc(.7*e.width,.8*e.height,.07*e.width,0,2*Math.PI);break;case 8:r.rect(.13*e.width,.23*e.height,.07*e.width,.05*e.height);break;case 9:r.rect(.815*e.width,.23*e.height,.07*e.width,.05*e.height);break;case 12:r.arc(.85*e.width,.65*e.height,.02*e.width,0,2*Math.PI);break;case 13:r.arc(.9*e.width,.55*e.height,.02*e.width,0,2*Math.PI);break;case 14:r.arc(.8*e.width,.55*e.height,.02*e.width,0,2*Math.PI);break;case 15:r.arc(.85*e.width,.45*e.height,.02*e.width,0,2*Math.PI);break;case-1:a(.155);break;case-2:a(.84);break;case 16:if(!i)break;r.arc(.5*e.width,.5*e.height,.02*e.width,0,2*Math.PI);break;case 17:if(!i)break;r.roundRect?r.roundRect(.395*e.width,.085*e.height,.21*e.width,.18*e.height,.02*e.width):r.arc(.5*e.width,.175*e.height,.02*e.width,0,2*Math.PI)}r.closePath(),r.fill()},p=e=>{if(null===t.querySelector(".gamepad"+e.index)){let i=document.createElement("div");i.className="gamepad gamepad"+e.index,i.style.display="flex",i.style.flexDirection="column",i.style.justifyContent="space-between",i.style.height="98%";let s=document.createElement("p");s.className="active",s.style.margin="0px";let a=document.createElement("span");a.className="gamepadPlayerNumber",a.style.color="white",a.style.background=e.$R?qr:Yr,a.style.position="relative",a.style.marginRight="0.5vw",a.innerHTML=e.$R?"S":"X",a.style.fontSize="1.5vw",s.appendChild(a);let o=document.createElement("span");o.className="gamepadPlayerNumber",o.style.color="white",o.style.position="relative",o.innerHTML="P"+(e.index+1)+"|"+e.name,o.style.fontSize="1.5vw",s.appendChild(o),i.appendChild(s);let l=document.createElement("div");l.className="gamepadContainer",l.style.position="relative",l.style.width=n+2+"px",l.style.height=r+"px";let c=document.createElement("canvas");c.className="canvas",c.width=n,c.height=r,c.style.width=n+"px",c.style.height=r+"px",c.style.border="1px solid white",l.appendChild(c),i.appendChild(l),t.appendChild(i);let u=t.querySelector("#instruction");u&&(u.style.display="none")}},f=()=>{if(this.visible){for(let e=0;e<this.VR.length;e++){const n=this.VR[e];if(n){const e=n.$R;t.querySelector(".gamepad"+n.index)||p(n),d(n);let i=t.querySelector(".gamepad"+n.index).querySelector("canvas"),r=e?2:0;for(let t=0;t<16;t++){const r=!!(n.buttons&1<<t);h(i,t,r,e)}r>=1&&h(i,16,65536&n.buttons,e),r>=2&&h(i,17,131072&n.buttons,e);const s=(255&n.trigger)/255;h(i,-1,s,e);const a=(n.trigger>>8&255)/255;h(i,-2,a,e)}else if(this.GR[e]){if(!t.querySelector(".gamepad"+e)){p(this.GR[e]);let n=t.querySelector(".gamepad"+e).querySelector("canvas"),i=n.getContext("2d");i&&(i.font="20px Arial",i.fillStyle="white",i.textAlign="center",i.fillText("Unsupported Gamepad",n.width/2,n.height/2))}}else{let n=t.querySelector(".gamepad"+e);if(n&&t.removeChild(n),t.childNodes.length<=1){let e=t.querySelector("#instruction");e&&(e.style.display="block")}}}e=window.requestAnimationFrame(f)}else window.cancelAnimationFrame(e)};f()}Zc(e,t,n,i,r){}tl(){}}class Zr{constructor(){this.KR=!1,this.QR=[],this.zR=[],this.YR=0,this.jR=0,this.JR=0}ZR(){if(i.Log.i("{4c846ba}","{b11cb24}"),this.tN){try{this.iN=new MediaRecorder(this.tN)}catch(e){return void i.Log.e("{4c846ba}","{0d1420e}",e)}this.iN&&(this.iN.onstart=()=>{},this.iN.onstop=()=>{i.Log.i("{4c846ba}","{7a944b4}")},this.iN.ondataavailable=e=>{e.data&&e.data.size>0&&(this.QR.push(e.data),this.zR.push(this.QR),++this.jR,this.QR=[])},i.Log.i("{4c846ba}","{ffb713f}",this.iN)),this.KR=!1}else i.Log.e("{4c846ba}","{74475ae}")}sN(){let e;if(1==this.JR)e=18e5;else{if(2!=this.JR)return;e=3e3}this.iN&&!this.KR&&(this.iN.start(),this.KR=!0,this.YR=window.setTimeout(()=>{i.Log.i("{4c846ba}","{2282d21}"),this.eN()},e),i.Log.i("{4c846ba}","{4f438e3}"))}hN(){this.eN(),this.ZR(),this.sN()}eN(){var e;null===(e=this.iN)||void 0===e||e.stop(),this.iN=void 0,0!==this.YR&&(window.clearTimeout(this.YR),this.YR=0)}initialize(e){this.tN=e}uninitialize(){this.eN(),this.downloadAudio(),this.tN=void 0,this.JR=0}downloadAudio(){if(0!=this.JR){for(let e=0;e<this.jR;++e){const t="audioCapture_"+e+".wmv";Zt(this.zR[e],t,"audio/webm")&&i.Log.i("{4c846ba}","{c24ed3b}")}this.jR=0,this.zR=[]}}FR(){return 0==this.JR&&(this.JR=1,i.Log.i("{4c846ba}","{008dc86}"),this.ZR(),this.sN(),!0)}OR(){return 1==this.JR&&(i.Log.i("{4c846ba}","{1f67b97}"),this.JR=2,!0)}LR(){2==this.JR&&(i.Log.i("{4c846ba}","{89b1a9f}"),this.hN())}}const Kr={nN:"Ragnarok",clientId:"62677554106929725",eventSchemaVer:"3.2"},$r={Streamer_Start:{name:"Streamer_Start",gdprLevel:i.GdprLevel.FUNCTIONAL},Streamer_Exit:{name:"Streamer_Exit",gdprLevel:i.GdprLevel.FUNCTIONAL},Streamer_InputDevice:{name:"Streamer_InputDevice",gdprLevel:i.GdprLevel.FUNCTIONAL},Streamer_HotPlugEvent:{name:"Streamer_HotPlugEvent",gdprLevel:i.GdprLevel.FUNCTIONAL},Streamer_DecoderCaps:{name:"Streamer_DecoderCaps",gdprLevel:i.GdprLevel.FUNCTIONAL},Streamer_DisplayCaps:{name:"Streamer_DisplayCaps",gdprLevel:i.GdprLevel.FUNCTIONAL},Streamer_EncoderCaps:{name:"Streamer_EncoderCaps",gdprLevel:i.GdprLevel.FUNCTIONAL}};class es extends bt{constructor(e){super(e),this.name=$r.Streamer_Start.name,this.gdprLevel=$r.Streamer_Start.gdprLevel}}class ts extends bt{constructor(e){super(e),this.name=$r.Streamer_Exit.name,this.gdprLevel=$r.Streamer_Exit.gdprLevel,this.priority=!0}}class ns extends bt{constructor(e){super(e),this.name=$r.Streamer_InputDevice.name,this.gdprLevel=$r.Streamer_InputDevice.gdprLevel}}const is=new class{constructor(){var e;this.oN=new Map([["Ethernet",i.NetworkType.ETHERNET],["5GHz_WiFi",i.NetworkType.WIFI_5_0],["2.4GHz_WiFi",i.NetworkType.WIFI_2_4],["Others",i.NetworkType.OTHER],["disconnected",i.NetworkType.UNKNOWN],["wifi",i.NetworkType.WIFI],["ethernet",i.NetworkType.ETHERNET],["none",i.NetworkType.UNKNOWN],["bluetooth",i.NetworkType.BLUETOOTH],["wimax",i.NetworkType.WIMAX],["other",i.NetworkType.OTHER],["mobile",i.NetworkType.MOBILE],["unknown",i.NetworkType.UNKNOWN],["NONE",i.NetworkType.UNKNOWN],["UNKNOWN",i.NetworkType.UNKNOWN],["ETHERNET",i.NetworkType.ETHERNET],["WIFI",i.NetworkType.WIFI],["NET_PROXY",i.NetworkType.OTHER],["2G",i.NetworkType.MOBILE_2G],["2.5G",i.NetworkType.MOBILE_2G],["3G",i.NetworkType.MOBILE_3G],["4G",i.NetworkType.MOBILE_4G]]),this.rN=i.NetworkType.UNKNOWN,this.aN=[],window.addEventListener("GFNNetworkInfo",e=>{const t=e;i.Log.d("{aac1655}","{2925c9d}",t.detail.state),this.dN(t.detail.state)});const t=navigator.connection;if((null==t?void 0:t.type)&&(this.dN(t.type),t.addEventListener("change",e=>{var t;const n=null===(t=navigator.connection)||void 0===t?void 0:t.type;n&&(i.Log.d("{aac1655}","{4a9e05b}",n),this.dN(n))})),null===(e=window.tizen)||void 0===e?void 0:e.systeminfo){const e="NETWORK",t=e=>{const t=e.networkType;t&&(i.Log.d("{aac1655}","{e9b5f27}",t),this.dN(t))};try{window.tizen.systeminfo.getPropertyValue(e,t),window.tizen.systeminfo.addPropertyValueChangeListener(e,t)}catch(e){i.Log.w("{aac1655}","{7d035ae}",e)}}}dN(e){const t=this.oN.get(e);if(t){this.rN=t;for(const e of this.aN)e(this.getCurrentNetworkType())}else i.Log.d("{aac1655}","{1e3c13d}",e)}registerCallback(e){this.aN.push(e)}unregisterCallback(e){const t=this.aN.findIndex(t=>t==e);-1!==t&&this.aN.splice(t,1)}getCurrentNetworkType(){return this.rN}};class rs{constructor(){this.sessionId="",this.subSessionId="",this.cmsId="",this.isResume=!1,this.zoneAddress="",this.cN=0,this.lN=new Map,this.uN=0,this.AN=0,this.fN=0,this.vN=i.TelemetryModule.createTelemetryProvider(Kr)}pN(e,t,n,i,r){this.subSessionId=e,this.sessionId=t,this.cmsId=n,this.isResume=i,this.zoneAddress=r}mN(){this.subSessionId="",this.sessionId="",this.cmsId="",this.isResume=!1,this.zoneAddress="",this.cN=0,this.lN.clear(),this.uN=0}gN(e,t,n){var r,s,a;const o=i.TelemetryModule.getTelemetryEventIds(),l=new es({zoneAddress:this.zoneAddress,networkSessionId:null!==(r=o.networkSessionId)&&void 0!==r?r:"",sessionId:this.sessionId,subSessionId:this.subSessionId,resumeType:qt(this.isResume),overrideConfigType:Lt.kh.type,overrideConfigVersion:Lt.kh.version,result:t,codec:zt(n),ipVersion:"UNKNOWN",launchDuration:Math.round(e),networkType:je(is.getCurrentNetworkType()),streamingProfileGuid:null!==(s=o.streamingProfileGuid)&&void 0!==s?s:"",systemInfoGuid:null!==(a=o.systemInfoGuid)&&void 0!==a?a:"",cmsId:this.cmsId});this.processEvent(l)}bN(e,t,n,r,s,a){const o=(l=s,a?"SleepExit":null!==(c=null==l?void 0:l.description)&&void 0!==c?c:"undefined");var l,c;this.wN(e,o,t,n,r),s.gh?this.SN():i.Log.d("{9838627}","{30029be}",e,o)}wN(e,t,n,r,s){var a,o,l;const c=i.TelemetryModule.getTelemetryEventIds(),u=new ts({zoneAddress:this.zoneAddress,sessionId:this.sessionId,subSessionId:this.subSessionId,resumeType:qt(this.isResume),cmsId:this.cmsId,overrideConfigType:Lt.kh.type,overrideConfigVersion:Lt.kh.version,exitReason:t,result:e,frameCount:s,codec:zt(r),ipVersion:"UNKNOWN",streamDuration:Math.round(n),networkType:je(is.getCurrentNetworkType()),streamingProfileGuid:null!==(a=c.streamingProfileGuid)&&void 0!==a?a:"",systemInfoGuid:null!==(o=c.systemInfoGuid)&&void 0!==o?o:"",networkSessionId:null!==(l=c.networkSessionId)&&void 0!==l?l:""});this.AN=this.vN.cacheEvent(u,this.AN)}Jd(e,t,n,i,r,s,a){var o;if(!this.kN(t))return;e instanceof DOMException&&(e={name:e.name,message:e.message});const l=new It({filename:n,lineno:i,stacktrace:null!==(o=null==e?void 0:e.stack)&&void 0!==o?o:"",colno:r,handled:jt(s),category:null!=a?a:"",message:t,moduleName:"RAGNAROK",sessionId:this.sessionId,subSessionId:this.subSessionId});this.processEvent(l)}gE(e,t,n,i,r,s){const a=new Mt({retryCount:r,sessionId:this.sessionId,subSessionId:this.subSessionId,serverId:n,url:e,overrideConfigType:Lt.kh.type,overrideConfigVersion:Lt.kh.version,disconnectionReason:i,cleanDisconnection:jt(s),networkType:je(is.getCurrentNetworkType()),statusCode:t?t.toString():"",cmsId:this.CN(),moduleName:"RAGNAROK"});this.processEvent(a)}yN(e,t,n,i,r){const s=new xt({featureName:e,supported:t?"SUPPORTED":"UNSUPPORTED",defaultEnabled:jt(n),enabled:jt(i),reason:r,moduleName:"RAGNAROK",networkType:je(is.getCurrentNetworkType()),overrideConfigType:Lt.kh.type,overrideConfigVersion:Lt.kh.version,sessionId:this.sessionId,subSessionId:this.subSessionId});this.processEvent(s)}Ge(e,t,n,i,r){const s=new wt({key1:null!=e?e:"",key2:null!=t?t:"",key3:null!=n?n:"",key4:null!=i?i:"",key5:null!=r?r:"",moduleName:"RAGNAROK",networkType:je(is.getCurrentNetworkType()),overrideConfigType:Lt.kh.type,overrideConfigVersion:Lt.kh.version,cmsId:this.CN(),sessionId:this.sessionId,subSessionId:this.subSessionId});this.processEvent(s)}zn(e,t,n,i,r,s){const a=new Ct({metricName:e,moduleName:"RAGNAROK",valueInt1:i,valueInt2:r,valueInt3:s,valueString:t,valueDouble:n,networkType:je(is.getCurrentNetworkType()),cmsId:this.CN(),sessionId:this.sessionId,subSessionId:this.subSessionId});this.processEvent(a)}Hu(e,t,n,i,r,s,a,o,l){if(this.cN>=50)return;this.cN++;const c=new ns({deviceName:e,deviceType:"GAMEPAD",vendorId:t,productId:n,deviceIndex:i,reportIndex:a?0:i,hapticsSupported:jt(r),hapticsFeedbackCount:s,state:o,eventMapReceived:l,eventMapProcessed:l,sessionId:this.sessionId,subSessionId:this.subSessionId,cmsId:this.CN()});this.processEvent(c)}MN(e,t,n,i,r,s){const a=new Tt({eventSequence:n,sleepTime:e,error:i,timeToSleep:t,moduleName:"RAGNAROK",cmsId:this.CN(),sessionId:r,subSessionId:s});this.processEvent(a)}IN(e){if(!this.fN){this.SN();const t=()=>{const t=Ce(e.TN());this.wN(t,t,e.PN(),e.ek(),e.Vk())};t(),this.fN=window.setInterval(t,12e4)}}DN(){this.fN&&(window.clearInterval(this.fN),this.fN=0)}processEvent(e){this.vN.processEvent(e)}SN(){this.vN.processCachedEvent(this.AN),this.AN=0}kN(e){var t;if(this.uN>=50)return!1;const n=null!==(t=this.lN.get(e))&&void 0!==t?t:0;return!(n>=10||(this.uN++,this.lN.set(e,n+1),0))}CN(){return this.cmsId}}class ss{constructor(e){this.sessionId="",this.subSessionId="",this.EN=0,this.RN=!1,this.telemetry=e,this.NN=new Bt(this,1e4,1e4)}BN(){this.NN.th()}xN(){this.NN.ih(!1)}FN(e){return this.EN=e,15868704===this.EN||15859712===this.EN?(this.NN.ih(!1),!1):(this.NN.ih(!0),this.NN.hh(),this.RN)}Ah(e){15867909!==this.EN&&15867908!==this.EN||(e.Qe="other"),this.LN(e.duration,e.fh-e.ph,e.Qe)}reset(e,t){this.sessionId=e,this.subSessionId=t,this.EN=0,this.RN=!1}LN(e,t,n){const i=Math.round(e/1e3),r=Math.round(t/1e3);this.telemetry.MN(i,r,n,Ce(this.EN),this.sessionId,this.subSessionId),this.xN(),this.RN=!0}}class as{constructor(){this.HN=0}jD(){this.HN=performance.now()}Ra(){return performance.now()-this.HN}ad(){return this.HN}}class os extends as{rr(e){var t;return(null!==(t=Lt.Mh.usePerfNowCaptureTimestamp)&&void 0!==t?t:!Te())?this.Ra():e-this.HN}}const ls="ios15AudioContext",cs="ios15AudioStream",us="GfnStreamClientBegin";performance.mark(us);class ds{constructor(e,t,n){this.Ms=e,this.delegate=t,this.UN=n,this.ag=new Jr,this.tD=new Zr,this.streamingState=0,this.startTime=0,this.isResume=!1,this.VN=0,this.GN=0,this.WN=0,this.sessionId="",this.subSessionId="",this.zoneAddress="",this.zoneName="",this.JP=[],this.$N=!1,this.appId=0,this.B_=e=>(i.Log.e("{93c7910}","{8516485}",e.filename,e.lineno,e.colno),this.telemetry.Jd(e.error,e.error&&e.error.message?e.error.message:e.message,e.filename,e.lineno,e.colno,!1),Lt.Mh.terminateUnhandledException&&this.qN(3237093392),!1),this.KN=()=>{var e;if(i.Log.i("{93c7910}","{478a408}",document.visibilityState,!!this.Hd),!this.Hd)return;const t=this.JP.find(e=>{const t=e.srcObject;return t instanceof MediaStream&&t.getAudioTracks().length}),n=this.Ln,r=t&&n&&Xe(this.Ms,15,4)&&Lt.Kh,s=Xe(this.Ms,15,4)&&this.$N&&Lt.qh;if("hidden"===document.visibilityState)this.GN=performance.now(),r&&(i.Log.i("{93c7910}","{cbd3b6e}"),t.muted=!0,n.muted=!0);else if("visible"===document.visibilityState)if(r&&(i.Log.i("{93c7910}","{05deefa}"),t.muted=!1,n.muted=!1),s){const t=null!==(e=Lt.Mh.userTerminatedMicRecorderThreshold)&&void 0!==e?e:2e3;this.GN-this.ZP.Yn()<t?(i.Log.i("{93c7910}","{862bd20}"),this.ZP.Vn(!0),this.captureMic(!0,this.QN)):(this.$N=!1,this.QN=void 0)}else Xe(this.Ms,15,4)&&!this.ZP.Xn()&&this.ZP.Jn()&&this.ZP.jn()&&this.ZP.Gn("visibilityChange")},this.zN=()=>{var e,t;this.qN((null!==(e=this.YN)&&void 0!==e?e:null===(t=this.Hd)||void 0===t?void 0:t.WE())?15867912:15867905)},this.XN=()=>{this.ZP.Zn(this.WN),this.WN++},this.jN=e=>{var t;e.detail.idle&&(this.VN=window.setTimeout(()=>{var e;null===(e=this.Hd)||void 0===e||e.mE(15867913)},6e4),null===(t=this.Hd)||void 0===t||t.F_(2,60))},this.Un=()=>{this.ZP.Un()};const r=window.zoneless;var s;this.Zo=new os,this.dg=Ii.getInstance(this.Ms,r),this.telemetry=new rs,this.ZP=new sn(this.Ms,this.telemetry),this.JN=new ss(this.telemetry),Lt.Uh&&this.dg.Ju(this.ag),s=this.telemetry,ht.Ve(s),this.ZN(),Lt.Mh.sendNonEssentialMetricEvents&&this.telemetry.zn("PlatformDetailsExecutionTime","",this.Ms.totalTime,0,0,0),i.Log.i("{93c7910}","{16f11e6}","Local"),i.Log.d("{93c7910}","{e85ad66}",navigator.userAgent)}startStreaming(e){var t,n,r,s,a,o,l,c,u,d,h,p,f,g,A,m,v,y;if(4!==this.streamingState&&0!==this.streamingState)return i.Log.w("{93c7910}","{60a7ff5}"),this.telemetry.Ge("SessionSetupInProgressError",e.resume?"resume":"start"),3237085186;const E=this.tB(e);if(15859712!==E)return E;if(this.isResume=null!==(t=e.resume)&&void 0!==t&&t,this.sessionId=e.sessionId,this.subSessionId=null!==(n=e.subSessionId)&&void 0!==n?n:"",this.zoneAddress=null!==(r=e.zoneAddress)&&void 0!==r?r:"",this.zoneName=null!==(a=null===(s=e.statTelemetryInfo)||void 0===s?void 0:s.zoneName)&&void 0!==a?a:"",this.appId=null!==(l=null===(o=e.statTelemetryInfo)||void 0===o?void 0:o.appId)&&void 0!==l?l:0,this.telemetry.pN(this.subSessionId,this.sessionId,this.appId.toString(),this.isResume,this.zoneAddress),this.JN.reset(this.sessionId,this.subSessionId),Xe(this.Ms,15)){const e="streamKitOldPlay";for(const t of this.JP){const n=t;n[e]||(n[e]=t.play);const r=Lt.Wh&&We(this.Ms,15,1);t.play=()=>{if(Lt.$h&&(i.Log.i("{93c7910}","{4a5b360}"),this.iB(),this.sB(),this.ZP.Un()),r){i.Log.i("{93c7910}","{8f5cd77}");const e=t.srcObject;t.srcObject&&(t.srcObject=null,t.srcObject=e)}return n[e].apply(t)}}}if(Lt.d_&&(We(this.Ms,15,0)||We(this.Ms,15,1))){const e="data-shouldautoplay",t="autoplay";for(const n of this.JP)n.hasAttribute(e)?n.setAttribute(t,""):(n.setAttribute(e,""),n.removeAttribute(t))}let S={ip:"",port:0,appLevelProtocol:0,usage:0,protocol:0};e.mediaConnectionInfo&&(S.ip=e.mediaConnectionInfo.address,S.port=e.mediaConnectionInfo.port,S.usage=2);const b={ip:e.signalConnectionInfo.address,port:e.signalConnectionInfo.port,protocol:(null!==(c=e.signalConnectionInfo.secure)&&void 0!==c?c:(x=e.signalConnectionInfo.address,!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(x)))?"wss":"ws",resourcePath:e.signalConnectionInfo.resourcePath};var x;const w={appId:this.appId,appLaunchMode:e.enableTouchInput?2:0,clientLocale:null!==(d=null===(u=e.statTelemetryInfo)||void 0===u?void 0:u.clientLocale)&&void 0!==d?d:"",gpuType:null!==(p=null===(h=e.statTelemetryInfo)||void 0===h?void 0:h.gpuType)&&void 0!==p?p:"",mediaConnectionInfo:[S],sessionId:this.sessionId,signalConnectionInfo:b,state:"ready_for_connection",streamInfo:e.downstreamParams,subSessionId:this.subSessionId,zoneAddress:this.zoneAddress,zoneName:this.zoneName,finalizedStreamingFeatures:e.streamingFeatures,iceServerConfiguration:e.iceServerConfiguration},I={...Fn};return null!==(f=I.windowedStreaming)&&void 0!==f||(I.windowedStreaming=e.windowedStreaming),null!==(g=I.cursorType)&&void 0!==g||(I.cursorType=e.cursorType),this.Hd=new Ur(this,this.JP,this.ZP,I,this.ag,this.dg,this.telemetry,this.Ms,w,this.Zo,this.isResume,this.tD,e.downstreamParams,this.Ln,null!==(A=e.textInputElement)&&void 0!==A?A:null===(m=this.UN)||void 0===m?void 0:m.textInputElement,null===(v=e.statTelemetryInfo)||void 0===v?void 0:v.clientAppVersion,null===(y=e.statTelemetryInfo)||void 0===y?void 0:y.region,e.upstreamParams,e.signalConnectionInfo.queryParameters,e.enableMicUpstream,null==e?void 0:e.streamingConfigurationProfile),this.eB(),this.streamingState=1,this.JN.BN(),this.startTime=performance.now(),this.Hd.start(),e.keyboardLayout&&this.Hd.setKeyboardLayout(e.keyboardLayout),15859712}stopStreaming(e){this.Hd&&(1!==this.streamingState&&2!==this.streamingState||(e=null!=e?e:15859712,i.Log.i("{93c7910}","{ae7f61b}",Ce(e)),this.streamingState=3,this.qN(e,!0)))}getStreamingState(){return this.streamingState}sendCustomMessage(e){var t;return null===(t=this.Hd)||void 0===t||t.sendCustomMessage(e),!!this.Hd}setStreamingMaxBitrate(e,t,n){var i;return null===(i=this.Hd)||void 0===i||i.setStreamingMaxBitrate(null!=t?t:0,e,n),!!this.Hd}setDynamicStreamingMode(e,t,n){var i;return null===(i=this.Hd)||void 0===i||i.setDrcDfcState(null!=t?t:0,e,n),!!this.Hd}setHdr10PlusGaming(e,t){var n;return null===(n=this.Hd)||void 0===n||n.jP(e,null!=t?t:0),!!this.Hd}setPrefilterParams(e){var t;return null===(t=this.Hd)||void 0===t||t.setPrefilterParams(e),!!this.Hd}setHudStreamingParams(e){var t;return!!(null===(t=this.Hd)||void 0===t?void 0:t.setHudStreamingParams(e))}setKeyboardLayout(e){var t;return null===(t=this.Hd)||void 0===t||t.setKeyboardLayout(e),!!this.Hd}setSupportedHidTypes(e){this.dg.Iu(e)}setGamepadRsdmm(e){var t;return!!this.Hd&&(null===(t=this.Hd)||void 0===t||t.toggleRsdmm(e),!0)}getVirtualInputController(){return this}getGamepadBitmap(){return this.dg.ff()}captureUserInput(e,t){var n;return null===(n=this.Hd)||void 0===n||n.toggleUserInput(e,t),!!this.Hd}sendTextInput(e){var t;return null===(t=this.Hd)||void 0===t||t.sendTextInput(e),!!this.Hd}sendBulkPayload(e,t){var n;return null===(n=this.Hd)||void 0===n||n.sendBulkPayload(e,t),!!this.Hd}getMicState(){return this.ZP.Nn()}captureMic(e,t){return!!this.Hd&&(this.$N=e,this.QN=e?t:void 0,this.$N?this.ZP.Wn(t):this.ZP.Fn(),!0)}setVideoTransforms(e,t,n,i){var r;return null===(r=this.Hd)||void 0===r||r.setVideoTransforms(e,t,n),!!this.Hd}setUpstreamMedia(e,t){var n;return this.Hd?null===(n=this.Hd)||void 0===n?void 0:n.setUpstreamMedia(e,t):Promise.resolve(!1)}unsetUpstreamMedia(e){var t;return this.Hd?null===(t=this.Hd)||void 0===t?void 0:t.unsetUpstreamMedia(e):Promise.resolve(!1)}stopUpstreamMedia(e){var t;return this.Hd?null===(t=this.Hd)||void 0===t?void 0:t.stopUpstreamMedia(e):Promise.resolve(!1)}startInputPlayback(e){var t;null===(t=this.Hd)||void 0===t||t.startInputPlayback(e)}GE(e){var t,n,r,s,a,o,l;let c=15859712;if(e.error)c=e.error.code,this.delegate.onStreamStartFailed(c),this.qN(c);else{this.streamingState=2;const o={streams:[],separateAudioStream:!!(null===(t=e.streams)||void 0===t?void 0:t.find(e=>{const t=e.tracks.find(e=>"video"===e.kind),n=e.tracks.find(e=>"audio"===e.kind);return!t&&n}))};for(let t=0;t<(null!==(r=null===(n=e.streamInfo)||void 0===n?void 0:n.length)&&void 0!==r?r:0);t++){const n=e.streamInfo[t],r={width:n.width,height:n.height,fps:n.fps,sdrHdrMode:n.sdrHdrMode,bitDepth:null!==(s=n.bitDepth)&&void 0!==s?s:8,codec:null===(a=this.Hd)||void 0===a?void 0:a.ek(t),videoTagId:this.JP[t].id,chromaFormat:i.ChromaFormat.YUV420,prefilterParams:e.prefilterParams,hudStreamingParams:e.hudStreamingParams};o.streams.push(r)}this.delegate.onStreamStarted(o),this.isResume&&this.$N&&this.captureMic(!0,this.QN)}this.telemetry.gN(Math.round(performance.now()-this.startTime),Ce(c),null!==(l=null===(o=this.Hd)||void 0===o?void 0:o.ek(0))&&void 0!==l?l:"UNKNOWN"),15859712===c&&this.telemetry.IN({Vk:()=>{var e,t;return null!==(t=null===(e=this.Hd)||void 0===e?void 0:e.UI())&&void 0!==t?t:0},TN:()=>{var e;return null!==(e=this.YN)&&void 0!==e?e:15867911},ek:()=>{var e,t;return null!==(t=null===(e=this.Hd)||void 0===e?void 0:e.ek(0))&&void 0!==t?t:"UNKNOWN"},PN:()=>performance.now()-this.startTime}),this.startTime=performance.now()}EE(e){this.qN(e.error.code)}onBulkPayload(e){this.delegate.onBulkPayload&&this.delegate.onBulkPayload(e)}cw(){this.hB()}onRtcRtpReceiver(e){"onRtcRtpReceiver"in this.delegate&&this.delegate.onRtcRtpReceiver(e)}emit(e,...t){var n,i,r,s,a,o,l,c,u,d;if(t.length)switch(e){case"StreamingEvent":t[0].streamingWarnings&&(null===(i=(n=this.delegate).onStreamWarning)||void 0===i||i.call(n,t[0].streamingWarnings));break;case"StreamingQuality":null===(s=(r=this.delegate).onStreamQuality)||void 0===s||s.call(r,t[0]);break;case"MicCapture":this.delegate.onMicStateUpdate&&void 0!==t[0].state&&this.delegate.onMicStateUpdate(t[0].state);break;case"TextComposition":null===(o=(a=this.delegate).onTextComposition)||void 0===o||o.call(a,t[0]);break;case"CustomMessage":this.delegate.onCustomMessage&&this.delegate.onCustomMessage(t[0]);break;case"StreamStatsUpdate":null===(c=(l=this.delegate).onStreamStatistics)||void 0===c||c.call(l,t[0]);break;case"EditBoxEvent":null===(d=(u=this.delegate).onEditBoxEvent)||void 0===d||d.call(u,t[0])}}addListener(e,t){}removeListener(e,t){}removeAllListeners(){}removeAllListenersOfEvent(e){}hasListener(e){return!0}setClientSupportsVirtualGamepad(e){this.dg.getVirtualGamepadHandler().enable()}handleVirtualGamepadState(e,t,n){this.dg.getVirtualGamepadHandler().updateInput(e,t,n)}setVirtualKeyboardState(e){var t;return null===(t=this.Hd)||void 0===t||t.setVirtualKeyboardState(e),!!this.Hd}handleVirtualKeyInput(e){var t;return null===(t=this.Hd)||void 0===t||t.sendKeyEvent(e),!!this.Hd}nB(){this.hB(),this.Hd=void 0,this.startTime=0,this.isResume=!1,this.YN=void 0,this.GN=0,this.WN=0,this.sessionId="",this.subSessionId="",this.zoneAddress="",this.zoneName="",this.JP=[],this.Ln=void 0,this.$N=!1,this.QN=void 0,this.appId=0,this.setSupportedHidTypes(0),this.setGamepadRsdmm(!1)}ZN(){var e,t,n;if(Lt.Mh.sendNonEssentialMetricEvents){const i="PerformanceTiming",r=performance.getEntriesByName("GfnJsInitStart")[0],s=performance.getEntriesByName("platformBegin")[0],a=performance.getEntriesByName(us)[0],o=performance.getEntriesByType("navigation"),l=Math.round(null!==(e=null==r?void 0:r.startTime)&&void 0!==e?e:-1),c=Math.round(null!==(t=null==s?void 0:s.startTime)&&void 0!==t?t:-1);if(this.telemetry.zn(i,"application timings",l,c,Math.round(null!==(n=null==a?void 0:a.startTime)&&void 0!==n?n:-1),c-l),!o.length)return void this.telemetry.zn(i,"navigation timings unsupported",0,0,0,0);const u=o[o.length-1];this.telemetry.zn(i,"load timings",Math.round(u.loadEventStart),Math.round(u.loadEventEnd),Math.round(u.domContentLoadedEventStart),Math.round(u.domContentLoadedEventEnd))}}qN(e,t){var n;if(4===this.streamingState||0===this.streamingState)return;const r=this.streamingState;this.streamingState=4,this.telemetry.DN(),this.telemetry.zn("HotPlug","",0,this.WN,0,0),xe(this.Ms)&&this.$N&&(i.Log.d("{93c7910}","{b9b1288}"),this.captureMic(!1)),this.ZP.Qn(),null===(n=this.Hd)||void 0===n||n.stop(e);const s=this.JN.FN(e);s&&(e=function(e,t){let n=e;if(Lt.Mh.sleepErrorsStreaming&&Lt.Mh.sleepErrorsStreaming.includes(Ce(e)))n=15867908;else if(Lt.Mh.sleepErrorsSessionSetup&&Lt.Mh.sleepErrorsSessionSetup.includes(Ce(e)))n=15867909;else switch(e){case 3237093906:(xe(t)||Me(t))&&(n=15867908);break;case 3237094159:n=15867908;break;case 3237093701:case 3237093654:n=15867909}return n!==e&&i.Log.i("{d988e7f}","{49e2182}",Ce(e),Ce(n)),n}(e,this.Ms)),function(e,t){const n=!((3237093888^t)>>8)||3237089282===t;return new Pt(e,void 0,Lt.Mh.connectivityCheckTimeout,!n).run()}(this.zoneAddress,e).then(n=>{var a;if(e=function(e,t){let n=e;if(!t.gh)if(Lt.Mh.offlineErrorsStreaming&&Lt.Mh.offlineErrorsStreaming.includes(Ce(e)))n=15868418;else if(Lt.Mh.offlineErrorsSessionSetup&&Lt.Mh.offlineErrorsSessionSetup.includes(Ce(e)))n=15868417;else switch(e){case 3237093906:case 3237093899:n=15868418;break;case 3237089282:n=15868417}return n!==e&&i.Log.i("{d988e7f}","{b84d4c8}",Ce(e),Ce(n)),n}(e,n),1!==r){const i=function(e,t){let n=!1;switch(e){case 3237093896:case 3237093897:case 3237093898:case 3237093906:case 3237093899:case 3237093901:case 15868418:case 3237094159:n=!0;break;case 15867908:xe(t)&&(n=!0)}return n}(e,this.Ms);let r={code:e,isResumable:i,isSessionAlive:Vt(e,i),reason:3};const o=new Set([3237093892,15867907,3237093896,3237093897,3237093898,3237093899,3237093900,3237093895,3237093901,3237093906,3237093929,15867908,15868418,3237094151,3237094158]);t?r.reason=0:o.has(e)?r.reason=2:15868672==(268435200&e)&&(r.reason=1);const l=null===(a=this.Hd)||void 0===a?void 0:a.By(0);l&&this.delegate.onStreamQualityReport&&this.delegate.onStreamQualityReport(l),this.delegate.onStreamStopped(r),this.oB(e,n,s)}this.iB(),this.nB(),this.rB()})}oB(e,t,n){var i,r,s,a;const o=Ce(e),l=performance.now()-this.startTime,c=null!==(r=null===(i=this.Hd)||void 0===i?void 0:i.ek(0))&&void 0!==r?r:"UNKNOWN",u=null!==(a=null===(s=this.Hd)||void 0===s?void 0:s.UI())&&void 0!==a?a:0;this.telemetry.bN(o,l,c,u,t,n)}hB(){this.VN&&(window.clearTimeout(this.VN),this.VN=0)}eB(){var e,t,n,i;const r=window.zoneless,s=null!==(t=null===(e=null==r?void 0:r.windowAddEventListener)||void 0===e?void 0:e.bind(window))&&void 0!==t?t:window.addEventListener.bind(window),a=null!==(i=null===(n=null==r?void 0:r.documentAddEventListener)||void 0===n?void 0:n.bind(document))&&void 0!==i?i:document.addEventListener.bind(document);s("pagehide",this.zN),s("error",this.B_),a("visibilitychange",this.KN),navigator.mediaDevices&&navigator.mediaDevices.addEventListener("devicechange",this.XN),Pe(this.Ms)&&a("SystemIdle",this.jN)}rB(){var e,t,n,i;const r=window.zoneless,s=null!==(t=null===(e=null==r?void 0:r.windowRemoveEventListener)||void 0===e?void 0:e.bind(window))&&void 0!==t?t:window.removeEventListener.bind(window),a=null!==(i=null===(n=null==r?void 0:r.documentRemoveEventListener)||void 0===n?void 0:n.bind(document))&&void 0!==i?i:document.removeEventListener.bind(document);s("pagehide",this.zN),s("error",this.B_),a("visibilitychange",this.KN),navigator.mediaDevices&&navigator.mediaDevices.removeEventListener("devicechange",this.XN),Pe(this.Ms)&&(a("SystemIdle",this.jN),this.hB())}iB(){Lt.$h&&(window[ls]&&(window[ls].close(),window[ls]=void 0,i.Log.i("{93c7910}","{0ac2a42}")),window[cs]=void 0,navigator.mediaDevices&&this.Un&&navigator.mediaDevices.removeEventListener("devicechange",this.Un))}sB(){if(!Lt.$h)return;if(window[ls])return void i.Log.i("{93c7910}","{e2aba64}");const e=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive",sampleRate:48e3});e.onstatechange=()=>{"suspended"===e.state&&(e.resume(),this.ZP.Un(),i.Log.i("{93c7910}","{faee684}"))},window[ls]=e,window[cs]=e.createMediaStreamDestination(),navigator.mediaDevices&&this.Un&&navigator.mediaDevices.addEventListener("devicechange",this.Un),i.Log.i("{93c7910}","{b5f7b9b}")}tB(e){if(e.downstreamParams.length)for(const t of e.downstreamParams){const e=t.videoTagId,n=document.getElementById(e);if(!(n&&n instanceof HTMLVideoElement))return i.Log.e("{93c7910}","{543aef4}",e),3237094400;this.JP.push(n)}else if(e.audioTagId){const t=document.getElementById(e.audioTagId);if(!(t&&t instanceof HTMLAudioElement))return 3237094401;this.Ln=t}const t=!!Lt.Eh&&!!Lt.Rh,n=!!Lt.fps;if(t||n){for(const i of e.downstreamParams)t&&(i.width=Lt.Eh,i.height=Lt.Rh),n&&(i.fps=Lt.fps);t&&i.Log.i("{93c7910}","{92a6b38}",Lt.Eh,Lt.Rh),n&&i.Log.d("{93c7910}","{6618bcd}",Lt.fps)}return e.iceServerConfiguration&&(e.iceServerConfiguration=function(e){const t=Object.values(ve);return e.iceTransportPolicy&&!t.includes(e.iceTransportPolicy)&&(i.Log.w("{d988e7f}","{5776afe}",JSON.stringify(null!=e?e:"undefined",null,2)),e.iceTransportPolicy=void 0),e}(e.iceServerConfiguration)),15859712}}t.configureOverrideSettings=function(e){var t,n,r,s,a,o,l,c,u,d,h,p,f,g,A,m,v,y,E,S,b,x,w,I,C,T,M,B,R,P,_,D,N,L,O,k,U,F,Q,V,H,G,z,W,X,j,q,Y,J,Z,K,$,ee,te,ne,ie,re,se,ae,oe,le;if(i.Log.i("{a112b01}","{b961c00}",JSON.stringify(e)),e.clientConfigOverride&&(Lt.clientConfigOverride=e.clientConfigOverride),e.gxtOverrideData){const t=JSON.parse(e.gxtOverrideData);if(t.params)for(const e of t.params)"ragnarok"===e.name&&(Lt.Mh=e.value,Lt.kh={type:"GXT",version:e.version})}else e.remoteConfigData&&e.remoteConfigData.ragnarok&&(Lt.Mh=JSON.parse(e.remoteConfigData.ragnarok),Lt.kh={type:"RCONFIG",version:null!==(t=e.remoteConfigData.version)&&void 0!==t?t:""});if(e.isInternalUser&&(Lt.isInternalUser=e.isInternalUser),e.overrideData){const t=new URLSearchParams(e.overrideData);let ce=new URLSearchParams;for(const[e,n]of t.entries())ce.append(e.toLowerCase(),n);"lean"===(null===(n=ce.get("mode"))||void 0===n?void 0:n.toLowerCase())?(Lt.Ih=!0,Lt.o=!1,Lt.Th=!1,Lt.Ph=!1,Lt.Dh=!1,Lt.Xh=!1,Lt.stutterIndicator=!0,Lt.isInternalUser=!0):"dev"===(null===(r=ce.get("mode"))||void 0===r?void 0:r.toLowerCase())&&(Lt.stutterIndicator=!0,Lt.isInternalUser=!0);const ue=e=>function(e){if(e)switch(e.toLowerCase()){case"enable":case"on":case"1":case"true":return!0;case"disable":case"off":case"0":case"false":return!1}}(ce.get(e)),de=e=>kt(ce.get(e)),he=e=>function(e){if(e){const t=Number.parseFloat(e);if(!Number.isNaN(t))return t}}(ce.get(e)),pe=e=>function(e){if(e)return e.split(",")}(ce.get(e)),fe=(e,t)=>{const n=ce.get(e);return null===n?t:n||void 0};Lt.o=null!==(s=ue("log"))&&void 0!==s?s:Lt.o,Lt.l=Lt.o&&(null!==(a=ue("console"))&&void 0!==a?a:Lt.l),Lt.Th=null!==(o=ue("gamepad"))&&void 0!==o?o:Lt.Th,Lt.Ph=null!==(l=ue("webrtcstats"))&&void 0!==l?l:Lt.Ph,Lt.Dh=null!==(c=ue("statsupload"))&&void 0!==c?c:Lt.Dh,Lt.Xh=null!==(u=ue("mic"))&&void 0!==u?u:Lt.Xh,Lt.jh=null!==(d=ue("mousefilter"))&&void 0!==d?d:Lt.jh,Lt.unadjustedMovement=null!==(h=ue("unadjustedmovement"))&&void 0!==h?h:Lt.unadjustedMovement,Lt.maxBitrate=null!==(p=de("bitrate"))&&void 0!==p?p:Lt.maxBitrate,Lt.maxBitrate>0&&Lt.maxBitrate<=100&&(Lt.maxBitrate*=1e3),Lt.Uh=null!==(f=ue("gamepadtest"))&&void 0!==f?f:Lt.Uh;const ge=ce.get("resolution");if(ge){const e=ge.toLowerCase().split("x");if(2==e.length){const t=parseInt(e[0]),n=parseInt(e[1]);t&&n?(Lt.Eh=t,Lt.Rh=n):i.Log.e("{a112b01}","{c87835d}",ge)}else i.Log.e("{a112b01}","{c87835d}",ge)}Lt.fps=null!==(g=de("fps"))&&void 0!==g?g:Lt.fps,Lt.Nh=null!==(A=ue("gamepadraf"))&&void 0!==A?A:Lt.Nh,Lt.gamepadPollInterval=null!==(m=de("gamepadpoll"))&&void 0!==m?m:Lt.gamepadPollInterval,Lt.Bh=null!==(v=ue("advancedgestures"))&&void 0!==v?v:Lt.Bh,Lt.xh=null!==(y=ue("forcetouchdevice"))&&void 0!==y?y:Lt.xh;let Ae=ue("touch");void 0!==Ae&&(Lt.appLaunchMode=Ae?2:0,Lt.xh=Ae),Lt.Fh=null!==(E=ue("storetouch"))&&void 0!==E?E:Lt.Fh,Lt.Lh=null!==(S=ue("storetouchgesture"))&&void 0!==S?S:Lt.Lh,Lt.Oh=null!==(b=ue("touchwarp"))&&void 0!==b?b:Lt.Oh,Lt.Hh=null!==(x=ue("latency"))&&void 0!==x?x:Lt.Hh,Lt.deviceOs=fe("deviceos",Lt.deviceOs),Lt.deviceType=fe("devicetype",Lt.deviceType),Lt.clientStreamer=fe("clientstreamer",Lt.clientStreamer),Lt.clientType=fe("clienttype",Lt.clientType),Lt.clientPlatformName=fe("clientplatformname",Lt.clientPlatformName),Lt.clientId=fe("clientid",Lt.clientId);const me=ce.get("applaunchmode");if(null!==me&&(Lt.appLaunchMode=kt(me)),Lt.Vh=null!==(w=ue("rsdmm"))&&void 0!==w?w:Lt.Vh,Lt.Gh=null!==(I=ue("rsdmmtoggle"))&&void 0!==I?I:Lt.Gh,null===(C=ue("ioswars"))||void 0===C||C||(Lt.$h=!1,Lt.d_=!1,Lt.Wh=!1,Lt.qh=!1,Lt.Kh=!1),Lt.$h=null!==(T=ue("audioreset"))&&void 0!==T?T:Lt.$h,Lt.Wh=null!==(M=ue("sourcereset"))&&void 0!==M?M:Lt.Wh,Lt.d_=null!==(B=ue("autoplaychange"))&&void 0!==B?B:Lt.d_,Lt.bitsPerPixel=null!==(R=he("bitsperpixel"))&&void 0!==R?R:Lt.bitsPerPixel,Lt.bitsPerPixel1440p=null!==(P=he("bitsperpixel1440p"))&&void 0!==P?P:Lt.bitsPerPixel1440p,Lt.Jh=null!==(_=ue("1440p"))&&void 0!==_?_:Lt.Jh,Lt.stutterIndicator=null!==(D=ue("stutter"))&&void 0!==D?D:Lt.stutterIndicator,ce.has("meta")){Lt.Zh={};for(const e of ce.getAll("meta")){const t=e.split("~");2===t.length&&(Lt.Zh[t[0]]=t[1])}}Lt.allowHaptics=null!==(N=ue("haptics"))&&void 0!==N?N:Lt.allowHaptics,Lt.enableAv1Support=null!==(L=ue("av1"))&&void 0!==L?L:Lt.enableAv1Support,Lt.enableH265Support=null!==(O=ue("h265"))&&void 0!==O?O:Lt.enableH265Support,Lt.codecList=null!==(k=pe("codeclist"))&&void 0!==k?k:Lt.codecList,Lt.isInternalUser=null!==(U=ue("internaluser"))&&void 0!==U?U:Lt.isInternalUser,Lt.hdr=null!==(F=ue("hdr"))&&void 0!==F?F:Lt.hdr,Lt.hdr10gParams=null!==(Q=ce.get("hdr10gparams"))&&void 0!==Q?Q:Lt.hdr10gParams,Lt.tn=null!==(V=ue("sdr10"))&&void 0!==V?V:Lt.tn,Lt.Qh=null!==(H=ue("hotkeys"))&&void 0!==H?H:Lt.Qh,Lt.sn=null!==(G=ue("forcehotkeys"))&&void 0!==G?G:Lt.sn,Lt.synthesizeGamepadHid=null!==(z=ue("synthesizegamepadhid"))&&void 0!==z?z:Lt.synthesizeGamepadHid,Lt.en=null!==(W=ue("synthesizedds4disabled"))&&void 0!==W?W:Lt.en,Lt.hn=null!==(X=ue("synthesizedds5disabled"))&&void 0!==X?X:Lt.hn,Lt.nn=null!==(j=ue("synthesizedds4fromds5disabled"))&&void 0!==j?j:Lt.nn,Lt.rn=null!==(q=ue("synthesizedds5fromds4disabled"))&&void 0!==q?q:Lt.rn,Lt.an=null!==(Y=ue("synthesizedds4fromgenericenabled"))&&void 0!==Y?Y:Lt.an,Lt.dn=null!==(J=ue("synthesizedds5fromgenericenabled"))&&void 0!==J?J:Lt.dn,Lt.cn=null!==(Z=ue("synthesizedds4allgamesenabled"))&&void 0!==Z?Z:Lt.cn,Lt.ln=null!==(K=ue("synthesizedds5allgamesenabled"))&&void 0!==K?K:Lt.ln,Lt.un=null!==($=ue("forceserverds4"))&&void 0!==$?$:Lt.un,Lt.An=null!==(ee=ue("forceserverds5"))&&void 0!==ee?ee:Lt.An,Lt.cursor=null!==(te=ce.get("cursor"))&&void 0!==te?te:Lt.cursor,Lt.pointerLockEscape=null!==(ne=ue("pointerlockescape"))&&void 0!==ne?ne:Lt.pointerLockEscape,Lt.enableComputePressure=null!==(ie=ue("computepressure"))&&void 0!==ie?ie:Lt.enableComputePressure,Lt.fn=null!==(re=ue("disableworkerws"))&&void 0!==re?re:Lt.fn,Lt.Mh.useTelemetryV2=null!==(se=ue("usetelemetryv2"))&&void 0!==se?se:Lt.Mh.useTelemetryV2,Lt.zh=null!==(ae=ue("rirecorder"))&&void 0!==ae?ae:Lt.zh,Lt.Yh=null!==(oe=ce.get("turn"))&&void 0!==oe?oe:Lt.Yh,Lt.iceTransportPolicy=null!==(le=ce.get("icetransportpolicy"))&&void 0!==le?le:Lt.iceTransportPolicy}!function(e){var t,n,r,s;if(i.Log.i("{11b33a0}","{e65e133}",JSON.stringify(e)),function(e){var t,n;if(e.overrideData){const i=e.overrideData.toLowerCase(),r=new URLSearchParams(i);"lean"===r.get("mode")&&(qe.o=!1);const s=e=>Ye(r.get(e));qe.o=null!==(t=s("log"))&&void 0!==t?t:qe.o,qe.l=qe.o&&(null!==(n=s("console"))&&void 0!==n?n:qe.l)}}(e),e.gxtOverrideData){const t=JSON.parse(e.gxtOverrideData);if(t.params)for(const e of t.params)"pmCommunication"===e.name&&(_t.Sh.pmCommunication=e.value,_t.kh={type:"GXT",version:e.version})}if(e.overrideData){const i=e.overrideData.toLowerCase(),a=new URLSearchParams(i),o=e=>Ye(a.get(e));_t.o=null!==(t=o("log"))&&void 0!==t?t:_t.o,_t.l=_t.o&&(null!==(n=o("console"))&&void 0!==n?n:_t.l),_t.Ch=null!==(r=o("websocketsignaling"))&&void 0!==r?r:_t.Ch,_t.yh=null!==(s=o("webrtcstreamer"))&&void 0!==s?s:_t.yh}}(e);for(const e of Ot)e()},t.createStreamClient=function(e,t,n){return new ds(e,t,n)},t.decodeWsErrorCodes=function(e){switch(e){case 3237101567:return 1e3;case 3237101566:return 1001;case 3237101565:return 1002;case 3237101564:return 1003;case 3237101562:return 1005;case 3237093890:return 1006;case 3237101560:return 1007;case 3237101559:return 1008;case 3237101558:return 1009;case 3237101557:return 1010;case 3237101556:return 1011;case 3237101555:return 1012;case 3237101554:return 1013;case 3237101553:return 1014;case 3237101552:return 1015;case 3237101551:return 3e3;case 3237101550:return 3003;case 3237101549:return 3008}if(e>=3237097472&&e<=3237101567)return e-3237097472+4e3},t.estimateDataUsage=function(e,t){const n=1e3*t;let i=3600*(120===e?.916*n+293098:.678*n+910569)/1e9/8;return 30===e&&(i*=.625),i*=.95,i=Math.round(i),i},t.getDeviceCapabilities=async function(e,t){return Sn.mo(e)},t.getNetworkTypeDetector=function(){return is},t.getPlatformDetails=function(){return performance.mark("platformBegin"),ht.Ps()},t.getRecommendedBitrate=an,t.getStreamStartParameters=function(e){const t=JSON.parse(e),n={downstreamParams:[],signalConnectionInfo:{address:"",port:0},enableTouchInput:2===t.appLaunchMode,sessionId:t.sessionId,subSessionId:t.subSessionId,audioTagId:"",zoneAddress:t.zoneAddress,statTelemetryInfo:{appId:t.appId,zoneName:t.zoneName,gpuType:t.gpuType},streamingFeatures:t.finalizedStreamingFeatures};for(const e of t.monitorSettings)n.downstreamParams.push({width:e.widthInPixels,height:e.heightInPixels,fps:e.framesPerSecond,videoTagId:"",sdrHdrMode:e.sdrHdrMode});for(const e of t.connectionInfo)switch(e.usage){case 14:n.signalConnectionInfo.address=e.ip,n.signalConnectionInfo.port=e.port,n.signalConnectionInfo.secure=5===e.appLevelProtocol,n.signalConnectionInfo.resourcePath=e.resourcePath;break;case 2:case 17:n.mediaConnectionInfo={address:e.ip,port:e.port}}return n},t.getStreamerType=function(){return"WEBRTC"},t.isFeatureSupported=function(e,t){switch(e){case 0:return function(e){var t;const n=window.RTCPeerConnection;if(!n)return!1;if(xe(e))return Xe(e,14,3);let r=!0;switch(Te()&&Ve(e)&&(He(e,77)||(r=!1)),e.browser){case i.PlatformBrowser.CHROME:He(e,77)||(r=!1);break;case i.PlatformBrowser.EDGE_LEGACY:r=!1;break;case i.PlatformBrowser.SAFARI:const s=null==n?void 0:n.prototype;s&&(null===(t=s.hasOwnProperty)||void 0===t?void 0:t.call(s,"canTrickleIceCandidates"))&&function(e){if(e.browser!=i.PlatformBrowser.SAFARI)return!1;try{return ze(e.browserVer,!1,16,4)}catch(e){i.Log.w("{d988e7f}","{07fd1dd}")}return!0}(e)||(r=!1)}return r}(t);case 1:return sn.isMicSupported();default:return!1}},t.prefetchDeviceCapabilities=function(){Sn.po()},t.registerDeviceCapabilitiesChanged=function(e){Sn.bo(e)},t.serializeDeviceCapabilities=function(e){return JSON.stringify(e)},t.shouldDefaultEnableMic=function(e){return!(Pe(e)||Le(e)||xe(e))},t.unregisterDeviceCapabilitiesChanged=function(e){Sn.wo(e)}},2451(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.VectorPredictor=void 0;const i=n(1961);t.VectorPredictor=class{constructor(){this.vectors=new Map,this.predictedVectors=new Map,this.baseVector=i.vec3.create(),this.baseTime=0,this.slope=i.vec3.create(),this.intercept=i.vec3.create(),this.paramsValid=!1}invalidateParams(){this.paramsValid=!1}updateRegressionParams(){if(this.paramsValid)return;i.vec3.set(this.slope,0,0,0),i.vec3.set(this.intercept,0,0,0),this.paramsValid=!0;const e=this.vectors.size+this.predictedVectors.size;if(e<1)return;let t;if(t=this.vectors.size>0?Array.from(this.vectors.entries())[0]:Array.from(this.predictedVectors.entries())[0],i.vec3.copy(this.baseVector,t[1]),this.baseTime=t[0],e<2)return;let n=0,r=i.vec3.create(),s=i.vec3.create(),a=0;for(const[e,t]of this.vectors.entries()){const o=e-this.baseTime,l=i.vec3.create();i.vec3.subtract(l,t,this.baseVector),n+=o,i.vec3.add(r,r,l),i.vec3.scaleAndAdd(s,s,l,o),a+=o*o}for(const[e,t]of this.predictedVectors.entries()){const o=e-this.baseTime,l=i.vec3.create();i.vec3.subtract(l,t,this.baseVector),n+=o,i.vec3.add(r,r,l),i.vec3.scaleAndAdd(s,s,l,o),a+=o*o}const o=e*a-n*n;if(Math.abs(o)<1e-10)return;const l=i.vec3.create(),c=i.vec3.create();i.vec3.scale(l,r,a),i.vec3.scale(c,s,n),i.vec3.subtract(this.intercept,l,c),i.vec3.scale(this.intercept,this.intercept,1/o),i.vec3.scale(l,s,e),i.vec3.scale(c,r,n),i.vec3.subtract(this.slope,l,c),i.vec3.scale(this.slope,this.slope,1/o)}record(e,t,n){this.invalidateParams();const r=i.vec3.create();i.vec3.copy(r,e),this.vectors.set(t,r),this.discardOld(t,n),this.discardPredictedOlderThan(t)}recordPredicted(e,t){this.invalidateParams();const n=i.vec3.create();i.vec3.copy(n,e),this.predictedVectors.set(t,n)}predict(e){this.updateRegressionParams();const t=this.vectors.size+this.predictedVectors.size;if(0===t)return null;if(1===t){if(1===this.vectors.size){const e=Array.from(this.vectors.values())[0];return i.vec3.clone(e)}{const e=Array.from(this.predictedVectors.values())[0];return i.vec3.clone(e)}}const n=e-this.baseTime,r=i.vec3.create();i.vec3.copy(r,this.baseVector),i.vec3.add(r,r,this.intercept),i.vec3.scaleAndAdd(r,r,this.slope,n);for(let e=0;e<r.length;e++)if(!isFinite(r[e])||isNaN(r[e]))return null;return r}discardOld(e,t,n=2){const i=e-t;for(const[e]of this.vectors)e<i&&this.vectors.size>n&&(this.vectors.delete(e),this.invalidateParams())}discardPredictedOlderThan(e){for(const[t]of this.predictedVectors)t<e&&(this.predictedVectors.delete(t),this.invalidateParams())}getRecordedCount(){return this.vectors.size}getPredictedCount(){return this.predictedVectors.size}getTotalCount(){return this.vectors.size+this.predictedVectors.size}}},2654(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.createShader=function(e,t,n,i){const r=e.createShader(t);if(!r)throw new Error("Failed to create shader");let s=n;if(i){const e=Object.entries(i).map(([e,t])=>"boolean"==typeof t?"#define "+e+" "+(t?"true":"false"):"#define "+e+" "+t).join("\n"),t=n.match(/^(#version\s+\d+\s+es\s*\n)/);s=t?t[1]+e+"\n"+n.substring(t[1].length):e+"\n"+n}if(e.shaderSource(r,s),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r),e.deleteShader(r),new Error("Failed to compile shader");return r},t.logOrThrow=function(e,t){const n=t.getError();if(n!==t.NO_ERROR){let i;switch(n){case t.INVALID_ENUM:i="INVALID_ENUM";break;case t.INVALID_VALUE:i="INVALID_VALUE";break;case t.INVALID_OPERATION:i="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:i="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:i="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:i="CONTEXT_LOST_WEBGL";break;default:i="UNKNOWN_ERROR"}throw new Error("WebGL error: "+e+": "+i+" ("+n+")")}}},2816(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.FastWindowedExtremum=void 0,t.FastWindowedExtremum=class{constructor(e,t,n){this.numValuesInNewWindow=0,this.outlierCount=0,this.minWindowSize=e,this.outlierPercentile=t,this.comparator="min"===n?(e,t)=>e<t:(e,t)=>e>t,this.initValue="min"===n?1/0:-1/0,this.oldWindowExtremum=this.initValue,this.newWindowExtremum=this.initValue}insert(e){let t=!1;this.comparator(e,this.get())&&(this.outlierCount++,this.outlierCount/this.minWindowSize<this.outlierPercentile?t=!0:this.outlierCount=0),this.numValuesInNewWindow++,!t&&this.comparator(e,this.newWindowExtremum)&&(this.newWindowExtremum=e),this.numValuesInNewWindow===this.minWindowSize&&(this.oldWindowExtremum=this.newWindowExtremum,this.newWindowExtremum=this.initValue,this.numValuesInNewWindow=0,this.outlierCount=0)}get(){return this.comparator(this.newWindowExtremum,this.oldWindowExtremum)?this.newWindowExtremum:this.oldWindowExtremum}}},2885(e,t){"use strict";var n,i;Object.defineProperty(t,"t",{value:!0}),t.ScalarType=void 0,(i=n||(t.ScalarType=n={}))[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"},2949(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.scalarEquals=function(e,t,n){if(t===n)return!0;if(e==r.ScalarType.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case r.ScalarType.UINT64:case r.ScalarType.FIXED64:case r.ScalarType.INT64:case r.ScalarType.SFIXED64:case r.ScalarType.SINT64:return t==n}return!1},t.scalarZeroValue=function(e,t){switch(e){case r.ScalarType.STRING:return"";case r.ScalarType.BOOL:return!1;case r.ScalarType.DOUBLE:case r.ScalarType.FLOAT:return 0;case r.ScalarType.INT64:case r.ScalarType.UINT64:case r.ScalarType.SFIXED64:case r.ScalarType.FIXED64:case r.ScalarType.SINT64:return t?"0":i.protoInt64.zero;case r.ScalarType.BYTES:return new Uint8Array(0);default:return 0}},t.isScalarZeroValue=function(e,t){switch(e){case r.ScalarType.BOOL:return!1===t;case r.ScalarType.STRING:return""===t;case r.ScalarType.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}};const i=n(4011),r=n(2885)},2992(e,t){"use strict";function n(e){return e.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(e.substring(16))}Object.defineProperty(t,"t",{value:!0}),t.isWrapper=function(e){return n(e.$typeName)},t.isWrapperDesc=function(e){const t=e.fields[0];return n(e.typeName)&&void 0!==t&&"scalar"==t.fieldKind&&"value"==t.name&&1==t.number}},3056(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.BinaryReader=t.BinaryWriter=t.INT32_MIN=t.INT32_MAX=t.UINT32_MAX=t.FLOAT32_MIN=t.FLOAT32_MAX=t.WireType=void 0;const i=n(9119),r=n(4011),s=n(898);var a,o;function l(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>t.INT32_MAX||e<t.INT32_MIN)throw new Error("invalid int32: "+e)}function c(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>t.UINT32_MAX||e<0)throw new Error("invalid uint32: "+e)}(o=a||(t.WireType=a={}))[o.Varint=0]="Varint",o[o.Bit64=1]="Bit64",o[o.LengthDelimited=2]="LengthDelimited",o[o.StartGroup=3]="StartGroup",o[o.EndGroup=4]="EndGroup",o[o.Bit32=5]="Bit32",t.FLOAT32_MAX=34028234663852886e22,t.FLOAT32_MIN=-34028234663852886e22,t.UINT32_MAX=4294967295,t.INT32_MAX=2147483647,t.INT32_MIN=-2147483648,t.BinaryWriter=class{constructor(e=(0,s.getTextEncoding)().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(c(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return l(e),(0,i.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),Number.isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>t.FLOAT32_MAX||e<t.FLOAT32_MIN))throw new Error("invalid float32: "+e)}(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){c(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){l(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return l(e),e=(e<<1^e>>31)>>>0,(0,i.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=r.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=r.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=r.protoInt64.enc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){const t=r.protoInt64.enc(e),n=t.hi>>31,s=t.lo<<1^n,a=(t.hi<<1|t.lo>>>31)^n;return(0,i.varint64write)(s,a,this.buf),this}uint64(e){const t=r.protoInt64.uEnc(e);return(0,i.varint64write)(t.lo,t.hi,this.buf),this}},t.BinaryReader=class{constructor(e,t=(0,s.getTextEncoding)().decodeUtf8){this.decodeUtf8=t,this.varint64=i.varint64read,this.uint32=i.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case a.Varint:for(;128&this.buf[this.pos++];);break;case a.Bit64:this.pos+=4;case a.Bit32:this.pos+=4;break;case a.LengthDelimited:let n=this.uint32();this.pos+=n;break;case a.StartGroup:for(;;){const[e,n]=this.tag();if(n===a.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return r.protoInt64.dec(...this.varint64())}uint64(){return r.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,r.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return r.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return r.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}},3305(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.PosePredictor=void 0;const i=n(1961),r=n(2451);t.PosePredictor=class{constructor(){this.positionPredictor=new r.VectorPredictor,this.forwardPredictor=new r.VectorPredictor,this.sidePredictor=new r.VectorPredictor,this.upPredictor=new r.VectorPredictor,this.lastRecordedTrueTimestamp=-1}quaternionToThreeVectors(e,t,n,r){const s=i.vec3.fromValues(0,0,-1);i.vec3.transformQuat(t,s,e);const a=i.vec3.fromValues(0,1,0);i.vec3.transformQuat(n,a,e);const o=i.vec3.fromValues(1,0,0);i.vec3.transformQuat(r,o,e)}orthogonalizeVectors(e,t,n,r,s,a){i.vec3.normalize(r,e);const o=i.vec3.dot(t,r);i.vec3.copy(s,t),i.vec3.scaleAndAdd(s,s,r,-o),i.vec3.normalize(s,s);const l=i.vec3.dot(n,r),c=i.vec3.dot(n,s);i.vec3.copy(a,n),i.vec3.scaleAndAdd(a,a,r,-l),i.vec3.scaleAndAdd(a,a,s,-c),i.vec3.normalize(a,a);const u=i.vec3.create();i.vec3.cross(u,r,s),i.vec3.dot(a,u)<0&&i.vec3.negate(a,a),i.vec3.cross(s,a,r)}threeVectorsToQuaternion(e,t,n,r){const s=n[0],a=t[0],o=-e[0],l=n[1],c=t[1],u=-e[1],d=n[2],h=t[2],p=-e[2],f=s+c+p;if(f>0){const e=2*Math.sqrt(f+1);r[3]=.25*e,r[0]=(h-u)/e,r[1]=(o-d)/e,r[2]=(l-a)/e}else if(s>c&&s>p){const e=2*Math.sqrt(1+s-c-p);r[3]=(h-u)/e,r[0]=.25*e,r[1]=(a+l)/e,r[2]=(o+d)/e}else if(c>p){const e=2*Math.sqrt(1+c-s-p);r[3]=(o-d)/e,r[0]=(a+l)/e,r[1]=.25*e,r[2]=(u+h)/e}else{const e=2*Math.sqrt(1+p-s-c);r[3]=(l-a)/e,r[0]=(o+d)/e,r[1]=(u+h)/e,r[2]=.25*e}i.quat.normalize(r,r)}record(e,t,n,r){if(!(t<=this.lastRecordedTrueTimestamp)&&(this.lastRecordedTrueTimestamp=t,this.positionPredictor.record(e,t,n),r)){const e=i.vec3.create(),s=i.vec3.create(),a=i.vec3.create();this.quaternionToThreeVectors(r,e,s,a),this.forwardPredictor.record(e,t,n),this.sidePredictor.record(a,t,n),this.upPredictor.record(s,t,n)}}recordPredicted(e,t,n){if(this.positionPredictor.recordPredicted(e,t),n){const e=i.vec3.create(),r=i.vec3.create(),s=i.vec3.create();this.quaternionToThreeVectors(n,e,r,s),this.forwardPredictor.recordPredicted(e,t),this.sidePredictor.recordPredicted(s,t),this.upPredictor.recordPredicted(r,t)}}getSmoothPose(e){const t=this.positionPredictor.predict(e);if(null===t)return null;for(let e=0;e<t.length;e++)if(!isFinite(t[e])||isNaN(t[e]))return null;return t}getSmoothOrientation(e){const t=this.forwardPredictor.predict(e),n=this.sidePredictor.predict(e),r=this.upPredictor.predict(e);if(null===t||null===n||null===r)return null;i.vec3.normalize(t,t),i.vec3.normalize(n,n),i.vec3.normalize(r,r);const s=i.vec3.create(),a=i.vec3.create(),o=i.vec3.create();this.orthogonalizeVectors(t,r,n,s,a,o);const l=i.quat.create();this.threeVectorsToQuaternion(s,a,o,l);for(let e=0;e<l.length;e++)if(!isFinite(l[e])||isNaN(l[e]))return null;return l}}},3366(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});const i="#version 300 es\nprecision highp float;precision highp int;\n#define GLSLIFY 1\nconst float Kr=0.2126;const float Kb=0.0722;const float Kg=1.0-Kr-Kb;float roundTo8bit(float x){return clamp(floor(x*255.0-0.5)/255.0,0.0,1.0);}float roundTo7bit(float x){return clamp(floor(x*127.0-0.5)/127.0,0.0,1.0);}float linearToNonlinear(float x){if(x<0.018){x*=4.5;}else{const float a=0.099;const float gamma=0.45;x=(1.0+a)*pow(x,gamma)-a;}return x;}float srgbToLinear(float x){if(x<=0.04045){return x/12.92;}return pow((x+0.055)/1.055,2.4);}vec3 srgbToLinear(vec3 rgb){return vec3(srgbToLinear(rgb.r),srgbToLinear(rgb.g),srgbToLinear(rgb.b));}float linearToSrgb(float x){if(x<=0.0031308){return 12.92*x;}return 1.055*pow(x,1.0/2.4)-0.055;}vec3 linearToSrgb(vec3 rgb){return vec3(linearToSrgb(rgb.r),linearToSrgb(rgb.g),linearToSrgb(rgb.b));}vec3 linearSrgbToLinearDisplayP3(vec3 rgb){mat3 srgbToP3=mat3(0.822461969,0.033194198,0.017082630,0.177538031,0.966805802,0.072397440,0.0,0.0,0.910519930);return srgbToP3*rgb;}vec3 applyDisplayP3Workaround(vec3 linearSrgbColor){vec3 p3Linear=linearSrgbToLinearDisplayP3(linearSrgbColor);return clamp(p3Linear,0.0,1.0);}float rgbToY(vec3 rgb){float R=(rgb.r);float G=(rgb.g);float B=(rgb.b);return(Kr*R+Kg*G+Kb*B);}float rgbToU(vec3 rgb){float y=rgbToY(rgb);return 0.5+((rgb.b-y)/(2.0*(1.0-Kb)));}float rgbToV(vec3 rgb){float y=rgbToY(rgb);return 0.5+((rgb.r-y)/(2.0*(1.0-Kr)));}vec3 rgbToYCbCr(vec3 rgb){return vec3(rgbToY(rgb),rgbToU(rgb),rgbToV(rgb));}const vec2 originLeftRgbQuadrantUV=vec2(0.0,0.0);const vec2 originRightRgbQuadrantUV=vec2(0.5,0.0);const vec2 originLeftAlphaQuadrantUV=vec2(0.0,4.0/9.0);const vec2 originRightAlphaQuadrantUV=vec2(0.5,4.0/9.0);const vec2 originLeftDepthQuadrantUV=vec2(0.0,8.0/9.0);const vec2 originRightDepthQuadrantUV=vec2(0.5,8.0/9.0);vec2 getDepthUV(vec2 fullUV){vec2 depthUV=fullUV;if(fullUV.y>0.5){depthUV.y-=0.5;depthUV.x+=1.0;}depthUV.x*=(1.0/4.0);depthUV.y*=(2.0/9.0);return depthUV;}float getDistance(vec2 fullUV,sampler2D fullPackedTexture,bool isLeftEye,float near,float far,float epsilonDepthBias){vec2 origin=isLeftEye?originLeftDepthQuadrantUV:originRightDepthQuadrantUV;vec2 depthUV=getDepthUV(fullUV);float depth=rgbToY(texture(fullPackedTexture,depthUV+origin).rgb);float distance=(-epsilonDepthBias+(((near+epsilonDepthBias)*(far+epsilonDepthBias))/(far+epsilonDepthBias+(1.0-depth)*(near-far))));return distance;}in vec2 a_position;in vec2 a_texCoord;in vec3 a_debugColor;out vec2 quadrantUV;out vec2 fullUV;out vec3 debugColor;layout(std140)uniform FrameData{mat4 projectionMatrix;mat4 viewMatrix;mat4 originalProjectionMatrix;mat4 originalInvProjectionMatrix;bool isLeftEye;mat4 originalInvViewMatrix;bool isPassthrough;float near;float far;float epsilonDepthBias;};\n#ifndef ENABLE_DEBUG\n#define ENABLE_DEBUG false\n#endif\nlayout(std140)uniform DebugData{bool doWireframe;bool doFoveationCheckerboard;bool doRenderFoveationDebugColor;};uniform sampler2D u_texture;void main(){fullUV=a_texCoord;if(ENABLE_DEBUG){debugColor=a_debugColor;}quadrantUV.y=fullUV.y*4.0/9.0;quadrantUV.x=fullUV.x*0.5;float distance=getDistance(fullUV,u_texture,isLeftEye,near,far,epsilonDepthBias);vec4 ndcViewDistanceH=originalProjectionMatrix*vec4(0.0,0.0,-distance,1.0);float ndcViewDistance=ndcViewDistanceH.z/ndcViewDistanceH.w;vec2 ndc2D=a_position;vec3 ndcPos=vec3(ndc2D,ndcViewDistance);gl_Position=projectionMatrix*viewMatrix*originalInvViewMatrix*originalInvProjectionMatrix*vec4(ndcPos,1.0);if(ENABLE_DEBUG){}}"},3396(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});const i="#version 300 es\nprecision highp float;precision highp int;\n#define GLSLIFY 1\nin vec2 quadrantUV;in vec2 fullUV;in vec3 debugColor;layout(std140)uniform FrameData{mat4 projectionMatrix;mat4 viewMatrix;mat4 originalProjectionMatrix;mat4 originalInvProjectionMatrix;bool isLeftEye;mat4 originalInvViewMatrix;bool isPassthrough;float near;float far;float epsilonDepthBias;};\n#ifndef ENABLE_DEBUG\n#define ENABLE_DEBUG false\n#endif\nlayout(std140)uniform DebugData{bool doWireframe;bool doFoveationCheckerboard;bool doRenderFoveationDebugColor;};uniform sampler2D u_texture;out vec4 fragColor;const float Kr=0.2126;const float Kb=0.0722;const float Kg=1.0-Kr-Kb;float roundTo8bit(float x){return clamp(floor(x*255.0-0.5)/255.0,0.0,1.0);}float roundTo7bit(float x){return clamp(floor(x*127.0-0.5)/127.0,0.0,1.0);}float linearToNonlinear(float x){if(x<0.018){x*=4.5;}else{const float a=0.099;const float gamma=0.45;x=(1.0+a)*pow(x,gamma)-a;}return x;}float srgbToLinear(float x){if(x<=0.04045){return x/12.92;}return pow((x+0.055)/1.055,2.4);}vec3 srgbToLinear(vec3 rgb){return vec3(srgbToLinear(rgb.r),srgbToLinear(rgb.g),srgbToLinear(rgb.b));}float linearToSrgb(float x){if(x<=0.0031308){return 12.92*x;}return 1.055*pow(x,1.0/2.4)-0.055;}vec3 linearToSrgb(vec3 rgb){return vec3(linearToSrgb(rgb.r),linearToSrgb(rgb.g),linearToSrgb(rgb.b));}vec3 linearSrgbToLinearDisplayP3(vec3 rgb){mat3 srgbToP3=mat3(0.822461969,0.033194198,0.017082630,0.177538031,0.966805802,0.072397440,0.0,0.0,0.910519930);return srgbToP3*rgb;}vec3 applyDisplayP3Workaround(vec3 linearSrgbColor){vec3 p3Linear=linearSrgbToLinearDisplayP3(linearSrgbColor);return clamp(p3Linear,0.0,1.0);}float rgbToY(vec3 rgb){float R=(rgb.r);float G=(rgb.g);float B=(rgb.b);return(Kr*R+Kg*G+Kb*B);}float rgbToU(vec3 rgb){float y=rgbToY(rgb);return 0.5+((rgb.b-y)/(2.0*(1.0-Kb)));}float rgbToV(vec3 rgb){float y=rgbToY(rgb);return 0.5+((rgb.r-y)/(2.0*(1.0-Kr)));}vec3 rgbToYCbCr(vec3 rgb){return vec3(rgbToY(rgb),rgbToU(rgb),rgbToV(rgb));}const vec2 originLeftRgbQuadrantUV=vec2(0.0,0.0);const vec2 originRightRgbQuadrantUV=vec2(0.5,0.0);const vec2 originLeftAlphaQuadrantUV=vec2(0.0,4.0/9.0);const vec2 originRightAlphaQuadrantUV=vec2(0.5,4.0/9.0);const vec2 originLeftDepthQuadrantUV=vec2(0.0,8.0/9.0);const vec2 originRightDepthQuadrantUV=vec2(0.5,8.0/9.0);vec2 getDepthUV(vec2 fullUV){vec2 depthUV=fullUV;if(fullUV.y>0.5){depthUV.y-=0.5;depthUV.x+=1.0;}depthUV.x*=(1.0/4.0);depthUV.y*=(2.0/9.0);return depthUV;}float getDistance(vec2 fullUV,sampler2D fullPackedTexture,bool isLeftEye,float near,float far,float epsilonDepthBias){vec2 origin=isLeftEye?originLeftDepthQuadrantUV:originRightDepthQuadrantUV;vec2 depthUV=getDepthUV(fullUV);float depth=rgbToY(texture(fullPackedTexture,depthUV+origin).rgb);float distance=(-epsilonDepthBias+(((near+epsilonDepthBias)*(far+epsilonDepthBias))/(far+epsilonDepthBias+(1.0-depth)*(near-far))));return distance;}void main(){if(isLeftEye){fragColor.rgb=texture(u_texture,quadrantUV+originLeftRgbQuadrantUV).rgb;fragColor.a=rgbToY(texture(u_texture,quadrantUV+originLeftAlphaQuadrantUV).rgb);}else{fragColor.rgb=texture(u_texture,quadrantUV+originRightRgbQuadrantUV).rgb;fragColor.a=rgbToY(texture(u_texture,quadrantUV+originRightAlphaQuadrantUV).rgb);}if(ENABLE_DISPLAY_P3_WORKAROUND){fragColor.rgb=applyDisplayP3Workaround(fragColor.rgb);}if(ENABLE_DEBUG){if(doFoveationCheckerboard){float gridScale=20.0;vec2 gridUV=fullUV*gridScale;float gridX=step(0.5,fract(gridUV.x));float gridY=step(0.5,fract(gridUV.y));float gridPattern=abs(gridX-gridY);fragColor.rgb=mix(fragColor.rgb,vec3(gridPattern),0.3);fragColor.a=1.0;}if(doRenderFoveationDebugColor){float fragColorAlpha=0.3;fragColor=fragColorAlpha*vec4(debugColor,1.0)+(1.0-fragColorAlpha)*fragColor;}if(doWireframe){fragColor=vec4(0.2,1.0,0.2,1.0);}}}"},3872(e,t,n){"use strict";var i=this&&this.p||function(e){return e&&e.t?e:{default:e}};Object.defineProperty(t,"t",{value:!0}),t.SessionImpl=void 0;const r=n(2343),s=n(4412),a=n(1961),o=i(n(5017)),l=n(9725),c=n(73),u=n(6405),d=n(4977),h=n(65),p=n(2816),f=n(4097),g=n(363),A=n(7131),m=n(9432),v=n(7904),y=n(9499),E=n(3305),S=n(7585),b=n(9351),x=n(9230),w=n(5549),I=n(4238),C=n(7019),T=n(3939),M=n(6413),B=n(9712),R=n(7832),P=n(9385),_=n(9435),D=n(9694),N=n(6213);class L{constructor(e,t){this.data=e,this.frameID=t}}class O{constructor(e,t,n,i,r){this.pose=e,this.timestamp=t,this.predictedTimestamp=n,this.fovs=i,this.eyePose=r}}class k{constructor(){this.frameData=[],this.frameNumber=0}reset(){this.frameData=[],this.frameNumber=0}get(e){if(e.isNegative())return null;for(;this.frameData[0]&&this.frameData[0].frameID.lessThan(e);)this.frameData.shift();return this.frameData[0]&&this.frameData[0].frameID.equals(e)?this.frameData[0].data:null}add(e,t){this.frameData.push(new L(e,t))}nextFrame(){return this.frameNumber++,this.frameNumber}currentFrameNumber(){return this.frameNumber}}function U(){return new p.FastWindowedExtremum(30,0,"min")}function F(e,t){return{angleLeft:e.angleLeft*t,angleRight:e.angleRight*t,angleUp:e.angleUp*t,angleDown:e.angleDown*t}}class Q{get availableMessageChannels(){return this.messageChannelManager.getAllChannels()}constructor(e,t){this.state=x.SessionState.Initialized,this.client=null,this.videoElement=null,this.videoTagId="cloudxr-video",this.poseStorage=new k,this.metadataStorage=new k,this.currentFrameMetadata=null,this.renderedFrameTimestamp=0,this.posePredictor=new E.PosePredictor,this.poseSmoother=new E.PosePredictor,this.poseToFrameRenderTracker=U(),this.enablePoseSmoothing=!0,this.posePredictionFactor=1,this.enableSendingControllers=!0,this.hasAddedInputSourcesChangeListener=!1,this.hasAddedOnVisibilityChangeListener=!1,this.sessionVisibilityState="hidden",this.activeHandTrackingHands=new Set,this.activeControllerTrackingHands=new Set,this.lastFrameActiveControllers=new Set,this.detectedController=null,this.controllersRegistered=!1,this.serverTriggeredDisconnectDetails=null,this.controllerRegistry=(()=>{const e=new d.ControllerRegistry;return e.register(y.Pico4UltraController),e.register(S.QuestTouchPlus),e.register(A.GenericController),e})(),this.validationCallback=null,this.validationTimeoutId=null,this.serverValidated=!1,this.connectionStartTime=0,this.framesReceivedCount=0,this.serverMessagesReceivedCount=0,this.serverMessagesSentCount=0,this.validFramesReceived=0,this.lastRenderedPoseID=-1,this.cleanupCallbacks=[],this.options=e,this.userDelegates=t,this.telemetryManager=I.CloudXRTelemetryManager.getInstance(),this.deferredExceptions=new h.DeferredExceptions({onDefer:(e,t)=>{this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!1)}}),this.stats=new w.Stats(!0,t?.onMetrics),this.initializeTelemetry().catch(e=>{}),this.messageChannelManager=new v.MessageChannelManager(this),null==this.options.codec&&(this.options.codec="av1"),null==this.options.deviceFrameRate&&(this.options.deviceFrameRate=90),null==this.options.maxStreamingBitrateKbps&&(this.options.maxStreamingBitrateKbps=15e4),void 0!==this.options.enablePoseSmoothing&&(this.enablePoseSmoothing=this.options.enablePoseSmoothing),void 0!==this.options.posePredictionFactor&&(this.posePredictionFactor=Math.max(0,Math.min(1,this.options.posePredictionFactor))),this.skeleton=new l.Skeleton,this.cxrProtocol=new u.CloudXRProtocolImpl,this.userDelegates?.onWebGLStateChangeBegin&&this.userDelegates.onWebGLStateChangeBegin();try{const t=.2,n=Math.floor(e.perEyeWidth*t),i=Math.floor(e.perEyeHeight*t),r={gl:e.gl,near:.15,far:18,epsilonDepthBias:1.5,enableTexSubImage2D:e.enableTexSubImage2D||!1,enableDisplayP3Unpack:e.useQuestColorWorkaround||!1,tessellationWidth:n,tessellationHeight:i};this.renderer=new b.Renderer(r)}catch(e){throw new Error("Failed to initialize WebGL renderer")}let n;this.userDelegates?.onWebGLStateChangeEnd&&this.userDelegates.onWebGLStateChangeEnd(),this.videoElement=document.createElement("video"),this.videoElement.id=this.videoTagId,this.videoElement.loop=!0,this.videoElement.muted=!1,this.videoElement.crossOrigin="anonymous",this.videoElement.setAttribute("playsinline",""),this.videoElement.style.display="none",document.body.appendChild(this.videoElement),n="av1"===e.codec?"av1=enable&codeclist=AV1":"h265"===e.codec?"h265=enable&codeclist=H265":"av1=disable&h265=disable&codeclist=H264",(0,r.configureOverrideSettings)({overrideData:n,isInternalUser:!1});const i=this;this.delegate=new c.CloudXrNskStreamClientDelegate({onStreamStarted:async function(e){try{if(i.state!==x.SessionState.Connecting)throw new Error("Stream started but session is not in Connecting state (State:"+i.state+")");(e.streams||[]).map(e=>e.codec).filter(Boolean).join(", ");const t=i.cxrProtocol.serializeDeviceDesc({displayMode:"inline",depthEncoding:{nearZ:.15,farZ:18,isSwappedUpperLeft:!0,hasReversedClipPlanes:!0,isOneOverZPlusEpsilon:!0,epsilon:1.5},videoStreams:[{...(0,R.calculateStreamResolution)(i.options.perEyeWidth,i.options.perEyeHeight),scaleFactor:2,insetPercent:.4}]},!0);await i.waitForOrTimeoutServerValidation(),i.sendBulkPayload(t.buffer);const n=i.videoElement;if(!n)throw new Error("Video element is null, cannot start streaming");n.play().catch(e=>{"AbortError"===e.name||i.deferredExceptions.defer(e,"video.play()")});let r=-1,s=0;const a=(e,t)=>{try{if(0==t.rtpTimestamp);else{if(r>=0){const e=t.presentedFrames-r;e>1&&(s+=e)}r=t.presentedFrames;const e=t.rtpTimestamp/90;let a;{let t=i.metadataStorage.get(o.default.fromNumber(e));if(t&&t.colorProjectionImages&&t.colorProjectionImages.length>0){a=[];for(let e=0;e<t.colorProjectionImages.length;e++){const n=t.colorProjectionImages[e].viewPqwState;if(n&&n.data){const e=n.data,t=new f.FoveationParameters(e.unwarpedWidth,e.unwarpedHeight,e.centerScaleHorz,e.centerScaleVert,e.fovCenterHorz,e.fovCenterVert,e.fovRadiusHorz,e.fovRadiusVert);a.push(t)}}0===a.length?a=void 0:1===a.length&&a.push(a[0].flippedHorzCenter())}}const l=i.poseStorage.get(o.default.fromNumber(e));l&&(i.lastRenderedPoseID=e,i.validFramesReceived++,i.stats.imageUpdateBegin(e),i.renderedFrameTimestamp=l.timestamp,i.userDelegates?.onWebGLStateChangeBegin&&i.userDelegates.onWebGLStateChangeBegin(),i.renderer.updateImage(n,l?l.pose:null,l?l.fovs:[],a),i.userDelegates?.onWebGLStateChangeEnd&&i.userDelegates.onWebGLStateChangeEnd(),i.stats.imageUpdateEnd(),i.currentFrameMetadata=t,i.framesReceivedCount++)}n.requestVideoFrameCallback(a)}catch(e){i.deferredExceptions.defer(e,"updateVideoTexture")}};n.requestVideoFrameCallback(a),i.state=x.SessionState.Connected,i.telemetryManager.sendSessionStateEvent(i.state),i.connectionStartTime=performance.now(),i.framesReceivedCount=0,i.serverMessagesReceivedCount=0,i.serverMessagesSentCount=0,i.userDelegates?.onStreamStarted&&i.userDelegates.onStreamStarted()}catch(e){i.reset(x.SessionState.Error),i.userDelegates?.onStreamStopped&&i.userDelegates.onStreamStopped(e)}},onRtcRtpReceiver:async function(e){},onStreamStartFailed:async function(e){const t=(0,B.getStreamingErrorMessage)(e),n=new Error(t);n.code=e,i.telemetryManager.sendExceptionEvent(n,"Runtime_Error",!0),i.reset(x.SessionState.Error),i.userDelegates?.onStreamStopped&&i.userDelegates.onStreamStopped(n)},onStreamStopped:async function(e){if(i.sendSessionMetricsTelemetry(),i.reset(x.SessionState.Disconnected),i.userDelegates?.onStreamStopped){let t;if(i.serverTriggeredDisconnectDetails)t=new Error("Session disconnected: "+i.serverTriggeredDisconnectDetails),i.serverTriggeredDisconnectDetails=null;else if(e.code!==r.RErrorCode.Success){const n=(0,B.getStreamingErrorMessage)(e.code);t=new Error(n),t.code=e.code,t.reasonCode=e.reason}i.userDelegates.onStreamStopped(t)}},onBulkPayload:async function(e){try{const t=i.getCurrentTimestampNs();if(e.serverInfo){const t=e.serverInfo;t.serverVersion&&t.serverVersion}else if(e.frameMetadata){let t=e.frameMetadata;if(t.isEmptyFrame)return;if(t.frameTrackingMetadata&&t.frameTrackingMetadata.latestViewMetadata){const e=t.frameTrackingMetadata?.latestViewMetadata?.id;i.metadataStorage.add(t,e||o.default.UZERO)}}else if(e.supportedDeviceProfiles){const t=e.supportedDeviceProfiles.supportedTrackedControllerProfiles;t?.forEach((e,t)=>{});const n=t?.some(e=>"meta/touch_plus"===e.identifier&&e.version>=1);if(!n)throw new Error('Required controller profile "meta/touch_plus" (at least version 1) is not supported by the server.')}else if(e.clockSyncRequest)i.handleClockSyncRequest(e.clockSyncRequest,t);else if(e.opaqueData){i.serverMessagesReceivedCount++,i.sendServerResponseTelemetry(e);const t=e.opaqueData,n=t.channelId||o.default.UZERO;n.isZero()?i.userDelegates?.onServerMessageReceived&&i.userDelegates.onServerMessageReceived(t.payload):i.messageChannelManager.receivedMessageChannelData(n,t.payload)}else if(e.opaqueDataChannelControl){const t=e.opaqueDataChannelControl;i.messageChannelManager.receivedMessageChannelControl(t)}else if(e.alert){const t=e.alert;t.alertType===g.ServerAlert_AlertType.ALERT_TYPE_DISCONNECT_REQUESTED&&(i.serverTriggeredDisconnectDetails=t.details,i.disconnect())}}catch(e){i.deferredExceptions.defer(e,"onBulkPayload")}},onCustomMessage:function(e){i.handleCustomMessage(e)}})}sendBulkPayload(e,t=!0){if(!this.client)throw new Error("Cannot send bulk payload: client is not initialized");this.client.sendBulkPayload(e,t)}sendViewPose(e,t,n,i){const r=[],s=[];for(const e of i.views){const t=e.projectionMatrix,n=F((0,N.computeFovFromProjectionMatrix)(t),1.05);r.push(n),s.push({position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0,w:1}})}2===s.length&&(0,N.computeEyePose)(i,s[0],s[1]);const a=new O(i,e,t,r,s);this.poseStorage.add(a,o.default.fromNumber(n));const l=this.cxrProtocol.serializeViewPose({poseID:o.default.fromNumber(n),clientSampleTime:e,predictedDisplayTime:t,scaling:1,fovs:r,eyePose:s,viewPose:i});if(!l)throw new Error("Failed to serialize view pose");return this.sendBulkPayload(l.buffer),!0}handleClockSyncRequest(e,t){if(!this.client||this.state!==x.SessionState.Connected)return;if(!e||!e.txTimestampNs)throw new Error("Invalid clock sync request received: "+JSON.stringify(e));const n=this.cxrProtocol.serializeClockSyncResponse({requestTxTimestampNs:e.txTimestampNs,requestRxTimestampNs:t,txTimestampNs:this.getCurrentTimestampNs()});if(!n)throw new Error("Failed to serialize clock sync response");this.sendBulkPayload(n.buffer)}detectController(e){for(const t of e.inputSources)if(t.gamepad&&!t.hand){const e=this.controllerRegistry.detect(t);if(e)return e}return null}sendControllerRegistrations(e){if(!this.client||this.state!==x.SessionState.Connected)return;!this.detectedController&&e&&(this.detectedController=this.detectController(e));const t=this.detectedController??A.GenericController,n=e=>e.map(e=>({identifier:e,type:t.inputTypes[e]})),i=(e,n,i)=>{try{const r=this.cxrProtocol.serializeRegisterTrackedController({profile:{identifier:t.cxrProfile,version:1},chirality:e,controllerId:n,inputs:i});r&&this.client&&this.sendBulkPayload(r.buffer)}catch(e){}};i(g.Chirality.LEFT,0,n(t.cxrLeftPaths)),i(g.Chirality.RIGHT,1,n(t.cxrRightPaths));const r=(e,t)=>{const n=this.cxrProtocol.serializeEquipTrackedController({slot:t,controllerId:e});if(!n)throw new Error("Failed to serialize equip controller with id: "+e);if(!this.client)throw new Error("Cannot equip controller: client is not initialized");this.sendBulkPayload(n.buffer)};r(0,"hand/left"),r(1,"hand/right")}sendHandTrackingJoints(e,t,n){const i=(0,m.retrieveHandTrackingData)(n,this.options.referenceSpace,this.activeHandTrackingHands);for(const[e,n]of i.entries()){const i=this.cxrProtocol.serializeJointsForHand({poseID:o.default.fromNumber(t),clientSampleTime:performance.now(),handedness:e,handData:n});i&&this.sendBulkPayload(i.buffer)}}sendBodyTrackingData(e,t,n,i){if(!this.client||this.state!==x.SessionState.Connected)return;if(!e)return;this.skeleton.updateFromXRBody(e,this.options.referenceSpace,n);const r=[];for(const e of this.skeleton.jointNames){const t=this.skeleton.transforms[e];t&&r.push({position:{x:t.position[0],y:t.position[1],z:t.position[2]},orientation:{x:t.orientation[0],y:t.orientation[1],z:t.orientation[2],w:t.orientation[3]},isValid:t.isValid})}r.filter(e=>e.isValid).length;const s=this.cxrProtocol.serializeBodyTrackingUpdate({poseID:o.default.fromNumber(i),clientSampleTime:performance.now(),bodyData:{isActive:!0,jointPoses:r}});s&&this.sendBulkPayload(s.buffer)}sendControllerData(e){this.detectedController||(this.detectedController=this.detectController(e.session),this.detectedController&&!this.controllersRegistered&&(this.sendControllerRegistrations(e.session),this.controllersRegistered=!0));const t=this.getCurrentTimestampNs(),n=[],i=(i,r)=>{const s=this.detectedController??A.GenericController,a="left"===i?s.cxrLeftPaths:s.cxrRightPaths,l=[],c=this.activeControllerTrackingHands.has(i),u=this.lastFrameActiveControllers.has(i);!c&&u?a.forEach((e,t)=>{e.endsWith("/pose")&&l.push({inputIndex:t,invalidPose:!0})}):c&&a.forEach((t,n)=>{const r=s.getValue(e,i,t,this.options.referenceSpace);if(r.success)if("boolean"==typeof r.value)l.push({inputIndex:n,booleanValue:r.value});else if("number"==typeof r.value)l.push({inputIndex:n,floatValue:r.value});else if(r.value&&"x"in r.value&&"y"in r.value){const e={x:r.value.x,y:r.value.y};l.push({inputIndex:n,vec2Value:{x:e.x,y:e.y}})}else if(r.value&&"position"in r.value&&"orientation"in r.value){const e=r.value;l.push({inputIndex:n,poseValue:{position:{x:e.position.x,y:e.position.y,z:e.position.z},orientation:{x:e.orientation.x,y:e.orientation.y,z:e.orientation.z,w:e.orientation.w}}})}}),l.length>0&&n.push({controllerId:o.default.fromNumber(r),timestampNs:t,inputUpdates:l})};if(i("left",0),i("right",1),this.lastFrameActiveControllers.clear(),this.activeControllerTrackingHands.forEach(e=>this.lastFrameActiveControllers.add(e)),n.length>0){const e=this.cxrProtocol.serializeTrackedControllerUpdate(n);if(!e)throw new Error("Failed to serialize controller updates");if(!this.client)throw new Error("Cannot send controller data: client is not initialized");this.sendBulkPayload(e.buffer)}}reset(e){this.state!==x.SessionState.Initialized&&this.state!==x.SessionState.Error&&(this.cleanupCallbacks.forEach(e=>{try{e()}catch(e){}}),this.cleanupCallbacks=[],this.hasAddedOnVisibilityChangeListener=!1,this.hasAddedInputSourcesChangeListener=!1,this.state=e,this.telemetryManager.sendSessionStateEvent(this.state),this.telemetryManager.sendLifetimeEvent(C.CXRLifetime.Destroyed),this.cleanupResources(),this.telemetryManager.resetSession(),this.resetMetrics(),this.state=x.SessionState.Initialized)}cleanupResources(){if(this.validationCallback=null,this.validationTimeoutId&&(clearTimeout(this.validationTimeoutId),this.validationTimeoutId=null),this.serverValidated=!1,this.userDelegates?.onWebGLStateChangeBegin&&this.userDelegates.onWebGLStateChangeBegin(),this.renderer?.cleanup(),this.userDelegates?.onWebGLStateChangeEnd&&this.userDelegates.onWebGLStateChangeEnd(),this.videoElement)try{this.videoElement.paused||this.videoElement.pause(),this.videoElement.parentNode&&this.videoElement.remove()}catch(e){}finally{this.videoElement=null}this.poseStorage.reset(),this.poseToFrameRenderTracker=U(),this.currentFrameMetadata=null,this.messageChannelManager.cleanup(),this.client=null,this.detectedController=null,this.controllersRegistered=!1,this.activeHandTrackingHands.clear(),this.activeControllerTrackingHands.clear(),this.lastFrameActiveControllers.clear()}resetMetrics(){this.connectionStartTime=0,this.framesReceivedCount=0,this.serverMessagesReceivedCount=0,this.serverMessagesSentCount=0}connect(){if(this.state!==x.SessionState.Initialized&&this.state!==x.SessionState.Disconnected){const e=new Error("Connect called by session state not Initialized or Disconnected (State:"+this.state+")");throw this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!0),e}const e="js_"+D.SDK_VERSION_FOR_SESSION_ID+"_"+Date.now()+"_"+Math.random().toString(36).substring(2,11);this.telemetryManager.setSessionId(e),this.state=x.SessionState.Connecting,this.telemetryManager.sendSessionStateEvent(this.state),this.startAsync().catch(e=>{const t=new Error("Failed to connect CloudXR session:"+e);this.telemetryManager.sendExceptionEvent(t,"Runtime_Error",!0),this.reset(x.SessionState.Error),this.userDelegates?.onStreamStopped&&this.userDelegates.onStreamStopped(e)})}async startAsync(){const e=await(0,r.getPlatformDetails)();if(this.client=await(0,r.createStreamClient)(e,this.delegate,{}),!this.client)throw new Error("Failed to create streaming client");let t;switch(this.poseStorage.reset(),this.options.codec){case"av1":t=r.VideoCodecType.AV1;break;case"h265":t=r.VideoCodecType.H265;break;default:t=r.VideoCodecType.H264}const n={downstreamParams:[{fps:this.options.deviceFrameRate,...(0,R.calculateStreamResolution)(this.options.perEyeWidth,this.options.perEyeHeight),maxBitrateKbps:this.options.maxStreamingBitrateKbps,dynamicStreamingMode:r.DynamicStreamingMode.NONE,codec:t,videoTagId:this.videoTagId}],enableTouchInput:!1,sessionId:"",signalConnectionInfo:{address:this.options.serverAddress,port:this.options.serverPort,secure:this.options.useSecureConnection,...this.options.signalingQueryParameters&&{queryParameters:this.options.signalingQueryParameters},...this.options.signalingResourcePath&&{resourcePath:this.options.signalingResourcePath}},...this.options.mediaAddress&&{mediaConnectionInfo:{address:this.options.mediaAddress,port:this.options.mediaPort??0}},...this.options.iceServers&&{iceServerConfiguration:this.options.iceServers},windowedStreaming:!0,zoneAddress:"",streamingConfigurationProfile:r.StreamingConfigurationProfile.XR};if(this.options.mediaAddress,this.client.startStreaming(n)!==r.RErrorCode.Success)throw new Error("Failed to start Ragnarok streaming")}disconnect(){if(this.state===x.SessionState.Initialized){const e=new Error("Session not started, cannot disconnect");return void this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!0)}if(this.state===x.SessionState.Disconnecting||this.state===x.SessionState.Disconnected){const e=new Error("Session already disconnecting or disconnected, cannot disconnect");return void this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!0)}if(this.state===x.SessionState.Error){const e=new Error("Session in error state, cannot disconnect");return void this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!0)}this.state=x.SessionState.Disconnecting,this.telemetryManager.sendSessionStateEvent(this.state),this.client?this.client.stopStreaming():this.reset(x.SessionState.Disconnected)}sendControlMessage(e,t){if(this.state!==x.SessionState.Connected)throw new Error("Cannot send control message: session not connected");const n={opaqueDataChannelControl:{channelId:e,controlMessage:t}},i=this.cxrProtocol.serializeControlMessage(n);if(!i)throw new Error("Failed to serialize control message");return this.sendBulkPayload(i.buffer),!0}sendData(e,t){if(this.state!==x.SessionState.Connected)throw new Error("Cannot send data: session not connected");const n={opaqueData:{id:o.default.fromNumber(1),channelId:e,payload:t}},i=g.ClientToServerMessage.fromPartial(n),r=g.ClientToServerMessage.encode(i).finish();return this.sendBulkPayload(r.buffer),!0}predictPose(e,t){let n=e,i=t.transform.position,r=t.transform.orientation;{const s=isFinite(this.poseToFrameRenderTracker.get())?this.poseToFrameRenderTracker.get():0,o=Math.max(Math.min(s,150),50);n=e+Math.max(Math.min(s+-16,150),0)*this.posePredictionFactor,this.posePredictor.record(a.vec3.fromValues(t.transform.position.x,t.transform.position.y,t.transform.position.z),e,o,a.quat.fromValues(t.transform.orientation.x,t.transform.orientation.y,t.transform.orientation.z,t.transform.orientation.w));let l=a.vec3.fromValues(t.transform.position.x,t.transform.position.y,t.transform.position.z),c=a.quat.fromValues(t.transform.orientation.x,t.transform.orientation.y,t.transform.orientation.z,t.transform.orientation.w);l=this.posePredictor.getSmoothPose(n),c=this.posePredictor.getSmoothOrientation(n),null!=l&&null!=c?(this.enablePoseSmoothing&&(this.poseSmoother.record(a.vec3.fromValues(t.transform.position.x,t.transform.position.y,t.transform.position.z),e,200,a.quat.fromValues(t.transform.orientation.x,t.transform.orientation.y,t.transform.orientation.z,t.transform.orientation.w)),this.poseSmoother.recordPredicted(l,n,c),l=this.poseSmoother.getSmoothPose(n)),null!=l&&null!=c?(i=new DOMPoint(l[0],l[1],l[2]),r=new DOMPoint(c[0],c[1],c[2],c[3])):(i=t.transform.position,r=t.transform.orientation)):(i=t.transform.position,r=t.transform.orientation)}return{predictedTimestamp:n,predictedPosition:i,predictedOrientation:r}}sendTrackingStateToServer(e,t){if(this.deferredExceptions.check(),this.state!==x.SessionState.Connected){const e=new Error("Session not connected, cannot send tracking state pose.");throw this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!1),e}const n=t.getViewerPose(this.options.referenceSpace);if(!n)return!1;if(!n.transform)return!1;const i=this.poseStorage.nextFrame();this.stats.sendBegin(i);const{predictedTimestamp:r,predictedPosition:s,predictedOrientation:a}=this.predictPose(e,n),o=s.x-n.transform.position.x,l=s.y-n.transform.position.y,c=s.z-n.transform.position.z,u=n.views.map(e=>{const t=new XRRigidTransform(new DOMPoint(e.transform.position.x+o,e.transform.position.y+l,e.transform.position.z+c),a);return{...e,transform:t,projectionMatrix:e.projectionMatrix}}),d={emulatedPosition:n.emulatedPosition,transform:new XRRigidTransform(s,a),views:u};return!!d&&(this.stats.poseSent(i),!!this.sendViewPose(e,r,i,d)&&(this.hasAddedOnVisibilityChangeListener||(this.setupVisibilityChangeListener(t.session),this.hasAddedOnVisibilityChangeListener=!0),this.hasAddedInputSourcesChangeListener||(this.setupInputSourcesChangeListener(t.session),this.hasAddedInputSourcesChangeListener=!0),this.enableSendingControllers&&(this.sendHandTrackingJoints(e,i,t),this.sendControllerData(t)),this.sendBodyTrackingData(t.body,e,t,i),this.stats.sendEnd(),!0))}clearFramebuffer(){this.userDelegates?.onWebGLStateChangeBegin&&this.userDelegates.onWebGLStateChangeBegin(),this.renderer.clear(),this.userDelegates?.onWebGLStateChangeEnd&&this.userDelegates.onWebGLStateChangeEnd()}render(e,t,n){if(this.deferredExceptions.check(),!this.currentFrameMetadata)return void this.clearFramebuffer();const i=t.getViewerPose(this.options.referenceSpace);if(!i)return void this.clearFramebuffer();if(null==this.currentFrameMetadata.rtpTimestamp)return void this.clearFramebuffer();const r=this.poseStorage.currentFrameNumber();this.stats.renderBegin(r,this.lastRenderedPoseID);const s=e-this.renderedFrameTimestamp;this.poseToFrameRenderTracker.insert(s);const a=[];for(const e of i.views)try{const t=(0,N.getViewportFromLayer)(n,e,this.options.glBinding);t&&a.push(t)}catch(e){throw this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!1),new Error("Failed to get viewport for view")}this.userDelegates?.onWebGLStateChangeBegin&&this.userDelegates.onWebGLStateChangeBegin();try{this.renderer.render(i,a)}catch(e){const t=e;throw this.telemetryManager.sendExceptionEvent(t,"Runtime_Error",!1),t.message="Failed to render frame - "+t.message,t}this.userDelegates?.onWebGLStateChangeEnd&&this.userDelegates.onWebGLStateChangeEnd(),this.stats.renderEnd()}setupVisibilityChangeListener(e){this.sessionVisibilityState=e.visibilityState;const t=e=>{try{let t=this.sessionVisibilityState;this.sessionVisibilityState=e.session.visibilityState,"visible"===t&&"visible"!==e.session.visibilityState&&this.onVisibilityStateNotVisible(e.session)}catch(e){this.deferredExceptions.defer(e,"visibilityChangeListener")}};e.addEventListener("visibilitychange",t),this.cleanupCallbacks.push(()=>{e.removeEventListener("visibilitychange",t)})}setupInputSourcesChangeListener(e){const t=(e,t)=>{e.forEach(e=>{e.hand&&this.activeHandTrackingHands.add(e.handedness),this.controllerRegistry.detect(e)&&this.activeControllerTrackingHands.add(e.handedness)})};t(e.inputSources);const n=e=>{try{this.activeHandTrackingHands.clear(),this.activeControllerTrackingHands.clear(),this.detectedController,this.detectedController=null,this.controllersRegistered=!1,t(e.session.inputSources)}catch(e){this.deferredExceptions.defer(e,"inputSourcesChangeListener")}};e.addEventListener("inputsourceschange",n),this.cleanupCallbacks.push(()=>{e.removeEventListener("inputsourceschange",n)})}onVisibilityStateNotVisible(e){const t=Math.floor(performance.now()*Q.TIME_CONVERT_MS_TO_NS),n=[],i=(e,i)=>{const r=this.detectedController??A.GenericController,s="left"===e?r.cxrLeftPaths:r.cxrRightPaths,a=[],l=s.findIndex(e=>"grip/pose"===e),c=s.findIndex(e=>"aim/pose"===e);-1!==l&&a.push({inputIndex:l}),-1!==c&&a.push({inputIndex:c}),a.length>0&&n.push({controllerId:o.default.fromNumber(i),timestampNs:o.default.fromNumber(t),inputUpdates:a})};if(i("left",0),i("right",1),n.length>0){const e=this.cxrProtocol.serializeTrackedControllerUpdate(n);if(!e)throw new Error("Failed to serialize controller updates for visibility change");if(!this.client)throw new Error("Cannot send controller data: client is not initialized");this.sendBulkPayload(e.buffer)}}async waitForOrTimeoutServerValidation(){return this.serverValidated?Promise.resolve():new Promise((e,t)=>{this.validationTimeoutId=setTimeout(()=>{this.validationCallback=null,this.validationTimeoutId=null,t(new Error("Server validation timeout"))},1e4),this.validationCallback=()=>{this.validationTimeoutId&&(clearTimeout(this.validationTimeoutId),this.validationTimeoutId=null),this.validationCallback=null,e()}})}sendServerMessage(e){if(!this.client||this.state!==x.SessionState.Connected){const e=new Error("Session not connected, cannot send server message.");throw this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!1),e}if(null===e||"object"!=typeof e||Array.isArray(e)){const e=new Error("Message must be a valid JSON object (not null, primitive, or array)");throw this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!1),e}try{const t=this.cxrProtocol.serializeBlobAsClientMessage(e,o.default.UZERO);if(!t)throw new Error("Failed to serialize custom message");this.sendBulkPayload(t.buffer),this.serverMessagesSentCount++,this.sendClientRequestTelemetry(e,t.buffer.byteLength)}catch(e){throw Error,this.telemetryManager.sendExceptionEvent(e,"Runtime_Error",!1),new Error("Failed to send server message")}}handleCustomMessage(e){if(e.messageType===T.CloudXRMessageType.VERSION){const t=e.data;if(!t)return this.serverTriggeredDisconnectDetails="Server version is undefined",void this.disconnect();const n=(0,_.validateCloudXRVersion)(t,this.cxrProtocol.majorVersion);if(!n.isValid)return this.serverTriggeredDisconnectDetails=n.errorMessage,void this.disconnect();this.serverValidated=!0,this.validationCallback&&this.validationCallback()}else e.messageType,T.CloudXRMessageType.GIT_TAG}async initializeTelemetry(){const e=this.options.telemetry;if(!1!==e?.enabled)try{const t=await(0,r.getPlatformDetails)(),n={clientVariant:s.ClientVariant.RELEASE,clientType:s.PayloadClientType.BROWSER,clientVer:e?.appInfo?.version||"undefined",productName:s.ProductName.UNDEFINED,productVersion:e?.appInfo?.product||"undefined"},i={...t,deviceId:t.deviceId||"unknown",deviceModel:t.model||"undefined",deviceMake:t.make||"undefined",deviceOS:(0,P.mapPlatformOSToPayloadOSType)(t.os),deviceOSVersion:t.osVersion||"undefined",deviceType:(0,P.mapPlatformTypeToPayloadDeviceType)(t.platformType),browserType:(0,P.mapPlatformBrowserToPayloadBrowserType)(t.browser)};this.telemetryManager.configure(n,i,!0)&&(this.telemetryManager.sendLifetimeEvent(C.CXRLifetime.Created),this.sendSessionConfigurationEvent())}catch(e){}}sendSessionConfigurationEvent(){try{const e=C.CXRAuthType.Guest,t=C.CXRConnectionType.Local,n={...(0,R.calculateStreamResolution)(this.options.perEyeWidth,this.options.perEyeHeight),refreshRate:this.options.deviceFrameRate||90},i=this.options.telemetry?.appInfo?.version||"undefined",r="",s=1;this.telemetryManager.sendSessionConfigurationEvent(e,t,n,s,i,r)}catch(e){}}sendClientRequestTelemetry(e,t){try{const n={type:"Client To Server",sequence:this.serverMessagesSentCount,size:t,message:(0,M.isInternal)()?JSON.stringify(e):"<masked>"},i=JSON.stringify(n);this.telemetryManager.sendClientRequestEvent(i)}catch(e){}}sendServerResponseTelemetry(e){try{const t={type:"Server To Client",sequence:this.serverMessagesReceivedCount,size:JSON.stringify(e).length,message:(0,M.isInternal)()?JSON.stringify(e):"<masked>"},n=JSON.stringify(t);this.telemetryManager.sendServerResponseEvent(n)}catch(e){}}sendSessionMetricsTelemetry(){try{const e=(performance.now()-this.connectionStartTime)/1e3;this.telemetryManager.sendClientMetricEvent("sessionDurationSeconds",e,0,0,0,""),this.telemetryManager.sendClientMetricEvent("framesMessageRxMessageTxCounts",0,this.framesReceivedCount,this.serverMessagesReceivedCount,this.serverMessagesSentCount,"")}catch(e){}}getCurrentTimestampNs(){return o.default.fromNumber(Math.floor(performance.now()*Q.TIME_CONVERT_MS_TO_NS))}[Symbol.dispose](){this.state!==x.SessionState.Connected&&this.state!==x.SessionState.Connecting||this.disconnect(),this.reset(x.SessionState.Initialized)}}t.SessionImpl=Q,Q.TIME_CONVERT_MS_TO_NS=1e6},3939(e,t){"use strict";var n,i;Object.defineProperty(t,"t",{value:!0}),t.CloudXRMessageType=void 0,(i=n||(t.CloudXRMessageType=n={})).VERSION="cloudxr_version",i.GIT_TAG="cloudxr_git_tag"},4011(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.protoInt64=void 0;const i=n(9119);function r(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function s(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}t.protoInt64=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&(globalThis.Deno||"object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const i="bigint"==typeof e?e:BigInt(e);if(i>n||i<t)throw new Error("invalid int64: "+e);return i},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>r||t<i)throw new Error("invalid uint64: "+e);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),r(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),s(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),r(e),(0,i.int64FromString)(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),s(e),(0,i.int64FromString)(e)),dec:(e,t)=>(0,i.int64ToString)(e,t),uDec:(e,t)=>(0,i.uInt64ToString)(e,t)}}()},4097(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.FoveationParameters=t.XRPiecewiseQuadraticWarpDesc2D=t.XRPiecewiseQuadraticWarpDesc=void 0,t.computeCxrFoveationParams=function(e){return new s(o(e.unwarpedWidthPixels,e.warpedWidthPixels,e.fovCenterHorzPixels,e.fovRadiusHorzPixels,!0),o(e.unwarpedHeightPixels,e.warpedHeightPixels,e.fovCenterVertPixels,e.fovRadiusVertPixels,!0))},t.defoveatedCoordinates=function(e,t){const n=t.xWarp.getUnfoveatedCoord(e[0]),r=t.yWarp.getUnfoveatedCoord(e[1]);return i.vec2.fromValues(n,r)};const i=n(1961);class r{constructor(e=0,t=0,n=0,i=0,r=0,s=0,a=0,o=0,l=0,c=0,u=0,d=0){this.al=e,this.bl=t,this.cl=n,this.am=i,this.bm=r,this.ar=s,this.br=a,this.cr=o,this.switchLeft=l,this.switchRight=c,this.invSwitchLeft=u,this.invSwitchRight=d}getFoveatedCoord(e){return e<this.invSwitchLeft?(Math.sqrt(-4*this.al*this.cl+4*this.al*e+this.bl*this.bl)-this.bl)/(2*this.al):e>this.invSwitchRight?(Math.sqrt(-4*this.ar*this.cr+4*this.ar*e+this.br*this.br)-this.br)/(2*this.ar):(e-this.bm)/this.am}getUnfoveatedCoord(e){return e<this.switchLeft?this.al*e*e+this.bl*e+this.cl:e>this.switchRight?this.ar*e*e+this.br*e+this.cr:this.am*e+this.bm}}t.XRPiecewiseQuadraticWarpDesc=r;class s{constructor(e,t){this.xWarp=e,this.yWarp=t}}t.XRPiecewiseQuadraticWarpDesc2D=s;class a{constructor(e=0,t=0,n=0,i=0,r=0,s=0,a=0,o=0){this.unwarpedWidthPixels=0,this.unwarpedHeightPixels=0,this.fovCenterHorzPixels=0,this.fovCenterVertPixels=0,this.fovRadiusHorzPixels=0,this.fovRadiusVertPixels=0,this.warpedWidthPixels=0,this.warpedHeightPixels=0,this.unwarpedWidthPixels=e,this.unwarpedHeightPixels=t,this.warpedWidthPixels=n,this.warpedHeightPixels=i,this.fovCenterHorzPixels=r,this.fovCenterVertPixels=s,this.fovRadiusHorzPixels=a,this.fovRadiusVertPixels=o}foveationActive(){return this.warpedWidthPixels!=this.unwarpedWidthPixels||this.warpedHeightPixels!=this.unwarpedHeightPixels}compare(e){return!!e&&this.unwarpedWidthPixels==e.unwarpedWidthPixels&&this.unwarpedHeightPixels==e.unwarpedHeightPixels&&this.warpedWidthPixels==e.warpedWidthPixels&&this.warpedHeightPixels==e.warpedHeightPixels&&this.fovCenterHorzPixels==e.fovCenterHorzPixels&&this.fovCenterVertPixels==e.fovCenterVertPixels&&this.fovRadiusHorzPixels==e.fovRadiusHorzPixels&&this.fovRadiusVertPixels==e.fovRadiusVertPixels}flippedHorzCenter(){return new a(this.unwarpedWidthPixels,this.unwarpedHeightPixels,this.warpedWidthPixels,this.warpedHeightPixels,this.unwarpedWidthPixels-this.fovCenterHorzPixels,this.fovCenterVertPixels,this.fovRadiusHorzPixels,this.fovRadiusVertPixels)}}function o(e,t,n,i,s=!0){let a=function(e,t,n){const i=n*e;let s=t-i,a=t+i;s<0&&(s=0),a>1&&(a=1);const o=e,l=(a-s)/e/2;let c=0,u=0,d=1;for(let e=0;e<20;e++){const e=(u+d)/2,t=e-l,n=e+l;c=-(o-1)*t*t/(n*n-2*n+t*t+1),((s-c)/o+(a-c)/o)/2>e?u=e:d=e}const h=(s-c)/o,p=(a-c)/o;let f=new r;return 0===h&&1===p||o>=1?(f.switchRight=1,f.invSwitchRight=1,f.am=o,f):(f.switchLeft=h,f.switchRight=p,f.am=o,f.al=(o-1)/(p*p-2*p+h*h+1),f.bl=(o*(p*p-2*p+1)+o*h*h+(2-2*o)*h)/(p*p-2*p+h*h+1),f.cl=0,f.bm=-(o-1)*h*h/(p*p-2*p+h*h+1),f.ar=-(o-1)/(p*p-2*p+h*h+1),f.br=(o*(p*p+1)-2*p+o*h*h)/(p*p-2*p+h*h+1),f.cr=-(o*p*p-p*p+(o-1)*h*h)/(p*p-2*p+h*h+1),f.invSwitchLeft=f.am*f.switchLeft+f.bm,f.invSwitchRight=f.am*f.switchRight+f.bm,f)}(t/e,n/e,i/e);if(s){const i=((Math.floor(n*t/e)+.5)/t*a.am+a.bm)*e,r=-(i-Math.floor(i)-.5)/e;a.cl=a.cl+r,a.bm=a.bm+r,a.cr=a.cr+r}return a}t.FoveationParameters=a},4238(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.CloudXRTelemetryManager=t.CloudXRTelemetryConfig=void 0;const i=n(4412),r=n(6876),s=n(6413),a=n(7019);t.CloudXRTelemetryConfig={clientName:"CloudXR",clientId:"86016923530084393",eventSchemaVer:"2.1"};class o{constructor(){this.telemetryProvider=null,this.sessionId=null}static getInstance(){return o.instance||(o.instance=new o),o.instance}configure(e,n,a=!0){let o,l,c;(0,s.isInternal)()?(o=i.UploadEnvironment.STAGING,l={deviceGdprFuncOptIn:a?i.ConsentLevel.FULL:i.ConsentLevel.NONE,deviceGdprTechOptIn:a?i.ConsentLevel.FULL:i.ConsentLevel.NONE,deviceGdprBehOptIn:i.ConsentLevel.NONE},c={userId:"undefined"}):(o=i.UploadEnvironment.PROD,l={deviceGdprFuncOptIn:a?i.ConsentLevel.TEMP:i.ConsentLevel.NONE,deviceGdprTechOptIn:i.ConsentLevel.NONE,deviceGdprBehOptIn:i.ConsentLevel.NONE},c={userId:void 0});const u={gdprFuncOptIn:l.deviceGdprFuncOptIn,gdprTechOptIn:l.deviceGdprTechOptIn,gdprBehOptIn:l.deviceGdprBehOptIn};try{const s=i.TelemetryModule.configure(e,n,o);return s&&(i.TelemetryModule.updateClientCommonData(c,l,u),this.telemetryProvider=i.TelemetryModule.createTelemetryProvider(t.CloudXRTelemetryConfig),r.log.info("Telemetry configured successfully")),s}catch(e){return r.log.error("Failed to configure telemetry:",e),!1}}setSessionId(e){this.sessionId=e}getSessionId(){return this.sessionId}resetSession(){this.sessionId=null}sendEvent(e){if(this.telemetryProvider)try{this.sessionId&&e.parameters&&"object"==typeof e.parameters&&(e.parameters.cxrSessionId=this.sessionId),r.log.debug("Sending event:",{name:e.name,gdprLevel:e.gdprLevel,parameters:e.parameters}),this.telemetryProvider.processEvent(e)}catch(e){r.log.error("Failed to send telemetry event:",e)}else r.log.debug("Telemetry not configured or disabled, ignoring event:",e.name)}isEnabled(){return null!==this.telemetryProvider}sendLifetimeEvent(e){this.isEnabled()&&this.sessionId&&this.sendEvent({name:"CXR_LifetimeEvent",gdprLevel:i.GdprLevel.FUNCTIONAL,priority:!1,ts:(new Date).toISOString(),parameters:{cxrSessionId:this.sessionId,lifetime:e}})}sendSessionStateEvent(e){if(!this.isEnabled()||!this.sessionId)return;const t="Error"===e?"Disconnected":e;this.sendEvent({name:"CXR_SessionState",gdprLevel:i.GdprLevel.FUNCTIONAL,priority:!1,ts:(new Date).toISOString(),parameters:{cxrSessionId:this.sessionId,sessionState:t}})}sendExceptionEvent(e,t="SessionError",n=!1,r){this.isEnabled()&&this.sessionId&&this.sendEvent({name:"CXR_ExceptionInfo",gdprLevel:i.GdprLevel.TECHNICAL,priority:!1,ts:(new Date).toISOString(),parameters:{category:t,colno:0,cxrSessionId:this.sessionId,filename:r||"SessionImpl.ts",handled:n?a.CXRBooleanType.True:a.CXRBooleanType.False,lineno:0,message:e.message,moduleName:a.CXRModuleName.CloudXRJS,stacktrace:e.stack||""}})}sendClientMetricEvent(e,t=0,n=0,r=0,s=0,o=""){this.isEnabled()&&this.sessionId&&this.sendEvent({name:"CXR_ClientMetricEvent",gdprLevel:i.GdprLevel.FUNCTIONAL,priority:!1,ts:(new Date).toISOString(),parameters:{cxrSessionId:this.sessionId,metricName:e,moduleName:a.CXRModuleName.CloudXRJS,valueDouble:t,valueInt1:n,valueInt2:r,valueInt3:s,valueString:o}})}sendClientRequestEvent(e){this.isEnabled()&&this.sessionId&&this.sendEvent({name:"CXR_ClientRequest",gdprLevel:i.GdprLevel.FUNCTIONAL,priority:!1,ts:(new Date).toISOString(),parameters:{cxrSessionId:this.sessionId,requestJSON:e}})}sendServerResponseEvent(e){this.isEnabled()&&this.sessionId&&this.sendEvent({name:"CXR_ServerResponse",gdprLevel:i.GdprLevel.FUNCTIONAL,priority:!1,ts:(new Date).toISOString(),parameters:{cxrSessionId:this.sessionId,responseJSON:e}})}sendSessionConfigurationEvent(e,t,n,r,s="undefined",a=""){this.isEnabled()&&this.sessionId&&this.sendEvent({name:"CXR_SessionConfiguration",gdprLevel:i.GdprLevel.FUNCTIONAL,priority:!1,ts:(new Date).toISOString(),parameters:{authType:e,clientBuildVersion:s,connectionType:t,cxrSessionId:this.sessionId,gfnSessionId:a,resolution:n,streamCount:r}})}}t.CloudXRTelemetryManager=o,o.instance=null},4284(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.FastWindowedAverage=void 0,t.FastWindowedAverage=class{constructor(e){this.oldWindowSum=0,this.oldWindowCount=0,this.newWindowSum=0,this.newWindowCount=0,this.minWindowSize=e}insert(e){this.newWindowSum+=e,this.newWindowCount++,this.newWindowCount===this.minWindowSize&&(this.oldWindowSum=this.newWindowSum,this.oldWindowCount=this.newWindowCount,this.newWindowSum=0,this.newWindowCount=0)}get(){const e=this.oldWindowSum+this.newWindowSum,t=this.oldWindowCount+this.newWindowCount;return 0===t?NaN:e/t}getCount(){return this.oldWindowCount+this.newWindowCount}reset(){this.oldWindowSum=0,this.oldWindowCount=0,this.newWindowSum=0,this.newWindowCount=0}}},4319(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.UniformBufferObject=void 0;const i=n(1961);class r{constructor(e,t,n,i=0){this.uniformMap=new Map,this.dirtyRangeStart=Number.MAX_SAFE_INTEGER,this.dirtyRangeEnd=0,this.updateInProgress=!1,this.gl=e,this.bindingPoint=i;const r=e.getUniformBlockIndex(t,n);if(r===e.INVALID_INDEX)throw new Error("Failed to get uniform block index for: "+n);e.uniformBlockBinding(t,r,i),this.blockSize=e.getActiveUniformBlockParameter(t,r,e.UNIFORM_BLOCK_DATA_SIZE);const s=e.getActiveUniformBlockParameter(t,r,e.UNIFORM_BLOCK_ACTIVE_UNIFORMS),a=e.getActiveUniformBlockParameter(t,r,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),o=e.getActiveUniforms(t,a,e.UNIFORM_OFFSET),l=e.getActiveUniforms(t,a,e.UNIFORM_SIZE),c=e.getActiveUniforms(t,a,e.UNIFORM_TYPE);for(let n=0;n<s;n++){const i=a[n],r=e.getActiveUniform(t,i);if(r){const e={name:r.name,index:i,offset:o[n],size:l[n],type:c[n]};this.uniformMap.set(r.name,e)}}this.buffer=e.createBuffer(),e.bindBuffer(e.UNIFORM_BUFFER,this.buffer),e.bufferData(e.UNIFORM_BUFFER,this.blockSize,e.DYNAMIC_DRAW),e.bindBufferBase(e.UNIFORM_BUFFER,i,this.buffer),this.data=new ArrayBuffer(this.blockSize),this.floatView=new Float32Array(this.data),this.uintView=new Uint32Array(this.data),this.intView=new Int32Array(this.data)}beginUpdate(){this.updateInProgress=!0,this.dirtyRangeStart=Number.MAX_SAFE_INTEGER,this.dirtyRangeEnd=0}endUpdate(){if(!this.updateInProgress)return;if(this.updateInProgress=!1,this.dirtyRangeStart>=this.dirtyRangeEnd)return;const e=4*Math.floor(this.dirtyRangeStart/4),t=4*Math.ceil(this.dirtyRangeEnd/4),n=Math.min(t-e,this.blockSize-e);this.gl.bindBuffer(this.gl.UNIFORM_BUFFER,this.buffer);const i=new Uint8Array(this.data,e,n);this.gl.bufferSubData(this.gl.UNIFORM_BUFFER,e,i)}validateUpdateSession(e){return!!this.updateInProgress}markDirty(e,t){if(!this.updateInProgress){this.gl.bindBuffer(this.gl.UNIFORM_BUFFER,this.buffer);const n=new Uint8Array(this.data,e,t);return void this.gl.bufferSubData(this.gl.UNIFORM_BUFFER,e,n)}this.dirtyRangeStart=Math.min(this.dirtyRangeStart,e),this.dirtyRangeEnd=Math.max(this.dirtyRangeEnd,e+t)}setFloat(e,t){if(!this.validateUpdateSession("setFloat"))return;const n=this.uniformMap.get(e);if(!n)return;if(n.type!==this.gl.FLOAT)return;const i=n.offset/4;this.floatView[i]!==t&&(this.floatView[i]=t,this.markDirty(n.offset,4))}setUint(e,t){if(!this.validateUpdateSession("setUint"))return;const n=this.uniformMap.get(e);if(!n)return;if(n.type!==this.gl.UNSIGNED_INT)return;const i=n.offset/4;this.uintView[i]!==t&&(this.uintView[i]=t,this.markDirty(n.offset,4))}setInt(e,t){if(!this.validateUpdateSession("setInt"))return;const n=this.uniformMap.get(e);if(!n)return;if(n.type!==this.gl.INT)return;const i=n.offset/4;this.intView[i]!==t&&(this.intView[i]=t,this.markDirty(n.offset,4))}setBool(e,t){if(!this.validateUpdateSession("setBool"))return;const n=this.uniformMap.get(e);if(!n)return;if(n.type!==this.gl.BOOL)return;const i=n.offset/4,r=t?1:0;this.intView[i]!==r&&(this.intView[i]=r,this.markDirty(n.offset,4))}setMatrix4(e,t){if(!this.validateUpdateSession("setMatrix4"))return;const n=this.uniformMap.get(e);if(!n)return;if(n.type!==this.gl.FLOAT_MAT4)return;const r=n.offset/4,s=this.floatView.subarray(r,r+16);i.mat4.exactEquals(s,t)||(this.floatView.set(t,r),this.markDirty(n.offset,64))}setVec2(e,t,n){if(!this.validateUpdateSession("setVec2"))return;const r=this.uniformMap.get(e);if(!r)return;if(r.type!==this.gl.FLOAT_VEC2)return;const s=r.offset/4,a=this.floatView.subarray(s,s+2),o=i.vec2.fromValues(t,n);i.vec2.exactEquals(a,o)||(this.floatView[s]=t,this.floatView[s+1]=n,this.markDirty(r.offset,8))}setVec3(e,t,n,r){if(!this.validateUpdateSession("setVec3"))return;const s=this.uniformMap.get(e);if(!s)return;if(s.type!==this.gl.FLOAT_VEC3)return;const a=s.offset/4,o=this.floatView.subarray(a,a+3),l=i.vec3.fromValues(t,n,r);i.vec3.exactEquals(o,l)||(this.floatView[a]=t,this.floatView[a+1]=n,this.floatView[a+2]=r,this.markDirty(s.offset,12))}setVec4(e,t,n,r,s){if(!this.validateUpdateSession("setVec4"))return;const a=this.uniformMap.get(e);if(!a)return;if(a.type!==this.gl.FLOAT_VEC4)return;const o=a.offset/4,l=this.floatView.subarray(o,o+4),c=i.vec4.fromValues(t,n,r,s);i.vec4.exactEquals(l,c)||(this.floatView[o]=t,this.floatView[o+1]=n,this.floatView[o+2]=r,this.floatView[o+3]=s,this.markDirty(a.offset,16))}setValues(e){const t=this.updateInProgress;t||this.beginUpdate();try{for(const[t,n]of Object.entries(e))if("boolean"==typeof n)this.setBool(t,n);else if("number"==typeof n){const e=this.uniformMap.get(t);if(e)switch(e.type){case this.gl.FLOAT:this.setFloat(t,n);break;case this.gl.UNSIGNED_INT:this.setUint(t,n);break;case this.gl.INT:this.setInt(t,n);break;case this.gl.BOOL:this.setBool(t,0!==n)}}else n&&"object"==typeof n&&"length"in n&&16===n.length&&this.setMatrix4(t,n)}finally{t||this.endUpdate()}}bind(){this.gl.bindBufferBase(this.gl.UNIFORM_BUFFER,this.bindingPoint,this.buffer)}getUniformInfo(e){return this.uniformMap.get(e)||null}getUniformNames(){return Array.from(this.uniformMap.keys())}getSize(){return this.blockSize}getLastUpdateStats(){if(this.updateInProgress||this.dirtyRangeStart>=this.dirtyRangeEnd)return null;const e=this.dirtyRangeEnd-this.dirtyRangeStart;return{dirtyBytes:e,dirtyPercentage:e/this.blockSize*100,totalBytes:this.blockSize}}cleanup(){this.buffer&&this.gl.deleteBuffer(this.buffer)}[Symbol.dispose](){this.cleanup()}}t.UniformBufferObject=r},4412(e){(()=>{"use strict";var t={36:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.LogUploader=void 0;const i=n(623),r=n(596),s=n(614),a=n(492),o="loguploader";t.LogUploader=class{constructor(e,t,n,l,c,u,d=i.UploadEnvironment.PROD){this.buffer=new r.LogBuffer(512e3),this.loggingIntervalId=0,this.isUploadInProgress=!1,this.finishRequested=!1,this.uploadChunk=async(e=!1)=>{if(this.isUploadInProgress)return;this.isUploadInProgress=!0;const t=this.buffer.getData();this.buffer.clear(),await this.loggingService.sendChunk(t,e),this.isUploadInProgress=!1,this.finishRequested&&!e&&(s.Log.i(o,"Initiating final chunk upload because finish request received during pending upload"),this.finishRequested=!1,await this.uploadChunk(!0))},this.loggingService=new a.RemoteLoggingService(e,t,n,l,c,u,d)}start(e){s.Log.i(o,"Starting log upload"),this.clearInterval(),this.finishRequested=!1,this.loggingService.startUpload(e).then(e=>{e?this.loggingIntervalId=window.setInterval(this.uploadChunk,1e4):s.Log.e(o,"Failed to start log upload")})}clearInterval(){0!==this.loggingIntervalId&&(window.clearInterval(this.loggingIntervalId),this.loggingIntervalId=0)}finish(){s.Log.i(o,"Requesting to finish log upload"),this.clearInterval(),this.isUploadInProgress?(this.finishRequested=!0,s.Log.i(o,"Upload in progress.  Will finish upload after pending upload completes")):(s.Log.i(o,"No upload in progress.  Uploading final chunk"),this.uploadChunk(!0))}log(e){this.buffer.log(e)}}},121:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.performHttpRequest=t.NativeNetworkError=t.HttpErrorCode=void 0;const i=n(673),r=n(614),s=n(367),a=n(379),o=n(714),l="httprequest";t.HttpErrorCode=(0,o.defineEnum)({NoNetwork:3237089281,NetworkError:3237089282,ResponseParseFailure:3237093379,UserAborted:15867905,ExceptionHappened:3237089284}),t.NativeNetworkError=(0,o.defineEnum)({NetworkError:151,SocketError:152,AddressResolveFailed:153,ConnectFailed:154,SslError:155,ConnectionTimeout:156,DataReceiveTimeout:157,PeerNoResponse:158,UnexpectedHttpRedirect:159,DataSendFailure:160,DataReceiveFailure:161,CertificateRejected:162,DataNotAllowed:163,NetworkErrorUnknown:199,NetworkErrorMax:200});const c={method:"GET",headers:{},body:"",retryCount:0,timeout:0,keepalive:!1};function u(e,n,i){var s,a;let o,c="",u="";const d=(n,i,s)=>{var a,d,h,p;o=null!=s?s:t.HttpErrorCode.NetworkError,u=null!==(d=null!==(a=null==e?void 0:e.message)&&void 0!==a?a:null==e?void 0:e.reason)&&void 0!==d?d:i,c=null!==(h=null==e?void 0:e.name)&&void 0!==h?h:n,r.Log.w(l,"Fetch failing with "+c+": "+(null!==(p=null==e?void 0:e.extendedCode)&&void 0!==p?p:o)+" "+u)};switch(n){case 0:d("GenericError","Generic fetch error.");break;case DOMException.NETWORK_ERR:d("NetworkError","A network error occurred.");break;case DOMException.TIMEOUT_ERR:d("TimeoutError","The operation timed out.");break;case DOMException.ABORT_ERR:d("AbortError","The operation was aborted.",t.HttpErrorCode.UserAborted);break;default:d("ExceptionHappened","Unknown Exception: "+n,t.HttpErrorCode.ExceptionHappened)}return{code:o,message:u,name:c,retries:i,extendedCode:null==e?void 0:e.extendedCode,stack:null!==(a=null!==(s=e.stack)&&void 0!==s?s:e.exception)&&void 0!==a?a:e}}t.performHttpRequest=function(e,n=c,o,d,h){var p;const f=null!==(p=n.method)&&void 0!==p?p:"GET";return s.TracingManager.getInstance().createSpan(f,()=>(function(e,t,n){const a=i.trace.getActiveSpan();if(!a)return;let o=new Map([["component",s.TracingComponent.name],["component.version",s.TracingComponent.version],["http.method",e],["http.url",t],["type",""],["http.hostname",""],["http.path",""]]);try{const e=new URL(t);o.set("type",e.protocol),o.set("http.hostname",e.hostname),o.set("http.path",e.pathname)}catch(e){r.Log.e(l,"Failed to extract http request attributes")}for(const[e,t]of o)a.setAttribute(e,t);a.setAttributes(n)}(f,e,n.headers),function(e,n=c,s,o){var d,h;let p=void 0===n.retryCount?1:n.retryCount+1;const f=p,g=null!==(d=n.backOffDelay)&&void 0!==d?d:500;let A=g;const m=null!==(h=n.method)&&void 0!==h?h:"GET";let v=new Headers;const y=null!=s?s:new AbortController;void 0!==n.headers&&Object.keys(n.headers).forEach(e=>{v.set(e,n.headers[e])});const E={};i.propagation.inject(i.context.active(),E);for(const[e,t]of Object.entries(E))v.set(e,t);return new Promise((s,c)=>{const d=e=>{!function(){const e=i.trace.getActiveSpan();e&&e.setAttribute("error","true")}(),c(e)},h=()=>{var c;if(navigator.onLine){let E,S={method:m,headers:v,mode:"cors",keepalive:n.keepalive,signal:y.signal,cache:"no-store"};"GET"!==m&&"HEAD"!==m&&(S.body=n.body);const b=0,x=[b,DOMException.NETWORK_ERR,DOMException.TIMEOUT_ERR,...null!==(c=n.retryCodes)&&void 0!==c?c:[503]],w=n.timeout?new a.CancellableWait(n.timeout):void 0,I=[],C=null!=o?o:window.fetch;I.push(C(e,S)),w&&I.push(w.getPromise()),Promise.race(I).then(t=>{if(null==w?void 0:w.isTimedOut())throw r.Log.w(l,"Timeout while performing HTTP request for Url: "+e),{code:DOMException.TIMEOUT_ERR,message:"Timeout while performing HTTP request",name:"TimeoutError"};if(t)return E=t.status,t.text();throw{code:DOMException.TYPE_MISMATCH_ERR,message:"Impossible condition. Response type cannot be void.",name:"ExceptionHappened"}}).then(e=>{if(!e&&x.includes(E)){if(p>1)throw{code:E,message:"Internal server error."};r.Log.w(l,"Failing with "+E+" even after "+f+" retries")}var t;(function(e){const t=i.trace.getActiveSpan();t&&(t.setAttribute("error","false"),t.setAttribute("http.status_code",e.toString()))})((t={status:E,data:null!=e?e:"",retries:f-p}).status),s(t)}).catch(e=>{e instanceof Error?r.Log.d(l,"Error in Fetch: "+e.message):r.Log.d(l,"Error in Fetch: "+JSON.stringify(e)+", "+e);const i=function(e){let t=0;return(null==e?void 0:e.code)?t=e.code:(null==e?void 0:e.name)&&("AbortError"===e.name?t=DOMException.ABORT_ERR:"NetworkError"===e.name?t=DOMException.NETWORK_ERR:"TimeoutError"===e.name&&(t=DOMException.TIMEOUT_ERR)),t}(e);i==b&&n.keepalive&&(n.keepalive=!1);const s=f-p;x.includes(i)?(e=>{if(p>1){p--,r.Log.d(l,"Failing with "+e+", retries left "+p);const n=new a.CancellableWait(A,y.signal);return n.getPromise().then(h).catch(e=>{var i,s;if(n.isAborted())d({code:t.HttpErrorCode.UserAborted,retries:f-p,message:"User aborted",name:"AbortError"});else{const n=JSON.stringify(e);r.Log.w(l,"Unhandled exception caught: "+n),d({code:t.HttpErrorCode.ExceptionHappened,retries:f-p,message:null!==(i=null==e?void 0:e.message)&&void 0!==i?i:n,name:null!==(s=null==e?void 0:e.name)&&void 0!==s?s:"ExceptionHappened"})}}),A+=g,!0}return!1})(i)||(r.Log.w(l,"Fetch failing even after "+f+" retries. Error: "+i),d(u(e,i,s))):d(u(e,i,s))}).finally(()=>{null==w||w.cancel()})}else d({code:t.HttpErrorCode.NoNetwork,message:"No network",retries:f-p,name:"NetworkError"})};h()})}(e,n,d,h)))}},185:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.pageSessionId=t.computeSha256Checksum=t.GetHexString=t.convertToUnsignedInt=t.getNewGuid=void 0;const i=n(614),r="utils";function s(){let e=new Uint8Array(36);window.crypto.getRandomValues(e);let t="";for(let n=0;n<36;n++){let i=e[n]%16;8==n||13==n||18==n||23==n?t+="-":14==n?t+="4":19==n?(i=3&i|8,t+=i.toString(16)):t+=i.toString(16)}return i.Log.i(r,"new guid "+t),t}function a(e){return e>>>0}t.getNewGuid=s,t.convertToUnsignedInt=a,t.GetHexString=function(e){return"0x"+("00000000"+(e=a(e)).toString(16).toUpperCase()).slice(-8)},t.computeSha256Checksum=async function(e){var t;if(!(null===(t=crypto.subtle)||void 0===t?void 0:t.digest)){const e="Crypto.subtle.digest is not available";throw i.Log.e(r,e),new Error(e)}const n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")},t.pageSessionId=s()},250:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.AuthType=t.authInfoToHeader=void 0;const i=n(714);t.authInfoToHeader=function(e){if(!e.token)return"";switch(e.type){case t.AuthType.JWT_GFN:return"GFNJWT "+e.token;case t.AuthType.JWT_PARTNER:return"GFNPartnerJWT auth="+e.token;default:return""}},t.AuthType=(0,i.defineEnum)({NONE:-1,JARVIS:0,JWT_GFN:1,JWT_PARTNER:2})},297:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.Profile=t.BitDepth=t.HudStreamingMode=t.PrefilterMode=t.ChromaFormat=t.SdrHdrMode=void 0;const i=n(714);t.SdrHdrMode=(0,i.defineEnum)({SDR:0,HDR:1,EDR:2}),t.ChromaFormat=(0,i.defineEnum)({YUV420:0,YUV444:1}),t.PrefilterMode=(0,i.defineEnum)({OFF:0,AUTO:1,CUSTOM:2}),t.HudStreamingMode=(0,i.defineEnum)({OFF:0,QP_MAP:1,SEPARATE_STREAM:2}),t.BitDepth=(0,i.defineEnum)({BIT_DEPTH_8:0,BIT_DEPTH_10:1}),t.Profile=(0,i.defineEnum)({CUSTOM:0,BALANCED:1,COMPETITIVE:2,DATA_SAVER:3,CINEMATIC:4})},367:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.TracingManager=t.TracingComponent=void 0;const i=n(673);t.TracingComponent={name:"@gamestream/utils",version:"1.0"};class r{constructor(){this.tracer=i.trace.getTracer("gfn-web-gamestream","2.0")}static getInstance(){return r.instance||(r.instance=new r),r.instance}createSpan(e,t){const n=this.tracer.startSpan(e);return i.context.with(i.trace.setSpan(i.context.active(),n),async()=>{try{const e=t();return e instanceof Promise?await e:e}finally{n.end()}})}}t.TracingManager=r},379:(e,t)=>{Object.defineProperty(t,"t",{value:!0}),t.CancellableWait=void 0,t.CancellableWait=class{constructor(e,t){var n;this.timerId=0,this.timedOut=!1,this.aborted=!1,this.promise=new Promise((e,t)=>{this.promiseResolve=e,this.promiseReject=t}),(null==t?void 0:t.aborted)?(this.aborted=!0,this.promiseReject()):(this.abortSignal=t,this.onAbortFunc=this.onAbort.bind(this),null===(n=this.abortSignal)||void 0===n||n.addEventListener("abort",this.onAbortFunc),this.timerId=window.setTimeout(this.onTimeout.bind(this),e))}cancel(){var e;null===(e=this.abortSignal)||void 0===e||e.removeEventListener("abort",this.onAbortFunc),this.timerId&&(window.clearTimeout(this.timerId),this.timerId=0),this.abortSignal=void 0}getPromise(){return this.promise}isTimedOut(){return this.timedOut}isAborted(){return this.aborted}onAbort(){this.aborted=!0,this.promiseReject(),this.cancel()}onTimeout(){this.timedOut=!0,this.promiseResolve(),this.timerId=0,this.cancel()}}},386:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.IndexedDb=void 0;const i=n(614),r="indexdb";function s(e,t,n){return{code:e,description:t,error:null!==n?n:void 0}}t.IndexedDb=class{constructor(e,t){this.indexedDb=window.indexedDB,this.version=2,this.isDbClosing=!1,this.didDbCloseUnexpectedly=!1,this.name=e,this.storeDetails=t}open(){return new Promise((e,t)=>{try{if(this.indexedDb){let n=this.indexedDb.open(this.name,this.version);n.onerror=e=>{t(s(18,this.name+" db opening failed",n.error))},n.onsuccess=t=>{this.createDbInstance(n.result),e()},n.onupgradeneeded=e=>{i.Log.i(r,"Upgrading from version "+e.oldVersion+" to "+e.newVersion),this.createDbInstance(n.result);const t=e=>{var t;const n=null===(t=this.dbInstance)||void 0===t?void 0:t.createObjectStore(e.storeName,e.storeOptions);e.storeOptions.keyPath&&(null==n||n.createIndex(e.storeIndexName,e.storeOptions.keyPath,{unique:!0}))};switch(e.oldVersion){case 0:t(this.storeDetails[0]);case 1:t(this.storeDetails[1])}},n.onblocked=e=>{t(s(19,this.name+" db blocked during opening",n.error))}}else t(s(17,"Indexdb object not found"))}catch(e){t(s(20,"Unexpected Exception in open",e))}})}getDbStateError(){if(!this.indexedDb)return s(17,"Indexdb object not found");if(!this.dbInstance)return s(1,"Db not yet open");if(this.isDbClosing){const e="hidden"===document.visibilityState;return s(2,"Db is closing, unexpectedly: "+this.didDbCloseUnexpectedly+", visibility state hidden: "+e)}}get(e,t){const n=this.getDbStateError();return n?Promise.reject(n):new Promise((n,a)=>{try{const o=this.dbInstance.transaction(e,"readonly"),l=o.objectStore(e);o.oncomplete=e=>{i.Log.i(r,"transaction complete in get")};const c=l.get(t);c.onsuccess=()=>{n(c.result)},c.onerror=e=>{a(s(32,"get method failed",o.error))}}catch(e){a(s(33,"Unexpected Exception happened in get",e))}})}set(e,t){const n=this.getDbStateError();return n?Promise.reject(n):new Promise((n,a)=>{try{const o=this.dbInstance.transaction(e,"readwrite"),l=o.objectStore(e);o.oncomplete=e=>{i.Log.i(r,"transaction complete in set")};const c=l.put(t);c.onsuccess=()=>{n()},c.onerror=e=>{a(s(48,"put method failed",o.error))}}catch(e){a(s(49,"Unexpected Exception happened in set",e))}})}delete(e,t){const n=this.getDbStateError();return n?Promise.reject(n):new Promise((n,a)=>{try{const o=this.dbInstance.transaction(e,"readwrite"),l=o.objectStore(e);o.oncomplete=e=>{i.Log.i(r,"transaction complete in delete")};const c=l.delete(t);c.onsuccess=()=>{n()},c.onerror=e=>{a(s(64,"delete method failed",o.error))}}catch(e){a(s(65,"Unexpected Exception in delete",e))}})}clear(e){const t=this.getDbStateError();return t?Promise.reject(t):new Promise((t,n)=>{try{const a=this.dbInstance.transaction(e,"readwrite"),o=a.objectStore(e);a.oncomplete=e=>{i.Log.i(r,"transaction complete in clear")};const l=o.clear();l.onsuccess=()=>{t()},l.onerror=e=>{n(s(80,"clear method failed)",a.error))}}catch(e){n(s(81,"Unexpected Exception happened in clear",e))}})}getAll(e){const t=this.getDbStateError();return t?Promise.reject(t):new Promise((t,n)=>{try{const a=this.dbInstance.transaction(e,"readonly"),o=a.objectStore(e);a.oncomplete=e=>{i.Log.i(r,"transaction complete in getAll")};const l=o.getAll();l.onsuccess=()=>{t(l.result)},l.onerror=e=>{n(s(96,"getAll method failed",a.error))}}catch(e){n(s(97,"Unexpected Exception in getAll",e))}})}close(){var e;this.isDbClosing=!0,null===(e=this.dbInstance)||void 0===e||e.close()}createDbInstance(e){this.isDbClosing=!1,this.didDbCloseUnexpectedly=!1,this.dbInstance=e,this.dbInstance.onversionchange=e=>{i.Log.w(r,"closing db to unblock other tabs"),this.close(),this.dbInstance=void 0},this.dbInstance.onclose=e=>{i.Log.w(r,"Db connection unexpectedly closed"),this.isDbClosing=!0,this.didDbCloseUnexpectedly=!0}}}},419:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.TelemetryModule=t.CLIENT_STORE=t.OFFLINE_STORE=t.STORAGE_NAME=t.GdprLevel=void 0;const i=n(386),r=n(185),s=n(614),a=n(121),o=n(623),l=n(537),c=n(714),u="telemetry";t.GdprLevel=(0,c.defineEnum)({FUNCTIONAL:"functional",TECHNICAL:"technical",BEHAVIORAL:"behavioral"});const d="https://events.gfe.nvidia.com/v1.1/events/json";t.STORAGE_NAME="telemetry",t.OFFLINE_STORE="offline-events-cache",t.CLIENT_STORE="client-events-cache",t.TelemetryModule=new class{constructor(){this.commonDataSet=!1,this.telemetryEventIds={},this.uploadToServerTimerId=0,this.eventIdGenerator=0,this.exceptionHandled=new Set,this.clientEvents=new Map,this.pendingEvents=new Map,this.dbPromises=new Map,this.dbInitialized=!1,this.serverUrl=d,this.httpConfiguration={method:"POST",headers:{"Content-Type":"application/json"},body:"",retryCount:3,timeout:15e3,retryCodes:[408,500,503]},this.eventSysVer="2.0",this.eventProtocol="1.5",this.maxEventsInStore=256,this.maxEventsInRequest=128,this.requestDelay=2e3,this.idb=new i.IndexedDb(t.STORAGE_NAME,[{storeName:t.OFFLINE_STORE,storeOptions:{keyPath:["clientId"]},storeIndexName:"offline-events-index"},{storeName:t.CLIENT_STORE,storeOptions:{keyPath:["clientId"]},storeIndexName:"client-events-index"}]),this.idb.open().then(async()=>{this.dbInitialized=!0;const e=await Promise.all([this.idb.getAll(t.OFFLINE_STORE),this.idb.getAll(t.CLIENT_STORE)]);e[0].forEach(e=>{s.Log.d(u,"Process offline events from previous sessions: "+e.payloads.length),e.payloads.forEach(e=>this.processEventPayload(e))}),e[1].forEach(e=>{s.Log.d(u,"Process client events from previous sessions: "+e.payloads.length),e.payloads.filter(e=>e.sessionId!==r.pageSessionId).forEach(e=>this.processEventPayload(e)),this.clientEvents.has(e.clientId)||this.clientEvents.set(e.clientId,[])}),this.saveEvents(t.OFFLINE_STORE,this.pendingEvents),this.saveEvents(t.CLIENT_STORE,this.clientEvents)}).catch(e=>{this.handleException("dbOpen",e)})}configure(e,n,i){var r,a,c,h,p,f,g,A,m,v,y;try{switch(typeof i){case"function":this.callback=i;break;case"number":const e=i===o.UploadEnvironment.STAGING;this.serverUrl=e?"https://events.gfestage.nvidia.com/v1.1/events/json":d;break;case"string":this.serverUrl=new URL(i).toString()}this.appInfo=Object.assign({},e),this.deviceInfo=Object.assign({},n),this.platformPayload=(0,l.translatePlatformInfoForPayload)(n),void 0===n.os&&n.deviceOS&&(this.platformPayload.os=n.deviceOS),void 0===n.browser&&n.browserType&&(this.platformPayload.browser=n.browserType),void 0===n.platformType&&n.deviceType&&(this.platformPayload.deviceType=n.deviceType),null!==(r=(m=this.deviceInfo).osVersion)&&void 0!==r||(m.osVersion=null!==(a=this.deviceInfo.deviceOSVersion)&&void 0!==a?a:"");const s="undefined";null!==(c=(v=this.deviceInfo).model)&&void 0!==c||(v.model=null!==(p=null===(h=this.deviceInfo)||void 0===h?void 0:h.deviceModel)&&void 0!==p?p:s),null!==(f=(y=this.deviceInfo).make)&&void 0!==f||(y.make=null!==(A=null===(g=this.deviceInfo)||void 0===g?void 0:g.deviceMake)&&void 0!==A?A:s),this.flushEvents(t.OFFLINE_STORE,this.pendingEvents)}catch(e){return s.Log.e(u,"configure failed: "+JSON.stringify(e)),!1}return!0}createTelemetryProvider(e){return{processEvent:this.processEvent.bind(this,e),cacheEvent:this.cacheEvent.bind(this,e),processCachedEvent:this.processCachedEvent.bind(this),dropCachedEvent:this.dropCachedEvent.bind(this)}}updateClientCommonData(e,n,i,r){if(this.commonDataSet=!0,this.userInfo&&(this.userInfo.userId!==e.userId||this.userInfo.externalUserId!==e.externalUserId||this.userInfo.idpId!==e.idpId)&&this.flushEvents(t.CLIENT_STORE,this.clientEvents),this.userInfo=Object.assign({},e),i){this.userConsent=Object.assign({},i);const e=JSON.stringify(i);s.Log.d(u,"User consent has been synced: "+e)}this.deviceConsent=Object.assign({},n);const a=JSON.stringify(n);s.Log.d(u,"Device consent has been synced: "+a),this.integrationId=r,this.flushEvents(t.OFFLINE_STORE,this.pendingEvents)}flushEvents(e,t){let n=0;t.forEach((e,i)=>{t.set(i,[]);for(const t of e)this.processEventPayload(t),n++}),this.saveEvents(e,t),s.Log.d(u,"Flush "+n+" events from "+e)}getTelemetryEventIds(){return Object.assign({},this.telemetryEventIds)}setTelemetryEventIds(e){e.networkSessionId&&(this.telemetryEventIds.networkSessionId=e.networkSessionId),e.streamingProfileGuid&&(this.telemetryEventIds.streamingProfileGuid=e.streamingProfileGuid),e.systemInfoGuid&&(this.telemetryEventIds.systemInfoGuid=e.systemInfoGuid)}processEvent(e,t){var n,i,s,a;try{const o={name:t.name,eventId:++this.eventIdGenerator,parameters:JSON.parse(JSON.stringify(t.parameters)),gdprLevel:t.gdprLevel,ts:t.ts,sessionId:r.pageSessionId,userId:null!==(a=null!==(i=null===(n=this.userInfo)||void 0===n?void 0:n.userId)&&void 0!==i?i:null===(s=this.userInfo)||void 0===s?void 0:s.externalUserId)&&void 0!==a?a:"",priority:t.priority,config:Object.assign({},e)};this.processEventPayload(o)}catch(n){const i="JSON error occurred on processing event: "+t.name;this.handleClientException(e,n,i)}}hasConsented(e){if(!this.commonDataSet)return 2;const n=e=>{var t,n;return(null===(t=this.userInfo)||void 0===t?void 0:t.userId)||(null===(n=this.userInfo)||void 0===n?void 0:n.externalUserId)?e===o.ConsentLevel.FULL?0:1:e===o.ConsentLevel.TEMP?0:1};let i=1;switch(e.gdprLevel){case t.GdprLevel.FUNCTIONAL:this.userConsent?i=n(this.userConsent.gdprFuncOptIn):this.deviceConsent&&(i=(r=this.deviceConsent.deviceGdprFuncOptIn)===o.ConsentLevel.FULL||r===o.ConsentLevel.TEMP?0:1);break;case t.GdprLevel.TECHNICAL:this.userConsent&&(i=n(this.userConsent.gdprTechOptIn));break;case t.GdprLevel.BEHAVIORAL:this.userConsent&&(i=n(this.userConsent.gdprBehOptIn))}var r;return i}getDebugEventName(e){return e.name+" "+(r.pageSessionId===e.sessionId?"":"from previous session")}processEventPayload(e){if(this.callback)this.callback(e);else switch(this.hasConsented(e)){case 0:e.priority?this.sendBeacon(e):(this.bufferEvent(this.pendingEvents,e),this.cacheAndMaybeUploadTelemetry());break;case 2:this.bufferEvent(this.pendingEvents,e),this.saveEvents(t.OFFLINE_STORE,this.pendingEvents),s.Log.d(u,"Missing consent event: "+this.getDebugEventName(e));break;case 1:s.Log.d(u,"Drop event: "+this.getDebugEventName(e))}}sendBeacon(e){if(!this.appInfo)return s.Log.d(u,"No app info, skip sending beacon"),this.bufferEvent(this.pendingEvents,e),void this.saveEvents(t.OFFLINE_STORE,this.pendingEvents);const n=this.createTelemetryRequestData([e]),i=new Blob([n],{type:"text/plain"}),r=navigator.sendBeacon(this.serverUrl,i);s.Log.i(u,"telemetry upload sendBeacon result : "+r+" event: "+this.getDebugEventName(e))}cacheAndMaybeUploadTelemetry(){!this.uploadToServerTimerId&&this.getPendingEventsCount()>0&&(s.Log.d(u,"Start telemetry uploading timer"),this.uploadToServerTimerId=window.setInterval(async()=>{const e=()=>{window.clearInterval(this.uploadToServerTimerId),this.uploadToServerTimerId=0};if(!this.appInfo)return s.Log.d(u,"No app info, stop uploading telemetry"),void e();if(0===this.getPendingEventsCount())return s.Log.d(u,"No more events to be consumed, stop uploading telemetry"),void e();for(const e of this.makeRequestBatches())this.sendHttp(e)},this.requestDelay))}makeRequestBatches(){const e=[];for(let t of this.pendingEvents.keys()){const n=this.pendingEvents.get(t);if(n&&n.length>0){const i=n.filter(e=>e.sessionId===n[0].sessionId&&e.config.eventSchemaVer===n[0].config.eventSchemaVer).splice(0,this.maxEventsInRequest);e.push(i),this.pendingEvents.set(t,n.filter(e=>!i.includes(e)))}}return this.saveEvents(t.OFFLINE_STORE,this.pendingEvents),e}async sendHttp(e){if(0===e.length)return;const t=this.createTelemetryRequestData(e),n=e[0].config.clientId;try{const i=await(0,a.performHttpRequest)(this.serverUrl,{...this.httpConfiguration,body:t}),r="Telemetry http request status: "+n+" "+i.status+" "+i.data;i.status>=200&&i.status<300?s.Log.i(u,r+" Uploaded "+e.length+" events."):s.Log.e(u,r+" Drop "+e.length+" events.")}catch(e){s.Log.e(u,"Client "+n+" telemetry http request failed. Error: "+e)}}cacheEvent(e,n,i){var s,a,o;try{if(i){const t=this.clientEvents.get(e.clientId);if(t){const r=t.findIndex(e=>e.eventId===i);if(-1!==r){const i=t.splice(r,1),s={eventId:i[0].eventId,sessionId:i[0].sessionId,userId:i[0].userId,config:Object.assign({},e),name:n.name,gdprLevel:n.gdprLevel,priority:n.priority,ts:n.ts,parameters:JSON.parse(JSON.stringify(n.parameters))};t.push(s)}}}else{i=++this.eventIdGenerator;const t={name:n.name,eventId:i,parameters:JSON.parse(JSON.stringify(n.parameters)),gdprLevel:n.gdprLevel,ts:n.ts,sessionId:r.pageSessionId,userId:null!==(a=null===(s=this.userInfo)||void 0===s?void 0:s.userId)&&void 0!==a?a:"",priority:null!==(o=n.priority)&&void 0!==o&&o,config:Object.assign({},e)};this.bufferEvent(this.clientEvents,t)}this.saveEvents(t.CLIENT_STORE,this.clientEvents)}catch(t){const i="JSON error occurred on caching event: "+n.name;this.handleClientException(e,t,i)}return null!=i?i:0}processCachedEvent(e){this.removeEventHelper(e,!0)}dropCachedEvent(e){this.removeEventHelper(e,!1)}removeEventHelper(e,n){for(let i of this.clientEvents){const r=i[1].findIndex(t=>t.eventId===e);if(-1!==r){const e=i[1].splice(r,1);this.saveEvents(t.CLIENT_STORE,this.clientEvents),n&&this.processEventPayload(e[0]);break}}}createTelemetryRequestData(e){var t,n,i,r,s,a,o,l,c,u,d,h,p,f,g,A,m,v,y,E,S,b,x,w,I,C,T,M,B,R,P,_,D,N,L,O;const k="undefined",U={clientId:(null===(t=e[0])||void 0===t?void 0:t.config.clientId)||k,clientVer:(null===(n=this.appInfo)||void 0===n?void 0:n.clientVer)||k,eventSchemaVer:(null===(i=e[0])||void 0===i?void 0:i.config.eventSchemaVer)||k,eventSysVer:this.eventSysVer,eventProtocol:this.eventProtocol,deviceId:(null===(r=this.deviceInfo)||void 0===r?void 0:r.deviceId)||k,userId:(null===(s=this.userInfo)||void 0===s?void 0:s.userId)||k,externalUserId:null===(a=this.userInfo)||void 0===a?void 0:a.externalUserId,idpId:null===(o=this.userInfo)||void 0===o?void 0:o.idpId,sessionId:(null===(l=e[0])||void 0===l?void 0:l.sessionId)||k,events:[],gdprFuncOptIn:null!==(u=null===(c=this.userConsent)||void 0===c?void 0:c.gdprFuncOptIn)&&void 0!==u?u:k,gdprTechOptIn:null!==(h=null===(d=this.userConsent)||void 0===d?void 0:d.gdprTechOptIn)&&void 0!==h?h:k,gdprBehOptIn:null!==(f=null===(p=this.userConsent)||void 0===p?void 0:p.gdprBehOptIn)&&void 0!==f?f:k,deviceGdprFuncOptIn:null!==(A=null===(g=this.deviceConsent)||void 0===g?void 0:g.deviceGdprFuncOptIn)&&void 0!==A?A:k,deviceGdprTechOptIn:null!==(v=null===(m=this.deviceConsent)||void 0===m?void 0:m.deviceGdprTechOptIn)&&void 0!==v?v:k,deviceGdprBehOptIn:null!==(E=null===(y=this.deviceConsent)||void 0===y?void 0:y.deviceGdprBehOptIn)&&void 0!==E?E:k,deviceOS:null!==(b=null===(S=this.platformPayload)||void 0===S?void 0:S.os)&&void 0!==b?b:k,deviceOSVersion:(null===(x=this.deviceInfo)||void 0===x?void 0:x.osVersion)||k,deviceType:null!==(I=null===(w=this.platformPayload)||void 0===w?void 0:w.deviceType)&&void 0!==I?I:k,deviceModel:(null===(C=this.deviceInfo)||void 0===C?void 0:C.model)||k,deviceMake:(null===(T=this.deviceInfo)||void 0===T?void 0:T.make)||k,clientType:null!==(B=null===(M=this.appInfo)||void 0===M?void 0:M.clientType)&&void 0!==B?B:k,clientVariant:null!==(P=null===(R=this.appInfo)||void 0===R?void 0:R.clientVariant)&&void 0!==P?P:k,integrationId:this.integrationId||k,browserType:null!==(D=null===(_=this.platformPayload)||void 0===_?void 0:_.browser)&&void 0!==D?D:k,productName:null===(N=this.appInfo)||void 0===N?void 0:N.productName,productVersion:null===(L=this.appInfo)||void 0===L?void 0:L.productVersion,sentTs:(new Date).toISOString()};for(const t of e){const e={name:t.name,ts:t.ts,parameters:t.parameters};null===(O=U.events)||void 0===O||O.push(e)}return JSON.stringify(U)}getPendingEventsCount(){let e=0;return this.pendingEvents.forEach(t=>e+=t.length),e}dropOldestEventIfNeeded(){if(this.getPendingEventsCount()<this.maxEventsInStore)return;let e,t="",n="";this.pendingEvents.forEach((t,i)=>{e?t[0].ts<e.ts&&(n=i,e=t[0]):(n=i,e=t[0])});const i=this.pendingEvents.get(n);i&&(t=i.splice(0,1)[0].name),s.Log.i(u,"Too many events under pending, drop "+t)}bufferEvent(e,t){var n;e===this.pendingEvents&&this.dropOldestEventIfNeeded();const i=t.config.clientId;e.has(i)?null===(n=e.get(i))||void 0===n||n.push(t):e.set(i,[t])}saveEvents(e,t){this.dbInitialized&&t.forEach((t,n)=>{var i;const r={clientId:n,payloads:t},s=e+"|"+n;let a=null!==(i=this.dbPromises.get(s))&&void 0!==i?i:Promise.resolve();a=a.then(()=>this.idb.set(e,r)).catch(t=>{this.handleException("saveEvents("+e+")",t)}),this.dbPromises.set(s,a)})}handleException(e,t){var n,i,a;const o=null!==(a=null!==(i=null===(n=t.error)||void 0===n?void 0:n.message)&&void 0!==i?i:t.description)&&void 0!==a?a:"Exception in "+e;s.Log.e(u,e+" failed: "+(0,r.GetHexString)(t.code)+" "+o),this.exceptionHandled.has(e)||this.exceptionHandled.add(e)}handleClientException(e,t,n){s.Log.e(u,n),e.exceptionHandler&&e.exceptionHandler({error:t,description:n})}}},422:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.NetworkType=void 0;const i=n(714);t.NetworkType=(0,i.defineEnum)({OTHER:"OTHER",ETHERNET:"ETHERNET",UNKNOWN:"UNKNOWN",WIFI:"WIFI",WIFI_2_4:"WIFI_2_4",WIFI_5_0:"WIFI_5_0",MOBILE:"MOBILE",MOBILE_2G:"MOBILE_2G",MOBILE_3G:"MOBILE_3G",MOBILE_4G:"MOBILE_4G",MOBILE_5G:"MOBILE_5G",WIMAX:"WIMAX",BLUETOOTH:"BLUETOOTH"})},492:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.RemoteLoggingService=void 0;const i=n(623),r=n(921),s=n(121),a=n(614),o=n(537),l=n(185),c="https://telemetry.gfe.nvidia.com/gfc/v4.0",u="remoteloggingservice";t.RemoteLoggingService=class{constructor(e,t,n,s,a,u,d){var h,p,f,g,A,m;this.chunkOffset=0,this.url=c;const v=(0,o.translatePlatformInfoForPayload)(t);switch(void 0===t.os&&t.deviceOS&&(v.os=t.deviceOS),void 0===t.browser&&t.browserType&&(v.browser=t.browserType),void 0===t.platformType&&t.deviceType&&(v.deviceType=t.deviceType),this.headPayload={browserType:v.browser,clientId:r.CLIENT_ID,clientTs:"",clientType:n.clientType,clientVariant:n.clientVariant,clientVer:n.clientVer,deviceGdprBehOptIn:a.deviceGdprBehOptIn,deviceGdprFuncOptIn:a.deviceGdprFuncOptIn,deviceGdprTechOptIn:a.deviceGdprTechOptIn,deviceId:t.deviceId,deviceOS:v.os,deviceOSVersion:null!==(h=t.osVersion)&&void 0!==h?h:t.deviceOSVersion,deviceMake:null!==(f=null!==(p=t.make)&&void 0!==p?p:t.deviceMake)&&void 0!==f?f:"",deviceModel:null!==(A=null!==(g=t.model)&&void 0!==g?g:t.deviceModel)&&void 0!==A?A:"",deviceType:v.deviceType,feedbackId:"",feedbackName:"GS_Log_Event",feedbackProtocol:"4.4",feedbackSchemaVer:"3.2",feedbackSysVer:"v4.3",fileList:[{name:u}],gdprBehOptIn:s.gdprBehOptIn,gdprFuncOptIn:s.gdprFuncOptIn,gdprTechOptIn:s.gdprTechOptIn,parameters:{streamSessionId:"",streamSubSessionIds:[]},sentTs:"",sessionId:l.pageSessionId,userId:null!==(m=e.userId)&&void 0!==m?m:""},d){case i.UploadEnvironment.PROD:this.url=c;break;case i.UploadEnvironment.STAGING:this.url="https://telemetry.gfestage.nvidia.com/gfc/v4.0";break;default:this.url=d}}async startUpload(e){this.chunkOffset=0,this.headPayload.feedbackId=crypto.randomUUID(),this.headPayload.parameters.streamSessionId=null!=e?e:"",this.headPayload.clientTs=(new Date).toISOString(),this.headPayload.sentTs=(new Date).toISOString();const t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(this.headPayload)},n=this.url+"/head",i=await(0,s.performHttpRequest)(n,t);if(200!==i.status)return a.Log.e(u,"Head request failed with "+i.status),!1;let r="Initiated feedback session "+this.headPayload.feedbackId;return e&&(r+=" for stream session "+e),a.Log.i(u,r),!0}async sendChunk(e,t=!1){const n=new Blob([e]),i=new FormData;try{i.append("feedbackId",this.headPayload.feedbackId),i.append("offset",this.chunkOffset.toString()),i.append("checksum",await(0,l.computeSha256Checksum)(e)),i.append("data2",n),i.append("size",n.size.toString()),i.append("parameters",JSON.stringify(this.headPayload.parameters))}catch(e){const t="Cannot send chunk: "+e;return a.Log.e(u,t),!1}t&&i.append("eob","true");const r={method:"POST",headers:{},body:i},o=this.url+"/attachment",c=await(0,s.performHttpRequest)(o,r);switch(c.status){case 200:return a.Log.i(u,"Feedback session "+this.headPayload.feedbackId+" closed."),this.headPayload.feedbackId="",this.chunkOffset=0,!0;case 206:return this.chunkOffset+=n.size,!0;case 462:return a.Log.e(u,"Cannot send attachment request with invalid feedback id"),!1;case 463:return a.Log.e(u,"Incorrect data offset provided in attachment request"),!1;default:return a.Log.e(u,"Attachment request failed with "+c.status),!1}}}},537:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.translatePlatformInfoForClientHeader=t.translatePlatformInfoForPayload=void 0;const i=n(865);class r{static getMappedDeviceType(e){switch(e){case i.PlatformType.CONSOLE:return i.PayloadDeviceType.CONSOLE;case i.PlatformType.TABLET:return i.PayloadDeviceType.TABLET;case i.PlatformType.PHONE:return i.PayloadDeviceType.PHONE;case i.PlatformType.TV:return i.PayloadDeviceType.TV;case i.PlatformType.LAPTOP:return i.PayloadDeviceType.LAPTOP;case i.PlatformType.DESKTOP:return i.PayloadDeviceType.DESKTOP;case i.PlatformType.HMD:return i.PayloadDeviceType.HMD;case i.PlatformType.SERVER:return i.PayloadDeviceType.SERVER;default:return i.PayloadDeviceType.UNDEFINED}}static getMappedBrowserName(e){switch(e){case i.PlatformBrowser.CHROME:return i.PayloadBrowserType.CHROME;case i.PlatformBrowser.SAFARI:return i.PayloadBrowserType.SAFARI;case i.PlatformBrowser.YANDEX:return i.PayloadBrowserType.YANDEX;case i.PlatformBrowser.EDGE:return i.PayloadBrowserType.EDGE;case i.PlatformBrowser.EDGE_LEGACY:return i.PayloadBrowserType.EDGE_LEGACY;case i.PlatformBrowser.FIREFOX:return i.PayloadBrowserType.FIREFOX;case i.PlatformBrowser.SAMSUNG:return i.PayloadBrowserType.SAMSUNG;case i.PlatformBrowser.CHROMIUM:return i.PayloadBrowserType.CHROMIUM;case i.PlatformBrowser.OPERA:return i.PayloadBrowserType.OPERA;case i.PlatformBrowser.OPERAGX:return i.PayloadBrowserType.OPERAGX;case i.PlatformBrowser.BRAVE:return i.PayloadBrowserType.BRAVE;case i.PlatformBrowser.SILK:return i.PayloadBrowserType.SILK;case i.PlatformBrowser.UNKNOWN:case i.PlatformBrowser.REACT:case i.PlatformBrowser.PICO:default:return i.PayloadBrowserType.UNDEFINED}}static getMappedDeviceOS(e){switch(e){case i.PlatformOS.WINDOWS:return i.PayloadOSType.WINDOWS;case i.PlatformOS.MAC:return i.PayloadOSType.MACOS;case i.PlatformOS.CHROME_OS:return i.PayloadOSType.CHROMEOS;case i.PlatformOS.LINUX:return i.PayloadOSType.LINUX;case i.PlatformOS.IOS:return i.PayloadOSType.IOS;case i.PlatformOS.IPADOS:return i.PayloadOSType.IPADOS;case i.PlatformOS.TIZEN:return i.PayloadOSType.TIZEN;case i.PlatformOS.WEBOS:return i.PayloadOSType.WEBOS;case i.PlatformOS.XBOX:return i.PayloadOSType.XBOX;case i.PlatformOS.ANDROID:return i.PayloadOSType.ANDROID;case i.PlatformOS.STEAMOS:return i.PayloadOSType.STEAMOS;case i.PlatformOS.VISIONOS:return i.PayloadOSType.VISIONOS;case i.PlatformOS.SHIELD:return i.PayloadOSType.SHIELD;case i.PlatformOS.TVOS:return i.PayloadOSType.TVOS;case i.PlatformOS.FIRETV:case i.PlatformOS.FREEBSD:case i.PlatformOS.CCOS:case i.PlatformOS.UNKNOWN:default:return i.PayloadOSType.UNDEFINED}}constructor(e){this.X_=e,this.j_=this.translateForPayload(),this.H_=this.translateForClientHeaders()}translateForPayload(){var e;const t=this.X_,n=r.getMappedDeviceType(t.platformType),s=r.getMappedBrowserName(t.browser);return{os:r.getMappedDeviceOS(null!==(e=t.os)&&void 0!==e?e:i.PlatformOS.UNKNOWN),browser:s,deviceType:n}}translateForClientHeaders(){var e;const t=this.X_,n=r.extractDeviceTypeForBrowserClient(r.getMappedDeviceType(t.platformType)),s=r.extractBrowserTypeForBrowserClient(r.getMappedBrowserName(t.browser));return{os:r.mapOSPlatformNameToSupportedDeviceOs(r.getMappedDeviceOS(null!==(e=t.os)&&void 0!==e?e:i.PlatformOS.UNKNOWN)),browser:s,deviceType:n}}get gxtDetails(){return this.j_}get lcarsDetails(){return this.H_}get info(){return this.X_}}let s;r.mapOSPlatformNameToSupportedDeviceOs=e=>{switch(e){case i.PayloadOSType.WINDOWS:return i.ClientHeaderOSType.WINDOWS;case i.PayloadOSType.MACOS:return i.ClientHeaderOSType.MACOS;case i.PayloadOSType.LINUX:return i.ClientHeaderOSType.LINUX;case i.PayloadOSType.CHROMEOS:return i.ClientHeaderOSType.CHROMEOS;case i.PayloadOSType.IOS:return i.ClientHeaderOSType.IOS;case i.PayloadOSType.IPADOS:return i.ClientHeaderOSType.IPADOS;case i.PayloadOSType.WEBOS:return i.ClientHeaderOSType.WEBOS;case i.PayloadOSType.TIZEN:return i.ClientHeaderOSType.TIZEN;case i.PayloadOSType.XBOX:return i.ClientHeaderOSType.XBOX;case i.PayloadOSType.ANDROID:return i.ClientHeaderOSType.ANDROID;case i.PayloadOSType.STEAMOS:return i.ClientHeaderOSType.STEAMOS;case i.PayloadOSType.SHIELD:return i.ClientHeaderOSType.SHIELD;case i.PayloadOSType.VISIONOS:return i.ClientHeaderOSType.VISIONOS;case i.PayloadOSType.TVOS:return i.ClientHeaderOSType.TVOS;default:return i.ClientHeaderOSType.UNKNOWN}},r.extractDeviceTypeForBrowserClient=e=>{switch(e){case i.PayloadDeviceType.DESKTOP:return i.ClientHeaderDeviceType.DESKTOP;case i.PayloadDeviceType.LAPTOP:return i.ClientHeaderDeviceType.LAPTOP;case i.PayloadDeviceType.TV:return i.ClientHeaderDeviceType.TV;case i.PayloadDeviceType.PHONE:return i.ClientHeaderDeviceType.PHONE;case i.PayloadDeviceType.TABLET:return i.ClientHeaderDeviceType.TABLET;case i.PayloadDeviceType.CONSOLE:return i.ClientHeaderDeviceType.CONSOLE;case i.PayloadDeviceType.HMD:return i.ClientHeaderDeviceType.HMD;default:return i.ClientHeaderDeviceType.DESKTOP}},r.extractBrowserTypeForBrowserClient=e=>{switch(e){case i.PayloadBrowserType.CHROME:return i.ClientHeaderBrowserType.CHROME;case i.PayloadBrowserType.SAFARI:return i.ClientHeaderBrowserType.SAFARI;case i.PayloadBrowserType.YANDEX:return i.ClientHeaderBrowserType.YANDEX;case i.PayloadBrowserType.EDGE:return i.ClientHeaderBrowserType.EDGE;case i.PayloadBrowserType.EDGE_LEGACY:return i.ClientHeaderBrowserType.EDGE_LEGACY;case i.PayloadBrowserType.FIREFOX:return i.ClientHeaderBrowserType.FIREFOX;case i.PayloadBrowserType.SAMSUNG:return i.ClientHeaderBrowserType.SAMSUNG;case i.PayloadBrowserType.CHROMIUM:return i.ClientHeaderBrowserType.CHROMIUM;case i.PayloadBrowserType.OPERA:return i.ClientHeaderBrowserType.OPERA;case i.PayloadBrowserType.OPERAGX:return i.ClientHeaderBrowserType.OPERAGX;case i.PayloadBrowserType.BRAVE:return i.ClientHeaderBrowserType.BRAVE;case i.PayloadBrowserType.SILK:return i.ClientHeaderBrowserType.SILK;case i.PayloadBrowserType.UNDEFINED:default:return i.ClientHeaderBrowserType.UNKNOWN}},t.translatePlatformInfoForPayload=function(e){return s&&s.info==e||(s=new r(e)),s.gxtDetails},t.translatePlatformInfoForClientHeader=function(e){return s&&s.info==e||(s=new r(e)),s.lcarsDetails}},596:(e,t)=>{Object.defineProperty(t,"t",{value:!0}),t.LogBuffer=void 0;class n{constructor(e){this.encoder=new TextEncoder,this.logIndex=0,this.full=!1,this.buffer=new Uint8Array(e+n.FULL_MESSAGE.length),this.maxLength=e}clear(){this.encoder=new TextEncoder,this.logIndex=0,this.full=!1}log(e){if(this.full)return;let t=this.encoder.encode(e+"\n");this.logIndex+t.byteLength>this.maxLength&&(this.full=!0,t=this.encoder.encode(n.FULL_MESSAGE)),this.buffer.set(t,this.logIndex),this.logIndex+=t.byteLength}getData(){return this.buffer.slice(0,this.logIndex)}}t.LogBuffer=n,n.FULL_MESSAGE="Log is full\n"},614:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.Logger=t.Log=t.LogMechanism=t.LogLevel=void 0;const i=n(714);t.LogLevel=(0,i.defineEnum)({INFO:"INFO",WARN:"WARN",DEBUG:"DEBUG",ERROR:"ERROR",NONE:"NONE"});const r={[t.LogLevel.NONE]:0,[t.LogLevel.ERROR]:1,[t.LogLevel.WARN]:2,[t.LogLevel.INFO]:3,[t.LogLevel.DEBUG]:4};t.LogMechanism=(0,i.defineEnum)({Default:0,Console:1});class s{constructor(){this.queue=[],this.logMechanism=t.LogMechanism.Default,this.logLevel=t.LogLevel.DEBUG,this.G_=(e,t,...n)=>{},this.m_=(e,n,...i)=>this.handleLog(t.LogLevel.DEBUG,e,n,i),this.r_=(e,n,...i)=>this.handleLog(t.LogLevel.INFO,e,n,i),this.M_=(e,n,...i)=>this.handleLog(t.LogLevel.WARN,e,n,i),this.l_=(e,n,...i)=>this.handleLog(t.LogLevel.ERROR,e,n,i)}setLogMechanism(e){this.logMechanism=e}setLogLevel(e){this.logLevel=e}get d(){return r[this.logLevel]<r[t.LogLevel.DEBUG]?this.G_:this.logMechanism===t.LogMechanism.Console?function(){}.bind():this.m_}get w(){return r[this.logLevel]<r[t.LogLevel.WARN]?this.G_:this.logMechanism===t.LogMechanism.Console?function(){}.bind():this.M_}get i(){return r[this.logLevel]<r[t.LogLevel.INFO]?this.G_:this.logMechanism===t.LogMechanism.Console?function(){}.bind():this.r_}get e(){return r[this.logLevel]<r[t.LogLevel.ERROR]?this.G_:this.logMechanism===t.LogMechanism.Console?function(){}.bind():this.l_}register(e){this.callback=e,this.queue.length&&window.setTimeout(()=>{this.executeLogCallback(!0)})}isCallbackRegistered(){return!!this.callback}stringifyArgs(...e){return e.length?"##"+JSON.stringify(e):""}executeLogCallback(e){this.callback&&this.queue.length&&(this.callback(this.queue[0]),this.queue.shift(),e&&this.queue.length&&window.setTimeout(()=>{this.executeLogCallback(!0)}))}unregister(){this.callback=void 0}handleLog(e,t,n,i){let r=""+n+this.stringifyArgs(...i),a={timestamp:this.renderDate(new Date),level:e,tag:t,message:r};this.queue.push(a),this.callback?window.setTimeout(()=>{this.executeLogCallback(!1)}):this.queue.length>s.MAX_QUEUE_SIZE&&this.queue.shift()}renderDate(e){const t=(e,t,n)=>{const i=t-e.length;if(i>0){let t="";for(let e=0;e<i;e++)t+=n;return t+=e,t}return e};let n="";return n=t(e.getFullYear().toString(),4,"0")+"-"+t((e.getMonth()+1).toString(),2,"0")+"-"+t(e.getDate().toString(),2,"0")+" "+t(e.getHours().toString(),2,"0")+":"+t(e.getMinutes().toString(),2,"0")+":"+t(e.getSeconds().toString(),2,"0")+"."+t(e.getMilliseconds().toString(),3,"0"),n}}s.MAX_QUEUE_SIZE=50;const a=new s;t.Log=a,t.Logger=a},623:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.ProductName=t.ClientVariant=t.PayloadClientType=t.UploadEnvironment=t.ConsentLevel=void 0;const i=n(714);t.ConsentLevel=(0,i.defineEnum)({FULL:"Full",NONE:"None",TEMP:"Temp"}),t.UploadEnvironment=(0,i.defineEnum)({PROD:0,STAGING:1}),t.PayloadClientType=(0,i.defineEnum)({NATIVE:"Native",BROWSER:"Browser",GFNSDK:"GFNSDK",GFNSDK_BROWSER:"GFNSDK-Browser",UNDEFINED:"undefined"}),t.ClientVariant=(0,i.defineEnum)({BETA:"iBeta",RELEASE:"Release",UNDEFINED:"undefined"}),t.ProductName=(0,i.defineEnum)({GFN:"GFN",GFE:"GFE",NVAPP:"NvApp",DISPLAY_DRIVER:"DisplayDriver",UNDEFINED:"undefined"})},673:(e,t,n)=>{n.r(t),n.d(t,{DiagConsoleLogger:()=>B,DiagLogLevel:()=>p,INVALID_SPANID:()=>ne,INVALID_SPAN_CONTEXT:()=>re,INVALID_TRACEID:()=>ie,ProxyTracer:()=>Me,ProxyTracerProvider:()=>Re,ROOT_CONTEXT:()=>T,SamplingDecision:()=>ye,SpanKind:()=>Ee,SpanStatusCode:()=>Se,TraceFlags:()=>q,ValueType:()=>I,baggageEntryMetadataFromString:()=>b,context:()=>ke,createContextKey:()=>x,createNoopMeter:()=>j,createTraceState:()=>Oe,default:()=>$e,defaultTextMapGetter:()=>J,defaultTextMapSetter:()=>Z,diag:()=>Ue,isSpanContextValid:()=>me,isValidSpanId:()=>Ae,isValidTraceId:()=>ge,metrics:()=>Ve,propagation:()=>Je,trace:()=>Ke});var i="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},r="1.4.1",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,a=function(e){var t=new Set([e]),n=new Set,i=e.match(s);if(!i)return function(){return!1};var r=+i[1],a=+i[2],o=+i[3];if(null!=i[4])return function(t){return t===e};function l(e){return n.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var i=e.match(s);if(!i)return l(e);var u=+i[1],d=+i[2],h=+i[3];return null!=i[4]||r!==u?l(e):0===r?a===d&&o<=h?c(e):l(e):a<=d?c(e):l(e)}}(r),o=r.split(".")[0],l=Symbol.for("opentelemetry.js.api."+o),c=i;function u(e,t,n,i){var s;void 0===i&&(i=!1);var a=c[l]=null!==(s=c[l])&&void 0!==s?s:{version:r};if(!i&&a[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}return a.version!==r?(o=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+r),n.error(o.stack||o.message),!1):(a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+r+"."),!0)}function d(e){var t,n,i=null===(t=c[l])||void 0===t?void 0:t.version;if(i&&a(i))return null===(n=c[l])||void 0===n?void 0:n[e]}function h(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+r+".");var n=c[l];n&&delete n[e]}var p,f,g=function(){function e(e){this.J_=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("debug",this.J_,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("error",this.J_,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("info",this.J_,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("warn",this.J_,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("verbose",this.J_,e)},e}();function A(e,t,n){var i=d("diag");if(i)return n.unshift(t),i[e].apply(i,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(n),!1))}(f=p||(p={}))[f.NONE=0]="NONE",f[f.ERROR=30]="ERROR",f[f.WARN=50]="WARN",f[f.INFO=60]="INFO",f[f.DEBUG=70]="DEBUG",f[f.VERBOSE=80]="VERBOSE",f[f.ALL=9999]="ALL";var m=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=d("diag");if(i)return i[e].apply(i,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(t),!1))}}var t=this;t.setLogger=function(e,n){var i,r,s;if(void 0===n&&(n={logLevel:p.INFO}),e===t){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(i=a.stack)&&void 0!==i?i:a.message),!1}"number"==typeof n&&(n={logLevel:n});var o=d("diag"),l=function(e,t){function n(n,i){var r=t[n];return"function"==typeof r&&e>=i?r.bind(t):function(){}}return e<p.NONE?e=p.NONE:e>p.ALL&&(e=p.ALL),t=t||{},{error:n("error",p.ERROR),warn:n("warn",p.WARN),info:n("info",p.INFO),debug:n("debug",p.DEBUG),verbose:n("verbose",p.VERBOSE)}}(null!==(r=n.logLevel)&&void 0!==r?r:p.INFO,e);if(o&&!n.suppressOverrideMessage){var c=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";o.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return u("diag",l,t,!0)},t.disable=function(){h("diag",t)},t.createComponentLogger=function(e){return new g(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this.W_||(this.W_=new e),this.W_},e}(),v=function(){function e(e){this.z_=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this.z_.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this.z_.entries()).map(function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var i=new e(this.z_);return i.z_.set(t,n),i},e.prototype.removeEntry=function(t){var n=new e(this.z_);return n.z_.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=new e(this.z_);try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),o=a.next();!o.done;o=a.next()){var l=o.value;s.z_.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),y=Symbol("BaggageEntryMetadata"),E=m.instance();function S(e){return void 0===e&&(e={}),new v(new Map(Object.entries(e)))}function b(e){return"string"!=typeof e&&(E.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{q_:y,toString:function(){return e}}}function x(e){return Symbol.for(e)}var w,I,C,T=new function e(t){var n=this;n.Y_=t?new Map(t):new Map,n.getValue=function(e){return n.Y_.get(e)},n.setValue=function(t,i){var r=new e(n.Y_);return r.Y_.set(t,i),r},n.deleteValue=function(t){var i=new e(n.Y_);return i.Y_.delete(t),i}},M=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],B=function(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(console){var i=console[e];if("function"!=typeof i&&(i=console.log),"function"==typeof i)return i.apply(console,t)}}}for(var t=0;t<M.length;t++)this[M[t].n]=e(M[t].c)},R=(w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(){function e(){}return e.prototype.createHistogram=function(e,t){return H},e.prototype.createCounter=function(e,t){return V},e.prototype.createUpDownCounter=function(e,t){return G},e.prototype.createObservableGauge=function(e,t){return W},e.prototype.createObservableCounter=function(e,t){return z},e.prototype.createObservableUpDownCounter=function(e,t){return X},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),_=function(){},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.add=function(e,t){},t}(_),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.add=function(e,t){},t}(_),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.record=function(e,t){},t}(_),O=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(O),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(O),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(O),Q=new P,V=new D,H=new L,G=new N,z=new k,W=new U,X=new F;function j(){return Q}(C=I||(I={}))[C.INT=0]="INT",C[C.DOUBLE=1]="DOUBLE";var q,Y,J={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},Z={set:function(e,t,n){null!=e&&(e[t]=n)}},K=function(){function e(){}return e.prototype.active=function(){return T},e.prototype.with=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(i),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),$="context",ee=new K,te=function(){function e(){}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalContextManager=function(e){return u($,e,m.instance())},e.prototype.active=function(){return this.K_().active()},e.prototype.with=function(e,t,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];return(i=this.K_()).with.apply(i,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(r),!1))},e.prototype.bind=function(e,t){return this.K_().bind(e,t)},e.prototype.K_=function(){return d($)||ee},e.prototype.disable=function(){this.K_().disable(),h($,m.instance())},e}();(Y=q||(q={}))[Y.NONE=0]="NONE",Y[Y.SAMPLED=1]="SAMPLED";var ne="0000000000000000",ie="00000000000000000000000000000000",re={traceId:ie,spanId:ne,traceFlags:q.NONE},se=function(){function e(e){void 0===e&&(e=re),this.Q_=e}return e.prototype.spanContext=function(){return this.Q_},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),ae=x("OpenTelemetry Context Key SPAN");function oe(e){return e.getValue(ae)||void 0}function le(){return oe(te.getInstance().active())}function ce(e,t){return e.setValue(ae,t)}function ue(e){return e.deleteValue(ae)}function de(e,t){return ce(e,new se(t))}function he(e){var t;return null===(t=oe(e))||void 0===t?void 0:t.spanContext()}var pe=/^([0-9a-f]{32})$/i,fe=/^[0-9a-f]{16}$/i;function ge(e){return pe.test(e)&&e!==ie}function Ae(e){return fe.test(e)&&e!==ne}function me(e){return ge(e.traceId)&&Ae(e.spanId)}function ve(e){return new se(e)}var ye,Ee,Se,be,xe,we,Ie=te.getInstance(),Ce=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=Ie.active()),Boolean(null==t?void 0:t.root))return new se;var i,r=n&&he(n);return"object"==typeof(i=r)&&"string"==typeof i.spanId&&"string"==typeof i.traceId&&"number"==typeof i.traceFlags&&me(r)?new se(r):new se},e.prototype.startActiveSpan=function(e,t,n,i){var r,s,a;if(!(arguments.length<2)){2===arguments.length?a=t:3===arguments.length?(r=t,a=n):(r=t,s=n,a=i);var o=null!=s?s:Ie.active(),l=this.startSpan(e,r,o),c=ce(o,l);return Ie.with(c,a,void 0,l)}},e}(),Te=new Ce,Me=function(){function e(e,t,n,i){this.Z_=e,this.name=t,this.version=n,this.options=i}return e.prototype.startSpan=function(e,t,n){return this._M().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,i){var r=this._M();return Reflect.apply(r.startActiveSpan,r,arguments)},e.prototype._M=function(){if(this.tO)return this.tO;var e=this.Z_.getDelegateTracer(this.name,this.version,this.options);return e?(this.tO=e,this.tO):Te},e}(),Be=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new Ce},e}()),Re=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var i;return null!==(i=this.getDelegateTracer(e,t,n))&&void 0!==i?i:new Me(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this.tO)&&void 0!==e?e:Be},e.prototype.setDelegate=function(e){this.tO=e},e.prototype.getDelegateTracer=function(e,t,n){var i;return null===(i=this.tO)||void 0===i?void 0:i.getTracer(e,t,n)},e}();(we=ye||(ye={}))[we.NOT_RECORD=0]="NOT_RECORD",we[we.RECORD=1]="RECORD",we[we.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(xe=Ee||(Ee={}))[xe.INTERNAL=0]="INTERNAL",xe[xe.SERVER=1]="SERVER",xe[xe.CLIENT=2]="CLIENT",xe[xe.PRODUCER=3]="PRODUCER",xe[xe.CONSUMER=4]="CONSUMER",(be=Se||(Se={}))[be.UNSET=0]="UNSET",be[be.OK=1]="OK",be[be.ERROR=2]="ERROR";var Pe="[_0-9a-z-*/]",_e=new RegExp("^(?:[a-z]"+Pe+"{0,255}|[a-z0-9]"+Pe+"{0,240}@[a-z]"+Pe+"{0,13})$"),De=/^[ -~]{0,255}[!-~]$/,Ne=/,|=/,Le=function(){function e(e){this.iO=new Map,e&&this.eO(e)}return e.prototype.set=function(e,t){var n=this.sO();return n.iO.has(e)&&n.iO.delete(e),n.iO.set(e,t),n},e.prototype.unset=function(e){var t=this.sO();return t.iO.delete(e),t},e.prototype.get=function(e){return this.iO.get(e)},e.prototype.serialize=function(){var e=this;return this.nO().reduce(function(t,n){return t.push(n+"="+e.get(n)),t},[]).join(",")},e.prototype.eO=function(e){e.length>512||(this.iO=e.split(",").reverse().reduce(function(e,t){var n,i,r=t.trim(),s=r.indexOf("=");if(-1!==s){var a=r.slice(0,s),o=r.slice(s+1,t.length);i=a,_e.test(i)&&(n=o,De.test(n)&&!Ne.test(n))&&e.set(a,o)}return e},new Map),this.iO.size>32&&(this.iO=new Map(Array.from(this.iO.entries()).reverse().slice(0,32))))},e.prototype.nO=function(){return Array.from(this.iO.keys()).reverse()},e.prototype.sO=function(){var t=new e;return t.iO=new Map(this.iO),t},e}();function Oe(e){return new Le(e)}var ke=te.getInstance(),Ue=m.instance(),Fe=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return Q},e}()),Qe="metrics",Ve=function(){function e(){}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalMeterProvider=function(e){return u(Qe,e,m.instance())},e.prototype.getMeterProvider=function(){return d(Qe)||Fe},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){h(Qe,m.instance())},e}().getInstance(),He=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),Ge=x("OpenTelemetry Baggage Key");function ze(e){return e.getValue(Ge)||void 0}function We(){return ze(te.getInstance().active())}function Xe(e,t){return e.setValue(Ge,t)}function je(e){return e.deleteValue(Ge)}var qe="propagation",Ye=new He,Je=function(){function e(){this.createBaggage=S,this.getBaggage=ze,this.getActiveBaggage=We,this.setBaggage=Xe,this.deleteBaggage=je}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalPropagator=function(e){return u(qe,e,m.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=Z),this.rO().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=J),this.rO().extract(e,t,n)},e.prototype.fields=function(){return this.rO().fields()},e.prototype.disable=function(){h(qe,m.instance())},e.prototype.rO=function(){return d(qe)||Ye},e}().getInstance(),Ze="trace",Ke=function(){function e(){this.oO=new Re,this.wrapSpanContext=ve,this.isSpanContextValid=me,this.deleteSpan=ue,this.getSpan=oe,this.getActiveSpan=le,this.getSpanContext=he,this.setSpan=ce,this.setSpanContext=de}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalTracerProvider=function(e){var t=u(Ze,this.oO,m.instance());return t&&this.oO.setDelegate(e),t},e.prototype.getTracerProvider=function(){return d(Ze)||this.oO},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){h(Ze,m.instance()),this.oO=new Re},e}().getInstance();const $e={context:ke,diag:Ue,metrics:Ve,propagation:Je,trace:Ke}},714:(e,t)=>{Object.defineProperty(t,"t",{value:!0}),t.defineEnum=void 0,t.defineEnum=function(e){return e}},865:(e,t,n)=>{Object.defineProperty(t,"t",{value:!0}),t.PlatformOS=t.PlatformType=t.PlatformBrowser=t.ClientHeaderDeviceType=t.ClientHeaderBrowserType=t.ClientHeaderOSType=t.PayloadOSType=t.PayloadBrowserType=t.PayloadDeviceType=void 0;const i=n(714);t.PayloadDeviceType=(0,i.defineEnum)({DESKTOP:"Desktop",LAPTOP:"Laptop",TV:"TV",PHONE:"Phone",TABLET:"Tablet",SERVER:"Server",CONSOLE:"Console",HMD:"HMD",UNDEFINED:"undefined"}),t.PayloadBrowserType=(0,i.defineEnum)({CHROME:"Chrome",SAFARI:"Safari",YANDEX:"Yandex",EDGE:"Edge",EDGE_LEGACY:"Edge_legacy",FIREFOX:"Firefox",SAMSUNG:"Samsung",CHROMIUM:"Chromium",OPERA:"Opera",OPERAGX:"OperaGX",BRAVE:"Brave",SILK:"Silk",UNDEFINED:"undefined"}),t.PayloadOSType=(0,i.defineEnum)({WINDOWS:"Windows",MACOS:"MacOS",SHIELD:"Shield",ANDROID:"Android",IOS:"iOS",IPADOS:"iPadOS",CHROMEOS:"ChromeOS",LINUX:"Linux",TIZEN:"Tizen",WEBOS:"WebOS",TVOS:"tvOS",XBOX:"Xbox",STEAMOS:"SteamOS",VISIONOS:"visionOS",UNDEFINED:"undefined"}),t.ClientHeaderOSType=(0,i.defineEnum)({WINDOWS:"WINDOWS",MACOS:"MACOS",SHIELD:"SHIELD",ANDROID:"ANDROID",IOS:"IOS",IPADOS:"IPADOS",CHROMEOS:"CHROMEOS",LINUX:"LINUX",TIZEN:"TIZEN",WEBOS:"WEBOS",XBOX:"XBOX",STEAMOS:"STEAMOS",VISIONOS:"VISIONOS",TVOS:"TVOS",UNKNOWN:"UNKNOWN"}),t.ClientHeaderBrowserType=(0,i.defineEnum)({CHROME:"CHROME",SAFARI:"SAFARI",YANDEX:"YANDEX",EDGE:"EDGE",EDGE_LEGACY:"EDGE_LEGACY",FIREFOX:"FIREFOX",SAMSUNG:"SAMSUNG",CHROMIUM:"CHROMIUM",OPERA:"OPERA",OPERAGX:"OPERAGX",BRAVE:"BRAVE",SILK:"SILK",UNKNOWN:"UNKNOWN"}),t.ClientHeaderDeviceType=(0,i.defineEnum)({DESKTOP:"DESKTOP",LAPTOP:"LAPTOP",TV:"TV",PHONE:"PHONE",TABLET:"TABLET",CONSOLE:"CONSOLE",HMD:"HMD",UNKNOWN:"UNKNOWN"}),t.PlatformBrowser=(0,i.defineEnum)({UNKNOWN:"Unknown",CHROME:"Chrome",SAFARI:"Safari",YANDEX:"Yandex",EDGE:"Edge",EDGE_LEGACY:"Edge_Legacy",FIREFOX:"Firefox",SAMSUNG:"Samsung",CHROMIUM:"Chromium",OPERA:"Opera",OPERAGX:"OperaGX",BRAVE:"Brave",SILK:"Silk",REACT:"ReactNative",PICO:"Pico"}),t.PlatformType=(0,i.defineEnum)({UNKNOWN:"UNKNOWN",DESKTOP:"DESKTOP",LAPTOP:"LAPTOP",TV:"TV",PHONE:"PHONE",TABLET:"TABLET",CONSOLE:"CONSOLE",HMD:"HMD",SERVER:"SERVER"}),t.PlatformOS=(0,i.defineEnum)({UNKNOWN:"Unknown",CHROME_OS:"ChromeOS",WINDOWS:"Windows",MAC:"macOS",LINUX:"Linux",IOS:"iOS",IPADOS:"iPadOS",WEBOS:"WebOS",TIZEN:"Tizen",ANDROID:"Android",FIRETV:"FireTV",XBOX:"Xbox",FREEBSD:"FreeBSD",STEAMOS:"SteamOS",CCOS:"ccOS",VISIONOS:"visionOS",SHIELD:"Shield",TVOS:"tvOS"})},921:(e,t)=>{Object.defineProperty(t,"t",{value:!0}),t.CLIENT_ID=void 0,t.CLIENT_ID="62677554106929725"}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"t",{value:!0})};var r={};(()=>{var e=r;Object.defineProperty(e,"t",{value:!0}),e.ChromaFormat=e.HudStreamingMode=e.PrefilterMode=e.Profile=e.BitDepth=e.SdrHdrMode=e.translatePlatformInfoForClientHeader=e.translatePlatformInfoForPayload=e.TracingManager=e.LogUploader=e.Logger=e.Log=e.LogMechanism=e.LogLevel=e.LogBuffer=e.NativeNetworkError=e.performHttpRequest=e.HttpErrorCode=e.CancellableWait=e.authInfoToHeader=e.AuthType=e.PlatformType=e.PlatformOS=e.PlatformBrowser=e.ClientHeaderDeviceType=e.ClientHeaderBrowserType=e.ClientHeaderOSType=e.PayloadOSType=e.PayloadBrowserType=e.PayloadDeviceType=e.TelemetryModule=e.GdprLevel=e.NetworkType=e.ProductName=e.ClientVariant=e.PayloadClientType=e.UploadEnvironment=e.ConsentLevel=void 0;var t=i(623);Object.defineProperty(e,"ConsentLevel",{enumerable:!0,get:function(){return t.ConsentLevel}}),Object.defineProperty(e,"UploadEnvironment",{enumerable:!0,get:function(){return t.UploadEnvironment}}),Object.defineProperty(e,"PayloadClientType",{enumerable:!0,get:function(){return t.PayloadClientType}}),Object.defineProperty(e,"ClientVariant",{enumerable:!0,get:function(){return t.ClientVariant}}),Object.defineProperty(e,"ProductName",{enumerable:!0,get:function(){return t.ProductName}});var n=i(422);Object.defineProperty(e,"NetworkType",{enumerable:!0,get:function(){return n.NetworkType}});var s=i(419);Object.defineProperty(e,"GdprLevel",{enumerable:!0,get:function(){return s.GdprLevel}}),Object.defineProperty(e,"TelemetryModule",{enumerable:!0,get:function(){return s.TelemetryModule}});var a=i(865);Object.defineProperty(e,"PayloadDeviceType",{enumerable:!0,get:function(){return a.PayloadDeviceType}}),Object.defineProperty(e,"PayloadBrowserType",{enumerable:!0,get:function(){return a.PayloadBrowserType}}),Object.defineProperty(e,"PayloadOSType",{enumerable:!0,get:function(){return a.PayloadOSType}}),Object.defineProperty(e,"ClientHeaderOSType",{enumerable:!0,get:function(){return a.ClientHeaderOSType}}),Object.defineProperty(e,"ClientHeaderBrowserType",{enumerable:!0,get:function(){return a.ClientHeaderBrowserType}}),Object.defineProperty(e,"ClientHeaderDeviceType",{enumerable:!0,get:function(){return a.ClientHeaderDeviceType}}),Object.defineProperty(e,"PlatformBrowser",{enumerable:!0,get:function(){return a.PlatformBrowser}}),Object.defineProperty(e,"PlatformOS",{enumerable:!0,get:function(){return a.PlatformOS}}),Object.defineProperty(e,"PlatformType",{enumerable:!0,get:function(){return a.PlatformType}});var o=i(250);Object.defineProperty(e,"AuthType",{enumerable:!0,get:function(){return o.AuthType}}),Object.defineProperty(e,"authInfoToHeader",{enumerable:!0,get:function(){return o.authInfoToHeader}});var l=i(379);Object.defineProperty(e,"CancellableWait",{enumerable:!0,get:function(){return l.CancellableWait}});var c=i(121);Object.defineProperty(e,"HttpErrorCode",{enumerable:!0,get:function(){return c.HttpErrorCode}}),Object.defineProperty(e,"performHttpRequest",{enumerable:!0,get:function(){return c.performHttpRequest}}),Object.defineProperty(e,"NativeNetworkError",{enumerable:!0,get:function(){return c.NativeNetworkError}});var u=i(596);Object.defineProperty(e,"LogBuffer",{enumerable:!0,get:function(){return u.LogBuffer}});var d=i(614);Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return d.LogLevel}}),Object.defineProperty(e,"LogMechanism",{enumerable:!0,get:function(){return d.LogMechanism}}),Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return d.Log}}),Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return d.Logger}});var h=i(36);Object.defineProperty(e,"LogUploader",{enumerable:!0,get:function(){return h.LogUploader}});var p=i(367);Object.defineProperty(e,"TracingManager",{enumerable:!0,get:function(){return p.TracingManager}});var f=i(537);Object.defineProperty(e,"translatePlatformInfoForPayload",{enumerable:!0,get:function(){return f.translatePlatformInfoForPayload}}),Object.defineProperty(e,"translatePlatformInfoForClientHeader",{enumerable:!0,get:function(){return f.translatePlatformInfoForClientHeader}});var g=i(297);Object.defineProperty(e,"SdrHdrMode",{enumerable:!0,get:function(){return g.SdrHdrMode}}),Object.defineProperty(e,"BitDepth",{enumerable:!0,get:function(){return g.BitDepth}}),Object.defineProperty(e,"Profile",{enumerable:!0,get:function(){return g.Profile}}),Object.defineProperty(e,"PrefilterMode",{enumerable:!0,get:function(){return g.PrefilterMode}}),Object.defineProperty(e,"HudStreamingMode",{enumerable:!0,get:function(){return g.HudStreamingMode}}),Object.defineProperty(e,"ChromaFormat",{enumerable:!0,get:function(){return g.ChromaFormat}})})(),e.exports=r})()},4489(e,t,n){"use strict";var i=this&&this.hO||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.t:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.aO||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"t",{value:!0}),r(n(3056),t),r(n(7662),t),r(n(898),t),r(n(9212),t),r(n(4966),t)},4966(e,t,n){"use strict";var i=this&&this.cO||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){var s,a,o,l;s=i,a=r,o=(t=e[n](t)).done,l=t.value,Promise.resolve(l).then(function(e){s({value:e,done:o})},a)})}}},r=this&&this.uO||function(e){return this instanceof r?(this.v=e,this):new r(e)},s=this&&this.lO||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,s=n.apply(e,t||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){s[e]&&(i[e]=function(t){return new Promise(function(n,i){a.push([e,t,n,i])>1||l(e,t)})},t&&(i[e]=t(i[e])))}function l(e,t){try{(n=s[e](t)).value instanceof r?Promise.resolve(n.value.v).then(c,u):d(a[0][2],n)}catch(e){d(a[0][3],e)}var n}function c(e){l("next",e)}function u(e){l("throw",e)}function d(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}};Object.defineProperty(t,"t",{value:!0}),t.sizeDelimitedEncode=function(e,t,n){const i=new o.BinaryWriter;return i.bytes((0,a.toBinary)(e,t,n)),i.finish()},t.sizeDelimitedDecodeStream=function(e,t,n){return s(this,arguments,function*(){var s,a,o,u;function d(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.length),n}let h=new Uint8Array(0);try{for(var p,f=!0,g=i(t);!(s=(p=yield r(g.next())).done);f=!0)for(u=p.value,f=!1,h=d(h,u);;){const t=c(h);if(t.eof)break;if(t.offset+t.size>h.byteLength)break;yield yield r((0,l.fromBinary)(e,h.subarray(t.offset,t.offset+t.size),n)),h=h.subarray(t.offset+t.size)}}catch(e){a={error:e}}finally{try{f||s||!(o=g.return)||(yield r(o.call(g)))}finally{if(a)throw a.error}}if(h.byteLength>0)throw new Error("incomplete data")})},t.sizeDelimitedPeek=c;const a=n(7110),o=n(3056),l=n(9201);function c(e){const t={eof:!0,size:null,offset:null};for(let n=0;n<10;n++){if(n>e.byteLength)return t;if(!(128&e[n])){const n=new o.BinaryReader(e);let i;try{i=n.uint32()}catch(e){if(e instanceof RangeError)return t;throw e}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}},4977(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.ControllerRegistry=void 0,t.ControllerRegistry=class{constructor(){this.adapters=[]}register(e){this.adapters.push(e)}detect(e){for(const t of this.adapters)if(t.matches(e))return t;return null}}},5017(e,t){var n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(n=function(){var e,t={};return function(e){"use strict";Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.dO)}function r(e){var t=Math.clz32(e&-e);return e?31-t:t}n.prototype.dO,Object.defineProperty(n.prototype,"dO",{value:!0}),n.isLong=i;var s={},a={};function o(e,t){var n,i,r;return t?(r=0<=(e>>>=0)&&e<256)&&(i=a[e])?i:(n=c(e,0,!0),r&&(a[e]=n),n):(r=-128<=(e|=0)&&e<128)&&(i=s[e])?i:(n=c(e,e<0?-1:0,!1),r&&(s[e]=n),n)}function l(e,t){if(isNaN(e))return t?v:m;if(t){if(e<0)return v;if(e>=f)return x}else{if(e<=-g)return w;if(e+1>=g)return b}return e<0?l(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,i){return new n(e,t,i)}n.fromInt=o,n.fromNumber=l,n.fromBits=c;var u=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?v:m;if((n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return d(e.substring(1),t,n).neg();for(var r=l(u(n,8)),s=m,a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+o),n);if(o<8){var h=l(u(n,o));s=s.mul(h).add(l(c))}else s=(s=s.mul(r)).add(l(c))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=d,n.fromValue=h;var p=4294967296,f=p*p,g=f/2,A=o(1<<24),m=o(0);n.ZERO=m;var v=o(0,!0);n.UZERO=v;var y=o(1);n.ONE=y;var E=o(1,!0);n.UONE=E;var S=o(-1);n.NEG_ONE=S;var b=c(-1,2147483647,!1);n.MAX_VALUE=b;var x=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var w=c(0,-2147483648,!1);n.MIN_VALUE=w;var I=n.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=l(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=l(u(e,6),this.unsigned),s=this,a="";;){var o=s.div(r),c=(s.sub(o.mul(r)).toInt()>>>0).toString(e);if((s=o).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return!(1&~this.low)},I.isEven=function(){return!(1&this.low)},I.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(y)},I.neg=I.negate,I.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,s=65535&this.low,a=e.high>>>16,o=65535&e.high,l=e.low>>>16,u=0,d=0,p=0,f=0;return p+=(f+=s+(65535&e.low))>>>16,d+=(p+=r+l)>>>16,u+=(d+=n+o)>>>16,u+=t+a,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},I.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return this;if(i(e)||(e=h(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?v:m;if(this.eq(w))return e.isOdd()?w:m;if(e.eq(w))return this.isOdd()?w:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(A)&&e.lt(A))return l(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,s=this.low>>>16,a=65535&this.low,o=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,g=0,y=0,E=0;return y+=(E+=a*p)>>>16,g+=(y+=s*p)>>>16,y&=65535,g+=(y+=a*d)>>>16,f+=(g+=r*p)>>>16,g&=65535,f+=(g+=s*d)>>>16,g&=65535,f+=(g+=a*u)>>>16,f+=n*p+r*d+s*u+a*o,c((y&=65535)<<16|(E&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,r,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return E;s=v}else{if(this.eq(w))return e.eq(y)||e.eq(S)?w:e.eq(w)?y:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?y:S:(r=this.sub(e.mul(n)),s=n.add(r.div(e)));if(e.eq(w))return this.unsigned?v:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=m}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),o=a<=48?1:u(2,a-48),d=l(n),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=l(n-=o,this.unsigned)).mul(e);d.isZero()&&(d=y),s=s.add(d),r=r.sub(p)}return s},I.div=I.divide,I.modulo=function(e){return i(e)||(e=h(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return c(~this.low,~this.high,this.unsigned)},I.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},I.clz=I.countLeadingZeros,I.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},I.ctz=I.countTrailingZeros,I.and=function(e){return i(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return i(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return i(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.rotateLeft=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},I.rotl=I.rotateLeft,I.rotateRight=function(e){var t;return i(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},I.rotr=I.rotateRight,I.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,i){return i?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(n.fromBigInt=function(e,t){return c(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},n.fromValue=function(e,t){return"bigint"==typeof e?n.fromBigInt(e,t):h(e,t)},I.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=n}(t),(e=t).default||e}.apply(t,[]))||(e.exports=n)},5067(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.FieldError=void 0,t.isFieldError=function(e){return e instanceof Error&&n.includes(e.name)&&"field"in e&&"function"==typeof e.field};const n=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class i extends Error{constructor(e,t,n="FieldValueInvalidError"){super(t),this.name=n,this.field=()=>e}}t.FieldError=i},5304(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.PlaneGeometry=void 0,t.computePlaneUV=r,t.buildPlaneIndices=s;const i=n(1961);function r(e,t,n,r,s,a=i.vec2.create()){let o=e/(n-1);-1===e&&(o=-s),e===n&&(o=1+s);let l=t/(r-1);return-1===t&&(l=-s),t===r&&(l=1+s),a[0]=o,a[1]=l,a}function s(e,t){const n=[],i=e+2,r=t+2;for(let e=0;e<r-1;e++){let t=!0;if(e%2==1)for(let r=0;r<i;r++)0!==e&&t||n.push(e*i+r),n.push((e+1)*i+r),t=!1;else for(let r=i-1;r>=0;r--)0!==e&&t||n.push(e*i+r),n.push((e+1)*i+r),t=!1}return new Uint32Array(n)}t.PlaneGeometry=class{constructor(e,t,n,i,r,s,a=0,o=1,l=2,c=.5,u=2,d=3){this.positions=null,this.uvs=null,this.colors=null,this.colorBuffer=null,this.gl=e,this.gridCols=t,this.gridRows=n,this.borderOffset=c,this.positionStride=u,this.colorStride=d,this.positionLocation=a,this.uvLocation=o,this.colorLocation=l,this.totalVertices=(t+2)*(n+2),this.totalIndices=0,this.positionBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),s&&(this.colorBuffer=e.createBuffer()),this.indexBuffer=e.createBuffer(),this.generatePositions(i),this.generateTexCoords(r),s&&this.generateColors(s),this.generateIndexBuffer(),this.vao=e.createVertexArray(),this.setupVertexAttributes()}setupVertexAttributes(){const e=this.gl;e.bindVertexArray(this.vao),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.enableVertexAttribArray(this.positionLocation),e.vertexAttribPointer(this.positionLocation,this.positionStride,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.enableVertexAttribArray(this.uvLocation),e.vertexAttribPointer(this.uvLocation,2,e.FLOAT,!1,0,0),this.colorBuffer&&(e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.enableVertexAttribArray(this.colorLocation),e.vertexAttribPointer(this.colorLocation,this.colorStride,e.FLOAT,!1,0,0)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bindVertexArray(null)}getVAO(){return this.vao}getPositionBuffer(){return this.positionBuffer}getUvBuffer(){return this.uvBuffer}getColorBuffer(){return this.colorBuffer}getIndexBuffer(){return this.indexBuffer}getIndexCount(){return this.totalIndices}getVertexCount(){return this.totalVertices}generate(e,t,n){let s=0;const a=i.vec2.create();for(let i=-1;i<=this.gridRows;i++)for(let o=-1;o<=this.gridCols;o++)r(o,i,this.gridCols,this.gridRows,this.borderOffset,a),e({row:i,col:o,u:a[0],v:a[1],gridRows:this.gridRows,gridCols:this.gridCols,arrayOut:t,offset:s,stride:n}),s+=n}generatePositions(e){this.positions||(this.positions=new Float32Array(this.totalVertices*this.positionStride)),this.generate(e,this.positions,this.positionStride),this.uploadPositionsToGPU()}generateTexCoords(e){this.uvs||(this.uvs=new Float32Array(2*this.totalVertices)),this.generate(e,this.uvs,2),this.uploadUVsToGPU()}generateColors(e){this.colorBuffer||(this.colorBuffer=this.gl.createBuffer()),this.colors||(this.colors=new Float32Array(this.totalVertices*this.colorStride)),this.generate(e,this.colors,this.colorStride),this.uploadColorsToGPU()}uploadPositionsToGPU(){if(!this.positions)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.bufferData(e.ARRAY_BUFFER,this.positions,e.STATIC_DRAW),this.positions=null}uploadUVsToGPU(){if(!this.uvs)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),this.uvs=null}uploadColorsToGPU(){if(this.colorBuffer&&this.colors){const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),this.colors=null}}dispose(){const e=this.gl;e.deleteBuffer(this.positionBuffer),e.deleteBuffer(this.uvBuffer),this.colorBuffer&&e.deleteBuffer(this.colorBuffer),e.deleteBuffer(this.indexBuffer),e.deleteVertexArray(this.vao)}generateIndexBuffer(){const e=this.gl,t=s(this.gridCols,this.gridRows);this.totalIndices=t.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}}},5549(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.Stats=t.PeriodicEventTracker=t.TimingTracker=void 0;const i=n(6230),r=n(4284),s=n(2816),a=n(9230);class o{constructor(e,t,n=0,i){this.pendingTimings=new Map,this.lastPrintTime=0,this.currentKey=-1,this.lastDuration=0,this.label=e,this.averageTracker=new r.FastWindowedAverage(t),this.minTracker=new s.FastWindowedExtremum(t,n,"min"),this.maxTracker=new s.FastWindowedExtremum(t,n,"max"),this.devtoolsDescription=i}getCurrentStartTimestamp(e){return this.pendingTimings.get(e)}start(e){if(this.pendingTimings.size>=o.MAX_PENDING){const e=this.pendingTimings.keys().next().value;this.pendingTimings.delete(e)}this.pendingTimings.set(e,performance.now()),this.currentKey=e}isPending(e){return this.pendingTimings.has(e)}end(e){if(void 0===e){if(-1===this.currentKey)return null;e=this.currentKey,this.currentKey=-1}const t=this.getCurrentStartTimestamp(e);if(void 0===t)return null;this.pendingTimings.delete(e);const n=performance.now(),r=n-t;return this.averageTracker.insert(r),this.minTracker.insert(r),this.maxTracker.insert(r),this.lastDuration=r,this.devtoolsDescription&&(0,i.devToolsRecordInterval)(this.label,t,n,e,this.devtoolsDescription),r}getLastDuration(){return this.lastDuration}print(){const e=performance.now();e-this.lastPrintTime<1e3||0!==this.averageTracker.getCount()&&(this.lastPrintTime=e,this.averageTracker.get(),this.minTracker.get(),this.maxTracker.get())}}t.TimingTracker=o,o.MAX_PENDING=50;class l{constructor(e,t=100,n){this.counter=0,this.timingTracker=new o(e,t,void 0,n)}update(e){void 0===e&&(e=this.counter+1),this.timingTracker.start(e),this.timingTracker.end(this.counter),this.counter=e}getFrequency(){const e=this.timingTracker.getLastDuration();return 0===e?0:1e3/e}print(){this.timingTracker.print()}}t.PeriodicEventTracker=l,t.Stats=class{constructor(e=!1,t){this.windowSize=100,this.metricsCallback=t,this.poseToRenderTracker=new o("poseToRender",this.windowSize,void 0,e?{trackName:"Streaming",trackGroup:"CloudXR.js",color:"secondary"}:void 0),this.interRenderTimingTracker=new l("interRender",this.windowSize,e?{trackName:"Rendering",trackGroup:"CloudXR.js",color:"secondary-light"}:void 0),this.interDecodeTimingTracker=new l("streamingFrame",this.windowSize,e?{trackName:"Streaming",trackGroup:"CloudXR.js",color:"secondary-dark"}:void 0),this.sendDurationTracker=new o("sendState",this.windowSize,void 0,e?{trackName:"Streaming",trackGroup:"CloudXR.js",color:"secondary-dark"}:void 0),this.frameTimingTracker=new l("frame",this.windowSize,e?{trackName:"Render",trackGroup:"CloudXR.js",color:"tertiary"}:void 0),this.renderDurationTracker=new o("render",this.windowSize,void 0,e?{trackName:"Render",trackGroup:"CloudXR.js",color:"tertiary-dark"}:void 0),this.imageUpdateDurationTracker=new o("imageUpdate",this.windowSize,void 0,e?{trackName:"Render",trackGroup:"CloudXR.js",color:"tertiary-dark"}:void 0)}poseSent(e){this.poseToRenderTracker.start(e)}renderBegin(e,t){this.renderDurationTracker.start(e),this.interRenderTimingTracker.update(e),this.metricsCallback&&this.metricsCallback({[a.MetricsName.RenderFramerate]:this.interRenderTimingTracker.getFrequency()},a.MetricsCadence.PerRender),this.poseToRenderTracker.isPending(t)&&(this.poseToRenderTracker.end(t),this.metricsCallback&&this.metricsCallback({[a.MetricsName.StreamingFramerate]:this.interDecodeTimingTracker.getFrequency(),[a.MetricsName.PoseToRenderTime]:this.poseToRenderTracker.getLastDuration()},a.MetricsCadence.PerFrame))}renderEnd(){this.renderDurationTracker.end()}imageUpdateBegin(e){this.interDecodeTimingTracker.update(e),this.imageUpdateDurationTracker.start(e)}imageUpdateEnd(){this.imageUpdateDurationTracker.end()}sendBegin(e){this.frameTimingTracker.update(),this.sendDurationTracker.start(e)}sendEnd(){this.sendDurationTracker.end()}}},5833(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});const i="#define GLSLIFY 1\n#ifndef ENABLE_DEBUG\n#define ENABLE_DEBUG false\n#endif\nlayout(std140)uniform DebugData{bool doWireframe;bool doFoveationCheckerboard;bool doRenderFoveationDebugColor;};"},5861(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});const i="#define GLSLIFY 1\nconst float Kr=0.2126;const float Kb=0.0722;const float Kg=1.0-Kr-Kb;float roundTo8bit(float x){return clamp(floor(x*255.0-0.5)/255.0,0.0,1.0);}float roundTo7bit(float x){return clamp(floor(x*127.0-0.5)/127.0,0.0,1.0);}float linearToNonlinear(float x){if(x<0.018){x*=4.5;}else{const float a=0.099;const float gamma=0.45;x=(1.0+a)*pow(x,gamma)-a;}return x;}float srgbToLinear(float x){if(x<=0.04045){return x/12.92;}return pow((x+0.055)/1.055,2.4);}vec3 srgbToLinear(vec3 rgb){return vec3(srgbToLinear(rgb.r),srgbToLinear(rgb.g),srgbToLinear(rgb.b));}float linearToSrgb(float x){if(x<=0.0031308){return 12.92*x;}return 1.055*pow(x,1.0/2.4)-0.055;}vec3 linearToSrgb(vec3 rgb){return vec3(linearToSrgb(rgb.r),linearToSrgb(rgb.g),linearToSrgb(rgb.b));}vec3 linearSrgbToLinearDisplayP3(vec3 rgb){mat3 srgbToP3=mat3(0.822461969,0.033194198,0.017082630,0.177538031,0.966805802,0.072397440,0.0,0.0,0.910519930);return srgbToP3*rgb;}vec3 applyDisplayP3Workaround(vec3 linearSrgbColor){vec3 p3Linear=linearSrgbToLinearDisplayP3(linearSrgbColor);return clamp(p3Linear,0.0,1.0);}float rgbToY(vec3 rgb){float R=(rgb.r);float G=(rgb.g);float B=(rgb.b);return(Kr*R+Kg*G+Kb*B);}float rgbToU(vec3 rgb){float y=rgbToY(rgb);return 0.5+((rgb.b-y)/(2.0*(1.0-Kb)));}float rgbToV(vec3 rgb){float y=rgbToY(rgb);return 0.5+((rgb.r-y)/(2.0*(1.0-Kr)));}vec3 rgbToYCbCr(vec3 rgb){return vec3(rgbToY(rgb),rgbToU(rgb),rgbToV(rgb));}"},6213(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.computeFovFromProjectionMatrix=function(e){const t=e[0],n=e[5],i=e[8],r=e[9];return{angleLeft:-Math.atan2(1-i,t),angleRight:Math.atan2(1+i,t),angleUp:Math.atan2(1+r,n),angleDown:-Math.atan2(1-r,n)}},t.computeEyePose=function(e,t,n){if(e.views.length<2)return;const r=e.transform,s=e.views[0].transform,a=e.views[1].transform,o=i.vec3.fromValues(r.position.x,r.position.y,r.position.z),l=i.quat.fromValues(r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w),c=i.quat.create();i.quat.conjugate(c,l);const u=i.vec3.fromValues(s.position.x,s.position.y,s.position.z),d=i.vec3.create();i.vec3.subtract(d,u,o),i.vec3.transformQuat(d,d,c);const h=i.vec3.fromValues(a.position.x,a.position.y,a.position.z),p=i.vec3.create();i.vec3.subtract(p,h,o),i.vec3.transformQuat(p,p,c);const f=i.quat.fromValues(s.orientation.x,s.orientation.y,s.orientation.z,s.orientation.w),g=i.quat.create();i.quat.multiply(g,c,f);const A=i.quat.fromValues(a.orientation.x,a.orientation.y,a.orientation.z,a.orientation.w),m=i.quat.create();i.quat.multiply(m,c,A),t.position.x=d[0],t.position.y=d[1],t.position.z=d[2],t.orientation.x=g[0],t.orientation.y=g[1],t.orientation.z=g[2],t.orientation.w=g[3],n.position.x=p[0],n.position.y=p[1],n.position.z=p[2],n.orientation.x=m[0],n.orientation.y=m[1],n.orientation.z=m[2],n.orientation.w=m[3]},t.getViewportFromLayer=function(e,t,n){let i=null;if(e instanceof XRWebGLLayer)i=e.getViewport(t)??null;else if(e instanceof XRProjectionLayer){if(!n)return null;i=n.getViewSubImage(e,t).viewport}return i};const i=n(1961)},6230(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.devToolsRecordInterval=function(e,t,n,i,r){}},6405(e,t,n){"use strict";var i=this&&this.p||function(e){return e&&e.t?e:{default:e}};Object.defineProperty(t,"t",{value:!0}),t.CloudXRProtocolImpl=void 0;const r=i(n(5017)),s=n(363),a=n(8536),o=n(9694);class l{constructor(){this.majorVersion=l.PROTOCOL_VERSION.major}serializeDeviceDesc(e,t){const n=e.videoStreams[0].width,i=e.videoStreams[0].height,r=Math.floor(n/2),o=Math.floor(4*i/9),c=e.videoStreams[0].scaleFactor,u=Math.floor(r*c),d=Math.floor(o*c),h=e.videoStreams[0].insetPercent,p=Math.floor(u*h/2),f=Math.floor(d*h/2),g=s.ClientToServerMessage.fromPartial({systemInfo:{protocolVersion:l.PROTOCOL_VERSION,clientVersion:l.CLIENT_VERSION,gitTag:l.GIT_TAG,formFactor:a.XrFormFactor.XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY,depthScheme:{nearZ:e.depthEncoding.nearZ,farZ:e.depthEncoding.farZ,oneOverZPlusEpsilonParams:{epsilon:e.depthEncoding.epsilon,reversed:e.depthEncoding.hasReversedClipPlanes},upperLeftQuadrantYChannelParams:{}},alphaScheme:{swappedQuadrantParams:s.AlphaScheme_SwappedQuadrantParams.create()},viewConfiguration:{type:a.XrViewConfigurationType.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO,viewPqwStates:[{extent:{width:r,height:o},data:{unwarpedWidth:u,unwarpedHeight:d,fovCenterHorz:Math.floor(u/2),fovCenterVert:Math.floor(d/2),fovRadiusHorz:p,fovRadiusVert:f,centerScaleHorz:r,centerScaleVert:o}},{extent:{width:r,height:o},data:{unwarpedWidth:u,unwarpedHeight:d,fovCenterHorz:Math.floor(u/2),fovCenterVert:Math.floor(d/2),fovRadiusHorz:p,fovRadiusVert:f,centerScaleHorz:r,centerScaleVert:o}}]},supportedFeatures:{bodyTrackingBd:t}}});try{return s.ClientToServerMessage.encode(g).finish()}catch(e){return}}serializeViewPose(e){if(!e||!e.viewPose||!e.viewPose.transform)return;const t=e;try{const e={id:t.poseID,clientSampleTimeNs:r.default.fromNumber(Math.floor(t.clientSampleTime*l.TIME_CONVERT_MS_TO_NS)),clientPredictedForTimeNs:r.default.fromNumber(Math.floor(t.predictedDisplayTime*l.TIME_CONVERT_MS_TO_NS))};let n,i;if(t.fovs&&t.eyePose){n=[];for(let e=0;e<t.fovs.length;e++){const i=t.fovs[e],r=a.XrView.create();r.fov=a.XrFovf.create(),r.fov.angleLeft=i.angleLeft,r.fov.angleRight=i.angleRight,r.fov.angleUp=i.angleUp,r.fov.angleDown=i.angleDown;const s=t.eyePose[e];r.pose=a.XrPosef.create(),r.pose.position=a.XrVector3f.create(),r.pose.position.x=s.position.x,r.pose.position.y=s.position.y,r.pose.position.z=s.position.z,r.pose.orientation=a.XrQuaternionf.create(),r.pose.orientation.x=s.orientation.x,r.pose.orientation.y=s.orientation.y,r.pose.orientation.z=s.orientation.z,r.pose.orientation.w=s.orientation.w,n.push(r)}}t.foveationCenter&&(i={centerHorzNormalized:t.foveationCenter.centerHorzNormalized,centerVertNormalized:t.foveationCenter.centerVertNormalized});const o={id:t.poseID,metadata:e,viewSpaceLocation:{locationFlags:a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_VALID_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_TRACKED_BIT,pose:{orientation:{x:t.viewPose.transform.orientation.x||0,y:t.viewPose.transform.orientation.y||0,z:t.viewPose.transform.orientation.z||0,w:t.viewPose.transform.orientation.w||1},position:{x:t.viewPose.transform.position.x||0,y:t.viewPose.transform.position.y||0,z:t.viewPose.transform.position.z||0}},nextXrSpaceVelocity:{velocityFlags:a.XrSpaceVelocityFlagBits.XR_SPACE_VELOCITY_ANGULAR_VALID_BIT|a.XrSpaceVelocityFlagBits.XR_SPACE_VELOCITY_LINEAR_VALID_BIT,linearVelocity:{x:t.viewPose.linearVelocity?.x||0,y:t.viewPose.linearVelocity?.y||0,z:t.viewPose.linearVelocity?.z||0},angularVelocity:{x:t.viewPose.angularVelocity?.x||0,y:t.viewPose.angularVelocity?.y||0,z:t.viewPose.angularVelocity?.z||0}}},views:n,fovPivotInfo:i,scalingOverride:void 0!==t.scaling&&1!==t.scaling?{scale:t.scaling}:void 0},c=s.ClientToServerMessage.fromPartial({viewUpdate:o});try{return s.ClientToServerMessage.encode(c).finish()}catch(e){return}}catch(e){return}}serializeJointsForHand(e){const t=e;try{const e={id:t.poseID,clientSampleTimeNs:r.default.fromNumber(Math.floor(t.clientSampleTime*l.TIME_CONVERT_MS_TO_NS)),clientPredictedForTimeNs:r.default.fromNumber(Math.floor(t.clientSampleTime*l.TIME_CONVERT_MS_TO_NS))},n=t.handData.jointLocations.map(e=>({locationFlags:r.default.fromNumber(e.locationFlags),pose:{orientation:e.locationFlags&a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT?{x:e.pose.orientation?.x||0,y:e.pose.orientation?.y||0,z:e.pose.orientation?.z||0,w:e.pose.orientation?.w||1}:void 0,position:{x:e.pose.position.x||0,y:e.pose.position.y||0,z:e.pose.position.z||0}},radius:e.radius||.01}));let i;t.handData.jointVelocities?.length&&(i={jointVelocities:t.handData.jointVelocities.map(e=>({velocityFlags:r.default.fromNumber(e.velocityFlags),linearVelocity:{x:e.linearVelocity.x||0,y:e.linearVelocity.y||0,z:e.linearVelocity.z||0},angularVelocity:{x:e.angularVelocity.x||0,y:e.angularVelocity.y||0,z:e.angularVelocity.z||0}}))});let o={isActive:t.handData.isActive,jointLocations:n,nextXrHandJointVelocitiesExt:i},c={metadata:e,leftHand:"left"===t.handedness?o:void 0,rightHand:"right"===t.handedness?o:void 0,timeNs:r.default.fromNumber(Math.floor(t.clientSampleTime*l.TIME_CONVERT_MS_TO_NS))};const u=s.ClientToServerMessage.fromPartial({handTrackingUpdate:c});try{return s.ClientToServerMessage.encode(u).finish()}catch(e){return}}catch(e){return}}serializeBodyTrackingUpdate(e){const t=e;try{const e={id:t.poseID,clientSampleTimeNs:r.default.fromNumber(Math.floor(t.clientSampleTime*l.TIME_CONVERT_MS_TO_NS)),clientPredictedForTimeNs:r.default.fromNumber(Math.floor(t.clientSampleTime*l.TIME_CONVERT_MS_TO_NS))},n=t.bodyData.jointPoses.map(e=>({locationFlags:r.default.fromNumber(e.isValid?a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_VALID_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_TRACKED_BIT:a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_TRACKED_BIT),pose:{position:{x:e.position.x,y:e.position.y,z:e.position.z},orientation:{x:e.orientation.x,y:e.orientation.y,z:e.orientation.z,w:e.orientation.w}}})),i={metadata:e,body:{isActive:t.bodyData.isActive,jointLocations:n}},o=s.ClientToServerMessage.fromPartial({bodyTrackingUpdate:i});try{return s.ClientToServerMessage.encode(o).finish()}catch(e){return}}catch(e){return}}serializeBlobAsClientMessage(e,t){try{const n=JSON.stringify(e),i=(new TextEncoder).encode(n),a={id:r.default.fromNumber(1),payload:i,channelId:t??r.default.UZERO},o=s.ClientToServerMessage.fromPartial({opaqueData:a});return s.ClientToServerMessage.encode(o).finish()}catch(e){return}}serializeControlMessage(e){try{const t=s.ClientToServerMessage.fromPartial(e);return s.ClientToServerMessage.encode(t).finish()}catch(e){return}}serializeClockSyncResponse(e){const t={requestTxTimestampNs:e.requestTxTimestampNs,requestRxTimestampNs:e.requestRxTimestampNs,txTimestampNs:e.txTimestampNs},n=s.ClientToServerMessage.fromPartial({clockSyncResponse:t});try{return s.ClientToServerMessage.encode(n).finish()}catch(e){return}}serializeRegisterTrackedController(e){try{const t=s.ClientToServerMessage.fromPartial({registerTrackedController:e});return s.ClientToServerMessage.encode(t).finish()}catch(e){return}}serializeUnregisterTrackedController(e){try{const t=s.ClientToServerMessage.fromPartial({unregisterTrackedController:e});return s.ClientToServerMessage.encode(t).finish()}catch(e){return}}serializeEquipTrackedController(e){try{const t=s.ClientToServerMessage.fromPartial({equipTrackedController:e});return s.ClientToServerMessage.encode(t).finish()}catch(e){return}}serializeTrackedControllerUpdate(e){try{const t={inputValueUpdateBundles:e.map(e=>({controllerId:e.controllerId,timestampNs:e.timestampNs,inputUpdates:e.inputUpdates.map(e=>{const t={inputIndex:e.inputIndex};return void 0!==e.booleanValue?t.booleanValue=e.booleanValue:void 0!==e.floatValue?t.floatValue=e.floatValue:e.vec2Value?t.vec2Value={x:e.vec2Value.x,y:e.vec2Value.y}:e.vec3Value?t.vec3Value={x:e.vec3Value.x,y:e.vec3Value.y,z:e.vec3Value.z}:e.invalidPose?t.spaceLocationValue={locationFlags:0,pose:{}}:e.poseValue&&(t.spaceLocationValue={locationFlags:a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_VALID_BIT|a.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_TRACKED_BIT,pose:{position:{x:e.poseValue.position.x,y:e.poseValue.position.y,z:e.poseValue.position.z},orientation:{x:e.poseValue.orientation.x,y:e.poseValue.orientation.y,z:e.poseValue.orientation.z,w:e.poseValue.orientation.w}}}),t})}))},n=s.ClientToServerMessage.fromPartial({trackedControllerUpdate:t});return s.ClientToServerMessage.encode(n).finish()}catch(e){return}}deserializeFrameMetadata(e){try{return s.VideoFrameMetadata.decode(e)}catch(e){return}}deserializeBlob(e){try{return s.ServerToClientMessage.decode(e)}catch(e){return}}}t.CloudXRProtocolImpl=l,l.PROTOCOL_VERSION={major:6,minor:0,patch:0},l.CLIENT_VERSION=function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)throw new Error("Invalid version string: "+e);return{major:parseInt(t[1],10),minor:parseInt(t[2],10),patch:parseInt(t[3],10)}}(o.SDK_VERSION),l.GIT_TAG="<unknown>",l.TIME_CONVERT_MS_TO_NS=1e6},6413(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.isInternal=void 0,t.isInternal=()=>!1},6558(e,t){"use strict";var n,i;Object.defineProperty(t,"t",{value:!0}),t.MessageChannelStatus=void 0,(i=n||(t.MessageChannelStatus=n={})).NotInitialized="NotInitialized",i.Ready="Ready",i.Closed="Closed"},6683(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});const i="#define GLSLIFY 1\nlayout(std140)uniform FrameData{mat4 projectionMatrix;mat4 viewMatrix;mat4 originalProjectionMatrix;mat4 originalInvProjectionMatrix;bool isLeftEye;mat4 originalInvViewMatrix;bool isPassthrough;float near;float far;float epsilonDepthBias;};"},6876(e,t){"use strict";var n,i;Object.defineProperty(t,"t",{value:!0}),t.log=t.LogLevel=void 0,(i=n||(t.LogLevel=n={}))[i.Silent=0]="Silent",i[i.Error=1]="Error",i[i.Warning=2]="Warning",i[i.Info=3]="Info",i[i.Debug=4]="Debug",t.log=new class{constructor(){this.currentLevel=n.Warning,this.prefix="CXR",this.enableModuleNames=!1}enableModuleNameReporting(e){this.enableModuleNames=e}getModuleName(){if(!this.enableModuleNames)return null;try{const e=(new Error).stack;if(!e)return"";const t=e.split("\n");for(let e=2;e<t.length;e++){const n=t[e].trim();if(n&&!n.includes("Logger.")&&!n.includes("log.")){const e=n.match(/at\s+(.+?)\s+\((.+?):(\d+):(\d+)\)/);if(e){const t=e[2];return t.split("/").pop()?.split("\\").pop()?.replace(/\.(ts|js|tsx|jsx)$/,"")||"unknown"}}}}catch(e){}return"unknown"}setLevel(e){this.currentLevel=e}getLevel(){return this.currentLevel}error(e,...t){this.currentLevel>=n.Error&&(this.getModuleName(),this.prefix)}warn(e,...t){this.currentLevel>=n.Warning&&(this.getModuleName(),this.prefix)}info(e,...t){this.currentLevel>=n.Info&&(this.getModuleName(),this.prefix)}debug(e,...t){this.currentLevel>=n.Debug&&(this.getModuleName(),this.prefix)}log(e,...t){this.info(e,...t)}}},7019(e,t){"use strict";var n,i,r,s,a,o,l,c,u,d;Object.defineProperty(t,"t",{value:!0}),t.CXRLifetime=t.CXRConnectionType=t.CXRModuleName=t.CXRBooleanType=t.CXRAuthType=void 0,(d=n||(t.CXRAuthType=n={})).StarFleet="StarFleet",d.Guest="Guest",(u=i||(t.CXRBooleanType=i={})).Undefined="Undefined",u.True="True",u.False="False",(c=r||(t.CXRModuleName=r={})).Unknown="Unknown",c.CloudXRApple="CloudXrApple",c.CloudXRJS="CloudXrJs",(l=s||(t.CXRConnectionType=s={})).Local="Local",l.Gfn="Gfn",(o=a||(t.CXRLifetime=a={})).Created="Created",o.Destroyed="Destroyed"},7110(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.toBinary=function(e,t,n){return o(new r.BinaryWriter,(s=n,s?Object.assign(Object.assign({},a),s):a),(0,i.reflect)(e,t)).finish();var s},t.writeField=l;const i=n(9644),r=n(3056),s=n(2885),a={writeUnknownFields:!0};function o(e,t,n){var i;for(const i of n.sortedFields)if(n.isSet(i))l(e,t,n,i);else if(3==i.presence)throw new Error("cannot encode "+i+" to binary: required field not set");if(t.writeUnknownFields)for(const{no:t,wireType:r,data:s}of null!==(i=n.getUnknown())&&void 0!==i?i:[])e.tag(t,r).raw(s);return e}function l(e,t,n,i){var a;switch(i.fieldKind){case"scalar":case"enum":c(e,n.desc.typeName,i.name,null!==(a=i.scalar)&&void 0!==a?a:s.ScalarType.INT32,i.number,n.get(i));break;case"list":!function(e,t,n,i){var a;if("message"==n.listKind){for(const r of i)u(e,t,n,r);return}const o=null!==(a=n.scalar)&&void 0!==a?a:s.ScalarType.INT32;if(n.packed){if(!i.size)return;e.tag(n.number,r.WireType.LengthDelimited).fork();for(const t of i)h(e,n.parent.typeName,n.name,o,t);e.join()}else for(const t of i)c(e,n.parent.typeName,n.name,o,n.number,t)}(e,t,i,n.get(i));break;case"message":u(e,t,i,n.get(i));break;case"map":for(const[r,s]of n.get(i))d(e,t,i,r,s)}}function c(e,t,n,i,a,o){h(e.tag(a,function(e){switch(e){case s.ScalarType.BYTES:case s.ScalarType.STRING:return r.WireType.LengthDelimited;case s.ScalarType.DOUBLE:case s.ScalarType.FIXED64:case s.ScalarType.SFIXED64:return r.WireType.Bit64;case s.ScalarType.FIXED32:case s.ScalarType.SFIXED32:case s.ScalarType.FLOAT:return r.WireType.Bit32;default:return r.WireType.Varint}}(i)),t,n,i,o)}function u(e,t,n,i){n.delimitedEncoding?o(e.tag(n.number,r.WireType.StartGroup),t,i).tag(n.number,r.WireType.EndGroup):o(e.tag(n.number,r.WireType.LengthDelimited).fork(),t,i).join()}function d(e,t,n,i,a){var l;switch(e.tag(n.number,r.WireType.LengthDelimited).fork(),c(e,n.parent.typeName,n.name,n.mapKey,1,i),n.mapKind){case"scalar":case"enum":c(e,n.parent.typeName,n.name,null!==(l=n.scalar)&&void 0!==l?l:s.ScalarType.INT32,2,a);break;case"message":o(e.tag(2,r.WireType.LengthDelimited).fork(),t,a).join()}e.join()}function h(e,t,n,i,r){try{switch(i){case s.ScalarType.STRING:e.string(r);break;case s.ScalarType.BOOL:e.bool(r);break;case s.ScalarType.DOUBLE:e.double(r);break;case s.ScalarType.FLOAT:e.float(r);break;case s.ScalarType.INT32:e.int32(r);break;case s.ScalarType.INT64:e.int64(r);break;case s.ScalarType.UINT64:e.uint64(r);break;case s.ScalarType.FIXED64:e.fixed64(r);break;case s.ScalarType.BYTES:e.bytes(r);break;case s.ScalarType.FIXED32:e.fixed32(r);break;case s.ScalarType.SFIXED32:e.sfixed32(r);break;case s.ScalarType.SFIXED64:e.sfixed64(r);break;case s.ScalarType.SINT64:e.sint64(r);break;case s.ScalarType.UINT32:e.uint32(r);break;case s.ScalarType.SINT32:e.sint32(r)}}catch(e){if(e instanceof Error)throw new Error("cannot encode field "+t+"."+n+" to binary: "+e.message);throw e}}},7131(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.GenericController=void 0;const i=n(363);t.GenericController={cxrProfile:"khr/generic_controller",name:"Generic Controller",buttonAvailabilityCache:new Map,matches:e=>null!==e.gamepad&&!e.hand,cxrPaths:["grip/pose","grip_surface/pose","aim/pose","hand_pinch/pose","hand_poke/pose","primary/click","secondary/click","thumbstick/click","thumbstick","squeeze/value","trigger/value"],get cxrLeftPaths(){return this.cxrPaths},get cxrRightPaths(){return this.cxrPaths},inputTypes:{"grip/pose":i.InputType.POSE,"grip_surface/pose":i.InputType.POSE,"aim/pose":i.InputType.POSE,"hand_pinch/pose":i.InputType.POSE,"hand_poke/pose":i.InputType.POSE,"primary/click":i.InputType.BOOLEAN,"secondary/click":i.InputType.BOOLEAN,"thumbstick/click":i.InputType.BOOLEAN,thumbstick:i.InputType.VEC2_MINUS_ONE_TO_ONE,"squeeze/value":i.InputType.VEC1_ZERO_TO_ONE,"trigger/value":i.InputType.VEC1_ZERO_TO_ONE},isButtonAvailable(e,t){this.buttonAvailabilityCache.has(e)||this.buttonAvailabilityCache.set(e,new Map);const n=this.buttonAvailabilityCache.get(e);if(n.has(t))return n.get(t);const i=e.buttons&&t<e.buttons.length&&void 0!==e.buttons[t];return n.set(t,i),i},getButtonBoolean(e,t,n){return!!this.isButtonAvailable(e,t)&&e.buttons[t][n]},getButtonNumber(e,t){return this.isButtonAvailable(e,t)?e.buttons[t].value:0},getValue(e,t,n,i){let r=null;for(const n of e.session.inputSources)if(n.handedness===t){r=n;break}if(!r)return{success:!1,value:null};if(n.endsWith("/pose")){if("grip_surface/pose"===n||"hand_pinch/pose"===n||"hand_poke/pose"===n)return{success:!1,value:null};const t="grip/pose"===n?r.gripSpace:r.targetRaySpace;if(t){const n=e.getPose(t,i);return n?{success:!0,value:{position:n.transform.position,orientation:n.transform.orientation}}:{success:!1,value:null}}return{success:!1,value:null}}if(!r.gamepad)return{success:!1,value:null};const s=r.gamepad;try{switch(n){case"trigger/value":return{success:!0,value:this.getButtonNumber(s,0)};case"squeeze/value":return{success:!0,value:this.getButtonNumber(s,1)};case"primary/click":return{success:!0,value:this.getButtonBoolean(s,4,"pressed")};case"secondary/click":return{success:!0,value:this.getButtonBoolean(s,5,"pressed")};case"thumbstick/click":return{success:!0,value:this.getButtonBoolean(s,3,"pressed")};case"thumbstick":{let e=s.axes[2],t=s.axes[3];return null==e&&(e=s.axes[0]||0),null==t&&(t=s.axes[1]||0),{success:!0,value:{x:e||0,y:t||0}}}default:return{success:!1,value:null}}}catch(e){return{success:!1,value:null}}}}},7299(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.unsafeLocal=void 0,t.unsafeOneofCase=function(e,t){const n=e[t.localName].case;return void 0===n?n:t.fields.find(e=>e.localName===n)},t.unsafeIsSet=function(e,t){const n=t.localName;if(t.oneof)return e[t.oneof.localName].case===n;if(2!=t.presence)return void 0!==e[n]&&Object.prototype.hasOwnProperty.call(e,n);switch(t.fieldKind){case"list":return e[n].length>0;case"map":return Object.keys(e[n]).length>0;case"scalar":return!(0,i.isScalarZeroValue)(t.scalar,e[n]);case"enum":return e[n]!==t.enum.values[0].number}throw new Error("message field with implicit presence")},t.unsafeIsSetExplicit=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]},t.unsafeGet=function(e,t){if(t.oneof){const n=e[t.oneof.localName];return n.case===t.localName?n.value:void 0}return e[t.localName]},t.unsafeSet=function(e,t,n){t.oneof?e[t.oneof.localName]={case:t.localName,value:n}:e[t.localName]=n},t.unsafeClear=function(e,t){const n=t.localName;if(t.oneof){const i=t.oneof.localName;e[i].case===n&&(e[i]={case:void 0})}else if(2!=t.presence)delete e[n];else switch(t.fieldKind){case"map":e[n]={};break;case"list":e[n]=[];break;case"enum":e[n]=t.enum.values[0].number;break;case"scalar":e[n]=(0,i.scalarZeroValue)(t.scalar,t.longAsString)}};const i=n(2949);t.unsafeLocal=Symbol.for("reflect unsafe local")},7585(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.QuestTouchPlus=void 0;const i=n(363);t.QuestTouchPlus={cxrProfile:"meta/touch_plus",name:"Quest Touch Plus",buttonAvailabilityCache:new Map,matches:e=>e.profiles.includes("meta-quest-touch-plus")||e.profiles.some(e=>e.startsWith("oculus-touch")),cxrLeftPaths:["grip/pose","aim/pose","grip_surface/pose","squeeze/value","trigger/value","trigger/touch","trigger/force","trigger/proximity","trigger_curl/value","trigger_slide/value","thumbstick/xy","thumbstick/click","thumbstick/touch","thumbrest/touch","thumb_resting_surfaces/proximity","x/click","x/touch","y/click","y/touch","menu/click"],cxrRightPaths:["grip/pose","aim/pose","grip_surface/pose","squeeze/value","trigger/value","trigger/touch","trigger/force","trigger/proximity","trigger_curl/value","trigger_slide/value","thumbstick/xy","thumbstick/click","thumbstick/touch","thumbrest/touch","thumb_resting_surfaces/proximity","a/click","a/touch","b/click","b/touch","system/click"],inputTypes:{"grip/pose":i.InputType.POSE,"aim/pose":i.InputType.POSE,"grip_surface/pose":i.InputType.POSE,"squeeze/value":i.InputType.VEC1_ZERO_TO_ONE,"trigger/value":i.InputType.VEC1_ZERO_TO_ONE,"trigger/touch":i.InputType.BOOLEAN,"trigger/force":i.InputType.VEC1_ZERO_TO_ONE,"trigger/proximity":i.InputType.BOOLEAN,"trigger_curl/value":i.InputType.VEC1_ZERO_TO_ONE,"trigger_slide/value":i.InputType.VEC1_ZERO_TO_ONE,"thumbstick/xy":i.InputType.VEC2_MINUS_ONE_TO_ONE,"thumbstick/click":i.InputType.BOOLEAN,"thumbstick/touch":i.InputType.BOOLEAN,"thumbrest/touch":i.InputType.BOOLEAN,"thumb_resting_surfaces/proximity":i.InputType.BOOLEAN,"x/click":i.InputType.BOOLEAN,"x/touch":i.InputType.BOOLEAN,"y/click":i.InputType.BOOLEAN,"y/touch":i.InputType.BOOLEAN,"menu/click":i.InputType.BOOLEAN,"a/click":i.InputType.BOOLEAN,"a/touch":i.InputType.BOOLEAN,"b/click":i.InputType.BOOLEAN,"b/touch":i.InputType.BOOLEAN,"system/click":i.InputType.BOOLEAN},isButtonAvailable(e,t){this.buttonAvailabilityCache.has(e)||this.buttonAvailabilityCache.set(e,new Map);const n=this.buttonAvailabilityCache.get(e);if(n.has(t))return n.get(t);const i=e.buttons&&t<e.buttons.length&&void 0!==e.buttons[t];return n.set(t,i),i},getButtonBoolean(e,t,n){return!!this.isButtonAvailable(e,t)&&e.buttons[t][n]},getButtonNumber(e,t){return this.isButtonAvailable(e,t)?e.buttons[t].value:0},getValue(e,t,n,i){let r=null;for(const n of e.session.inputSources)if(n.handedness===t){r=n;break}if(!r)return{success:!1,value:null};if(n.endsWith("/pose")){if("grip_surface/pose"==n)return{success:!1,value:null};const t="grip/pose"===n?r.gripSpace:r.targetRaySpace;if(t){const n=e.getPose(t,i);return n?{success:!0,value:{position:n.transform.position,orientation:n.transform.orientation}}:{success:!1,value:null}}return{success:!1,value:null}}if(!r.gamepad)return{success:!1,value:null};const s=r.gamepad;try{switch(n){case"squeeze/value":return{success:!0,value:this.getButtonNumber(s,1)};case"trigger/value":return{success:!0,value:this.getButtonNumber(s,0)};case"trigger/touch":return{success:!0,value:this.getButtonBoolean(s,0,"touched")};case"thumbstick/xy":return{success:!0,value:{x:s.axes[2],y:s.axes[3]}};case"thumbstick/click":return{success:!0,value:this.getButtonBoolean(s,3,"pressed")};case"thumbstick/touch":return{success:!0,value:this.getButtonBoolean(s,3,"touched")};case"thumbrest/touch":return{success:!0,value:this.getButtonBoolean(s,6,"touched")};case"x/click":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,4,"pressed")};case"x/touch":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,4,"touched")};case"y/click":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,5,"pressed")};case"y/touch":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,5,"touched")};case"menu/click":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,12,"pressed")};case"a/click":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,4,"pressed")};case"a/touch":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,4,"touched")};case"b/click":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,5,"pressed")};case"b/touch":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,5,"touched")};case"grip_surface/pose":case"thumb_resting_surfaces/proximity":case"trigger/proximity":case"trigger_curl/value":case"trigger_slide/value":case"trigger/force":return{success:!0,value:0};default:return{success:!1,value:null}}}catch(e){return{success:!1,value:null}}}}},7662(e,t){"use strict";let n,i,r;function s(e){return n||(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),i=n.slice(0,-2).concat("-","_")),"url"==e?i:n}Object.defineProperty(t,"t",{value:!0}),t.base64Decode=function(e){const t=function(){if(!r){r=[];const e=s("std");for(let t=0;t<e.length;t++)r[e[t].charCodeAt(0)]=t;r["-".charCodeAt(0)]=e.indexOf("+"),r["_".charCodeAt(0)]=e.indexOf("/")}return r}();let n=3*e.length/4;"="==e[e.length-2]?n-=2:"="==e[e.length-1]&&(n-=1);let i,a=new Uint8Array(n),o=0,l=0,c=0;for(let n=0;n<e.length;n++){if(i=t[e.charCodeAt(n)],void 0===i)switch(e[n]){case"=":l=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string")}switch(l){case 0:c=i,l=1;break;case 1:a[o++]=c<<2|(48&i)>>4,c=i,l=2;break;case 2:a[o++]=(15&c)<<4|(60&i)>>2,c=i,l=3;break;case 3:a[o++]=(3&c)<<6|i,l=0}}if(1==l)throw Error("invalid base64 string");return a.subarray(0,o)},t.base64Encode=function(e,t="std"){const n=s(t),i="std"==t;let r,a="",o=0,l=0;for(let t=0;t<e.length;t++)switch(r=e[t],o){case 0:a+=n[r>>2],l=(3&r)<<4,o=1;break;case 1:a+=n[l|r>>4],l=(15&r)<<2,o=2;break;case 2:a+=n[l|r>>6],a+=n[63&r],o=0}return o&&(a+=n[l],i&&(a+="=",1==o&&(a+="="))),a}},7673(e,t,n){"use strict";n.r(t),n.d(t,{DiagConsoleLogger:()=>B,DiagLogLevel:()=>p,INVALID_SPANID:()=>ne,INVALID_SPAN_CONTEXT:()=>re,INVALID_TRACEID:()=>ie,ProxyTracer:()=>Me,ProxyTracerProvider:()=>Re,ROOT_CONTEXT:()=>T,SamplingDecision:()=>ye,SpanKind:()=>Ee,SpanStatusCode:()=>Se,TraceFlags:()=>q,ValueType:()=>I,baggageEntryMetadataFromString:()=>b,context:()=>ke,createContextKey:()=>x,createNoopMeter:()=>j,createTraceState:()=>Oe,default:()=>$e,defaultTextMapGetter:()=>J,defaultTextMapSetter:()=>Z,diag:()=>Ue,isSpanContextValid:()=>me,isValidSpanId:()=>Ae,isValidTraceId:()=>ge,metrics:()=>Ve,propagation:()=>Je,trace:()=>Ke});var i="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},r="1.4.1",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,a=function(e){var t=new Set([e]),n=new Set,i=e.match(s);if(!i)return function(){return!1};var r=+i[1],a=+i[2],o=+i[3];if(null!=i[4])return function(t){return t===e};function l(e){return n.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var i=e.match(s);if(!i)return l(e);var u=+i[1],d=+i[2],h=+i[3];return null!=i[4]||r!==u?l(e):0===r?a===d&&o<=h?c(e):l(e):a<=d?c(e):l(e)}}(r),o=r.split(".")[0],l=Symbol.for("opentelemetry.js.api."+o),c=i;function u(e,t,n,i){var s;void 0===i&&(i=!1);var a=c[l]=null!==(s=c[l])&&void 0!==s?s:{version:r};if(!i&&a[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}return a.version!==r?(o=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+r),n.error(o.stack||o.message),!1):(a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+r+"."),!0)}function d(e){var t,n,i=null===(t=c[l])||void 0===t?void 0:t.version;if(i&&a(i))return null===(n=c[l])||void 0===n?void 0:n[e]}function h(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+r+".");var n=c[l];n&&delete n[e]}var p,f,g=function(){function e(e){this.J_=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("debug",this.J_,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("error",this.J_,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("info",this.J_,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("warn",this.J_,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A("verbose",this.J_,e)},e}();function A(e,t,n){var i=d("diag");if(i)return n.unshift(t),i[e].apply(i,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(n),!1))}(f=p||(p={}))[f.NONE=0]="NONE",f[f.ERROR=30]="ERROR",f[f.WARN=50]="WARN",f[f.INFO=60]="INFO",f[f.DEBUG=70]="DEBUG",f[f.VERBOSE=80]="VERBOSE",f[f.ALL=9999]="ALL";var m=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=d("diag");if(i)return i[e].apply(i,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(t),!1))}}var t=this;t.setLogger=function(e,n){var i,r,s;if(void 0===n&&(n={logLevel:p.INFO}),e===t){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(i=a.stack)&&void 0!==i?i:a.message),!1}"number"==typeof n&&(n={logLevel:n});var o=d("diag"),l=function(e,t){function n(n,i){var r=t[n];return"function"==typeof r&&e>=i?r.bind(t):function(){}}return e<p.NONE?e=p.NONE:e>p.ALL&&(e=p.ALL),t=t||{},{error:n("error",p.ERROR),warn:n("warn",p.WARN),info:n("info",p.INFO),debug:n("debug",p.DEBUG),verbose:n("verbose",p.VERBOSE)}}(null!==(r=n.logLevel)&&void 0!==r?r:p.INFO,e);if(o&&!n.suppressOverrideMessage){var c=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";o.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return u("diag",l,t,!0)},t.disable=function(){h("diag",t)},t.createComponentLogger=function(e){return new g(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this.W_||(this.W_=new e),this.W_},e}(),v=function(){function e(e){this.z_=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this.z_.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this.z_.entries()).map(function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var i=new e(this.z_);return i.z_.set(t,n),i},e.prototype.removeEntry=function(t){var n=new e(this.z_);return n.z_.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=new e(this.z_);try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),o=a.next();!o.done;o=a.next()){var l=o.value;s.z_.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),y=Symbol("BaggageEntryMetadata"),E=m.instance();function S(e){return void 0===e&&(e={}),new v(new Map(Object.entries(e)))}function b(e){return"string"!=typeof e&&(E.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{q_:y,toString:function(){return e}}}function x(e){return Symbol.for(e)}var w,I,C,T=new function e(t){var n=this;n.Y_=t?new Map(t):new Map,n.getValue=function(e){return n.Y_.get(e)},n.setValue=function(t,i){var r=new e(n.Y_);return r.Y_.set(t,i),r},n.deleteValue=function(t){var i=new e(n.Y_);return i.Y_.delete(t),i}},M=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],B=function(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(console){var i=console[e];if("function"!=typeof i&&(i=console.log),"function"==typeof i)return i.apply(console,t)}}}for(var t=0;t<M.length;t++)this[M[t].n]=e(M[t].c)},R=(w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(){function e(){}return e.prototype.createHistogram=function(e,t){return H},e.prototype.createCounter=function(e,t){return V},e.prototype.createUpDownCounter=function(e,t){return G},e.prototype.createObservableGauge=function(e,t){return W},e.prototype.createObservableCounter=function(e,t){return z},e.prototype.createObservableUpDownCounter=function(e,t){return X},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),_=function(){},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.add=function(e,t){},t}(_),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.add=function(e,t){},t}(_),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.record=function(e,t){},t}(_),O=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(O),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(O),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(O),Q=new P,V=new D,H=new L,G=new N,z=new k,W=new U,X=new F;function j(){return Q}(C=I||(I={}))[C.INT=0]="INT",C[C.DOUBLE=1]="DOUBLE";var q,Y,J={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},Z={set:function(e,t,n){null!=e&&(e[t]=n)}},K=function(){function e(){}return e.prototype.active=function(){return T},e.prototype.with=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];return t.call.apply(t,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(i),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),$="context",ee=new K,te=function(){function e(){}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalContextManager=function(e){return u($,e,m.instance())},e.prototype.active=function(){return this.K_().active()},e.prototype.with=function(e,t,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];return(i=this.K_()).with.apply(i,function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([e,t,n],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a}(r),!1))},e.prototype.bind=function(e,t){return this.K_().bind(e,t)},e.prototype.K_=function(){return d($)||ee},e.prototype.disable=function(){this.K_().disable(),h($,m.instance())},e}();(Y=q||(q={}))[Y.NONE=0]="NONE",Y[Y.SAMPLED=1]="SAMPLED";var ne="0000000000000000",ie="00000000000000000000000000000000",re={traceId:ie,spanId:ne,traceFlags:q.NONE},se=function(){function e(e){void 0===e&&(e=re),this.Q_=e}return e.prototype.spanContext=function(){return this.Q_},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),ae=x("OpenTelemetry Context Key SPAN");function oe(e){return e.getValue(ae)||void 0}function le(){return oe(te.getInstance().active())}function ce(e,t){return e.setValue(ae,t)}function ue(e){return e.deleteValue(ae)}function de(e,t){return ce(e,new se(t))}function he(e){var t;return null===(t=oe(e))||void 0===t?void 0:t.spanContext()}var pe=/^([0-9a-f]{32})$/i,fe=/^[0-9a-f]{16}$/i;function ge(e){return pe.test(e)&&e!==ie}function Ae(e){return fe.test(e)&&e!==ne}function me(e){return ge(e.traceId)&&Ae(e.spanId)}function ve(e){return new se(e)}var ye,Ee,Se,be,xe,we,Ie=te.getInstance(),Ce=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=Ie.active()),Boolean(null==t?void 0:t.root))return new se;var i,r=n&&he(n);return"object"==typeof(i=r)&&"string"==typeof i.spanId&&"string"==typeof i.traceId&&"number"==typeof i.traceFlags&&me(r)?new se(r):new se},e.prototype.startActiveSpan=function(e,t,n,i){var r,s,a;if(!(arguments.length<2)){2===arguments.length?a=t:3===arguments.length?(r=t,a=n):(r=t,s=n,a=i);var o=null!=s?s:Ie.active(),l=this.startSpan(e,r,o),c=ce(o,l);return Ie.with(c,a,void 0,l)}},e}(),Te=new Ce,Me=function(){function e(e,t,n,i){this.Z_=e,this.name=t,this.version=n,this.options=i}return e.prototype.startSpan=function(e,t,n){return this._M().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,i){var r=this._M();return Reflect.apply(r.startActiveSpan,r,arguments)},e.prototype._M=function(){if(this.tO)return this.tO;var e=this.Z_.getDelegateTracer(this.name,this.version,this.options);return e?(this.tO=e,this.tO):Te},e}(),Be=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new Ce},e}()),Re=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var i;return null!==(i=this.getDelegateTracer(e,t,n))&&void 0!==i?i:new Me(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this.tO)&&void 0!==e?e:Be},e.prototype.setDelegate=function(e){this.tO=e},e.prototype.getDelegateTracer=function(e,t,n){var i;return null===(i=this.tO)||void 0===i?void 0:i.getTracer(e,t,n)},e}();(we=ye||(ye={}))[we.NOT_RECORD=0]="NOT_RECORD",we[we.RECORD=1]="RECORD",we[we.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",(xe=Ee||(Ee={}))[xe.INTERNAL=0]="INTERNAL",xe[xe.SERVER=1]="SERVER",xe[xe.CLIENT=2]="CLIENT",xe[xe.PRODUCER=3]="PRODUCER",xe[xe.CONSUMER=4]="CONSUMER",(be=Se||(Se={}))[be.UNSET=0]="UNSET",be[be.OK=1]="OK",be[be.ERROR=2]="ERROR";var Pe="[_0-9a-z-*/]",_e=new RegExp("^(?:[a-z]"+Pe+"{0,255}|[a-z0-9]"+Pe+"{0,240}@[a-z]"+Pe+"{0,13})$"),De=/^[ -~]{0,255}[!-~]$/,Ne=/,|=/,Le=function(){function e(e){this.iO=new Map,e&&this.eO(e)}return e.prototype.set=function(e,t){var n=this.sO();return n.iO.has(e)&&n.iO.delete(e),n.iO.set(e,t),n},e.prototype.unset=function(e){var t=this.sO();return t.iO.delete(e),t},e.prototype.get=function(e){return this.iO.get(e)},e.prototype.serialize=function(){var e=this;return this.nO().reduce(function(t,n){return t.push(n+"="+e.get(n)),t},[]).join(",")},e.prototype.eO=function(e){e.length>512||(this.iO=e.split(",").reverse().reduce(function(e,t){var n,i,r=t.trim(),s=r.indexOf("=");if(-1!==s){var a=r.slice(0,s),o=r.slice(s+1,t.length);i=a,_e.test(i)&&(n=o,De.test(n)&&!Ne.test(n))&&e.set(a,o)}return e},new Map),this.iO.size>32&&(this.iO=new Map(Array.from(this.iO.entries()).reverse().slice(0,32))))},e.prototype.nO=function(){return Array.from(this.iO.keys()).reverse()},e.prototype.sO=function(){var t=new e;return t.iO=new Map(this.iO),t},e}();function Oe(e){return new Le(e)}var ke=te.getInstance(),Ue=m.instance(),Fe=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return Q},e}()),Qe="metrics",Ve=function(){function e(){}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalMeterProvider=function(e){return u(Qe,e,m.instance())},e.prototype.getMeterProvider=function(){return d(Qe)||Fe},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){h(Qe,m.instance())},e}().getInstance(),He=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),Ge=x("OpenTelemetry Baggage Key");function ze(e){return e.getValue(Ge)||void 0}function We(){return ze(te.getInstance().active())}function Xe(e,t){return e.setValue(Ge,t)}function je(e){return e.deleteValue(Ge)}var qe="propagation",Ye=new He,Je=function(){function e(){this.createBaggage=S,this.getBaggage=ze,this.getActiveBaggage=We,this.setBaggage=Xe,this.deleteBaggage=je}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalPropagator=function(e){return u(qe,e,m.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=Z),this.rO().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=J),this.rO().extract(e,t,n)},e.prototype.fields=function(){return this.rO().fields()},e.prototype.disable=function(){h(qe,m.instance())},e.prototype.rO=function(){return d(qe)||Ye},e}().getInstance(),Ze="trace",Ke=function(){function e(){this.oO=new Re,this.wrapSpanContext=ve,this.isSpanContextValid=me,this.deleteSpan=ue,this.getSpan=oe,this.getActiveSpan=le,this.getSpanContext=he,this.setSpan=ce,this.setSpanContext=de}return e.getInstance=function(){return this.W_||(this.W_=new e),this.W_},e.prototype.setGlobalTracerProvider=function(e){var t=u(Ze,this.oO,m.instance());return t&&this.oO.setDelegate(e),t},e.prototype.getTracerProvider=function(){return d(Ze)||this.oO},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){h(Ze,m.instance()),this.oO=new Re},e}().getInstance();const $e={context:ke,diag:Ue,metrics:Ve,propagation:Je,trace:Ke}},7832(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.calculateStreamResolution=function(e,t){return{width:2*e,height:Math.ceil(9*t/4)}},t.calculatePerEyeResolution=function(e,t){return{width:e/2,height:Math.floor(4*t/9)}}},7904(e,t,n){"use strict";var i=this&&this.p||function(e){return e&&e.t?e:{default:e}};Object.defineProperty(t,"t",{value:!0}),t.MessageChannelManager=t.MessageChannelImpl=void 0;const r=i(n(5017)),s=n(363),a=n(6558);class o{get uuid(){return this.channelInfo.uuid}get status(){return this.fO}set status(e){this.fO=e}constructor(e,t){this.transport=e,this.fO=a.MessageChannelStatus.NotInitialized,this.streamController=null,this.reader=null,this.sentClose=!1,this.channelInfo=t,this.receivedMessageStream=new ReadableStream({start:e=>{this.streamController=e},cancel:()=>{this.disconnect()}})}open(){if(this.fO!==a.MessageChannelStatus.NotInitialized)return!1;const e=this.transport.sendControlMessage(this.channelInfo.channelId,s.OpaqueDataChannelControl_ControlMessage.CONTROL_MESSAGE_OPEN);return e&&(this.fO=a.MessageChannelStatus.Ready),e}sendServerMessage(e){switch(this.fO){case a.MessageChannelStatus.NotInitialized:return!!this.open()&&this.transport.sendData(this.channelInfo.channelId,e);case a.MessageChannelStatus.Ready:return this.transport.sendData(this.channelInfo.channelId,e);case a.MessageChannelStatus.Closed:default:return!1}}async receiveMessage(){if(this.fO===a.MessageChannelStatus.NotInitialized&&!this.open())return null;this.reader||(this.reader=this.receivedMessageStream.getReader());try{const{done:e,value:t}=await this.reader.read();return e?null:t}catch(e){return null}}disconnect(){this.fO!==a.MessageChannelStatus.Closed&&(this.fO!==a.MessageChannelStatus.NotInitialized?(this.sentClose||this.transport.sendControlMessage(this.channelInfo.channelId,s.OpaqueDataChannelControl_ControlMessage.CONTROL_MESSAGE_CLOSE)&&(this.sentClose=!0),this.markClosed()):this.markClosed())}[Symbol.dispose](){this.disconnect()}receivedServerMessage(e){if(this.streamController)try{return this.streamController.enqueue(e),!0}catch(e){return!1}return!1}receivedServerClose(){this.sentClose||this.transport.sendControlMessage(this.channelInfo.channelId,s.OpaqueDataChannelControl_ControlMessage.CONTROL_MESSAGE_CLOSE)&&(this.sentClose=!0),this.markClosed()}markClosed(){if(this.fO!==a.MessageChannelStatus.Closed){if(this.fO=a.MessageChannelStatus.Closed,this.reader){try{this.reader.releaseLock()}catch(e){}this.reader=null}if(this.streamController){try{this.streamController.close()}catch(e){}this.streamController=null}}}}t.MessageChannelImpl=o,t.MessageChannelManager=class{constructor(e){this.transport=e,this.channels=[]}getAllChannels(){return this.channels.filter(e=>void 0!==e&&(e.status===a.MessageChannelStatus.NotInitialized||e.status===a.MessageChannelStatus.Ready))}receivedMessageChannelData(e,t){if(e.isZero())return;const n=e.toNumber(),i=this.channels[n];i&&i.receivedServerMessage(t)}receivedMessageChannelControl(e){const t=e.channelId||r.default.UZERO;if(!t.isZero())switch(e.controlMessage){case s.OpaqueDataChannelControl_ControlMessage.CONTROL_MESSAGE_ANNOUNCE:this.handleAnnounce(t,e.uuid||new Uint8Array);break;case s.OpaqueDataChannelControl_ControlMessage.CONTROL_MESSAGE_CLOSE:this.handleClose(t);case s.OpaqueDataChannelControl_ControlMessage.CONTROL_MESSAGE_OPEN:}}handleAnnounce(e,t){const n=e.toNumber();if(this.channels[n])return;const i={channelId:e,uuid:t},r=new o(this.transport,i);this.channels[n]=r}handleClose(e){const t=e.toNumber(),n=this.channels[t];n&&(n.receivedServerClose(),this.channels[t]=void 0)}cleanup(){for(const e of this.channels)e&&e.status!==a.MessageChannelStatus.Closed&&e.disconnect();this.channels=[]}}},8536(e,t,n){"use strict";var i=this&&this.p||function(e){return e&&e.t?e:{default:e}};Object.defineProperty(t,"t",{value:!0}),t.XrBodyJointLocationsBD=t.XrBodyJointLocationBD=t.XrHandJointVelocitiesEXT=t.XrHandJointLocationsEXT=t.XrHandJointVelocityEXT=t.XrHandJointLocationEXT=t.XrViewConfigurationDepthRangeEXT=t.XrVector4f=t.XrRect2Df=t.XrOffset2Df=t.XrHapticVibration=t.XrEventDataSessionStateChanged=t.XrRect2Di=t.XrExtent2Di=t.XrOffset2Di=t.XrActionStatePose=t.XrActionStateVector2f=t.XrVector2f=t.XrActionStateFloat=t.XrActionStateBoolean=t.XrView=t.XrFovf=t.XrViewState=t.XrViewConfigurationView=t.XrSpaceLocation=t.XrExtent2Df=t.XrPosef=t.XrQuaternionf=t.XrSpaceVelocity=t.XrVector3f=t.XrSystemProperties=t.XrSystemTrackingProperties=t.XrSystemGraphicsProperties=t.XrApplicationInfo=t.XrHandJointEXT=t.XrHandEXT=t.XrSessionState=t.XrViewStateFlagBits=t.XrSpaceLocationFlagBits=t.XrReferenceSpaceType=t.XrSpaceVelocityFlagBits=t.XrEnvironmentBlendMode=t.XrViewConfigurationType=t.XrFormFactor=t.protobufPackage=void 0,t.xrFormFactorFromJSON=function(e){switch(e){case 0:case"XR_FORM_FACTOR_UNSPECIFIED":return a.XR_FORM_FACTOR_UNSPECIFIED;case 1:case"XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY":return a.XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY;case 2:case"XR_FORM_FACTOR_HANDHELD_DISPLAY":return a.XR_FORM_FACTOR_HANDHELD_DISPLAY;default:return a.UNRECOGNIZED}},t.xrFormFactorToJSON=function(e){switch(e){case a.XR_FORM_FACTOR_UNSPECIFIED:return"XR_FORM_FACTOR_UNSPECIFIED";case a.XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY:return"XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY";case a.XR_FORM_FACTOR_HANDHELD_DISPLAY:return"XR_FORM_FACTOR_HANDHELD_DISPLAY";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrViewConfigurationTypeFromJSON=function(e){switch(e){case 0:case"XR_VIEW_CONFIGURATION_TYPE_UNSPECIFIED":return o.XR_VIEW_CONFIGURATION_TYPE_UNSPECIFIED;case 1:case"XR_VIEW_CONFIGURATION_TYPE_PRIMARY_MONO":return o.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_MONO;case 2:case"XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO":return o.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO;case 1000037e3:case"XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO_WITH_FOVEATED_INSET":return o.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO_WITH_FOVEATED_INSET;case 1000054e3:case"XR_VIEW_CONFIGURATION_TYPE_SECONDARY_MONO_FIRST_PERSON_OBSERVER_MSFT":return o.XR_VIEW_CONFIGURATION_TYPE_SECONDARY_MONO_FIRST_PERSON_OBSERVER_MSFT;default:return o.UNRECOGNIZED}},t.xrViewConfigurationTypeToJSON=function(e){switch(e){case o.XR_VIEW_CONFIGURATION_TYPE_UNSPECIFIED:return"XR_VIEW_CONFIGURATION_TYPE_UNSPECIFIED";case o.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_MONO:return"XR_VIEW_CONFIGURATION_TYPE_PRIMARY_MONO";case o.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO:return"XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO";case o.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO_WITH_FOVEATED_INSET:return"XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO_WITH_FOVEATED_INSET";case o.XR_VIEW_CONFIGURATION_TYPE_SECONDARY_MONO_FIRST_PERSON_OBSERVER_MSFT:return"XR_VIEW_CONFIGURATION_TYPE_SECONDARY_MONO_FIRST_PERSON_OBSERVER_MSFT";case o.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrEnvironmentBlendModeFromJSON=function(e){switch(e){case 0:case"XR_ENVIRONMENT_BLEND_MODE_UNSPECIFIED":return l.XR_ENVIRONMENT_BLEND_MODE_UNSPECIFIED;case 1:case"XR_ENVIRONMENT_BLEND_MODE_OPAQUE":return l.XR_ENVIRONMENT_BLEND_MODE_OPAQUE;case 2:case"XR_ENVIRONMENT_BLEND_MODE_ADDITIVE":return l.XR_ENVIRONMENT_BLEND_MODE_ADDITIVE;case 3:case"XR_ENVIRONMENT_BLEND_MODE_ALPHA_BLEND":return l.XR_ENVIRONMENT_BLEND_MODE_ALPHA_BLEND;default:return l.UNRECOGNIZED}},t.xrEnvironmentBlendModeToJSON=function(e){switch(e){case l.XR_ENVIRONMENT_BLEND_MODE_UNSPECIFIED:return"XR_ENVIRONMENT_BLEND_MODE_UNSPECIFIED";case l.XR_ENVIRONMENT_BLEND_MODE_OPAQUE:return"XR_ENVIRONMENT_BLEND_MODE_OPAQUE";case l.XR_ENVIRONMENT_BLEND_MODE_ADDITIVE:return"XR_ENVIRONMENT_BLEND_MODE_ADDITIVE";case l.XR_ENVIRONMENT_BLEND_MODE_ALPHA_BLEND:return"XR_ENVIRONMENT_BLEND_MODE_ALPHA_BLEND";case l.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrSpaceVelocityFlagBitsFromJSON=function(e){switch(e){case 0:case"XR_SPACE_VELOCITY_FLAG_BITS_UNSPECIFIED":return c.XR_SPACE_VELOCITY_FLAG_BITS_UNSPECIFIED;case 1:case"XR_SPACE_VELOCITY_LINEAR_VALID_BIT":return c.XR_SPACE_VELOCITY_LINEAR_VALID_BIT;case 2:case"XR_SPACE_VELOCITY_ANGULAR_VALID_BIT":return c.XR_SPACE_VELOCITY_ANGULAR_VALID_BIT;default:return c.UNRECOGNIZED}},t.xrSpaceVelocityFlagBitsToJSON=function(e){switch(e){case c.XR_SPACE_VELOCITY_FLAG_BITS_UNSPECIFIED:return"XR_SPACE_VELOCITY_FLAG_BITS_UNSPECIFIED";case c.XR_SPACE_VELOCITY_LINEAR_VALID_BIT:return"XR_SPACE_VELOCITY_LINEAR_VALID_BIT";case c.XR_SPACE_VELOCITY_ANGULAR_VALID_BIT:return"XR_SPACE_VELOCITY_ANGULAR_VALID_BIT";case c.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrReferenceSpaceTypeFromJSON=function(e){switch(e){case 0:case"XR_REFERENCE_SPACE_TYPE_UNSPECIFIED":return u.XR_REFERENCE_SPACE_TYPE_UNSPECIFIED;case 1:case"XR_REFERENCE_SPACE_TYPE_VIEW":return u.XR_REFERENCE_SPACE_TYPE_VIEW;case 2:case"XR_REFERENCE_SPACE_TYPE_LOCAL":return u.XR_REFERENCE_SPACE_TYPE_LOCAL;case 3:case"XR_REFERENCE_SPACE_TYPE_STAGE":return u.XR_REFERENCE_SPACE_TYPE_STAGE;case 1000426e3:case"XR_REFERENCE_SPACE_TYPE_LOCAL_FLOOR":return u.XR_REFERENCE_SPACE_TYPE_LOCAL_FLOOR;case 1000038e3:case"XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT":return u.XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT;case 1000121e3:case"XR_REFERENCE_SPACE_TYPE_COMBINED_EYE_VARJO":return u.XR_REFERENCE_SPACE_TYPE_COMBINED_EYE_VARJO;case 1000139e3:case"XR_REFERENCE_SPACE_TYPE_LOCALIZATION_MAP_ML":return u.XR_REFERENCE_SPACE_TYPE_LOCALIZATION_MAP_ML;default:return u.UNRECOGNIZED}},t.xrReferenceSpaceTypeToJSON=function(e){switch(e){case u.XR_REFERENCE_SPACE_TYPE_UNSPECIFIED:return"XR_REFERENCE_SPACE_TYPE_UNSPECIFIED";case u.XR_REFERENCE_SPACE_TYPE_VIEW:return"XR_REFERENCE_SPACE_TYPE_VIEW";case u.XR_REFERENCE_SPACE_TYPE_LOCAL:return"XR_REFERENCE_SPACE_TYPE_LOCAL";case u.XR_REFERENCE_SPACE_TYPE_STAGE:return"XR_REFERENCE_SPACE_TYPE_STAGE";case u.XR_REFERENCE_SPACE_TYPE_LOCAL_FLOOR:return"XR_REFERENCE_SPACE_TYPE_LOCAL_FLOOR";case u.XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT:return"XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT";case u.XR_REFERENCE_SPACE_TYPE_COMBINED_EYE_VARJO:return"XR_REFERENCE_SPACE_TYPE_COMBINED_EYE_VARJO";case u.XR_REFERENCE_SPACE_TYPE_LOCALIZATION_MAP_ML:return"XR_REFERENCE_SPACE_TYPE_LOCALIZATION_MAP_ML";case u.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrSpaceLocationFlagBitsFromJSON=function(e){switch(e){case 0:case"XR_SPACE_LOCATION_FLAG_BITS_UNSPECIFIED":return d.XR_SPACE_LOCATION_FLAG_BITS_UNSPECIFIED;case 1:case"XR_SPACE_LOCATION_ORIENTATION_VALID_BIT":return d.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT;case 2:case"XR_SPACE_LOCATION_POSITION_VALID_BIT":return d.XR_SPACE_LOCATION_POSITION_VALID_BIT;case 4:case"XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT":return d.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT;case 8:case"XR_SPACE_LOCATION_POSITION_TRACKED_BIT":return d.XR_SPACE_LOCATION_POSITION_TRACKED_BIT;default:return d.UNRECOGNIZED}},t.xrSpaceLocationFlagBitsToJSON=function(e){switch(e){case d.XR_SPACE_LOCATION_FLAG_BITS_UNSPECIFIED:return"XR_SPACE_LOCATION_FLAG_BITS_UNSPECIFIED";case d.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT:return"XR_SPACE_LOCATION_ORIENTATION_VALID_BIT";case d.XR_SPACE_LOCATION_POSITION_VALID_BIT:return"XR_SPACE_LOCATION_POSITION_VALID_BIT";case d.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT:return"XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT";case d.XR_SPACE_LOCATION_POSITION_TRACKED_BIT:return"XR_SPACE_LOCATION_POSITION_TRACKED_BIT";case d.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrViewStateFlagBitsFromJSON=function(e){switch(e){case 0:case"XR_VIEW_STATE_FLAG_BITS_UNSPECIFIED":return h.XR_VIEW_STATE_FLAG_BITS_UNSPECIFIED;case 1:case"XR_VIEW_STATE_ORIENTATION_VALID_BIT":return h.XR_VIEW_STATE_ORIENTATION_VALID_BIT;case 2:case"XR_VIEW_STATE_POSITION_VALID_BIT":return h.XR_VIEW_STATE_POSITION_VALID_BIT;case 4:case"XR_VIEW_STATE_ORIENTATION_TRACKED_BIT":return h.XR_VIEW_STATE_ORIENTATION_TRACKED_BIT;case 8:case"XR_VIEW_STATE_POSITION_TRACKED_BIT":return h.XR_VIEW_STATE_POSITION_TRACKED_BIT;default:return h.UNRECOGNIZED}},t.xrViewStateFlagBitsToJSON=function(e){switch(e){case h.XR_VIEW_STATE_FLAG_BITS_UNSPECIFIED:return"XR_VIEW_STATE_FLAG_BITS_UNSPECIFIED";case h.XR_VIEW_STATE_ORIENTATION_VALID_BIT:return"XR_VIEW_STATE_ORIENTATION_VALID_BIT";case h.XR_VIEW_STATE_POSITION_VALID_BIT:return"XR_VIEW_STATE_POSITION_VALID_BIT";case h.XR_VIEW_STATE_ORIENTATION_TRACKED_BIT:return"XR_VIEW_STATE_ORIENTATION_TRACKED_BIT";case h.XR_VIEW_STATE_POSITION_TRACKED_BIT:return"XR_VIEW_STATE_POSITION_TRACKED_BIT";case h.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrSessionStateFromJSON=C,t.xrSessionStateToJSON=T,t.xrHandEXTFromJSON=function(e){switch(e){case 0:case"XR_HAND_EXT_UNSPECIFIED":return f.XR_HAND_EXT_UNSPECIFIED;case 1:case"XR_HAND_LEFT_EXT":return f.XR_HAND_LEFT_EXT;case 2:case"XR_HAND_RIGHT_EXT":return f.XR_HAND_RIGHT_EXT;default:return f.UNRECOGNIZED}},t.xrHandEXTToJSON=function(e){switch(e){case f.XR_HAND_EXT_UNSPECIFIED:return"XR_HAND_EXT_UNSPECIFIED";case f.XR_HAND_LEFT_EXT:return"XR_HAND_LEFT_EXT";case f.XR_HAND_RIGHT_EXT:return"XR_HAND_RIGHT_EXT";case f.UNRECOGNIZED:default:return"UNRECOGNIZED"}},t.xrHandJointEXTFromJSON=function(e){switch(e){case 0:case"XR_HAND_JOINT_PALM_EXT":return g.XR_HAND_JOINT_PALM_EXT;case 1:case"XR_HAND_JOINT_WRIST_EXT":return g.XR_HAND_JOINT_WRIST_EXT;case 2:case"XR_HAND_JOINT_THUMB_METACARPAL_EXT":return g.XR_HAND_JOINT_THUMB_METACARPAL_EXT;case 3:case"XR_HAND_JOINT_THUMB_PROXIMAL_EXT":return g.XR_HAND_JOINT_THUMB_PROXIMAL_EXT;case 4:case"XR_HAND_JOINT_THUMB_DISTAL_EXT":return g.XR_HAND_JOINT_THUMB_DISTAL_EXT;case 5:case"XR_HAND_JOINT_THUMB_TIP_EXT":return g.XR_HAND_JOINT_THUMB_TIP_EXT;case 6:case"XR_HAND_JOINT_INDEX_METACARPAL_EXT":return g.XR_HAND_JOINT_INDEX_METACARPAL_EXT;case 7:case"XR_HAND_JOINT_INDEX_PROXIMAL_EXT":return g.XR_HAND_JOINT_INDEX_PROXIMAL_EXT;case 8:case"XR_HAND_JOINT_INDEX_INTERMEDIATE_EXT":return g.XR_HAND_JOINT_INDEX_INTERMEDIATE_EXT;case 9:case"XR_HAND_JOINT_INDEX_DISTAL_EXT":return g.XR_HAND_JOINT_INDEX_DISTAL_EXT;case 10:case"XR_HAND_JOINT_INDEX_TIP_EXT":return g.XR_HAND_JOINT_INDEX_TIP_EXT;case 11:case"XR_HAND_JOINT_MIDDLE_METACARPAL_EXT":return g.XR_HAND_JOINT_MIDDLE_METACARPAL_EXT;case 12:case"XR_HAND_JOINT_MIDDLE_PROXIMAL_EXT":return g.XR_HAND_JOINT_MIDDLE_PROXIMAL_EXT;case 13:case"XR_HAND_JOINT_MIDDLE_INTERMEDIATE_EXT":return g.XR_HAND_JOINT_MIDDLE_INTERMEDIATE_EXT;case 14:case"XR_HAND_JOINT_MIDDLE_DISTAL_EXT":return g.XR_HAND_JOINT_MIDDLE_DISTAL_EXT;case 15:case"XR_HAND_JOINT_MIDDLE_TIP_EXT":return g.XR_HAND_JOINT_MIDDLE_TIP_EXT;case 16:case"XR_HAND_JOINT_RING_METACARPAL_EXT":return g.XR_HAND_JOINT_RING_METACARPAL_EXT;case 17:case"XR_HAND_JOINT_RING_PROXIMAL_EXT":return g.XR_HAND_JOINT_RING_PROXIMAL_EXT;case 18:case"XR_HAND_JOINT_RING_INTERMEDIATE_EXT":return g.XR_HAND_JOINT_RING_INTERMEDIATE_EXT;case 19:case"XR_HAND_JOINT_RING_DISTAL_EXT":return g.XR_HAND_JOINT_RING_DISTAL_EXT;case 20:case"XR_HAND_JOINT_RING_TIP_EXT":return g.XR_HAND_JOINT_RING_TIP_EXT;case 21:case"XR_HAND_JOINT_LITTLE_METACARPAL_EXT":return g.XR_HAND_JOINT_LITTLE_METACARPAL_EXT;case 22:case"XR_HAND_JOINT_LITTLE_PROXIMAL_EXT":return g.XR_HAND_JOINT_LITTLE_PROXIMAL_EXT;case 23:case"XR_HAND_JOINT_LITTLE_INTERMEDIATE_EXT":return g.XR_HAND_JOINT_LITTLE_INTERMEDIATE_EXT;case 24:case"XR_HAND_JOINT_LITTLE_DISTAL_EXT":return g.XR_HAND_JOINT_LITTLE_DISTAL_EXT;case 25:case"XR_HAND_JOINT_LITTLE_TIP_EXT":return g.XR_HAND_JOINT_LITTLE_TIP_EXT;default:return g.UNRECOGNIZED}},t.xrHandJointEXTToJSON=function(e){switch(e){case g.XR_HAND_JOINT_PALM_EXT:return"XR_HAND_JOINT_PALM_EXT";case g.XR_HAND_JOINT_WRIST_EXT:return"XR_HAND_JOINT_WRIST_EXT";case g.XR_HAND_JOINT_THUMB_METACARPAL_EXT:return"XR_HAND_JOINT_THUMB_METACARPAL_EXT";case g.XR_HAND_JOINT_THUMB_PROXIMAL_EXT:return"XR_HAND_JOINT_THUMB_PROXIMAL_EXT";case g.XR_HAND_JOINT_THUMB_DISTAL_EXT:return"XR_HAND_JOINT_THUMB_DISTAL_EXT";case g.XR_HAND_JOINT_THUMB_TIP_EXT:return"XR_HAND_JOINT_THUMB_TIP_EXT";case g.XR_HAND_JOINT_INDEX_METACARPAL_EXT:return"XR_HAND_JOINT_INDEX_METACARPAL_EXT";case g.XR_HAND_JOINT_INDEX_PROXIMAL_EXT:return"XR_HAND_JOINT_INDEX_PROXIMAL_EXT";case g.XR_HAND_JOINT_INDEX_INTERMEDIATE_EXT:return"XR_HAND_JOINT_INDEX_INTERMEDIATE_EXT";case g.XR_HAND_JOINT_INDEX_DISTAL_EXT:return"XR_HAND_JOINT_INDEX_DISTAL_EXT";case g.XR_HAND_JOINT_INDEX_TIP_EXT:return"XR_HAND_JOINT_INDEX_TIP_EXT";case g.XR_HAND_JOINT_MIDDLE_METACARPAL_EXT:return"XR_HAND_JOINT_MIDDLE_METACARPAL_EXT";case g.XR_HAND_JOINT_MIDDLE_PROXIMAL_EXT:return"XR_HAND_JOINT_MIDDLE_PROXIMAL_EXT";case g.XR_HAND_JOINT_MIDDLE_INTERMEDIATE_EXT:return"XR_HAND_JOINT_MIDDLE_INTERMEDIATE_EXT";case g.XR_HAND_JOINT_MIDDLE_DISTAL_EXT:return"XR_HAND_JOINT_MIDDLE_DISTAL_EXT";case g.XR_HAND_JOINT_MIDDLE_TIP_EXT:return"XR_HAND_JOINT_MIDDLE_TIP_EXT";case g.XR_HAND_JOINT_RING_METACARPAL_EXT:return"XR_HAND_JOINT_RING_METACARPAL_EXT";case g.XR_HAND_JOINT_RING_PROXIMAL_EXT:return"XR_HAND_JOINT_RING_PROXIMAL_EXT";case g.XR_HAND_JOINT_RING_INTERMEDIATE_EXT:return"XR_HAND_JOINT_RING_INTERMEDIATE_EXT";case g.XR_HAND_JOINT_RING_DISTAL_EXT:return"XR_HAND_JOINT_RING_DISTAL_EXT";case g.XR_HAND_JOINT_RING_TIP_EXT:return"XR_HAND_JOINT_RING_TIP_EXT";case g.XR_HAND_JOINT_LITTLE_METACARPAL_EXT:return"XR_HAND_JOINT_LITTLE_METACARPAL_EXT";case g.XR_HAND_JOINT_LITTLE_PROXIMAL_EXT:return"XR_HAND_JOINT_LITTLE_PROXIMAL_EXT";case g.XR_HAND_JOINT_LITTLE_INTERMEDIATE_EXT:return"XR_HAND_JOINT_LITTLE_INTERMEDIATE_EXT";case g.XR_HAND_JOINT_LITTLE_DISTAL_EXT:return"XR_HAND_JOINT_LITTLE_DISTAL_EXT";case g.XR_HAND_JOINT_LITTLE_TIP_EXT:return"XR_HAND_JOINT_LITTLE_TIP_EXT";case g.UNRECOGNIZED:default:return"UNRECOGNIZED"}};const r=n(4489),s=i(n(5017));var a,o,l,c,u,d,h,p,f,g,A,m,v,y,E,S,b,x,w,I;function C(e){switch(e){case 0:case"XR_SESSION_STATE_UNKNOWN":return p.XR_SESSION_STATE_UNKNOWN;case 1:case"XR_SESSION_STATE_IDLE":return p.XR_SESSION_STATE_IDLE;case 2:case"XR_SESSION_STATE_READY":return p.XR_SESSION_STATE_READY;case 3:case"XR_SESSION_STATE_SYNCHRONIZED":return p.XR_SESSION_STATE_SYNCHRONIZED;case 4:case"XR_SESSION_STATE_VISIBLE":return p.XR_SESSION_STATE_VISIBLE;case 5:case"XR_SESSION_STATE_FOCUSED":return p.XR_SESSION_STATE_FOCUSED;case 6:case"XR_SESSION_STATE_STOPPING":return p.XR_SESSION_STATE_STOPPING;case 7:case"XR_SESSION_STATE_LOSS_PENDING":return p.XR_SESSION_STATE_LOSS_PENDING;case 8:case"XR_SESSION_STATE_EXITING":return p.XR_SESSION_STATE_EXITING;default:return p.UNRECOGNIZED}}function T(e){switch(e){case p.XR_SESSION_STATE_UNKNOWN:return"XR_SESSION_STATE_UNKNOWN";case p.XR_SESSION_STATE_IDLE:return"XR_SESSION_STATE_IDLE";case p.XR_SESSION_STATE_READY:return"XR_SESSION_STATE_READY";case p.XR_SESSION_STATE_SYNCHRONIZED:return"XR_SESSION_STATE_SYNCHRONIZED";case p.XR_SESSION_STATE_VISIBLE:return"XR_SESSION_STATE_VISIBLE";case p.XR_SESSION_STATE_FOCUSED:return"XR_SESSION_STATE_FOCUSED";case p.XR_SESSION_STATE_STOPPING:return"XR_SESSION_STATE_STOPPING";case p.XR_SESSION_STATE_LOSS_PENDING:return"XR_SESSION_STATE_LOSS_PENDING";case p.XR_SESSION_STATE_EXITING:return"XR_SESSION_STATE_EXITING";case p.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function M(){return{applicationName:"",applicationVersion:0,engineName:"",engineVersion:0,apiVersion:s.default.UZERO}}function B(){return{systemId:s.default.UZERO,vendorId:0,systemName:"",graphicsProperties:void 0,trackingProperties:void 0}}function R(){return{velocityFlags:s.default.UZERO,linearVelocity:void 0,angularVelocity:void 0}}function P(){return{locationFlags:s.default.UZERO,pose:void 0,nextXrSpaceVelocity:void 0}}function _(){return{viewStateFlags:s.default.UZERO}}function D(){return{currentState:!1,changedSinceLastSync:!1,lastChangeTime:s.default.ZERO,isActive:!1}}function N(){return{currentState:0,changedSinceLastSync:!1,lastChangeTime:s.default.ZERO,isActive:!1}}function L(){return{currentState:void 0,changedSinceLastSync:!1,lastChangeTime:s.default.ZERO,isActive:!1}}function O(){return{session:s.default.UZERO,state:0,time:s.default.ZERO}}function k(){return{duration:s.default.ZERO,frequency:0,amplitude:0}}function U(){return{locationFlags:s.default.UZERO,pose:void 0,radius:0}}function F(){return{velocityFlags:s.default.UZERO,linearVelocity:void 0,angularVelocity:void 0}}function Q(){return{locationFlags:s.default.UZERO,pose:void 0}}function V(e){return null!=e}t.protobufPackage="openxr",(I=a||(t.XrFormFactor=a={}))[I.XR_FORM_FACTOR_UNSPECIFIED=0]="XR_FORM_FACTOR_UNSPECIFIED",I[I.XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY=1]="XR_FORM_FACTOR_HEAD_MOUNTED_DISPLAY",I[I.XR_FORM_FACTOR_HANDHELD_DISPLAY=2]="XR_FORM_FACTOR_HANDHELD_DISPLAY",I[I.UNRECOGNIZED=-1]="UNRECOGNIZED",(w=o||(t.XrViewConfigurationType=o={}))[w.XR_VIEW_CONFIGURATION_TYPE_UNSPECIFIED=0]="XR_VIEW_CONFIGURATION_TYPE_UNSPECIFIED",w[w.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_MONO=1]="XR_VIEW_CONFIGURATION_TYPE_PRIMARY_MONO",w[w.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO=2]="XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO",w[w.XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO_WITH_FOVEATED_INSET=1000037e3]="XR_VIEW_CONFIGURATION_TYPE_PRIMARY_STEREO_WITH_FOVEATED_INSET",w[w.XR_VIEW_CONFIGURATION_TYPE_SECONDARY_MONO_FIRST_PERSON_OBSERVER_MSFT=1000054e3]="XR_VIEW_CONFIGURATION_TYPE_SECONDARY_MONO_FIRST_PERSON_OBSERVER_MSFT",w[w.UNRECOGNIZED=-1]="UNRECOGNIZED",(x=l||(t.XrEnvironmentBlendMode=l={}))[x.XR_ENVIRONMENT_BLEND_MODE_UNSPECIFIED=0]="XR_ENVIRONMENT_BLEND_MODE_UNSPECIFIED",x[x.XR_ENVIRONMENT_BLEND_MODE_OPAQUE=1]="XR_ENVIRONMENT_BLEND_MODE_OPAQUE",x[x.XR_ENVIRONMENT_BLEND_MODE_ADDITIVE=2]="XR_ENVIRONMENT_BLEND_MODE_ADDITIVE",x[x.XR_ENVIRONMENT_BLEND_MODE_ALPHA_BLEND=3]="XR_ENVIRONMENT_BLEND_MODE_ALPHA_BLEND",x[x.UNRECOGNIZED=-1]="UNRECOGNIZED",(b=c||(t.XrSpaceVelocityFlagBits=c={}))[b.XR_SPACE_VELOCITY_FLAG_BITS_UNSPECIFIED=0]="XR_SPACE_VELOCITY_FLAG_BITS_UNSPECIFIED",b[b.XR_SPACE_VELOCITY_LINEAR_VALID_BIT=1]="XR_SPACE_VELOCITY_LINEAR_VALID_BIT",b[b.XR_SPACE_VELOCITY_ANGULAR_VALID_BIT=2]="XR_SPACE_VELOCITY_ANGULAR_VALID_BIT",b[b.UNRECOGNIZED=-1]="UNRECOGNIZED",(S=u||(t.XrReferenceSpaceType=u={}))[S.XR_REFERENCE_SPACE_TYPE_UNSPECIFIED=0]="XR_REFERENCE_SPACE_TYPE_UNSPECIFIED",S[S.XR_REFERENCE_SPACE_TYPE_VIEW=1]="XR_REFERENCE_SPACE_TYPE_VIEW",S[S.XR_REFERENCE_SPACE_TYPE_LOCAL=2]="XR_REFERENCE_SPACE_TYPE_LOCAL",S[S.XR_REFERENCE_SPACE_TYPE_STAGE=3]="XR_REFERENCE_SPACE_TYPE_STAGE",S[S.XR_REFERENCE_SPACE_TYPE_LOCAL_FLOOR=1000426e3]="XR_REFERENCE_SPACE_TYPE_LOCAL_FLOOR",S[S.XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT=1000038e3]="XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT",S[S.XR_REFERENCE_SPACE_TYPE_COMBINED_EYE_VARJO=1000121e3]="XR_REFERENCE_SPACE_TYPE_COMBINED_EYE_VARJO",S[S.XR_REFERENCE_SPACE_TYPE_LOCALIZATION_MAP_ML=1000139e3]="XR_REFERENCE_SPACE_TYPE_LOCALIZATION_MAP_ML",S[S.UNRECOGNIZED=-1]="UNRECOGNIZED",(E=d||(t.XrSpaceLocationFlagBits=d={}))[E.XR_SPACE_LOCATION_FLAG_BITS_UNSPECIFIED=0]="XR_SPACE_LOCATION_FLAG_BITS_UNSPECIFIED",E[E.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT=1]="XR_SPACE_LOCATION_ORIENTATION_VALID_BIT",E[E.XR_SPACE_LOCATION_POSITION_VALID_BIT=2]="XR_SPACE_LOCATION_POSITION_VALID_BIT",E[E.XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT=4]="XR_SPACE_LOCATION_ORIENTATION_TRACKED_BIT",E[E.XR_SPACE_LOCATION_POSITION_TRACKED_BIT=8]="XR_SPACE_LOCATION_POSITION_TRACKED_BIT",E[E.UNRECOGNIZED=-1]="UNRECOGNIZED",(y=h||(t.XrViewStateFlagBits=h={}))[y.XR_VIEW_STATE_FLAG_BITS_UNSPECIFIED=0]="XR_VIEW_STATE_FLAG_BITS_UNSPECIFIED",y[y.XR_VIEW_STATE_ORIENTATION_VALID_BIT=1]="XR_VIEW_STATE_ORIENTATION_VALID_BIT",y[y.XR_VIEW_STATE_POSITION_VALID_BIT=2]="XR_VIEW_STATE_POSITION_VALID_BIT",y[y.XR_VIEW_STATE_ORIENTATION_TRACKED_BIT=4]="XR_VIEW_STATE_ORIENTATION_TRACKED_BIT",y[y.XR_VIEW_STATE_POSITION_TRACKED_BIT=8]="XR_VIEW_STATE_POSITION_TRACKED_BIT",y[y.UNRECOGNIZED=-1]="UNRECOGNIZED",(v=p||(t.XrSessionState=p={}))[v.XR_SESSION_STATE_UNKNOWN=0]="XR_SESSION_STATE_UNKNOWN",v[v.XR_SESSION_STATE_IDLE=1]="XR_SESSION_STATE_IDLE",v[v.XR_SESSION_STATE_READY=2]="XR_SESSION_STATE_READY",v[v.XR_SESSION_STATE_SYNCHRONIZED=3]="XR_SESSION_STATE_SYNCHRONIZED",v[v.XR_SESSION_STATE_VISIBLE=4]="XR_SESSION_STATE_VISIBLE",v[v.XR_SESSION_STATE_FOCUSED=5]="XR_SESSION_STATE_FOCUSED",v[v.XR_SESSION_STATE_STOPPING=6]="XR_SESSION_STATE_STOPPING",v[v.XR_SESSION_STATE_LOSS_PENDING=7]="XR_SESSION_STATE_LOSS_PENDING",v[v.XR_SESSION_STATE_EXITING=8]="XR_SESSION_STATE_EXITING",v[v.UNRECOGNIZED=-1]="UNRECOGNIZED",(m=f||(t.XrHandEXT=f={}))[m.XR_HAND_EXT_UNSPECIFIED=0]="XR_HAND_EXT_UNSPECIFIED",m[m.XR_HAND_LEFT_EXT=1]="XR_HAND_LEFT_EXT",m[m.XR_HAND_RIGHT_EXT=2]="XR_HAND_RIGHT_EXT",m[m.UNRECOGNIZED=-1]="UNRECOGNIZED",(A=g||(t.XrHandJointEXT=g={}))[A.XR_HAND_JOINT_PALM_EXT=0]="XR_HAND_JOINT_PALM_EXT",A[A.XR_HAND_JOINT_WRIST_EXT=1]="XR_HAND_JOINT_WRIST_EXT",A[A.XR_HAND_JOINT_THUMB_METACARPAL_EXT=2]="XR_HAND_JOINT_THUMB_METACARPAL_EXT",A[A.XR_HAND_JOINT_THUMB_PROXIMAL_EXT=3]="XR_HAND_JOINT_THUMB_PROXIMAL_EXT",A[A.XR_HAND_JOINT_THUMB_DISTAL_EXT=4]="XR_HAND_JOINT_THUMB_DISTAL_EXT",A[A.XR_HAND_JOINT_THUMB_TIP_EXT=5]="XR_HAND_JOINT_THUMB_TIP_EXT",A[A.XR_HAND_JOINT_INDEX_METACARPAL_EXT=6]="XR_HAND_JOINT_INDEX_METACARPAL_EXT",A[A.XR_HAND_JOINT_INDEX_PROXIMAL_EXT=7]="XR_HAND_JOINT_INDEX_PROXIMAL_EXT",A[A.XR_HAND_JOINT_INDEX_INTERMEDIATE_EXT=8]="XR_HAND_JOINT_INDEX_INTERMEDIATE_EXT",A[A.XR_HAND_JOINT_INDEX_DISTAL_EXT=9]="XR_HAND_JOINT_INDEX_DISTAL_EXT",A[A.XR_HAND_JOINT_INDEX_TIP_EXT=10]="XR_HAND_JOINT_INDEX_TIP_EXT",A[A.XR_HAND_JOINT_MIDDLE_METACARPAL_EXT=11]="XR_HAND_JOINT_MIDDLE_METACARPAL_EXT",A[A.XR_HAND_JOINT_MIDDLE_PROXIMAL_EXT=12]="XR_HAND_JOINT_MIDDLE_PROXIMAL_EXT",A[A.XR_HAND_JOINT_MIDDLE_INTERMEDIATE_EXT=13]="XR_HAND_JOINT_MIDDLE_INTERMEDIATE_EXT",A[A.XR_HAND_JOINT_MIDDLE_DISTAL_EXT=14]="XR_HAND_JOINT_MIDDLE_DISTAL_EXT",A[A.XR_HAND_JOINT_MIDDLE_TIP_EXT=15]="XR_HAND_JOINT_MIDDLE_TIP_EXT",A[A.XR_HAND_JOINT_RING_METACARPAL_EXT=16]="XR_HAND_JOINT_RING_METACARPAL_EXT",A[A.XR_HAND_JOINT_RING_PROXIMAL_EXT=17]="XR_HAND_JOINT_RING_PROXIMAL_EXT",A[A.XR_HAND_JOINT_RING_INTERMEDIATE_EXT=18]="XR_HAND_JOINT_RING_INTERMEDIATE_EXT",A[A.XR_HAND_JOINT_RING_DISTAL_EXT=19]="XR_HAND_JOINT_RING_DISTAL_EXT",A[A.XR_HAND_JOINT_RING_TIP_EXT=20]="XR_HAND_JOINT_RING_TIP_EXT",A[A.XR_HAND_JOINT_LITTLE_METACARPAL_EXT=21]="XR_HAND_JOINT_LITTLE_METACARPAL_EXT",A[A.XR_HAND_JOINT_LITTLE_PROXIMAL_EXT=22]="XR_HAND_JOINT_LITTLE_PROXIMAL_EXT",A[A.XR_HAND_JOINT_LITTLE_INTERMEDIATE_EXT=23]="XR_HAND_JOINT_LITTLE_INTERMEDIATE_EXT",A[A.XR_HAND_JOINT_LITTLE_DISTAL_EXT=24]="XR_HAND_JOINT_LITTLE_DISTAL_EXT",A[A.XR_HAND_JOINT_LITTLE_TIP_EXT=25]="XR_HAND_JOINT_LITTLE_TIP_EXT",A[A.UNRECOGNIZED=-1]="UNRECOGNIZED",t.XrApplicationInfo={encode:(e,t=new r.BinaryWriter)=>(""!==e.applicationName&&t.uint32(10).string(e.applicationName),0!==e.applicationVersion&&t.uint32(16).uint32(e.applicationVersion),""!==e.engineName&&t.uint32(26).string(e.engineName),0!==e.engineVersion&&t.uint32(32).uint32(e.engineVersion),e.apiVersion.equals(s.default.UZERO)||t.uint32(40).uint64(e.apiVersion.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=M();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.applicationName=n.string();continue;case 2:if(16!==e)break;a.applicationVersion=n.uint32();continue;case 3:if(26!==e)break;a.engineName=n.string();continue;case 4:if(32!==e)break;a.engineVersion=n.uint32();continue;case 5:if(40!==e)break;a.apiVersion=s.default.fromString(n.uint64().toString(),!0);continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({applicationName:V(e.applicationName)?globalThis.String(e.applicationName):"",applicationVersion:V(e.applicationVersion)?globalThis.Number(e.applicationVersion):0,engineName:V(e.engineName)?globalThis.String(e.engineName):"",engineVersion:V(e.engineVersion)?globalThis.Number(e.engineVersion):0,apiVersion:V(e.apiVersion)?s.default.fromValue(e.apiVersion):s.default.UZERO}),toJSON(e){const t={};return""!==e.applicationName&&(t.applicationName=e.applicationName),0!==e.applicationVersion&&(t.applicationVersion=Math.round(e.applicationVersion)),""!==e.engineName&&(t.engineName=e.engineName),0!==e.engineVersion&&(t.engineVersion=Math.round(e.engineVersion)),e.apiVersion.equals(s.default.UZERO)||(t.apiVersion=(e.apiVersion||s.default.UZERO).toString()),t},create:e=>t.XrApplicationInfo.fromPartial(e??{}),fromPartial(e){const t=M();return t.applicationName=e.applicationName??"",t.applicationVersion=e.applicationVersion??0,t.engineName=e.engineName??"",t.engineVersion=e.engineVersion??0,t.apiVersion=void 0!==e.apiVersion&&null!==e.apiVersion?s.default.fromValue(e.apiVersion):s.default.UZERO,t}},t.XrSystemGraphicsProperties={encode:(e,t=new r.BinaryWriter)=>(0!==e.maxSwapchainImageHeight&&t.uint32(8).uint32(e.maxSwapchainImageHeight),0!==e.maxSwapchainImageWidth&&t.uint32(16).uint32(e.maxSwapchainImageWidth),0!==e.maxLayerCount&&t.uint32(24).uint32(e.maxLayerCount),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={maxSwapchainImageHeight:0,maxSwapchainImageWidth:0,maxLayerCount:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.maxSwapchainImageHeight=n.uint32();continue;case 2:if(16!==e)break;s.maxSwapchainImageWidth=n.uint32();continue;case 3:if(24!==e)break;s.maxLayerCount=n.uint32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({maxSwapchainImageHeight:V(e.maxSwapchainImageHeight)?globalThis.Number(e.maxSwapchainImageHeight):0,maxSwapchainImageWidth:V(e.maxSwapchainImageWidth)?globalThis.Number(e.maxSwapchainImageWidth):0,maxLayerCount:V(e.maxLayerCount)?globalThis.Number(e.maxLayerCount):0}),toJSON(e){const t={};return 0!==e.maxSwapchainImageHeight&&(t.maxSwapchainImageHeight=Math.round(e.maxSwapchainImageHeight)),0!==e.maxSwapchainImageWidth&&(t.maxSwapchainImageWidth=Math.round(e.maxSwapchainImageWidth)),0!==e.maxLayerCount&&(t.maxLayerCount=Math.round(e.maxLayerCount)),t},create:e=>t.XrSystemGraphicsProperties.fromPartial(e??{}),fromPartial(e){const t={maxSwapchainImageHeight:0,maxSwapchainImageWidth:0,maxLayerCount:0};return t.maxSwapchainImageHeight=e.maxSwapchainImageHeight??0,t.maxSwapchainImageWidth=e.maxSwapchainImageWidth??0,t.maxLayerCount=e.maxLayerCount??0,t}},t.XrSystemTrackingProperties={encode:(e,t=new r.BinaryWriter)=>(!1!==e.orientationTracking&&t.uint32(8).bool(e.orientationTracking),!1!==e.positionTracking&&t.uint32(16).bool(e.positionTracking),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={orientationTracking:!1,positionTracking:!1};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.orientationTracking=n.bool();continue;case 2:if(16!==e)break;s.positionTracking=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({orientationTracking:!!V(e.orientationTracking)&&globalThis.Boolean(e.orientationTracking),positionTracking:!!V(e.positionTracking)&&globalThis.Boolean(e.positionTracking)}),toJSON(e){const t={};return!1!==e.orientationTracking&&(t.orientationTracking=e.orientationTracking),!1!==e.positionTracking&&(t.positionTracking=e.positionTracking),t},create:e=>t.XrSystemTrackingProperties.fromPartial(e??{}),fromPartial(e){const t={orientationTracking:!1,positionTracking:!1};return t.orientationTracking=e.orientationTracking??!1,t.positionTracking=e.positionTracking??!1,t}},t.XrSystemProperties={encode:(e,n=new r.BinaryWriter)=>(e.systemId.equals(s.default.UZERO)||n.uint32(8).uint64(e.systemId.toString()),0!==e.vendorId&&n.uint32(16).uint32(e.vendorId),""!==e.systemName&&n.uint32(26).string(e.systemName),void 0!==e.graphicsProperties&&t.XrSystemGraphicsProperties.encode(e.graphicsProperties,n.uint32(34).fork()).join(),void 0!==e.trackingProperties&&t.XrSystemTrackingProperties.encode(e.trackingProperties,n.uint32(42).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=B();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.systemId=s.default.fromString(i.uint64().toString(),!0);continue;case 2:if(16!==e)break;o.vendorId=i.uint32();continue;case 3:if(26!==e)break;o.systemName=i.string();continue;case 4:if(34!==e)break;o.graphicsProperties=t.XrSystemGraphicsProperties.decode(i,i.uint32());continue;case 5:if(42!==e)break;o.trackingProperties=t.XrSystemTrackingProperties.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({systemId:V(e.systemId)?s.default.fromValue(e.systemId):s.default.UZERO,vendorId:V(e.vendorId)?globalThis.Number(e.vendorId):0,systemName:V(e.systemName)?globalThis.String(e.systemName):"",graphicsProperties:V(e.graphicsProperties)?t.XrSystemGraphicsProperties.fromJSON(e.graphicsProperties):void 0,trackingProperties:V(e.trackingProperties)?t.XrSystemTrackingProperties.fromJSON(e.trackingProperties):void 0}),toJSON(e){const n={};return e.systemId.equals(s.default.UZERO)||(n.systemId=(e.systemId||s.default.UZERO).toString()),0!==e.vendorId&&(n.vendorId=Math.round(e.vendorId)),""!==e.systemName&&(n.systemName=e.systemName),void 0!==e.graphicsProperties&&(n.graphicsProperties=t.XrSystemGraphicsProperties.toJSON(e.graphicsProperties)),void 0!==e.trackingProperties&&(n.trackingProperties=t.XrSystemTrackingProperties.toJSON(e.trackingProperties)),n},create:e=>t.XrSystemProperties.fromPartial(e??{}),fromPartial(e){const n=B();return n.systemId=void 0!==e.systemId&&null!==e.systemId?s.default.fromValue(e.systemId):s.default.UZERO,n.vendorId=e.vendorId??0,n.systemName=e.systemName??"",n.graphicsProperties=void 0!==e.graphicsProperties&&null!==e.graphicsProperties?t.XrSystemGraphicsProperties.fromPartial(e.graphicsProperties):void 0,n.trackingProperties=void 0!==e.trackingProperties&&null!==e.trackingProperties?t.XrSystemTrackingProperties.fromPartial(e.trackingProperties):void 0,n}},t.XrVector3f={encode:(e,t=new r.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={x:0,y:0,z:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.x=n.float();continue;case 2:if(21!==e)break;s.y=n.float();continue;case 3:if(29!==e)break;s.z=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({x:V(e.x)?globalThis.Number(e.x):0,y:V(e.y)?globalThis.Number(e.y):0,z:V(e.z)?globalThis.Number(e.z):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:e=>t.XrVector3f.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t}},t.XrSpaceVelocity={encode:(e,n=new r.BinaryWriter)=>(e.velocityFlags.equals(s.default.UZERO)||n.uint32(8).uint64(e.velocityFlags.toString()),void 0!==e.linearVelocity&&t.XrVector3f.encode(e.linearVelocity,n.uint32(18).fork()).join(),void 0!==e.angularVelocity&&t.XrVector3f.encode(e.angularVelocity,n.uint32(26).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=R();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.velocityFlags=s.default.fromString(i.uint64().toString(),!0);continue;case 2:if(18!==e)break;o.linearVelocity=t.XrVector3f.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.angularVelocity=t.XrVector3f.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({velocityFlags:V(e.velocityFlags)?s.default.fromValue(e.velocityFlags):s.default.UZERO,linearVelocity:V(e.linearVelocity)?t.XrVector3f.fromJSON(e.linearVelocity):void 0,angularVelocity:V(e.angularVelocity)?t.XrVector3f.fromJSON(e.angularVelocity):void 0}),toJSON(e){const n={};return e.velocityFlags.equals(s.default.UZERO)||(n.velocityFlags=(e.velocityFlags||s.default.UZERO).toString()),void 0!==e.linearVelocity&&(n.linearVelocity=t.XrVector3f.toJSON(e.linearVelocity)),void 0!==e.angularVelocity&&(n.angularVelocity=t.XrVector3f.toJSON(e.angularVelocity)),n},create:e=>t.XrSpaceVelocity.fromPartial(e??{}),fromPartial(e){const n=R();return n.velocityFlags=void 0!==e.velocityFlags&&null!==e.velocityFlags?s.default.fromValue(e.velocityFlags):s.default.UZERO,n.linearVelocity=void 0!==e.linearVelocity&&null!==e.linearVelocity?t.XrVector3f.fromPartial(e.linearVelocity):void 0,n.angularVelocity=void 0!==e.angularVelocity&&null!==e.angularVelocity?t.XrVector3f.fromPartial(e.angularVelocity):void 0,n}},t.XrQuaternionf={encode:(e,t=new r.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),0!==e.w&&t.uint32(37).float(e.w),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={x:0,y:0,z:0,w:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.x=n.float();continue;case 2:if(21!==e)break;s.y=n.float();continue;case 3:if(29!==e)break;s.z=n.float();continue;case 4:if(37!==e)break;s.w=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({x:V(e.x)?globalThis.Number(e.x):0,y:V(e.y)?globalThis.Number(e.y):0,z:V(e.z)?globalThis.Number(e.z):0,w:V(e.w)?globalThis.Number(e.w):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),0!==e.w&&(t.w=e.w),t},create:e=>t.XrQuaternionf.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0,w:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t.w=e.w??0,t}},t.XrPosef={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.orientation&&t.XrQuaternionf.encode(e.orientation,n.uint32(10).fork()).join(),void 0!==e.position&&t.XrVector3f.encode(e.position,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={orientation:void 0,position:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.orientation=t.XrQuaternionf.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.position=t.XrVector3f.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({orientation:V(e.orientation)?t.XrQuaternionf.fromJSON(e.orientation):void 0,position:V(e.position)?t.XrVector3f.fromJSON(e.position):void 0}),toJSON(e){const n={};return void 0!==e.orientation&&(n.orientation=t.XrQuaternionf.toJSON(e.orientation)),void 0!==e.position&&(n.position=t.XrVector3f.toJSON(e.position)),n},create:e=>t.XrPosef.fromPartial(e??{}),fromPartial(e){const n={orientation:void 0,position:void 0};return n.orientation=void 0!==e.orientation&&null!==e.orientation?t.XrQuaternionf.fromPartial(e.orientation):void 0,n.position=void 0!==e.position&&null!==e.position?t.XrVector3f.fromPartial(e.position):void 0,n}},t.XrExtent2Df={encode:(e,t=new r.BinaryWriter)=>(0!==e.width&&t.uint32(13).float(e.width),0!==e.height&&t.uint32(21).float(e.height),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={width:0,height:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.width=n.float();continue;case 2:if(21!==e)break;s.height=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({width:V(e.width)?globalThis.Number(e.width):0,height:V(e.height)?globalThis.Number(e.height):0}),toJSON(e){const t={};return 0!==e.width&&(t.width=e.width),0!==e.height&&(t.height=e.height),t},create:e=>t.XrExtent2Df.fromPartial(e??{}),fromPartial(e){const t={width:0,height:0};return t.width=e.width??0,t.height=e.height??0,t}},t.XrSpaceLocation={encode:(e,n=new r.BinaryWriter)=>(e.locationFlags.equals(s.default.UZERO)||n.uint32(8).uint64(e.locationFlags.toString()),void 0!==e.pose&&t.XrPosef.encode(e.pose,n.uint32(18).fork()).join(),void 0!==e.nextXrSpaceVelocity&&t.XrSpaceVelocity.encode(e.nextXrSpaceVelocity,n.uint32(346).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=P();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.locationFlags=s.default.fromString(i.uint64().toString(),!0);continue;case 2:if(18!==e)break;o.pose=t.XrPosef.decode(i,i.uint32());continue;case 43:if(346!==e)break;o.nextXrSpaceVelocity=t.XrSpaceVelocity.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({locationFlags:V(e.locationFlags)?s.default.fromValue(e.locationFlags):s.default.UZERO,pose:V(e.pose)?t.XrPosef.fromJSON(e.pose):void 0,nextXrSpaceVelocity:V(e.nextXrSpaceVelocity)?t.XrSpaceVelocity.fromJSON(e.nextXrSpaceVelocity):void 0}),toJSON(e){const n={};return e.locationFlags.equals(s.default.UZERO)||(n.locationFlags=(e.locationFlags||s.default.UZERO).toString()),void 0!==e.pose&&(n.pose=t.XrPosef.toJSON(e.pose)),void 0!==e.nextXrSpaceVelocity&&(n.nextXrSpaceVelocity=t.XrSpaceVelocity.toJSON(e.nextXrSpaceVelocity)),n},create:e=>t.XrSpaceLocation.fromPartial(e??{}),fromPartial(e){const n=P();return n.locationFlags=void 0!==e.locationFlags&&null!==e.locationFlags?s.default.fromValue(e.locationFlags):s.default.UZERO,n.pose=void 0!==e.pose&&null!==e.pose?t.XrPosef.fromPartial(e.pose):void 0,n.nextXrSpaceVelocity=void 0!==e.nextXrSpaceVelocity&&null!==e.nextXrSpaceVelocity?t.XrSpaceVelocity.fromPartial(e.nextXrSpaceVelocity):void 0,n}},t.XrViewConfigurationView={encode:(e,n=new r.BinaryWriter)=>(0!==e.recommendedImageRectWidth&&n.uint32(8).uint32(e.recommendedImageRectWidth),0!==e.maxImageRectWidth&&n.uint32(16).uint32(e.maxImageRectWidth),0!==e.recommendedImageRectHeight&&n.uint32(24).uint32(e.recommendedImageRectHeight),0!==e.maxImageRectHeight&&n.uint32(32).uint32(e.maxImageRectHeight),0!==e.recommendedSwapchainSampleCount&&n.uint32(40).uint32(e.recommendedSwapchainSampleCount),0!==e.maxSwapchainSampleCount&&n.uint32(48).uint32(e.maxSwapchainSampleCount),void 0!==e.nextXrViewConfigurationDepthRangeExt&&t.XrViewConfigurationDepthRangeEXT.encode(e.nextXrViewConfigurationDepthRangeExt,n.uint32(368002).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={recommendedImageRectWidth:0,maxImageRectWidth:0,recommendedImageRectHeight:0,maxImageRectHeight:0,recommendedSwapchainSampleCount:0,maxSwapchainSampleCount:0,nextXrViewConfigurationDepthRangeExt:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.recommendedImageRectWidth=i.uint32();continue;case 2:if(16!==e)break;a.maxImageRectWidth=i.uint32();continue;case 3:if(24!==e)break;a.recommendedImageRectHeight=i.uint32();continue;case 4:if(32!==e)break;a.maxImageRectHeight=i.uint32();continue;case 5:if(40!==e)break;a.recommendedSwapchainSampleCount=i.uint32();continue;case 6:if(48!==e)break;a.maxSwapchainSampleCount=i.uint32();continue;case 46e3:if(368002!==e)break;a.nextXrViewConfigurationDepthRangeExt=t.XrViewConfigurationDepthRangeEXT.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({recommendedImageRectWidth:V(e.recommendedImageRectWidth)?globalThis.Number(e.recommendedImageRectWidth):0,maxImageRectWidth:V(e.maxImageRectWidth)?globalThis.Number(e.maxImageRectWidth):0,recommendedImageRectHeight:V(e.recommendedImageRectHeight)?globalThis.Number(e.recommendedImageRectHeight):0,maxImageRectHeight:V(e.maxImageRectHeight)?globalThis.Number(e.maxImageRectHeight):0,recommendedSwapchainSampleCount:V(e.recommendedSwapchainSampleCount)?globalThis.Number(e.recommendedSwapchainSampleCount):0,maxSwapchainSampleCount:V(e.maxSwapchainSampleCount)?globalThis.Number(e.maxSwapchainSampleCount):0,nextXrViewConfigurationDepthRangeExt:V(e.nextXrViewConfigurationDepthRangeExt)?t.XrViewConfigurationDepthRangeEXT.fromJSON(e.nextXrViewConfigurationDepthRangeExt):void 0}),toJSON(e){const n={};return 0!==e.recommendedImageRectWidth&&(n.recommendedImageRectWidth=Math.round(e.recommendedImageRectWidth)),0!==e.maxImageRectWidth&&(n.maxImageRectWidth=Math.round(e.maxImageRectWidth)),0!==e.recommendedImageRectHeight&&(n.recommendedImageRectHeight=Math.round(e.recommendedImageRectHeight)),0!==e.maxImageRectHeight&&(n.maxImageRectHeight=Math.round(e.maxImageRectHeight)),0!==e.recommendedSwapchainSampleCount&&(n.recommendedSwapchainSampleCount=Math.round(e.recommendedSwapchainSampleCount)),0!==e.maxSwapchainSampleCount&&(n.maxSwapchainSampleCount=Math.round(e.maxSwapchainSampleCount)),void 0!==e.nextXrViewConfigurationDepthRangeExt&&(n.nextXrViewConfigurationDepthRangeExt=t.XrViewConfigurationDepthRangeEXT.toJSON(e.nextXrViewConfigurationDepthRangeExt)),n},create:e=>t.XrViewConfigurationView.fromPartial(e??{}),fromPartial(e){const n={recommendedImageRectWidth:0,maxImageRectWidth:0,recommendedImageRectHeight:0,maxImageRectHeight:0,recommendedSwapchainSampleCount:0,maxSwapchainSampleCount:0,nextXrViewConfigurationDepthRangeExt:void 0};return n.recommendedImageRectWidth=e.recommendedImageRectWidth??0,n.maxImageRectWidth=e.maxImageRectWidth??0,n.recommendedImageRectHeight=e.recommendedImageRectHeight??0,n.maxImageRectHeight=e.maxImageRectHeight??0,n.recommendedSwapchainSampleCount=e.recommendedSwapchainSampleCount??0,n.maxSwapchainSampleCount=e.maxSwapchainSampleCount??0,n.nextXrViewConfigurationDepthRangeExt=void 0!==e.nextXrViewConfigurationDepthRangeExt&&null!==e.nextXrViewConfigurationDepthRangeExt?t.XrViewConfigurationDepthRangeEXT.fromPartial(e.nextXrViewConfigurationDepthRangeExt):void 0,n}},t.XrViewState={encode:(e,t=new r.BinaryWriter)=>(e.viewStateFlags.equals(s.default.UZERO)||t.uint32(8).uint64(e.viewStateFlags.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=_();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.viewStateFlags=s.default.fromString(n.uint64().toString(),!0);continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({viewStateFlags:V(e.viewStateFlags)?s.default.fromValue(e.viewStateFlags):s.default.UZERO}),toJSON(e){const t={};return e.viewStateFlags.equals(s.default.UZERO)||(t.viewStateFlags=(e.viewStateFlags||s.default.UZERO).toString()),t},create:e=>t.XrViewState.fromPartial(e??{}),fromPartial(e){const t=_();return t.viewStateFlags=void 0!==e.viewStateFlags&&null!==e.viewStateFlags?s.default.fromValue(e.viewStateFlags):s.default.UZERO,t}},t.XrFovf={encode:(e,t=new r.BinaryWriter)=>(0!==e.angleLeft&&t.uint32(13).float(e.angleLeft),0!==e.angleRight&&t.uint32(21).float(e.angleRight),0!==e.angleUp&&t.uint32(29).float(e.angleUp),0!==e.angleDown&&t.uint32(37).float(e.angleDown),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={angleLeft:0,angleRight:0,angleUp:0,angleDown:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.angleLeft=n.float();continue;case 2:if(21!==e)break;s.angleRight=n.float();continue;case 3:if(29!==e)break;s.angleUp=n.float();continue;case 4:if(37!==e)break;s.angleDown=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({angleLeft:V(e.angleLeft)?globalThis.Number(e.angleLeft):0,angleRight:V(e.angleRight)?globalThis.Number(e.angleRight):0,angleUp:V(e.angleUp)?globalThis.Number(e.angleUp):0,angleDown:V(e.angleDown)?globalThis.Number(e.angleDown):0}),toJSON(e){const t={};return 0!==e.angleLeft&&(t.angleLeft=e.angleLeft),0!==e.angleRight&&(t.angleRight=e.angleRight),0!==e.angleUp&&(t.angleUp=e.angleUp),0!==e.angleDown&&(t.angleDown=e.angleDown),t},create:e=>t.XrFovf.fromPartial(e??{}),fromPartial(e){const t={angleLeft:0,angleRight:0,angleUp:0,angleDown:0};return t.angleLeft=e.angleLeft??0,t.angleRight=e.angleRight??0,t.angleUp=e.angleUp??0,t.angleDown=e.angleDown??0,t}},t.XrView={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.pose&&t.XrPosef.encode(e.pose,n.uint32(10).fork()).join(),void 0!==e.fov&&t.XrFovf.encode(e.fov,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={pose:void 0,fov:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.pose=t.XrPosef.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.fov=t.XrFovf.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({pose:V(e.pose)?t.XrPosef.fromJSON(e.pose):void 0,fov:V(e.fov)?t.XrFovf.fromJSON(e.fov):void 0}),toJSON(e){const n={};return void 0!==e.pose&&(n.pose=t.XrPosef.toJSON(e.pose)),void 0!==e.fov&&(n.fov=t.XrFovf.toJSON(e.fov)),n},create:e=>t.XrView.fromPartial(e??{}),fromPartial(e){const n={pose:void 0,fov:void 0};return n.pose=void 0!==e.pose&&null!==e.pose?t.XrPosef.fromPartial(e.pose):void 0,n.fov=void 0!==e.fov&&null!==e.fov?t.XrFovf.fromPartial(e.fov):void 0,n}},t.XrActionStateBoolean={encode:(e,t=new r.BinaryWriter)=>(!1!==e.currentState&&t.uint32(8).bool(e.currentState),!1!==e.changedSinceLastSync&&t.uint32(16).bool(e.changedSinceLastSync),e.lastChangeTime.equals(s.default.ZERO)||t.uint32(24).int64(e.lastChangeTime.toString()),!1!==e.isActive&&t.uint32(32).bool(e.isActive),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=D();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.currentState=n.bool();continue;case 2:if(16!==e)break;a.changedSinceLastSync=n.bool();continue;case 3:if(24!==e)break;a.lastChangeTime=s.default.fromString(n.int64().toString());continue;case 4:if(32!==e)break;a.isActive=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({currentState:!!V(e.currentState)&&globalThis.Boolean(e.currentState),changedSinceLastSync:!!V(e.changedSinceLastSync)&&globalThis.Boolean(e.changedSinceLastSync),lastChangeTime:V(e.lastChangeTime)?s.default.fromValue(e.lastChangeTime):s.default.ZERO,isActive:!!V(e.isActive)&&globalThis.Boolean(e.isActive)}),toJSON(e){const t={};return!1!==e.currentState&&(t.currentState=e.currentState),!1!==e.changedSinceLastSync&&(t.changedSinceLastSync=e.changedSinceLastSync),e.lastChangeTime.equals(s.default.ZERO)||(t.lastChangeTime=(e.lastChangeTime||s.default.ZERO).toString()),!1!==e.isActive&&(t.isActive=e.isActive),t},create:e=>t.XrActionStateBoolean.fromPartial(e??{}),fromPartial(e){const t=D();return t.currentState=e.currentState??!1,t.changedSinceLastSync=e.changedSinceLastSync??!1,t.lastChangeTime=void 0!==e.lastChangeTime&&null!==e.lastChangeTime?s.default.fromValue(e.lastChangeTime):s.default.ZERO,t.isActive=e.isActive??!1,t}},t.XrActionStateFloat={encode:(e,t=new r.BinaryWriter)=>(0!==e.currentState&&t.uint32(13).float(e.currentState),!1!==e.changedSinceLastSync&&t.uint32(16).bool(e.changedSinceLastSync),e.lastChangeTime.equals(s.default.ZERO)||t.uint32(24).int64(e.lastChangeTime.toString()),!1!==e.isActive&&t.uint32(32).bool(e.isActive),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=N();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;a.currentState=n.float();continue;case 2:if(16!==e)break;a.changedSinceLastSync=n.bool();continue;case 3:if(24!==e)break;a.lastChangeTime=s.default.fromString(n.int64().toString());continue;case 4:if(32!==e)break;a.isActive=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({currentState:V(e.currentState)?globalThis.Number(e.currentState):0,changedSinceLastSync:!!V(e.changedSinceLastSync)&&globalThis.Boolean(e.changedSinceLastSync),lastChangeTime:V(e.lastChangeTime)?s.default.fromValue(e.lastChangeTime):s.default.ZERO,isActive:!!V(e.isActive)&&globalThis.Boolean(e.isActive)}),toJSON(e){const t={};return 0!==e.currentState&&(t.currentState=e.currentState),!1!==e.changedSinceLastSync&&(t.changedSinceLastSync=e.changedSinceLastSync),e.lastChangeTime.equals(s.default.ZERO)||(t.lastChangeTime=(e.lastChangeTime||s.default.ZERO).toString()),!1!==e.isActive&&(t.isActive=e.isActive),t},create:e=>t.XrActionStateFloat.fromPartial(e??{}),fromPartial(e){const t=N();return t.currentState=e.currentState??0,t.changedSinceLastSync=e.changedSinceLastSync??!1,t.lastChangeTime=void 0!==e.lastChangeTime&&null!==e.lastChangeTime?s.default.fromValue(e.lastChangeTime):s.default.ZERO,t.isActive=e.isActive??!1,t}},t.XrVector2f={encode:(e,t=new r.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={x:0,y:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.x=n.float();continue;case 2:if(21!==e)break;s.y=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({x:V(e.x)?globalThis.Number(e.x):0,y:V(e.y)?globalThis.Number(e.y):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),t},create:e=>t.XrVector2f.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0};return t.x=e.x??0,t.y=e.y??0,t}},t.XrActionStateVector2f={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.currentState&&t.XrVector2f.encode(e.currentState,n.uint32(10).fork()).join(),!1!==e.changedSinceLastSync&&n.uint32(16).bool(e.changedSinceLastSync),e.lastChangeTime.equals(s.default.ZERO)||n.uint32(24).int64(e.lastChangeTime.toString()),!1!==e.isActive&&n.uint32(32).bool(e.isActive),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=L();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.currentState=t.XrVector2f.decode(i,i.uint32());continue;case 2:if(16!==e)break;o.changedSinceLastSync=i.bool();continue;case 3:if(24!==e)break;o.lastChangeTime=s.default.fromString(i.int64().toString());continue;case 4:if(32!==e)break;o.isActive=i.bool();continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({currentState:V(e.currentState)?t.XrVector2f.fromJSON(e.currentState):void 0,changedSinceLastSync:!!V(e.changedSinceLastSync)&&globalThis.Boolean(e.changedSinceLastSync),lastChangeTime:V(e.lastChangeTime)?s.default.fromValue(e.lastChangeTime):s.default.ZERO,isActive:!!V(e.isActive)&&globalThis.Boolean(e.isActive)}),toJSON(e){const n={};return void 0!==e.currentState&&(n.currentState=t.XrVector2f.toJSON(e.currentState)),!1!==e.changedSinceLastSync&&(n.changedSinceLastSync=e.changedSinceLastSync),e.lastChangeTime.equals(s.default.ZERO)||(n.lastChangeTime=(e.lastChangeTime||s.default.ZERO).toString()),!1!==e.isActive&&(n.isActive=e.isActive),n},create:e=>t.XrActionStateVector2f.fromPartial(e??{}),fromPartial(e){const n=L();return n.currentState=void 0!==e.currentState&&null!==e.currentState?t.XrVector2f.fromPartial(e.currentState):void 0,n.changedSinceLastSync=e.changedSinceLastSync??!1,n.lastChangeTime=void 0!==e.lastChangeTime&&null!==e.lastChangeTime?s.default.fromValue(e.lastChangeTime):s.default.ZERO,n.isActive=e.isActive??!1,n}},t.XrActionStatePose={encode:(e,t=new r.BinaryWriter)=>(!1!==e.isActive&&t.uint32(8).bool(e.isActive),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={isActive:!1};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.isActive=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({isActive:!!V(e.isActive)&&globalThis.Boolean(e.isActive)}),toJSON(e){const t={};return!1!==e.isActive&&(t.isActive=e.isActive),t},create:e=>t.XrActionStatePose.fromPartial(e??{}),fromPartial(e){const t={isActive:!1};return t.isActive=e.isActive??!1,t}},t.XrOffset2Di={encode:(e,t=new r.BinaryWriter)=>(0!==e.x&&t.uint32(8).int32(e.x),0!==e.y&&t.uint32(16).int32(e.y),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={x:0,y:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.x=n.int32();continue;case 2:if(16!==e)break;s.y=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({x:V(e.x)?globalThis.Number(e.x):0,y:V(e.y)?globalThis.Number(e.y):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=Math.round(e.x)),0!==e.y&&(t.y=Math.round(e.y)),t},create:e=>t.XrOffset2Di.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0};return t.x=e.x??0,t.y=e.y??0,t}},t.XrExtent2Di={encode:(e,t=new r.BinaryWriter)=>(0!==e.width&&t.uint32(8).int32(e.width),0!==e.height&&t.uint32(16).int32(e.height),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={width:0,height:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;s.width=n.int32();continue;case 2:if(16!==e)break;s.height=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({width:V(e.width)?globalThis.Number(e.width):0,height:V(e.height)?globalThis.Number(e.height):0}),toJSON(e){const t={};return 0!==e.width&&(t.width=Math.round(e.width)),0!==e.height&&(t.height=Math.round(e.height)),t},create:e=>t.XrExtent2Di.fromPartial(e??{}),fromPartial(e){const t={width:0,height:0};return t.width=e.width??0,t.height=e.height??0,t}},t.XrRect2Di={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.offset&&t.XrOffset2Di.encode(e.offset,n.uint32(10).fork()).join(),void 0!==e.extent&&t.XrExtent2Di.encode(e.extent,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={offset:void 0,extent:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.offset=t.XrOffset2Di.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.extent=t.XrExtent2Di.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({offset:V(e.offset)?t.XrOffset2Di.fromJSON(e.offset):void 0,extent:V(e.extent)?t.XrExtent2Di.fromJSON(e.extent):void 0}),toJSON(e){const n={};return void 0!==e.offset&&(n.offset=t.XrOffset2Di.toJSON(e.offset)),void 0!==e.extent&&(n.extent=t.XrExtent2Di.toJSON(e.extent)),n},create:e=>t.XrRect2Di.fromPartial(e??{}),fromPartial(e){const n={offset:void 0,extent:void 0};return n.offset=void 0!==e.offset&&null!==e.offset?t.XrOffset2Di.fromPartial(e.offset):void 0,n.extent=void 0!==e.extent&&null!==e.extent?t.XrExtent2Di.fromPartial(e.extent):void 0,n}},t.XrEventDataSessionStateChanged={encode:(e,t=new r.BinaryWriter)=>(e.session.equals(s.default.UZERO)||t.uint32(8).uint64(e.session.toString()),0!==e.state&&t.uint32(16).int32(e.state),e.time.equals(s.default.ZERO)||t.uint32(24).int64(e.time.toString()),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=O();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.session=s.default.fromString(n.uint64().toString(),!0);continue;case 2:if(16!==e)break;a.state=n.int32();continue;case 3:if(24!==e)break;a.time=s.default.fromString(n.int64().toString());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({session:V(e.session)?s.default.fromValue(e.session):s.default.UZERO,state:V(e.state)?C(e.state):0,time:V(e.time)?s.default.fromValue(e.time):s.default.ZERO}),toJSON(e){const t={};return e.session.equals(s.default.UZERO)||(t.session=(e.session||s.default.UZERO).toString()),0!==e.state&&(t.state=T(e.state)),e.time.equals(s.default.ZERO)||(t.time=(e.time||s.default.ZERO).toString()),t},create:e=>t.XrEventDataSessionStateChanged.fromPartial(e??{}),fromPartial(e){const t=O();return t.session=void 0!==e.session&&null!==e.session?s.default.fromValue(e.session):s.default.UZERO,t.state=e.state??0,t.time=void 0!==e.time&&null!==e.time?s.default.fromValue(e.time):s.default.ZERO,t}},t.XrHapticVibration={encode:(e,t=new r.BinaryWriter)=>(e.duration.equals(s.default.ZERO)||t.uint32(8).int64(e.duration.toString()),0!==e.frequency&&t.uint32(21).float(e.frequency),0!==e.amplitude&&t.uint32(29).float(e.amplitude),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,a=k();for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;a.duration=s.default.fromString(n.int64().toString());continue;case 2:if(21!==e)break;a.frequency=n.float();continue;case 3:if(29!==e)break;a.amplitude=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return a},fromJSON:e=>({duration:V(e.duration)?s.default.fromValue(e.duration):s.default.ZERO,frequency:V(e.frequency)?globalThis.Number(e.frequency):0,amplitude:V(e.amplitude)?globalThis.Number(e.amplitude):0}),toJSON(e){const t={};return e.duration.equals(s.default.ZERO)||(t.duration=(e.duration||s.default.ZERO).toString()),0!==e.frequency&&(t.frequency=e.frequency),0!==e.amplitude&&(t.amplitude=e.amplitude),t},create:e=>t.XrHapticVibration.fromPartial(e??{}),fromPartial(e){const t=k();return t.duration=void 0!==e.duration&&null!==e.duration?s.default.fromValue(e.duration):s.default.ZERO,t.frequency=e.frequency??0,t.amplitude=e.amplitude??0,t}},t.XrOffset2Df={encode:(e,t=new r.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={x:0,y:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.x=n.float();continue;case 2:if(21!==e)break;s.y=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({x:V(e.x)?globalThis.Number(e.x):0,y:V(e.y)?globalThis.Number(e.y):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),t},create:e=>t.XrOffset2Df.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0};return t.x=e.x??0,t.y=e.y??0,t}},t.XrRect2Df={encode:(e,n=new r.BinaryWriter)=>(void 0!==e.offset&&t.XrOffset2Df.encode(e.offset,n.uint32(10).fork()).join(),void 0!==e.extent&&t.XrExtent2Df.encode(e.extent,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={offset:void 0,extent:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.offset=t.XrOffset2Df.decode(i,i.uint32());continue;case 2:if(18!==e)break;a.extent=t.XrExtent2Df.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({offset:V(e.offset)?t.XrOffset2Df.fromJSON(e.offset):void 0,extent:V(e.extent)?t.XrExtent2Df.fromJSON(e.extent):void 0}),toJSON(e){const n={};return void 0!==e.offset&&(n.offset=t.XrOffset2Df.toJSON(e.offset)),void 0!==e.extent&&(n.extent=t.XrExtent2Df.toJSON(e.extent)),n},create:e=>t.XrRect2Df.fromPartial(e??{}),fromPartial(e){const n={offset:void 0,extent:void 0};return n.offset=void 0!==e.offset&&null!==e.offset?t.XrOffset2Df.fromPartial(e.offset):void 0,n.extent=void 0!==e.extent&&null!==e.extent?t.XrExtent2Df.fromPartial(e.extent):void 0,n}},t.XrVector4f={encode:(e,t=new r.BinaryWriter)=>(0!==e.x&&t.uint32(13).float(e.x),0!==e.y&&t.uint32(21).float(e.y),0!==e.z&&t.uint32(29).float(e.z),0!==e.w&&t.uint32(37).float(e.w),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={x:0,y:0,z:0,w:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.x=n.float();continue;case 2:if(21!==e)break;s.y=n.float();continue;case 3:if(29!==e)break;s.z=n.float();continue;case 4:if(37!==e)break;s.w=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({x:V(e.x)?globalThis.Number(e.x):0,y:V(e.y)?globalThis.Number(e.y):0,z:V(e.z)?globalThis.Number(e.z):0,w:V(e.w)?globalThis.Number(e.w):0}),toJSON(e){const t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),0!==e.w&&(t.w=e.w),t},create:e=>t.XrVector4f.fromPartial(e??{}),fromPartial(e){const t={x:0,y:0,z:0,w:0};return t.x=e.x??0,t.y=e.y??0,t.z=e.z??0,t.w=e.w??0,t}},t.XrViewConfigurationDepthRangeEXT={encode:(e,t=new r.BinaryWriter)=>(0!==e.recommendedNearZ&&t.uint32(13).float(e.recommendedNearZ),0!==e.minNearZ&&t.uint32(21).float(e.minNearZ),0!==e.recommendedFarZ&&t.uint32(29).float(e.recommendedFarZ),0!==e.maxFarZ&&t.uint32(37).float(e.maxFarZ),t),decode(e,t){const n=e instanceof r.BinaryReader?e:new r.BinaryReader(e),i=void 0===t?n.len:n.pos+t,s={recommendedNearZ:0,minNearZ:0,recommendedFarZ:0,maxFarZ:0};for(;n.pos<i;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;s.recommendedNearZ=n.float();continue;case 2:if(21!==e)break;s.minNearZ=n.float();continue;case 3:if(29!==e)break;s.recommendedFarZ=n.float();continue;case 4:if(37!==e)break;s.maxFarZ=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return s},fromJSON:e=>({recommendedNearZ:V(e.recommendedNearZ)?globalThis.Number(e.recommendedNearZ):0,minNearZ:V(e.minNearZ)?globalThis.Number(e.minNearZ):0,recommendedFarZ:V(e.recommendedFarZ)?globalThis.Number(e.recommendedFarZ):0,maxFarZ:V(e.maxFarZ)?globalThis.Number(e.maxFarZ):0}),toJSON(e){const t={};return 0!==e.recommendedNearZ&&(t.recommendedNearZ=e.recommendedNearZ),0!==e.minNearZ&&(t.minNearZ=e.minNearZ),0!==e.recommendedFarZ&&(t.recommendedFarZ=e.recommendedFarZ),0!==e.maxFarZ&&(t.maxFarZ=e.maxFarZ),t},create:e=>t.XrViewConfigurationDepthRangeEXT.fromPartial(e??{}),fromPartial(e){const t={recommendedNearZ:0,minNearZ:0,recommendedFarZ:0,maxFarZ:0};return t.recommendedNearZ=e.recommendedNearZ??0,t.minNearZ=e.minNearZ??0,t.recommendedFarZ=e.recommendedFarZ??0,t.maxFarZ=e.maxFarZ??0,t}},t.XrHandJointLocationEXT={encode:(e,n=new r.BinaryWriter)=>(e.locationFlags.equals(s.default.UZERO)||n.uint32(8).uint64(e.locationFlags.toString()),void 0!==e.pose&&t.XrPosef.encode(e.pose,n.uint32(18).fork()).join(),0!==e.radius&&n.uint32(29).float(e.radius),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=U();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.locationFlags=s.default.fromString(i.uint64().toString(),!0);continue;case 2:if(18!==e)break;o.pose=t.XrPosef.decode(i,i.uint32());continue;case 3:if(29!==e)break;o.radius=i.float();continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({locationFlags:V(e.locationFlags)?s.default.fromValue(e.locationFlags):s.default.UZERO,pose:V(e.pose)?t.XrPosef.fromJSON(e.pose):void 0,radius:V(e.radius)?globalThis.Number(e.radius):0}),toJSON(e){const n={};return e.locationFlags.equals(s.default.UZERO)||(n.locationFlags=(e.locationFlags||s.default.UZERO).toString()),void 0!==e.pose&&(n.pose=t.XrPosef.toJSON(e.pose)),0!==e.radius&&(n.radius=e.radius),n},create:e=>t.XrHandJointLocationEXT.fromPartial(e??{}),fromPartial(e){const n=U();return n.locationFlags=void 0!==e.locationFlags&&null!==e.locationFlags?s.default.fromValue(e.locationFlags):s.default.UZERO,n.pose=void 0!==e.pose&&null!==e.pose?t.XrPosef.fromPartial(e.pose):void 0,n.radius=e.radius??0,n}},t.XrHandJointVelocityEXT={encode:(e,n=new r.BinaryWriter)=>(e.velocityFlags.equals(s.default.UZERO)||n.uint32(8).uint64(e.velocityFlags.toString()),void 0!==e.linearVelocity&&t.XrVector3f.encode(e.linearVelocity,n.uint32(18).fork()).join(),void 0!==e.angularVelocity&&t.XrVector3f.encode(e.angularVelocity,n.uint32(26).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=F();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.velocityFlags=s.default.fromString(i.uint64().toString(),!0);continue;case 2:if(18!==e)break;o.linearVelocity=t.XrVector3f.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.angularVelocity=t.XrVector3f.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({velocityFlags:V(e.velocityFlags)?s.default.fromValue(e.velocityFlags):s.default.UZERO,linearVelocity:V(e.linearVelocity)?t.XrVector3f.fromJSON(e.linearVelocity):void 0,angularVelocity:V(e.angularVelocity)?t.XrVector3f.fromJSON(e.angularVelocity):void 0}),toJSON(e){const n={};return e.velocityFlags.equals(s.default.UZERO)||(n.velocityFlags=(e.velocityFlags||s.default.UZERO).toString()),void 0!==e.linearVelocity&&(n.linearVelocity=t.XrVector3f.toJSON(e.linearVelocity)),void 0!==e.angularVelocity&&(n.angularVelocity=t.XrVector3f.toJSON(e.angularVelocity)),n},create:e=>t.XrHandJointVelocityEXT.fromPartial(e??{}),fromPartial(e){const n=F();return n.velocityFlags=void 0!==e.velocityFlags&&null!==e.velocityFlags?s.default.fromValue(e.velocityFlags):s.default.UZERO,n.linearVelocity=void 0!==e.linearVelocity&&null!==e.linearVelocity?t.XrVector3f.fromPartial(e.linearVelocity):void 0,n.angularVelocity=void 0!==e.angularVelocity&&null!==e.angularVelocity?t.XrVector3f.fromPartial(e.angularVelocity):void 0,n}},t.XrHandJointLocationsEXT={encode(e,n=new r.BinaryWriter){!1!==e.isActive&&n.uint32(8).bool(e.isActive);for(const i of e.jointLocations)t.XrHandJointLocationEXT.encode(i,n.uint32(18).fork()).join();return void 0!==e.nextXrHandJointVelocitiesExt&&t.XrHandJointVelocitiesEXT.encode(e.nextXrHandJointVelocitiesExt,n.uint32(408034).fork()).join(),n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={isActive:!1,jointLocations:[],nextXrHandJointVelocitiesExt:void 0};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.isActive=i.bool();continue;case 2:if(18!==e)break;a.jointLocations.push(t.XrHandJointLocationEXT.decode(i,i.uint32()));continue;case 51004:if(408034!==e)break;a.nextXrHandJointVelocitiesExt=t.XrHandJointVelocitiesEXT.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({isActive:!!V(e.isActive)&&globalThis.Boolean(e.isActive),jointLocations:globalThis.Array.isArray(e?.jointLocations)?e.jointLocations.map(e=>t.XrHandJointLocationEXT.fromJSON(e)):[],nextXrHandJointVelocitiesExt:V(e.nextXrHandJointVelocitiesExt)?t.XrHandJointVelocitiesEXT.fromJSON(e.nextXrHandJointVelocitiesExt):void 0}),toJSON(e){const n={};return!1!==e.isActive&&(n.isActive=e.isActive),e.jointLocations?.length&&(n.jointLocations=e.jointLocations.map(e=>t.XrHandJointLocationEXT.toJSON(e))),void 0!==e.nextXrHandJointVelocitiesExt&&(n.nextXrHandJointVelocitiesExt=t.XrHandJointVelocitiesEXT.toJSON(e.nextXrHandJointVelocitiesExt)),n},create:e=>t.XrHandJointLocationsEXT.fromPartial(e??{}),fromPartial(e){const n={isActive:!1,jointLocations:[],nextXrHandJointVelocitiesExt:void 0};return n.isActive=e.isActive??!1,n.jointLocations=e.jointLocations?.map(e=>t.XrHandJointLocationEXT.fromPartial(e))||[],n.nextXrHandJointVelocitiesExt=void 0!==e.nextXrHandJointVelocitiesExt&&null!==e.nextXrHandJointVelocitiesExt?t.XrHandJointVelocitiesEXT.fromPartial(e.nextXrHandJointVelocitiesExt):void 0,n}},t.XrHandJointVelocitiesEXT={encode(e,n=new r.BinaryWriter){for(const i of e.jointVelocities)t.XrHandJointVelocityEXT.encode(i,n.uint32(10).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={jointVelocities:[]};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;a.jointVelocities.push(t.XrHandJointVelocityEXT.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({jointVelocities:globalThis.Array.isArray(e?.jointVelocities)?e.jointVelocities.map(e=>t.XrHandJointVelocityEXT.fromJSON(e)):[]}),toJSON(e){const n={};return e.jointVelocities?.length&&(n.jointVelocities=e.jointVelocities.map(e=>t.XrHandJointVelocityEXT.toJSON(e))),n},create:e=>t.XrHandJointVelocitiesEXT.fromPartial(e??{}),fromPartial(e){const n={jointVelocities:[]};return n.jointVelocities=e.jointVelocities?.map(e=>t.XrHandJointVelocityEXT.fromPartial(e))||[],n}},t.XrBodyJointLocationBD={encode:(e,n=new r.BinaryWriter)=>(e.locationFlags.equals(s.default.UZERO)||n.uint32(8).uint64(e.locationFlags.toString()),void 0!==e.pose&&t.XrPosef.encode(e.pose,n.uint32(18).fork()).join(),n),decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),a=void 0===n?i.len:i.pos+n,o=Q();for(;i.pos<a;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.locationFlags=s.default.fromString(i.uint64().toString(),!0);continue;case 2:if(18!==e)break;o.pose=t.XrPosef.decode(i,i.uint32());continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return o},fromJSON:e=>({locationFlags:V(e.locationFlags)?s.default.fromValue(e.locationFlags):s.default.UZERO,pose:V(e.pose)?t.XrPosef.fromJSON(e.pose):void 0}),toJSON(e){const n={};return e.locationFlags.equals(s.default.UZERO)||(n.locationFlags=(e.locationFlags||s.default.UZERO).toString()),void 0!==e.pose&&(n.pose=t.XrPosef.toJSON(e.pose)),n},create:e=>t.XrBodyJointLocationBD.fromPartial(e??{}),fromPartial(e){const n=Q();return n.locationFlags=void 0!==e.locationFlags&&null!==e.locationFlags?s.default.fromValue(e.locationFlags):s.default.UZERO,n.pose=void 0!==e.pose&&null!==e.pose?t.XrPosef.fromPartial(e.pose):void 0,n}},t.XrBodyJointLocationsBD={encode(e,n=new r.BinaryWriter){!1!==e.isActive&&n.uint32(8).bool(e.isActive);for(const i of e.jointLocations)t.XrBodyJointLocationBD.encode(i,n.uint32(18).fork()).join();return n},decode(e,n){const i=e instanceof r.BinaryReader?e:new r.BinaryReader(e),s=void 0===n?i.len:i.pos+n,a={isActive:!1,jointLocations:[]};for(;i.pos<s;){const e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;a.isActive=i.bool();continue;case 2:if(18!==e)break;a.jointLocations.push(t.XrBodyJointLocationBD.decode(i,i.uint32()));continue}if(4==(7&e)||0===e)break;i.skip(7&e)}return a},fromJSON:e=>({isActive:!!V(e.isActive)&&globalThis.Boolean(e.isActive),jointLocations:globalThis.Array.isArray(e?.jointLocations)?e.jointLocations.map(e=>t.XrBodyJointLocationBD.fromJSON(e)):[]}),toJSON(e){const n={};return!1!==e.isActive&&(n.isActive=e.isActive),e.jointLocations?.length&&(n.jointLocations=e.jointLocations.map(e=>t.XrBodyJointLocationBD.toJSON(e))),n},create:e=>t.XrBodyJointLocationsBD.fromPartial(e??{}),fromPartial(e){const n={isActive:!1,jointLocations:[]};return n.isActive=e.isActive??!1,n.jointLocations=e.jointLocations?.map(e=>t.XrBodyJointLocationBD.fromPartial(e))||[],n}}},8792(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.isObject=r,t.isOneofADT=function(e){return null!==e&&"object"==typeof e&&"case"in e&&("string"==typeof e.case&&"value"in e&&null!=e.value||void 0===e.case&&(!("value"in e)||void 0===e.value))},t.isReflectList=function(e,t){var n,s,a,o;if(r(e)&&i.unsafeLocal in e&&"add"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,r=e.field();return i.listKind==r.listKind&&i.scalar===r.scalar&&(null===(n=i.message)||void 0===n?void 0:n.typeName)===(null===(s=r.message)||void 0===s?void 0:s.typeName)&&(null===(a=i.enum)||void 0===a?void 0:a.typeName)===(null===(o=r.enum)||void 0===o?void 0:o.typeName)}return!0}return!1},t.isReflectMap=function(e,t){var n,s,a,o;if(r(e)&&i.unsafeLocal in e&&"has"in e&&"field"in e&&"function"==typeof e.field){if(void 0!==t){const i=t,r=e.field();return i.mapKey===r.mapKey&&i.mapKind==r.mapKind&&i.scalar===r.scalar&&(null===(n=i.message)||void 0===n?void 0:n.typeName)===(null===(s=r.message)||void 0===s?void 0:s.typeName)&&(null===(a=i.enum)||void 0===a?void 0:a.typeName)===(null===(o=r.enum)||void 0===o?void 0:o.typeName)}return!0}return!1},t.isReflectMessage=function(e,t){return r(e)&&i.unsafeLocal in e&&"desc"in e&&r(e.desc)&&"message"===e.desc.kind&&(void 0===t||e.desc.typeName==t.typeName)};const i=n(7299);function r(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},9089(e,t,n){"use strict";var i=this&&this.hO||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.t:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.aO||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"t",{value:!0}),t.createSession=void 0;const s=n(1462);Object.defineProperty(t,"createSession",{enumerable:!0,get:function(){return s.createSession}}),n(1454),r(n(6558),t),r(n(9230),t)},9119(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.varint64read=function(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")},t.varint64write=function(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,s=!(r>>>7==0&&0==t),a=255&(s?128|r:r);if(n.push(a),!s)return}const i=e>>>28&15|(7&t)<<4,r=!!(t>>3);if(n.push(255&(r?128|i:i)),r){for(let e=3;e<31;e+=7){const i=t>>>e,r=!(i>>>7==0),s=255&(r?128|i:i);if(n.push(s),!r)return}n.push(t>>>31&1)}},t.int64FromString=function(e){const t="-"===e[0];t&&(e=e.slice(1));const i=1e6;let a=0,o=0;function l(t,r){const s=Number(e.slice(t,r));o*=i,a=a*i+s,a>=n&&(o+=a/n|0,a%=n)}return l(-24,-18),l(-18,-12),l(-12,-6),l(-6),t?s(a,o):r(a,o)},t.int64ToString=function(e,t){let n=r(e,t);const a=2147483648&n.hi;a&&(n=s(n.lo,n.hi));const o=i(n.lo,n.hi);return a?"-"+o:o},t.uInt64ToString=i,t.varint32write=function(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}},t.varint32read=function(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0};const n=4294967296;function i(e,t){if(({lo:e,hi:t}={lo:e>>>0,hi:t>>>0}),t<=2097151)return String(n*t+e);const i=16777215&(e>>>24|t<<8),r=t>>16&65535;let s=(16777215&e)+6777216*i+6710656*r,o=i+8147497*r,l=2*r;const c=1e7;return s>=c&&(o+=Math.floor(s/c),s%=c),o>=c&&(l+=Math.floor(o/c),o%=c),l.toString()+a(o)+a(s)}function r(e,t){return{lo:0|e,hi:0|t}}function s(e,t){return t=~t,e?e=1+~e:t+=1,r(e,t)}const a=e=>{const t=String(e);return"0000000".slice(t.length)+t}},9201(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.fromBinary=function(e,t,n){const i=(0,s.reflect)(e,void 0,!1);return u(i,new a.BinaryReader(t),c(n),!1,t.byteLength),i.message},t.mergeFromBinary=function(e,t,n,i){return u((0,s.reflect)(e,t,!1),new a.BinaryReader(n),c(i),!1,n.byteLength),t},t.readField=d;const i=n(2885),r=n(2949),s=n(9644),a=n(3056),o=n(9119),l={readUnknownFields:!0};function c(e){return e?Object.assign(Object.assign({},l),e):l}function u(e,t,n,i,r){var s;const o=i?t.len:t.pos+r;let l,c;const u=null!==(s=e.getUnknown())&&void 0!==s?s:[];for(;t.pos<o&&([l,c]=t.tag(),!i||c!=a.WireType.EndGroup);){const i=e.findNumber(l);if(!i){const e=t.skip(c,l);n.readUnknownFields&&u.push({no:l,wireType:c,data:e});continue}d(e,t,i,c,n)}if(i&&(c!=a.WireType.EndGroup||l!==r))throw new Error("invalid end group tag");u.length>0&&e.setUnknown(u)}function d(e,t,n,l,c){var u;switch(n.fieldKind){case"scalar":e.set(n,p(t,n.scalar));break;case"enum":const d=p(t,i.ScalarType.INT32);if(n.enum.open)e.set(n,d);else if(n.enum.values.some(e=>e.number===d))e.set(n,d);else if(c.readUnknownFields){const t=[];(0,o.varint32write)(d,t);const i=null!==(u=e.getUnknown())&&void 0!==u?u:[];i.push({no:n.number,wireType:l,data:new Uint8Array(t)}),e.setUnknown(i)}break;case"message":e.set(n,h(t,c,n,e.get(n)));break;case"list":!function(e,t,n,r){var s;const o=n.field();if("message"===o.listKind)return void n.add(h(e,r,o));const l=null!==(s=o.scalar)&&void 0!==s?s:i.ScalarType.INT32;if(t!=a.WireType.LengthDelimited||l==i.ScalarType.STRING||l==i.ScalarType.BYTES)return void n.add(p(e,l));const c=e.uint32()+e.pos;for(;e.pos<c;)n.add(p(e,l))}(t,l,e.get(n),c);break;case"map":!function(e,t,n){const i=t.field();let a,o;const l=e.uint32(),c=e.pos+l;for(;e.pos<c;){const[t]=e.tag();switch(t){case 1:a=p(e,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":o=p(e,i.scalar);break;case"enum":o=e.int32();break;case"message":o=h(e,n,i)}}}if(void 0===a&&(a=(0,r.scalarZeroValue)(i.mapKey,!1)),void 0===o)switch(i.mapKind){case"scalar":o=(0,r.scalarZeroValue)(i.scalar,!1);break;case"enum":o=i.enum.values[0].number;break;case"message":o=(0,s.reflect)(i.message,void 0,!1)}t.set(a,o)}(t,e.get(n),c)}}function h(e,t,n,i){const r=n.delimitedEncoding,a=null!=i?i:(0,s.reflect)(n.message,void 0,!1);return u(a,e,t,r,r?n.number:e.uint32()),a}function p(e,t){switch(t){case i.ScalarType.STRING:return e.string();case i.ScalarType.BOOL:return e.bool();case i.ScalarType.DOUBLE:return e.double();case i.ScalarType.FLOAT:return e.float();case i.ScalarType.INT32:return e.int32();case i.ScalarType.INT64:return e.int64();case i.ScalarType.UINT64:return e.uint64();case i.ScalarType.FIXED64:return e.fixed64();case i.ScalarType.BYTES:return e.bytes();case i.ScalarType.FIXED32:return e.fixed32();case i.ScalarType.SFIXED32:return e.sfixed32();case i.ScalarType.SFIXED64:return e.sfixed64();case i.ScalarType.SINT64:return e.sint64();case i.ScalarType.UINT32:return e.uint32();case i.ScalarType.SINT32:return e.sint32()}}},9212(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.parseTextFormatEnumValue=function(e,t){const n=e.values.find(e=>e.name===t);if(!n)throw new Error("cannot parse "+e+" default value: "+t);return n.number},t.parseTextFormatScalarValue=function(e,t){switch(e){case i.ScalarType.STRING:return t;case i.ScalarType.BYTES:{const n=function(e){const t=[],n={tail:e,c:"",next(){return 0!=this.tail.length&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(e){if(this.tail.length>=e){const t=this.tail.substring(0,e);return this.tail=this.tail.substring(e),t}return!1}};for(;n.next();)if("\\"===n.c){if(n.next())switch(n.c){case"\\":t.push(n.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const e=n.c,i=n.take(2);if(!1===i)return!1;const r=parseInt(e+i,8);if(Number.isNaN(r))return!1;t.push(r);break}case"x":{const e=n.c,i=n.take(2);if(!1===i)return!1;const r=parseInt(e+i,16);if(Number.isNaN(r))return!1;t.push(r);break}case"u":{const e=n.c,i=n.take(4);if(!1===i)return!1;const r=parseInt(e+i,16);if(Number.isNaN(r))return!1;const s=new Uint8Array(4);new DataView(s.buffer).setInt32(0,r,!0),t.push(s[0],s[1],s[2],s[3]);break}case"U":{const e=n.c,i=n.take(8);if(!1===i)return!1;const s=r.protoInt64.uEnc(e+i),a=new Uint8Array(8),o=new DataView(a.buffer);o.setInt32(0,s.lo,!0),o.setInt32(4,s.hi,!0),t.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}}else t.push(n.c.charCodeAt(0));return new Uint8Array(t)}(t);if(!1===n)throw new Error("cannot parse "+i.ScalarType[e]+" default value: "+t);return n}case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:return r.protoInt64.parse(t);case i.ScalarType.UINT64:case i.ScalarType.FIXED64:return r.protoInt64.uParse(t);case i.ScalarType.DOUBLE:case i.ScalarType.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case i.ScalarType.BOOL:return"true"===t;case i.ScalarType.INT32:case i.ScalarType.UINT32:case i.ScalarType.SINT32:case i.ScalarType.FIXED32:case i.ScalarType.SFIXED32:return parseInt(t,10)}};const i=n(2885),r=n(4011)},9230(e,t){"use strict";var n,i,r,s,a;Object.defineProperty(t,"t",{value:!0}),t.SessionState=t.MetricsCadence=t.MetricsName=void 0,(a=n||(t.MetricsName=n={})).RenderFramerate="render.framerate",a.PoseToRenderTime="render.pose_to_render_time",a.StreamingFramerate="streaming.framerate",(s=i||(t.MetricsCadence=i={})).PerFrame="frame",s.PerRender="render",function(e){e.Initialized="Initialized",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Disconnected="Disconnected",e.Error="Error"}(r||(t.SessionState=r={}))},9351(e,t,n){"use strict";var i=this&&this.p||function(e){return e&&e.t?e:{default:e}};Object.defineProperty(t,"t",{value:!0}),t.Renderer=t.haveFoveationParametersChanged=t.createPerspectiveMatrixFromFOV=void 0;const r=n(1961),s=n(4097),a=n(5304),o=n(1362),l=i(n(3396)),c=i(n(3366)),u=n(4319),d=n(2654);class h{constructor(e){this.texture=null,this.program=null,this.frameDataUBO=null,this.debugDataUBO=null,this.tessGridX=-1,this.tessGridY=-1,this.vertexShaderTextureLocation=null,this.fragmentShaderTextureLocation=null,this.planeGeometry=null,this.linearPositionCallback=null,this.renderedLeftProjectionMatrix=r.mat4.create(),this.renderedRightProjectionMatrix=r.mat4.create(),this.renderedLeftInvProjectionMatrix=r.mat4.create(),this.renderedRightInvProjectionMatrix=r.mat4.create(),this.gl=e}cleanup(){this.texture&&this.gl.deleteTexture(this.texture),this.program&&this.gl.deleteProgram(this.program),this.planeGeometry&&this.planeGeometry.forEach(e=>e.dispose()),this.frameDataUBO&&this.frameDataUBO.cleanup(),this.debugDataUBO&&this.debugDataUBO.cleanup(),this.texture=null,this.program=null,this.planeGeometry=null,this.frameDataUBO=null,this.debugDataUBO=null,this.vertexShaderTextureLocation=null,this.fragmentShaderTextureLocation=null}[Symbol.dispose](){this.cleanup()}}var p=n(1362);Object.defineProperty(t,"createPerspectiveMatrixFromFOV",{enumerable:!0,get:function(){return p.createPerspectiveMatrixFromFOV}}),Object.defineProperty(t,"haveFoveationParametersChanged",{enumerable:!0,get:function(){return p.haveFoveationParametersChanged}});class f{constructor(e){if(this.foveationParameters=null,this.renderedPose=null,this.renderedFOVs=null,this.isTextureAllocated=!1,this.gl=e.gl,this.enableErrorChecking=e.enableErrorChecking||!1,this.enableTexSubImage2D=e.enableTexSubImage2D||!1,this.enableDisplayP3Unpack=e.enableDisplayP3Unpack||!1,!(void 0!==e.tessellationWidth&&Number.isFinite(e.tessellationWidth)&&Number.isSafeInteger(e.tessellationWidth)&&e.tessellationWidth>=4))throw new Error("Invalid tessellationWidth: "+e.tessellationWidth+". Must be an integer >= 4.");if(!(void 0!==e.tessellationHeight&&Number.isFinite(e.tessellationHeight)&&Number.isSafeInteger(e.tessellationHeight)&&e.tessellationHeight>=4))throw new Error("Invalid tessellationHeight: "+e.tessellationHeight+". Must be an integer >= 4.");if(!(void 0!==e.near&&Number.isFinite(e.near)&&e.near>0))throw new Error("Invalid near plane: "+e.near+". Must be a positive finite number.");if(!(void 0!==e.far&&Number.isFinite(e.far)&&e.far>0))throw new Error("Invalid far plane: "+e.far+". Must be a positive finite number.");if(e.far<=e.near)throw new Error("Invalid far plane: "+e.far+". Must be greater than near ("+e.near+").");this.glResources=new h(this.gl),this.initializeWebGL(e)}resetWebGLState(){const e=this.gl;this.enableErrorChecking&&(0,d.logOrThrow)("resetWebGLState",e),e.useProgram(null),e.disable(e.CULL_FACE),e.disable(e.SCISSOR_TEST),e.disable(e.BLEND),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,null),e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}initializeWebGL(e){const t=this.gl,n=this.glResources;this.resetWebGLState();const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR);const r=e.near,s=e.far,o=e.epsilonDepthBias,h=e.tessellationWidth,p=e.tessellationHeight,f={ENABLE_DEBUG:!1,ENABLE_DISPLAY_P3_WORKAROUND:this.enableDisplayP3Unpack},g=(0,d.createShader)(t,t.VERTEX_SHADER,c.default,f),A=(0,d.createShader)(t,t.FRAGMENT_SHADER,l.default,f),m=t.createProgram();if(t.attachShader(m,g),t.attachShader(m,A),t.linkProgram(m),!t.getProgramParameter(m,t.LINK_STATUS))throw t.getProgramInfoLog(m),t.deleteProgram(m),new Error("Failed to create WebGL program");const v=t.getAttribLocation(m,"a_texCoord"),y=t.getAttribLocation(m,"a_position"),E=t.getAttribLocation(m,"a_debugColor");if(-1===y)throw new Error("Position attribute not found in shader program");if(-1===v)throw new Error("Texture coordinate attribute not found in shader program");const S=t.getUniformLocation(m,"u_texture"),b=t.getUniformLocation(m,"u_texture");try{const e=new u.UniformBufferObject(t,m,"FrameData",0);n.frameDataUBO=e}catch(e){throw new Error("Failed to create FrameData UBO")}n.frameDataUBO.beginUpdate(),n.frameDataUBO.setBool("isPassthrough",!1),n.frameDataUBO.setFloat("near",r),n.frameDataUBO.setFloat("far",s),n.frameDataUBO.setFloat("epsilonDepthBias",o),n.frameDataUBO.endUpdate();const x=e=>{e.arrayOut[e.offset]=2*e.u-1,e.arrayOut[e.offset+1]=-1*(2*e.v-1)},w=e=>{let t=e.u,n=e.v;const i=1e-6,r=.5/e.gridCols,s=.5/e.gridRows;-1==e.col&&(t=1e-6+r),e.col==e.gridCols&&(t=.999999-r),0==e.col&&(t=t+i+r),e.col==e.gridCols-1&&(t=t-i-r),-1==e.row&&(n=1e-6+s),e.row==e.gridRows&&(n=.999999-s),0==e.row&&(n=n+i+s),e.row==e.gridRows-1&&(n=n-i-s),e.arrayOut[e.offset]=t,e.arrayOut[e.offset+1]=n},I=new a.PlaneGeometry(t,h,p,x,w,void 0,y,v,-1!==E?E:2,.5,2,3),C=new a.PlaneGeometry(t,h,p,x,w,void 0,y,v,-1!==E?E:2,.5,2,3);t.useProgram(m),t.uniform1i(S,0),t.uniform1i(b,0),n.program=m,n.texture=i,n.tessGridX=h,n.tessGridY=p,n.planeGeometry=[I,C],n.linearPositionCallback=x,(0,d.logOrThrow)("initWebGL",t),t.bindVertexArray(null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}updateImage(e,t,n,i){const s=this.gl,a=this.glResources;t&&(this.resetWebGLState(),this.renderedPose=t,this.renderedFOVs=n,s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,a.texture),this.isTextureAllocated&&this.enableTexSubImage2D?s.texSubImage2D(s.TEXTURE_2D,0,0,0,s.RGB,s.UNSIGNED_BYTE,e):(s.texImage2D(s.TEXTURE_2D,0,s.RGB,s.RGB,s.UNSIGNED_BYTE,e),this.isTextureAllocated=!0),(0,o.createPerspectiveMatrixFromFOV)(this.renderedFOVs[0],.1,1e3,a.renderedLeftProjectionMatrix),r.mat4.invert(a.renderedLeftInvProjectionMatrix,a.renderedLeftProjectionMatrix),(0,o.createPerspectiveMatrixFromFOV)(this.renderedFOVs[1],.1,1e3,a.renderedRightProjectionMatrix),r.mat4.invert(a.renderedRightInvProjectionMatrix,a.renderedRightProjectionMatrix),i&&this.updateFoveation(i),this.enableErrorChecking&&(0,d.logOrThrow)("updateImage",this.gl))}updateFoveation(e){const t=this.glResources,n=t.planeGeometry;if((0,o.haveFoveationParametersChanged)(this.foveationParameters,e)){for(let i=0;i<n.length&&i<e.length;i++){const a=e[i];if(a.foveationActive()){const e=(0,s.computeCxrFoveationParams)(a),t=t=>{const n=r.vec2.fromValues(t.u,t.v),i=(0,s.defoveatedCoordinates)(n,e);t.arrayOut[t.offset]=2*i[0]-1,t.arrayOut[t.offset+1]=-1*(2*i[1]-1)};n[i].generatePositions(t)}else this.foveationParameters&&this.foveationParameters[i]&&this.foveationParameters[i].foveationActive()&&n[i].generatePositions(t.linearPositionCallback)}this.foveationParameters=e}this.enableErrorChecking&&(0,d.logOrThrow)("updateImage",this.gl)}clear(){this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LESS),this.gl.depthMask(!0),this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}render(e,t){const n=this.gl,i=this.glResources;if(!this.renderedPose)return;if(!this.renderedFOVs||0===this.renderedFOVs.length)return;this.resetWebGLState(),n.useProgram(i.program);const r=e.views,s=this.renderedPose.views;this.clear(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,i.texture);for(let e=0;e<r.length;e++){const a=r[e],o=s[e],l=0===e,c=t[e];if(!c)throw new Error("Expected "+r.length+" views, but viewport for view "+e+" is null.");n.viewport(c.x,c.y,c.width,c.height);const u=a.projectionMatrix,d=a.transform.inverse.matrix,h=o.transform.matrix,p=i.frameDataUBO;p.beginUpdate(),p.setMatrix4("projectionMatrix",u),p.setMatrix4("viewMatrix",d),p.setMatrix4("originalInvViewMatrix",h),p.setMatrix4("originalProjectionMatrix",l?i.renderedLeftProjectionMatrix:i.renderedRightProjectionMatrix),p.setMatrix4("originalInvProjectionMatrix",l?i.renderedLeftInvProjectionMatrix:i.renderedRightInvProjectionMatrix),p.setBool("isLeftEye",l),p.endUpdate(),p.bind(),i.debugDataUBO&&i.debugDataUBO.bind(),n.bindVertexArray(i.planeGeometry[e].getVAO());const f=i.planeGeometry[e].getIndexCount(),g=n.TRIANGLE_STRIP;n.drawElements(g,f,n.UNSIGNED_INT,0)}n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindTexture(n.TEXTURE_2D,null),n.bindVertexArray(null),this.enableErrorChecking&&(0,d.logOrThrow)("render",this.gl)}cleanup(){this.glResources.cleanup()}[Symbol.dispose](){this.cleanup()}}t.Renderer=f},9385(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.mapPlatformOSToPayloadOSType=function(e){if(!e)return i.PayloadOSType.UNDEFINED;const t=e.toLowerCase();return t.includes("windows")?i.PayloadOSType.WINDOWS:t.includes("macos")||t.includes("mac")?i.PayloadOSType.MACOS:t.includes("android")?i.PayloadOSType.ANDROID:t.includes("ios")?i.PayloadOSType.IOS:t.includes("ipados")?i.PayloadOSType.IPADOS:t.includes("chromeos")?i.PayloadOSType.CHROMEOS:t.includes("linux")?i.PayloadOSType.LINUX:t.includes("tizen")?i.PayloadOSType.TIZEN:t.includes("webos")?i.PayloadOSType.WEBOS:t.includes("tvos")?i.PayloadOSType.TVOS:t.includes("xbox")?i.PayloadOSType.XBOX:t.includes("steamos")?i.PayloadOSType.STEAMOS:t.includes("visionos")?i.PayloadOSType.VISIONOS:t.includes("shield")?i.PayloadOSType.SHIELD:i.PayloadOSType.UNDEFINED},t.mapPlatformTypeToPayloadDeviceType=function(e){if(!e)return i.PayloadDeviceType.UNDEFINED;const t=e.toLowerCase();return t.includes("desktop")?i.PayloadDeviceType.DESKTOP:t.includes("laptop")?i.PayloadDeviceType.LAPTOP:t.includes("phone")?i.PayloadDeviceType.PHONE:t.includes("tablet")?i.PayloadDeviceType.TABLET:t.includes("tv")?i.PayloadDeviceType.TV:t.includes("server")?i.PayloadDeviceType.SERVER:t.includes("console")?i.PayloadDeviceType.CONSOLE:t.includes("hmd")?i.PayloadDeviceType.HMD:i.PayloadDeviceType.UNDEFINED},t.mapPlatformBrowserToPayloadBrowserType=function(e){if(!e)return i.PayloadBrowserType.UNDEFINED;const t=e.toLowerCase();return t.includes("chrome")?i.PayloadBrowserType.CHROME:t.includes("safari")?i.PayloadBrowserType.SAFARI:t.includes("firefox")?i.PayloadBrowserType.FIREFOX:t.includes("edge")?i.PayloadBrowserType.EDGE:t.includes("opera")?i.PayloadBrowserType.OPERA:t.includes("brave")?i.PayloadBrowserType.BRAVE:t.includes("yandex")?i.PayloadBrowserType.YANDEX:t.includes("samsung")?i.PayloadBrowserType.SAMSUNG:t.includes("chromium")?i.PayloadBrowserType.CHROMIUM:t.includes("silk")?i.PayloadBrowserType.SILK:i.PayloadBrowserType.UNDEFINED};const i=n(4412)},9432(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.retrieveHandTrackingData=function(e,t,n){const i=new Map([["left",{isActive:!1,jointLocations:[]}],["right",{isActive:!1,jointLocations:[]}]]);if(!e.getJointPose)return i;for(const a of e.session.inputSources){if(!a.hand)continue;if(!n.has(a.handedness))continue;const u=new Array(26),d=new Map;for(const[n,i]of a.hand.entries()){if(!i)continue;const a=e.getJointPose(i,t);if(!a)continue;const c=l(n);if(-1===c||c>=26)continue;const h=o.includes(n);d.set(n,a),u[c]={locationFlags:h?s:r.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_VALID_BIT,pose:{orientation:h?{x:a.transform.orientation.x,y:a.transform.orientation.y,z:a.transform.orientation.z,w:a.transform.orientation.w}:void 0,position:{x:a.transform.position.x,y:a.transform.position.y,z:a.transform.position.z}},radius:a.radius}}c(u,d),i.set(a.handedness,{isActive:!0,jointLocations:u})}return i};const i=n(1961),r=n(8536),s=r.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_ORIENTATION_VALID_BIT|r.XrSpaceLocationFlagBits.XR_SPACE_LOCATION_POSITION_VALID_BIT,a={wrist:0,"thumb-metacarpal":1,"thumb-phalanx-proximal":2,"thumb-phalanx-distal":3,"thumb-tip":4,"index-finger-metacarpal":5,"index-finger-phalanx-proximal":6,"index-finger-phalanx-intermediate":7,"index-finger-phalanx-distal":8,"index-finger-tip":9,"middle-finger-metacarpal":10,"middle-finger-phalanx-proximal":11,"middle-finger-phalanx-intermediate":12,"middle-finger-phalanx-distal":13,"middle-finger-tip":14,"ring-finger-metacarpal":15,"ring-finger-phalanx-proximal":16,"ring-finger-phalanx-intermediate":17,"ring-finger-phalanx-distal":18,"ring-finger-tip":19,"pinky-finger-metacarpal":20,"pinky-finger-phalanx-proximal":21,"pinky-finger-phalanx-intermediate":22,"pinky-finger-phalanx-distal":23,"pinky-finger-tip":24},o=["wrist","thumb-tip","index-finger-tip","middle-finger-tip","ring-finger-tip","pinky-finger-tip"];function l(e){if("palm"===e)return 0;const t=a[e];return void 0===t?-1:t+1}function c(e,t){const n=l("palm");if(-1===n||n>=e.length)return null;const r=t.get("middle-finger-phalanx-proximal"),a=t.get("middle-finger-metacarpal");if(!r||!a)return null;const o=i.quat.fromValues(a.transform.orientation.x,a.transform.orientation.y,a.transform.orientation.z,a.transform.orientation.w),c=i.quat.fromValues(r.transform.orientation.x,r.transform.orientation.y,r.transform.orientation.z,r.transform.orientation.w),u=i.quat.create();i.quat.slerp(u,o,c,.5);const d=void 0!==r.radius&&void 0!==a.radius?.5*(r.radius+a.radius):.01;e[n]={locationFlags:s,pose:{orientation:{x:u[0],y:u[1],z:u[2],w:u[3]},position:{x:.5*(r.transform.position.x+a.transform.position.x),y:.5*(r.transform.position.y+a.transform.position.y),z:.5*(r.transform.position.z+a.transform.position.z)}},radius:d}}},9435(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.validateCloudXRVersion=function(e,t){const n=e.split(".");if(3!==n.length)return{isValid:!1,errorMessage:"Invalid version format, expected major.minor.patch, got: "+e};const i=parseInt(n[0],10),r=parseInt(n[1],10),s=parseInt(n[2],10);return isNaN(i)||isNaN(r)||isNaN(s)?{isValid:!1,errorMessage:"Invalid version format, non-numeric parts in: "+e}:i!==t?{isValid:!1,errorMessage:"Invalid CloudXR major version, expected: "+t+", got: "+i}:{isValid:!0}}},9499(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.Pico4UltraController=void 0;const i=n(363);t.Pico4UltraController={cxrProfile:"bytedance/pico4_controller",name:"Pico 4 Ultra",supportedProfiles:["pico-4u","pico-phoenix"],buttonAvailabilityCache:new Map,matches(e){return this.supportedProfiles.some(t=>e.profiles.includes(t))},cxrLeftPaths:["grip/pose","aim/pose","grip_surface/pose","hand_pinch/pose","hand_poke/pose","squeeze/click","squeeze/value","trigger/click","trigger/value","trigger/touch","thumbstick/position","thumbstick/click","thumbstick/touch","x/click","x/touch","y/click","y/touch","menu/click"],cxrRightPaths:["grip/pose","aim/pose","grip_surface/pose","hand_pinch/pose","hand_poke/pose","squeeze/click","squeeze/value","trigger/click","trigger/value","trigger/touch","thumbstick/position","thumbstick/click","thumbstick/touch","a/click","a/touch","b/click","b/touch","system/click"],inputTypes:{"grip/pose":i.InputType.POSE,"aim/pose":i.InputType.POSE,"grip_surface/pose":i.InputType.POSE,"hand_pinch/pose":i.InputType.POSE,"hand_poke/pose":i.InputType.POSE,"squeeze/click":i.InputType.BOOLEAN,"squeeze/value":i.InputType.VEC1_ZERO_TO_ONE,"trigger/click":i.InputType.BOOLEAN,"trigger/value":i.InputType.VEC1_ZERO_TO_ONE,"trigger/touch":i.InputType.BOOLEAN,"thumbstick/position":i.InputType.VEC2_MINUS_ONE_TO_ONE,"thumbstick/click":i.InputType.BOOLEAN,"thumbstick/touch":i.InputType.BOOLEAN,"x/click":i.InputType.BOOLEAN,"x/touch":i.InputType.BOOLEAN,"y/click":i.InputType.BOOLEAN,"y/touch":i.InputType.BOOLEAN,"menu/click":i.InputType.BOOLEAN,"a/click":i.InputType.BOOLEAN,"a/touch":i.InputType.BOOLEAN,"b/click":i.InputType.BOOLEAN,"b/touch":i.InputType.BOOLEAN,"system/click":i.InputType.BOOLEAN},isButtonAvailable(e,t){this.buttonAvailabilityCache.has(e)||this.buttonAvailabilityCache.set(e,new Map);const n=this.buttonAvailabilityCache.get(e);if(n.has(t))return n.get(t);const i=e.buttons&&t<e.buttons.length&&void 0!==e.buttons[t];return n.set(t,i),i},getButtonBoolean(e,t,n){return!!this.isButtonAvailable(e,t)&&e.buttons[t][n]},getButtonNumber(e,t){return this.isButtonAvailable(e,t)?e.buttons[t].value:0},getValue(e,t,n,i){let r=null;for(const n of e.session.inputSources)if(n.handedness===t){r=n;break}if(!r)return{success:!1,value:null};if(n.endsWith("/pose")){if("grip_surface/pose"===n||"hand_pinch/pose"===n||"hand_poke/pose"===n)return{success:!1,value:null};const t="grip/pose"===n?r.gripSpace:r.targetRaySpace;if(t){const n=e.getPose(t,i);return n?{success:!0,value:{position:n.transform.position,orientation:n.transform.orientation}}:{success:!1,value:null}}return{success:!1,value:null}}if(!r.gamepad)return{success:!1,value:null};const s=r.gamepad;try{switch(n){case"squeeze/click":return{success:!0,value:this.getButtonBoolean(s,1,"pressed")};case"squeeze/value":return{success:!0,value:this.getButtonNumber(s,1)};case"trigger/click":return{success:!0,value:this.getButtonBoolean(s,0,"pressed")};case"trigger/value":return{success:!0,value:this.getButtonNumber(s,0)};case"trigger/touch":return{success:!0,value:this.getButtonBoolean(s,0,"touched")};case"thumbstick/position":return{success:!0,value:{x:s.axes[2]||0,y:s.axes[3]||0}};case"thumbstick/click":return{success:!0,value:this.getButtonBoolean(s,3,"pressed")};case"thumbstick/touch":return{success:!0,value:this.getButtonBoolean(s,3,"touched")};case"x/click":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,4,"pressed")};case"x/touch":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,4,"touched")};case"y/click":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,5,"pressed")};case"y/touch":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,5,"touched")};case"menu/click":return{success:!0,value:"left"===t&&this.getButtonBoolean(s,6,"pressed")};case"a/click":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,4,"pressed")};case"a/touch":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,4,"touched")};case"b/click":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,5,"pressed")};case"b/touch":return{success:!0,value:"right"===t&&this.getButtonBoolean(s,5,"touched")};case"system/click":return{success:!0,value:!1};default:return{success:!1,value:null}}}catch(e){return{success:!1,value:null}}}}},9644(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.reflect=function(e,t,n=!0){return new p(e,t,n)},t.reflectList=function(e,t,n=!0){return new g(e,null!=t?t:[],n)},t.reflectMap=function(e,t,n=!0){return new A(e,t,n)};const i=n(2885),r=n(1841),s=n(5067),a=n(7299),o=n(1583),l=n(2992),c=n(2949),u=n(4011),d=n(8792),h=new WeakMap;class p{get sortedFields(){const e=h.get(this.desc);if(e)return e;const t=this.desc.fields.concat().sort((e,t)=>e.number-t.number);return h.set(this.desc,t),t}constructor(e,t,n=!0){this.lists=new Map,this.maps=new Map,this.check=n,this.desc=e,this.message=this[a.unsafeLocal]=null!=t?t:(0,o.create)(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this.vO||(this.vO=new Map(this.desc.fields.map(e=>[e.number,e]))),this.vO.get(e)}oneofCase(e){return f(this.message,e),(0,a.unsafeOneofCase)(this.message,e)}isSet(e){return f(this.message,e),(0,a.unsafeIsSet)(this.message,e)}clear(e){f(this.message,e),(0,a.unsafeClear)(this.message,e)}get(e){f(this.message,e);const t=(0,a.unsafeGet)(this.message,e);switch(e.fieldKind){case"list":let n=this.lists.get(e);return n&&n[a.unsafeLocal]===t||this.lists.set(e,n=new g(e,t,this.check)),n;case"map":let i=this.maps.get(e);return i&&i[a.unsafeLocal]===t||this.maps.set(e,i=new A(e,t,this.check)),i;case"message":return v(e,t,this.check);case"scalar":return void 0===t?(0,c.scalarZeroValue)(e.scalar,!1):w(e,t);case"enum":return null!=t?t:e.enum.values[0].number}}set(e,t){if(f(this.message,e),this.check){const n=(0,r.checkField)(e,t);if(n)throw n}let n;n="message"==e.fieldKind?m(e,t):(0,d.isReflectMap)(t)||(0,d.isReflectList)(t)?t[a.unsafeLocal]:I(e,t),(0,a.unsafeSet)(this.message,e,n)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function f(e,t){if(t.parent.typeName!==e.$typeName)throw new s.FieldError(t,"cannot use "+t.toString()+" with message "+e.$typeName,"ForeignFieldError")}class g{field(){return this.AO}get size(){return this.pO.length}constructor(e,t,n){this.AO=e,this.pO=this[a.unsafeLocal]=t,this.check=n}get(e){const t=this.pO[e];return void 0===t?void 0:E(this.AO,t,this.check)}set(e,t){if(e<0||e>=this.pO.length)throw new s.FieldError(this.AO,"list item #"+(e+1)+": out of range");if(this.check){const n=(0,r.checkListItem)(this.AO,e,t);if(n)throw n}this.pO[e]=y(this.AO,t)}add(e){if(this.check){const t=(0,r.checkListItem)(this.AO,this.pO.length,e);if(t)throw t}this.pO.push(y(this.AO,e))}clear(){this.pO.splice(0,this.pO.length)}[Symbol.iterator](){return this.values()}keys(){return this.pO.keys()}*values(){for(const e of this.pO)yield E(this.AO,e,this.check)}*entries(){for(let e=0;e<this.pO.length;e++)yield[e,E(this.AO,this.pO[e],this.check)]}}class A{constructor(e,t,n=!0){this.obj=this[a.unsafeLocal]=null!=t?t:{},this.check=n,this.AO=e}field(){return this.AO}set(e,t){if(this.check){const n=(0,r.checkMapEntry)(this.AO,e,t);if(n)throw n}return this.obj[b(e)]=(i=t,"message"==(n=this.AO).mapKind?m(n,i):I(n,i)),this;var n,i}delete(e){const t=b(e),n=Object.prototype.hasOwnProperty.call(this.obj,t);return n&&delete this.obj[t],n}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let t=this.obj[b(e)];return void 0!==t&&(t=S(this.AO,t,this.check)),t}has(e){return Object.prototype.hasOwnProperty.call(this.obj,b(e))}*keys(){for(const e of Object.keys(this.obj))yield x(e,this.AO.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[x(e[0],this.AO.mapKey),S(this.AO,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield S(this.AO,e,this.check)}forEach(e,t){for(const n of this.entries())e.call(t,n[1],n[0],this)}}function m(e,t){return(0,d.isReflectMessage)(t)?(0,l.isWrapper)(t.message)&&!e.oneof&&"message"==e.fieldKind?t.message.value:"google.protobuf.Struct"==t.desc.typeName&&"google.protobuf.Value"!=e.parent.typeName?T(t.message):t.message:t}function v(e,t,n){return void 0!==t&&((0,l.isWrapperDesc)(e.message)&&!e.oneof&&"message"==e.fieldKind?t={$typeName:e.message.typeName,value:w(e.message.fields[0],t)}:"google.protobuf.Struct"==e.message.typeName&&"google.protobuf.Value"!=e.parent.typeName&&(0,d.isObject)(t)&&(t=C(t))),new p(e.message,t,n)}function y(e,t){return"message"==e.listKind?m(e,t):I(e,t)}function E(e,t,n){return"message"==e.listKind?v(e,t,n):w(e,t)}function S(e,t,n){return"message"==e.mapKind?v(e,t,n):t}function b(e){return"string"==typeof e||"number"==typeof e?e:String(e)}function x(e,t){switch(t){case i.ScalarType.STRING:return e;case i.ScalarType.INT32:case i.ScalarType.FIXED32:case i.ScalarType.UINT32:case i.ScalarType.SFIXED32:case i.ScalarType.SINT32:{const t=Number.parseInt(e);if(Number.isFinite(t))return t;break}case i.ScalarType.BOOL:switch(e){case"true":return!0;case"false":return!1}break;case i.ScalarType.UINT64:case i.ScalarType.FIXED64:try{return u.protoInt64.uParse(e)}catch(e){}break;default:try{return u.protoInt64.parse(e)}catch(e){}}return e}function w(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=u.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString&&"string"==typeof t&&(t=u.protoInt64.uParse(t))}return t}function I(e,t){switch(e.scalar){case i.ScalarType.INT64:case i.ScalarType.SFIXED64:case i.ScalarType.SINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=u.protoInt64.parse(t));break;case i.ScalarType.FIXED64:case i.ScalarType.UINT64:"longAsString"in e&&e.longAsString?t=String(t):"string"!=typeof t&&"number"!=typeof t||(t=u.protoInt64.uParse(t))}return t}function C(e){const t={$typeName:"google.protobuf.Struct",fields:{}};if((0,d.isObject)(e))for(const[n,i]of Object.entries(e))t.fields[n]=B(i);return t}function T(e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=M(i);return t}function M(e){switch(e.kind.case){case"structValue":return T(e.kind.value);case"listValue":return e.kind.value.values.map(M);case"nullValue":case void 0:return null;default:return e.kind.value}}function B(e){const t={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(null===e){const e=0;t.kind={case:"nullValue",value:e}}else if(Array.isArray(e)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(e))for(const t of e)n.values.push(B(t));t.kind={case:"listValue",value:n}}else t.kind={case:"structValue",value:C(e)}}return t}},9694(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.SDK_VERSION_FOR_SESSION_ID=t.SDK_VERSION=void 0,t.SDK_VERSION="6.1.0",t.SDK_VERSION_FOR_SESSION_ID=t.SDK_VERSION.replace(/\./g,"_").replace(/-/g,"_")},9712(e,t){"use strict";Object.defineProperty(t,"t",{value:!0}),t.getStreamingErrorMessage=function(e){return 3237093890===e?"Signaling connection failed":3237093907===e?"Signaling connection timeout":3237093908===e?"Signaling setup failed":3237093894===e?"Media connection failed":3237093903===e?"No local connection candidates":3237093904===e?"No remote connection candidates":3237093926===e?"No response from media server":3237093927===e||3237093928===e?"Media connection could not be established":3237093900===e?"No video stream received":3237093901===e?"No video frames decoded":3237093905===e?"Video track not received":3237093892===e?"Network connection interrupted":e>=3237093888&&e<=3237094143?"Unable to establish streaming connection":e>=3237094144&&e<=3237094399?"Server disconnected":"Streaming error"}},9725(e,t,n){"use strict";Object.defineProperty(t,"t",{value:!0}),t.Skeleton=t.SkeletonType=t.BODY_JOINT_NAMES=t.JOINT_PARENT_MAP_PICO=t.BODY_JOINT_NAMES_PICO=t.PICO_TO_META_JOINT_MAP=t.JOINT_PARENT_MAP_META=t.BODY_JOINT_NAMES_META=void 0;const i=n(1961);var r,s;t.BODY_JOINT_NAMES_META=["hips","spine-lower","spine-middle","spine-upper","chest","neck","head","left-shoulder","left-scapula","left-arm-upper","left-arm-lower","left-hand-wrist-twist","right-shoulder","right-scapula","right-arm-upper","right-arm-lower","right-hand-wrist-twist","left-hand-palm","left-hand-wrist","left-hand-thumb-metacarpal","left-hand-thumb-phalanx-proximal","left-hand-thumb-phalanx-distal","left-hand-thumb-tip","left-hand-index-metacarpal","left-hand-index-phalanx-proximal","left-hand-index-phalanx-intermediate","left-hand-index-phalanx-distal","left-hand-index-tip","left-hand-middle-metacarpal","left-hand-middle-phalanx-proximal","left-hand-middle-phalanx-intermediate","left-hand-middle-phalanx-distal","left-hand-middle-tip","left-hand-ring-metacarpal","left-hand-ring-phalanx-proximal","left-hand-ring-phalanx-intermediate","left-hand-ring-phalanx-distal","left-hand-ring-tip","left-hand-little-metacarpal","left-hand-little-phalanx-proximal","left-hand-little-phalanx-intermediate","left-hand-little-phalanx-distal","left-hand-little-tip","right-hand-palm","right-hand-wrist","right-hand-thumb-metacarpal","right-hand-thumb-phalanx-proximal","right-hand-thumb-phalanx-distal","right-hand-thumb-tip","right-hand-index-metacarpal","right-hand-index-phalanx-proximal","right-hand-index-phalanx-intermediate","right-hand-index-phalanx-distal","right-hand-index-tip","right-hand-middle-metacarpal","right-hand-middle-phalanx-proximal","right-hand-middle-phalanx-intermediate","right-hand-middle-phalanx-distal","right-hand-middle-tip","right-hand-ring-metacarpal","right-hand-ring-phalanx-proximal","right-hand-ring-phalanx-intermediate","right-hand-ring-phalanx-distal","right-hand-ring-tip","right-hand-little-metacarpal","right-hand-little-phalanx-proximal","right-hand-little-phalanx-intermediate","right-hand-little-phalanx-distal","right-hand-little-tip","left-upper-leg","left-lower-leg","left-foot-ankle-twist","left-foot-ankle","left-foot-subtalar","left-foot-transverse","left-foot-ball","right-upper-leg","right-lower-leg","right-foot-ankle-twist","right-foot-ankle","right-foot-subtalar","right-foot-transverse","right-foot-ball"],t.JOINT_PARENT_MAP_META={hips:null,"spine-lower":"hips","spine-middle":"spine-lower","spine-upper":"spine-middle",chest:"spine-upper",neck:"chest",head:"neck","left-shoulder":"chest","left-scapula":"left-shoulder","left-arm-upper":"left-scapula","left-arm-lower":"left-arm-upper","left-hand-wrist-twist":"left-arm-lower","right-shoulder":"chest","right-scapula":"right-shoulder","right-arm-upper":"right-scapula","right-arm-lower":"right-arm-upper","right-hand-wrist-twist":"right-arm-lower","left-hand-palm":"left-hand-wrist-twist","left-hand-wrist":"left-hand-wrist-twist","left-hand-thumb-metacarpal":"left-hand-wrist","left-hand-thumb-phalanx-proximal":"left-hand-thumb-metacarpal","left-hand-thumb-phalanx-distal":"left-hand-thumb-phalanx-proximal","left-hand-thumb-tip":"left-hand-thumb-phalanx-distal","left-hand-index-metacarpal":"left-hand-wrist","left-hand-index-phalanx-proximal":"left-hand-index-metacarpal","left-hand-index-phalanx-intermediate":"left-hand-index-phalanx-proximal","left-hand-index-phalanx-distal":"left-hand-index-phalanx-intermediate","left-hand-index-tip":"left-hand-index-phalanx-distal","left-hand-middle-metacarpal":"left-hand-wrist","left-hand-middle-phalanx-proximal":"left-hand-middle-metacarpal","left-hand-middle-phalanx-intermediate":"left-hand-middle-phalanx-proximal","left-hand-middle-phalanx-distal":"left-hand-middle-phalanx-intermediate","left-hand-middle-tip":"left-hand-middle-phalanx-distal","left-hand-middle-phalanx-metacarpal":"left-hand-wrist","left-hand-ring-metacarpal":"left-hand-wrist","left-hand-ring-phalanx-proximal":"left-hand-ring-metacarpal","left-hand-ring-phalanx-intermediate":"left-hand-ring-phalanx-proximal","left-hand-ring-phalanx-distal":"left-hand-ring-phalanx-intermediate","left-hand-ring-tip":"left-hand-ring-phalanx-distal","left-hand-little-metacarpal":"left-hand-wrist","left-hand-little-phalanx-proximal":"left-hand-little-metacarpal","left-hand-little-phalanx-intermediate":"left-hand-little-phalanx-proximal","left-hand-little-phalanx-distal":"left-hand-little-phalanx-intermediate","left-hand-little-tip":"left-hand-little-phalanx-distal","right-hand-palm":"right-hand-wrist-twist","right-hand-wrist":"right-hand-wrist-twist","right-hand-thumb-metacarpal":"right-hand-wrist","right-hand-thumb-phalanx-proximal":"right-hand-thumb-metacarpal","right-hand-thumb-phalanx-distal":"right-hand-thumb-phalanx-proximal","right-hand-thumb-tip":"right-hand-thumb-phalanx-distal","right-hand-index-metacarpal":"right-hand-wrist","right-hand-index-phalanx-proximal":"right-hand-index-metacarpal","right-hand-index-phalanx-intermediate":"right-hand-index-phalanx-proximal","right-hand-index-phalanx-distal":"right-hand-index-phalanx-intermediate","right-hand-index-tip":"right-hand-index-phalanx-distal","right-hand-middle-metacarpal":"right-hand-wrist","right-hand-middle-phalanx-proximal":"right-hand-middle-metacarpal","right-hand-middle-phalanx-intermediate":"right-hand-middle-phalanx-proximal","right-hand-middle-phalanx-distal":"right-hand-middle-phalanx-intermediate","right-hand-middle-tip":"right-hand-middle-phalanx-distal","right-hand-ring-metacarpal":"right-hand-wrist","right-hand-ring-phalanx-proximal":"right-hand-ring-metacarpal","right-hand-ring-phalanx-intermediate":"right-hand-ring-phalanx-proximal","right-hand-ring-phalanx-distal":"right-hand-ring-phalanx-intermediate","right-hand-ring-tip":"right-hand-ring-phalanx-distal","right-hand-little-metacarpal":"right-hand-wrist","right-hand-little-phalanx-proximal":"right-hand-little-metacarpal","right-hand-little-phalanx-intermediate":"right-hand-little-phalanx-proximal","right-hand-little-phalanx-distal":"right-hand-little-phalanx-intermediate","right-hand-little-tip":"right-hand-little-phalanx-distal","left-upper-leg":"hips","left-lower-leg":"left-upper-leg","left-foot-ankle-twist":"left-lower-leg","left-foot-ankle":"left-foot-ankle-twist","left-foot-subtalar":"left-foot-ankle","left-foot-transverse":"left-foot-subtalar","left-foot-ball":"left-foot-transverse","right-upper-leg":"hips","right-lower-leg":"right-upper-leg","right-foot-ankle-twist":"right-lower-leg","right-foot-ankle":"right-foot-ankle-twist","right-foot-subtalar":"right-foot-ankle","right-foot-transverse":"right-foot-subtalar","right-foot-ball":"right-foot-transverse"},t.PICO_TO_META_JOINT_MAP={pelvis:"hips","left-hip":"left-upper-leg","right-hip":"right-upper-leg",spine1:"spine-lower","left-knee":"left-lower-leg","right-knee":"right-lower-leg",spine2:"spine-middle","left-ankle":"left-foot-ankle","right-ankle":"right-foot-ankle",spine3:"spine-upper","left-foot":"left-foot-ball","right-foot":"right-foot-ball",neck:"neck","left-collar":"left-shoulder","right-collar":"right-shoulder",head:"head","left-shoulder":"left-arm-upper","right-shoulder":"right-arm-upper","left-elbow":"left-arm-lower","right-elbow":"right-arm-lower","left-wrist":"left-hand-wrist","right-wrist":"right-hand-wrist","left-hand":"left-hand-palm","right-hand":"right-hand-palm"},t.BODY_JOINT_NAMES_PICO=["pelvis","left-hip","right-hip","spine1","left-knee","right-knee","spine2","left-ankle","right-ankle","spine3","left-foot","right-foot","neck","left-collar","right-collar","head","left-shoulder","right-shoulder","left-elbow","right-elbow","left-wrist","right-wrist","left-hand","right-hand"],t.JOINT_PARENT_MAP_PICO={pelvis:null,spine1:"pelvis",spine2:"spine1",spine3:"spine2",neck:"spine3",head:"neck","left-hip":"pelvis","left-knee":"left-hip","left-ankle":"left-knee","left-foot":"left-ankle","right-hip":"pelvis","right-knee":"right-hip","right-ankle":"right-knee","right-foot":"right-ankle","left-collar":"spine3","left-shoulder":"left-collar","left-elbow":"left-shoulder","left-wrist":"left-elbow","left-hand":"left-wrist","right-collar":"spine3","right-shoulder":"right-collar","right-elbow":"right-shoulder","right-wrist":"right-elbow","right-hand":"right-wrist"},t.BODY_JOINT_NAMES=t.BODY_JOINT_NAMES_META,(s=r||(t.SkeletonType=r={})).Meta="meta",s.Pico="pico",t.Skeleton=class{constructor(e=r.Pico){if(this.type=e,this.transforms={},this.parents={},e===r.Pico){this.jointNames=t.BODY_JOINT_NAMES_PICO,this.root="pelvis";for(const e of t.BODY_JOINT_NAMES_PICO)this.transforms[e]={position:i.vec3.create(),orientation:i.quat.create(),isValid:!1},this.parents[e]=t.JOINT_PARENT_MAP_PICO[e]}else{this.jointNames=t.BODY_JOINT_NAMES_META,this.root="hips";for(const e of t.BODY_JOINT_NAMES_META)this.transforms[e]={position:i.vec3.create(),orientation:i.quat.create(),isValid:!1},this.parents[e]=t.JOINT_PARENT_MAP_META[e]}}updateFromXRBody(e,t,n){if(this.type!==r.Pico)for(const[r,s]of e){const e=n.getPose(s,t),a=this.transforms[r];a&&(e?(i.vec3.set(a.position,e.transform.position.x,e.transform.position.y,e.transform.position.z),i.quat.set(a.orientation,e.transform.orientation.x,e.transform.orientation.y,e.transform.orientation.z,e.transform.orientation.w),a.isValid=!0):a.isValid=!1)}else this.updatePicoFromXRBody(e,t,n)}updatePicoFromXRBody(e,n,r){for(const s of t.BODY_JOINT_NAMES_PICO){const a=t.PICO_TO_META_JOINT_MAP[s],o=e.get(a);if(!o)continue;const l=r.getPose(o,n),c=this.transforms[s];c&&(l?(i.vec3.set(c.position,l.transform.position.x,l.transform.position.y,l.transform.position.z),i.quat.set(c.orientation,l.transform.orientation.x,l.transform.orientation.y,l.transform.orientation.z,l.transform.orientation.w),c.isValid=!0):c.isValid=!1)}}generateTestPose(e){const t=Math.sin(.002*e),n=Math.sin(.003*e),s=Math.sin(.001*e);if(this.type===r.Pico){const e=0,r=this.transforms.pelvis;r&&(i.vec3.set(r.position,0,e+1+.01*t,0),i.quat.identity(r.orientation));const a=this.transforms.spine1;a&&(i.vec3.set(a.position,0,e+1.08+.012*t,0),i.quat.identity(a.orientation));const o=this.transforms.spine2;o&&(i.vec3.set(o.position,0,e+1.16+.015*t,0),i.quat.identity(o.orientation));const l=this.transforms.spine3;l&&(i.vec3.set(l.position,0,e+1.28+.018*t,0),i.quat.identity(l.orientation));const c=this.transforms.neck;c&&(i.vec3.set(c.position,0,e+1.45+.02*t,0),i.quat.identity(c.orientation));const u=this.transforms.head;u&&(i.vec3.set(u.position,.02*s,e+1.6+.02*t,0),i.quat.fromEuler(u.orientation,3*s,2*s,0));const d=this.transforms["left-collar"];d&&(i.vec3.set(d.position,-.1,e+1.4,0),i.quat.identity(d.orientation));const h=this.transforms["right-collar"];h&&(i.vec3.set(h.position,.1,e+1.4,0),i.quat.identity(h.orientation));const p=this.transforms["left-shoulder"];p&&(i.vec3.set(p.position,-.2,e+1.38+.02*n,0),i.quat.fromEuler(p.orientation,0,0,5*n-85));const f=this.transforms["left-elbow"];f&&(i.vec3.set(f.position,-.45,e+1.38+.03*n,0),i.quat.fromEuler(f.orientation,0,0,-90));const g=this.transforms["left-wrist"];g&&(i.vec3.set(g.position,-.7,e+1.38+.04*n,0),i.quat.identity(g.orientation));const A=this.transforms["left-hand"];A&&(i.vec3.set(A.position,-.78,e+1.38+.04*n,0),i.quat.identity(A.orientation));const m=this.transforms["right-shoulder"];m&&(i.vec3.set(m.position,.2,e+1.38-.02*n,0),i.quat.fromEuler(m.orientation,0,0,85-5*n));const v=this.transforms["right-elbow"];v&&(i.vec3.set(v.position,.45,e+1.38-.03*n,0),i.quat.fromEuler(v.orientation,0,0,90));const y=this.transforms["right-wrist"];y&&(i.vec3.set(y.position,.7,e+1.38-.04*n,0),i.quat.identity(y.orientation));const E=this.transforms["right-hand"];E&&(i.vec3.set(E.position,.78,e+1.38-.04*n,0),i.quat.identity(E.orientation));const S=this.transforms["left-hip"];S&&(i.vec3.set(S.position,-.1,e+.95,0),i.quat.identity(S.orientation));const b=this.transforms["left-knee"];b&&(i.vec3.set(b.position,-.1,e+.5,0),i.quat.identity(b.orientation));const x=this.transforms["left-ankle"];x&&(i.vec3.set(x.position,-.1,e+.08,0),i.quat.identity(x.orientation));const w=this.transforms["left-foot"];w&&(i.vec3.set(w.position,-.1,e+.02,.08),i.quat.identity(w.orientation));const I=this.transforms["right-hip"];I&&(i.vec3.set(I.position,.1,e+.95,0),i.quat.identity(I.orientation));const C=this.transforms["right-knee"];C&&(i.vec3.set(C.position,.1,e+.5,0),i.quat.identity(C.orientation));const T=this.transforms["right-ankle"];T&&(i.vec3.set(T.position,.1,e+.08,0),i.quat.identity(T.orientation));const M=this.transforms["right-foot"];M&&(i.vec3.set(M.position,.1,e+.02,.08),i.quat.identity(M.orientation))}else{const e=0,r=this.transforms.hips;r&&(i.vec3.set(r.position,0,e+1+.01*t,0),i.quat.identity(r.orientation));const a=this.transforms["spine-lower"];a&&(i.vec3.set(a.position,0,e+1.08+.012*t,0),i.quat.identity(a.orientation));const o=this.transforms["spine-middle"];o&&(i.vec3.set(o.position,0,e+1.16+.015*t,0),i.quat.identity(o.orientation));const l=this.transforms["spine-upper"];l&&(i.vec3.set(l.position,0,e+1.24+.017*t,0),i.quat.identity(l.orientation));const c=this.transforms.chest;c&&(i.vec3.set(c.position,0,e+1.32+.018*t,0),i.quat.identity(c.orientation));const u=this.transforms.neck;u&&(i.vec3.set(u.position,0,e+1.45+.02*t,0),i.quat.identity(u.orientation));const d=this.transforms.head;d&&(i.vec3.set(d.position,.02*s,e+1.6+.02*t,0),i.quat.fromEuler(d.orientation,3*s,2*s,0));const h=this.transforms["left-arm-upper"];h&&(i.vec3.set(h.position,-.25,e+1.38+.02*n,0),i.quat.fromEuler(h.orientation,0,0,5*n-85));const p=this.transforms["left-arm-lower"];p&&(i.vec3.set(p.position,-.5,e+1.38+.03*n,0),i.quat.fromEuler(p.orientation,0,0,-90));const f=this.transforms["left-hand-wrist"];f&&(i.vec3.set(f.position,-.75,e+1.38+.04*n,0),i.quat.identity(f.orientation));const g=this.transforms["right-arm-upper"];g&&(i.vec3.set(g.position,.25,e+1.38-.02*n,0),i.quat.fromEuler(g.orientation,0,0,85-5*n));const A=this.transforms["right-arm-lower"];A&&(i.vec3.set(A.position,.5,e+1.38-.03*n,0),i.quat.fromEuler(A.orientation,0,0,90));const m=this.transforms["right-hand-wrist"];m&&(i.vec3.set(m.position,.75,e+1.38-.04*n,0),i.quat.identity(m.orientation));const v=this.transforms["left-upper-leg"];v&&(i.vec3.set(v.position,-.1,e+.95,0),i.quat.identity(v.orientation));const y=this.transforms["left-lower-leg"];y&&(i.vec3.set(y.position,-.1,e+.5,0),i.quat.identity(y.orientation));const E=this.transforms["left-foot-ankle"];E&&(i.vec3.set(E.position,-.1,e+.08,0),i.quat.identity(E.orientation));const S=this.transforms["right-upper-leg"];S&&(i.vec3.set(S.position,.1,e+.95,0),i.quat.identity(S.orientation));const b=this.transforms["right-lower-leg"];b&&(i.vec3.set(b.position,.1,e+.5,0),i.quat.identity(b.orientation));const x=this.transforms["right-foot-ankle"];x&&(i.vec3.set(x.position,.1,e+.08,0),i.quat.identity(x.orientation))}for(const e of this.jointNames){const t=this.transforms[e];t&&(t.isValid=!0)}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}return n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"t",{value:!0})},n(9089)})(),e.exports=t()},4576(e,t,n){"use strict";n.d(t,{EW:()=>y,HN:()=>p,O8:()=>o,QZ:()=>w,vA:()=>s,vP:()=>f});var i=Symbol.for("preact-signals");function r(){if(c>1)c--;else{for(var e,t=!1;void 0!==l;){var n=l;for(l=void 0,u++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&g(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if(u=0,c--,t)throw e}}function s(e){if(c>0)return e();c++;try{return e()}finally{r()}}var a=void 0;function o(e){var t=a;a=void 0;try{return e()}finally{a=t}}var l=void 0,c=0,u=0,d=0;function h(e){if(void 0!==a){var t=e.n;if(void 0===t||t.t!==a)return t={i:0,S:e,p:a.s,n:void 0,t:a,e:void 0,x:void 0,r:t},void 0!==a.s&&(a.s.n=t),a.s=t,e.n=t,32&a.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=a.s,t.n=void 0,a.s.n=t,a.s=t),t}}function p(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function f(e,t){return new p(e,t)}function g(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function A(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function m(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function v(e,t){p.call(this,void 0),this.x=e,this.s=void 0,this.g=d-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name}function y(e,t){return new v(e,t)}function E(e){var t=e.u;if(e.u=void 0,"function"==typeof t){c++;var n=a;a=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,S(e),t}finally{a=n,r()}}}function S(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,E(e)}function b(e){if(a!==this)throw new Error("Out-of-order effect");m(this),a=e,this.f&=-2,8&this.f&&S(this),r()}function x(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name}function w(e,t){var n=new x(e,t);try{n.c()}catch(e){throw n.d(),e}var i=n.d.bind(n);return i[Symbol.dispose]=i,i}p.prototype.brand=i,p.prototype.h=function(){return!0},p.prototype.S=function(e){var t=this,n=this.t;n!==e&&void 0===e.e&&(e.x=n,this.t=e,void 0!==n?n.e=e:o(function(){var e;null==(e=t.W)||e.call(t)}))},p.prototype.U=function(e){var t=this;if(void 0!==this.t){var n=e.e,i=e.x;void 0!==n&&(n.x=i,e.e=void 0),void 0!==i&&(i.e=n,e.x=void 0),e===this.t&&(this.t=i,void 0===i&&o(function(){var e;null==(e=t.Z)||e.call(t)}))}},p.prototype.subscribe=function(e){var t=this;return w(function(){var n=t.value,i=a;a=void 0;try{e(n)}finally{a=i}},{name:"sub"})},p.prototype.valueOf=function(){return this.value},p.prototype.toString=function(){return this.value+""},p.prototype.toJSON=function(){return this.value},p.prototype.peek=function(){var e=a;a=void 0;try{return this.value}finally{a=e}},Object.defineProperty(p.prototype,"value",{get:function(){var e=h(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(u>100)throw new Error("Cycle detected");this.v=e,this.i++,d++,c++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{r()}}}}),v.prototype=new p,v.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===d)return!0;if(this.g=d,this.f|=1,this.i>0&&!g(this))return this.f&=-2,!0;var e=a;try{A(this),a=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return a=e,m(this),this.f&=-2,!0},v.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}p.prototype.S.call(this,e)},v.prototype.U=function(e){if(void 0!==this.t&&(p.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},v.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(v.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=h(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),x.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},x.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,E(this),A(this),c++;var e=a;return a=this,b.bind(this,e)},x.prototype.N=function(){2&this.f||(this.f|=2,this.o=l,l=this)},x.prototype.d=function(){this.f|=8,1&this.f||S(this)},x.prototype.dispose=function(){this.d()}},508(e,t,n){"use strict";n.r(t),n.d(t,{Signal:()=>i.HN,batch:()=>i.vA,computed:()=>i.EW,effect:()=>i.QZ,signal:()=>i.vP,untracked:()=>i.O8,useComputed:()=>y,useSignal:()=>v,useSignalEffect:()=>E});var i=n(4576),r=n(6540),s=n(9888);n(4848),n(5446),new Map;var a,o=r.version.split(".").map(Number),l=[],c=Symbol.for(o[0]>=19?"react.transitional.element":"react.element"),u=function(){},d=Symbol.dispose||Symbol.for("Symbol.dispose");function h(e,t){var n=t.effect.S();return a=t,p.bind(t,e,n)}function p(e,t){t(),a=e}({u:0,effect:{s:void 0,c:function(){},S:function(){return u},d:function(){}},subscribe:function(){return u},getSnapshot:function(){return 0},S:function(){},f:function(){}})[d]=function(){};var f,g=Promise.prototype.then.bind(Promise.resolve());function A(){var e;f=void 0,null==(e=a)||e.f()}var m="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function v(e){return(0,r.useMemo)(function(){return(0,i.vP)(e)},l)}function y(e){var t=(0,r.useRef)(e);return t.current=e,(0,r.useMemo)(function(){return(0,i.EW)(function(){return t.current()})},l)}function E(e){var t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)(function(){return(0,i.QZ)(function(){return t.current()})},l)}Object.defineProperties(i.HN.prototype,{$$typeof:{configurable:!0,value:c},type:{configurable:!0,value:function(e){var t=e.data,n=function(e){void 0===e&&(e=0),f||(f=g(A));var t=(0,r.useRef)();null==t.current&&(t.current=function(e){var t,n,r,s,o=0,l=(0,i.QZ)(function(){n=this});return n.c=function(){o=o+1|0,s&&s()},(t={u:e,effect:n,subscribe:function(e){return s=e,function(){o=o+1|0,s=void 0,l()}},getSnapshot:function(){return o},S:function(){if(null!=a){var e=a.u,t=this.u;0==e&&0==t||0==e&&1==t?(a.f(),r=h(void 0,this)):1==e&&0==t||2==e&&0==t||(r=h(a,this))}else r=h(void 0,this)},f:function(){var e=r;r=void 0,null==e||e()}})[d]=function(){this.f()},t}(e));var n=t.current;return(0,s.useSyncExternalStore)(n.subscribe,n.getSnapshot,n.getSnapshot),n.S(),0===e&&m(A),n}(1);try{return t.value}finally{n.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}})},5214(e,t,n){"use strict";n.d(t,{A:()=>te,B:()=>C,C:()=>ne,D:()=>ie,E:()=>T,F:()=>re,G:()=>oe,_:()=>Ne,a:()=>w,b:()=>x,c:()=>Oe,d:()=>Ue,e:()=>Ee,f:()=>ct,g:()=>Z,h:()=>Je,i:()=>S,j:()=>Xe,k:()=>je,l:()=>qe,m:()=>at,n:()=>ot,o:()=>Fe,p:()=>Ve,q:()=>$,r:()=>De,s:()=>W,t:()=>m,u:()=>I,v:()=>B,w:()=>_,x:()=>y,y:()=>P,z:()=>ee});var i=n(6540),r=n.t(i,2),s=n(4922),a=n(9437),o=n(9242),l=n(7283);const{useSyncExternalStoreWithSelector:c}=o,u=e=>e,d=(e,t)=>{const n=(0,l.y)(e),r=(e,r=t)=>function(e,t=u,n){const r=c(e.subscribe,e.getState,e.getInitialState,t,n);return i.useDebugValue(r),r}(n,e,r);return Object.assign(r,n),r},h=(e,t)=>e?d(e,t):d;var p=n(6749),f=n(9982),g=n(4848),A=n(9318),m=Object.freeze({__proto__:null});function v(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const y=r.act,E=e=>e&&e.isOrthographicCamera,S=e=>e&&e.hasOwnProperty("current"),b=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),x=((e,t)=>"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product)))()?i.useLayoutEffect:i.useEffect;function w(e){const t=i.useRef(e);return x(()=>{t.current=e},[e]),t}function I(){const e=(0,A.u5)(),t=(0,A.y3)();return i.useMemo(()=>({children:n})=>{const r=(0,A.Nz)(e,!0,e=>e.type===i.StrictMode)?i.StrictMode:i.Fragment;return(0,g.jsx)(r,{children:(0,g.jsx)(t,{children:n})})},[e,t])}function C({set:e}){return x(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}const T=(e=>((e=class extends i.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function M(e){var t;const n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function B(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}const R={obj:e=>e===Object(e)&&!R.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(R.str(e)||R.num(e)||R.boo(e))return e===t;const s=R.obj(e);if(s&&"reference"===i)return e===t;const a=R.arr(e);if(a&&"reference"===n)return e===t;if((a||s)&&e===t)return!0;let o;for(o in e)if(!(o in t))return!1;if(s&&"shallow"===n&&"shallow"===i){for(o in r?t:e)if(!R.equ(e[o],t[o],{strict:r,objects:"reference"}))return!1}else for(o in r?t:e)if(e[o]!==t[o])return!1;if(R.und(o)){if(a&&0===e.length&&0===t.length)return!0;if(s&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function P(e){const t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function _(e){"Scene"!==e.type&&(null==e.dispose||e.dispose());for(const t in e){const n=e[t];"Scene"!==(null==n?void 0:n.type)&&(null==n||null==n.dispose||n.dispose())}}const D=["children","key","ref"];function N(e){const t={};for(const n in e)D.includes(n)||(t[n]=e[n]);return t}function L(e,t,n,i){const r=e;let s=null==r?void 0:r.__r3f;return s||(s={root:t,type:n,parent:null,children:[],props:N(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function O(e,t){if(!t.includes("-"))return{root:e,key:t,target:e[t]};if(t in e)return{root:e,key:t,target:e[t]};let n=e;const i=t.split("-");for(const r of i){if("object"!=typeof n||null===n)return void 0!==n?{root:n,key:i.slice(i.indexOf(r)).join("-"),target:void 0}:{root:e,key:t,target:void 0};e=n,n=n[t=r]}return{root:e,key:t,target:n}}const k=/-\d+$/;function U(e,t){if(R.str(t.props.attach)){if(k.test(t.props.attach)){const n=t.props.attach.replace(k,""),{root:i,key:r}=O(e.object,n);Array.isArray(i[r])||(i[r]=[])}const{root:n,key:i}=O(e.object,t.props.attach);t.previousAttach=n[i],n[i]=t.object}else R.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function F(e,t){if(R.str(t.props.attach)){const{root:n,key:i}=O(e.object,t.props.attach),r=t.previousAttach;void 0===r?delete n[i]:n[i]=r}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}const Q=[...D,"args","dispose","attach","object","onUpdate","dispose"],V=new Map;function H(e){let t=V.get(e.constructor);try{t||(t=new e.constructor,V.set(e.constructor,t))}catch(e){}return t}const G=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],z=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function W(e,t){var n;const i=e.__r3f,r=i&&v(i).getState(),a=null==i?void 0:i.eventCount;for(const n in t){let a=t[n];if(Q.includes(n))continue;if(i&&z.test(n)){"function"==typeof a?i.handlers[n]=a:delete i.handlers[n],i.eventCount=Object.keys(i.handlers).length;continue}if(void 0===a)continue;let{root:l,key:c,target:u}=O(e,n);if(void 0===u&&("object"!=typeof l||null===l))throw Error(`R3F: Cannot set "${n}". Ensure it is an object before setting "${c}".`);if(u instanceof s.zgK&&a instanceof s.zgK)u.mask=a.mask;else if(u instanceof s.Q1f&&b(a))u.set(a);else if(null!==u&&"object"==typeof u&&"function"==typeof u.set&&"function"==typeof u.copy&&null!=a&&a.constructor&&u.constructor===a.constructor)u.copy(a);else if(null!==u&&"object"==typeof u&&"function"==typeof u.set&&Array.isArray(a))"function"==typeof u.fromArray?u.fromArray(a):u.set(...a);else if(null!==u&&"object"==typeof u&&"function"==typeof u.set&&"number"==typeof a)"function"==typeof u.setScalar?u.setScalar(a):u.set(a);else{var o;l[c]=a,r&&!r.linear&&G.includes(c)&&null!=(o=l[c])&&o.isTexture&&l[c].format===s.GWd&&l[c].type===s.OUM&&(l[c].colorSpace=s.er$)}}if(null!=i&&i.parent&&null!=r&&r.internal&&null!=(n=i.object)&&n.isObject3D&&a!==i.eventCount){const e=i.object,t=r.internal.interaction.indexOf(e);t>-1&&r.internal.interaction.splice(t,1),i.eventCount&&null!==e.raycast&&r.internal.interaction.push(e)}return i&&void 0===i.props.attach&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&X(i),e}function X(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);const n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function j(e,t){e.manual||(E(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix())}const q=e=>null==e?void 0:e.isObject3D;function Y(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function J(e,t,n,i){const r=n.get(t);r&&(n.delete(t),0===n.size&&(e.delete(i),r.target.releasePointerCapture(i)))}function Z(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const i=e.eventObject.__r3f;if(n.hovered.delete(Y(e)),null!=i&&i.eventCount){const n=i.handlers,r={...e,intersections:t};null==n.onPointerOut||n.onPointerOut(r),null==n.onPointerLeave||n.onPointerLeave(r)}}}function i(e,t){for(let n=0;n<t.length;n++){const i=t[n].__r3f;null==i||null==i.handlers.onPointerMissed||i.handlers.onPointerMissed(e)}}return{handlePointer:function(r){switch(r){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:i}=e.getState();"pointerId"in t&&i.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{i.capturedMap.has(t.pointerId)&&(i.capturedMap.delete(t.pointerId),n([]))})}}return function(a){const{onPointerMissed:o,internal:l}=e.getState();l.lastEvent.current=a;const c="onPointerMove"===r,u="onClick"===r||"onContextMenu"===r||"onDoubleClick"===r,d=function(t,n){const i=e.getState(),r=new Set,s=[],a=n?n(i.internal.interaction):i.internal.interaction;for(let e=0;e<a.length;e++){const t=B(a[e]);t&&(t.raycaster.camera=void 0)}i.previousRoot||null==i.events.compute||i.events.compute(t,i);let o=a.flatMap(function(e){const n=B(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(i=n.previousRoot)?void 0:i.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var i}).sort((e,t)=>{const n=B(e.object),i=B(t.object);return n&&i&&i.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=Y(e);return!r.has(t)&&(r.add(t),!0)});i.events.filter&&(o=i.events.filter(o,i));for(const e of o){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&s.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&i.internal.capturedMap.has(t.pointerId))for(let e of i.internal.capturedMap.get(t.pointerId).values())r.has(Y(e.intersection))||s.push(e.intersection);return s}(a,c?t:void 0),h=u?function(t){const{internal:n}=e.getState(),i=t.offsetX-n.initialClick[0],r=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(i*i+r*r))}(a):0;"onPointerDown"===r&&(l.initialClick=[a.offsetX,a.offsetY],l.initialHits=d.map(e=>e.eventObject)),u&&!d.length&&h<=2&&(i(a,l.interaction),o&&o(a)),c&&n(d),function(e,t,i,r){if(e.length){const a={stopped:!1};for(const o of e){let l=B(o.object);if(l||o.object.traverseAncestors(e=>{const t=B(e);if(t)return l=t,!1}),l){const{raycaster:c,pointer:u,camera:d,internal:h}=l,p=new s.Pq0(u.x,u.y,0).unproject(d),f=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},g=e=>{const n={intersection:o,target:t.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(o.eventObject,n):h.capturedMap.set(e,new Map([[o.eventObject,n]])),t.target.setPointerCapture(e)},A=e=>{const t=h.capturedMap.get(e);t&&J(h.capturedMap,o.eventObject,t,e)};let m={};for(let e in t){let n=t[e];"function"!=typeof n&&(m[e]=n)}let v={...o,...m,pointer:u,intersections:e,stopped:a.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:d,stopPropagation(){const i="pointerId"in t&&h.capturedMap.get(t.pointerId);(!i||i.has(o.eventObject))&&(v.stopped=a.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find(e=>e.eventObject===o.eventObject))&&n([...e.slice(0,e.indexOf(o)),o])},target:{hasPointerCapture:f,setPointerCapture:g,releasePointerCapture:A},currentTarget:{hasPointerCapture:f,setPointerCapture:g,releasePointerCapture:A},nativeEvent:t};if(r(v),!0===a.stopped)break}}}}(d,a,h,function(e){const t=e.eventObject,n=t.__r3f;if(null==n||!n.eventCount)return;const s=n.handlers;if(c){if(s.onPointerOver||s.onPointerEnter||s.onPointerOut||s.onPointerLeave){const t=Y(e),n=l.hovered.get(t);n?n.stopped&&e.stopPropagation():(l.hovered.set(t,e),null==s.onPointerOver||s.onPointerOver(e),null==s.onPointerEnter||s.onPointerEnter(e))}null==s.onPointerMove||s.onPointerMove(e)}else{const n=s[r];n?u&&!l.initialHits.includes(t)||(i(a,l.interaction.filter(e=>!l.initialHits.includes(e))),n(e)):u&&l.initialHits.includes(t)&&i(a,l.interaction.filter(e=>!l.initialHits.includes(e)))}})}}}}const K=e=>!(null==e||!e.render),$=i.createContext(null);function ee(e){const t=i.useRef(null);return i.useImperativeHandle(t,()=>e.current.__r3f,[e]),t}function te(){const e=i.useContext($);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function ne(e=e=>e,t){return te()(e,t)}function ie(e,t=0){const n=te(),i=n.getState().internal.subscribe,r=w(e);return x(()=>i(r,t,n),[t,i,n]),null}function re(e){return i.useMemo(()=>P(e),[e])}const se=new WeakMap;function ae(e,t){return function(n,...i){let r;var s,a;return"function"==typeof(s=n)&&(null==s||null==(a=s.prototype)?void 0:a.constructor)===s?(r=se.get(n),r||(r=new n,se.set(n,r))):r=n,e&&e(r),Promise.all(i.map(e=>new Promise((n,i)=>r.load(e,e=>{q(null==e?void 0:e.scene)&&Object.assign(e,P(e.scene)),n(e)},t,t=>i(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function oe(e,t,n,i){const r=Array.isArray(t)?t:[t],s=(0,p.DY)(ae(n,i),[e,...r],{equal:R.equ});return Array.isArray(t)?s:s[0]}oe.preload=function(e,t,n){const i=Array.isArray(t)?t:[t];return(0,p.uv)(ae(n),[e,...i])},oe.clear=function(e,t){const n=Array.isArray(t)?t:[t];return(0,p.IU)([e,...n])};var le,ce,ue={exports:{}},de={exports:{}};var he=(ce||(ce=1,ue.exports=function(){return le||(le=1,(e=de).exports=function(e){function t(e,t,n,i){return new Vr(e,t,n,i)}function n(){}function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(s(e)!==e)throw Error(r(188))}function o(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(i=o.return)){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return a(o),e;if(l===i)return a(o),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=l;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,i=l;break}if(u===i){c=!0,i=o,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,i=o;break}if(u===i){c=!0,i=l,n=o;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(4!==e.tag&&null!==(t=c(e)))return t;e=e.sibling}return null}function u(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=bs&&e[bs]||e["@@iterator"])?e:null}function d(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===xs?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case us:return"Fragment";case hs:return"Profiler";case ds:return"StrictMode";case As:return"Suspense";case ms:return"SuspenseList";case Es:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case cs:return"Portal";case fs:return e.displayName||"Context";case ps:return(e._context.displayName||"Context")+".Consumer";case gs:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case vs:return null!==(t=e.displayName||null)?t:d(e.type)||"Memo";case ys:t=e._payload,e=e._init;try{return d(e(t))}catch{}}return null}function h(e){return{current:e}}function p(e){0>jo||(e.current=Xo[jo],Xo[jo]=null,jo--)}function g(e,t){jo++,Xo[jo]=e.current,e.current=t}function A(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function m(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~s)?r=A(i):0!==(a&=o)?r=A(a):n||0!==(n=o&~e)&&(r=A(n)):0!==(o=i&~s)?r=A(o):0!==a?r=A(a):n||0!==(n=i&~e)&&(r=A(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function v(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function y(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function E(){var e=el;return!(62914560&(el<<=1))&&(el=4194304),e}function S(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function b(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function x(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Yo(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function w(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Yo(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function I(e,t){var n=t&-t;return 0!==((n=42&n?1:C(n))&(e.suspendedLanes|t))?0:n}function C(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function T(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function M(e){if("function"==typeof ul&&dl(e),pl&&"function"==typeof pl.setStrictMode)try{pl.setStrictMode(hl,e)}catch{}}function B(e){if(void 0===bo)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);bo=t&&t[1]||"",xo=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+bo+e+xo}function R(e,t){if(!e||ml)return"";ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{ml=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?B(n):""}function P(e,t){switch(e.tag){case 26:case 27:case 5:return B(e.type);case 16:return B("Lazy");case 13:return e.child!==t&&null!==t?B("Suspense Fallback"):B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return R(e.type,!1);case 11:return R(e.type.render,!1);case 1:return R(e.type,!0);case 31:return B("Activity");default:return""}}function _(e){try{var t="",n=null;do{t+=P(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function D(e,t){if("object"==typeof e&&null!==e){var n=vl.get(e);return void 0!==n?n:(t={value:e,source:t,stack:_(t)},vl.set(e,t),t)}return{value:e,source:t,stack:_(t)}}function N(e,t){yl[El++]=bl,yl[El++]=Sl,Sl=e,bl=t}function L(e,t,n){xl[wl++]=Cl,xl[wl++]=Tl,xl[wl++]=Il,Il=e;var i=Cl;e=Tl;var r=32-Yo(i)-1;i&=~(1<<r),n+=1;var s=32-Yo(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Cl=1<<32-Yo(t)+r|n<<r|i,Tl=s+e}else Cl=1<<s|n<<r|i,Tl=e}function O(e){null!==e.return&&(N(e,1),L(e,1,0))}function k(e){for(;e===Sl;)Sl=yl[--El],yl[El]=null,bl=yl[--El],yl[El]=null;for(;e===Il;)Il=xl[--wl],xl[wl]=null,Tl=xl[--wl],xl[wl]=null,Cl=xl[--wl],xl[wl]=null}function U(e,t){xl[wl++]=Cl,xl[wl++]=Tl,xl[wl++]=Il,Cl=t.id,Tl=t.overflow,Il=e}function F(e,t){g(Rl,t),g(Bl,e),g(Ml,null),e=Rs(t),p(Ml),g(Ml,e)}function Q(){p(Ml),p(Bl),p(Rl)}function V(e){null!==e.memoizedState&&g(Pl,e);var t=Ml.current,n=Ps(t,e.type);t!==n&&(g(Bl,e),g(Ml,n))}function H(e){Bl.current===e&&(p(Ml),p(Bl)),Pl.current===e&&(p(Pl),Hs?oa._currentValue=aa:oa._currentValue2=aa)}function G(e){throw Y(D(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),kl}function z(e,t){if(!Ws)throw Error(r(175));ro(e.stateNode,e.type,e.memoizedProps,t,e)||G(e,!0)}function W(e){for(_l=e.return;_l;)switch(_l.tag){case 5:case 31:case 13:return void(Ol=!1);case 27:case 3:return void(Ol=!0);default:_l=_l.return}}function X(e){if(!Ws||e!==_l)return!1;if(!Nl)return W(e),Nl=!0,!1;var t=e.tag;if(Qo?3!==t&&27!==t&&(5!==t||So(e.type)&&!ks(e.type,e.memoizedProps))&&Dl&&G(e):3!==t&&(5!==t||So(e.type)&&!ks(e.type,e.memoizedProps))&&Dl&&G(e),W(e),13===t){if(!Ws)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));Dl=co(e)}else if(31===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));Dl=lo(e)}else Dl=Qo&&27===t?qa(e.type,Dl):_l?ja(e.stateNode):null;return!0}function j(){Ws&&(Dl=_l=null,Nl=!1)}function q(){var e=Ll;return null!==e&&(null===Su?Su=e:Su.push.apply(Su,e),Ll=null),e}function Y(e){null===Ll?Ll=[e]:Ll.push(e)}function J(e,t,n){Hs?(g(Ul,t._currentValue),t._currentValue=n):(g(Ul,t._currentValue2),t._currentValue2=n)}function Z(e){var t=Ul.current;Hs?e._currentValue=t:e._currentValue2=t,p(Ul)}function K(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function $(e,t,n,i){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),K(a.return,n,e),i||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(r(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),K(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function ee(e,t,n,i){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(524288&s.flags)a=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=s.type;fl(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===Pl.current){if(null===(o=s.alternate))throw Error(r(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(oa):e=[oa])}s=s.return}null!==e&&$(t,e,n,i),t.flags|=262144}function te(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!fl(Hs?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function ne(e){Fl=e,Ql=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ie(e){return se(Fl,e)}function re(e,t){return null===Fl&&ne(e),se(e,t)}function se(e,t){var n=Hs?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===Ql){if(null===e)throw Error(r(308));Ql=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ql=Ql.next=t;return n}function ae(){return{controller:new Vl,data:new Map,refCount:0}}function oe(e){e.refCount--,0===e.refCount&&Hl(Gl,function(){e.controller.abort()})}function le(){}function ce(e){e!==Xl&&null===e.next&&(null===Xl?Wl=Xl=e:Xl=Xl.next=e),ql=!0,jl||(jl=!0,ca?ua(function(){6&ru?tl(al,de):he()}):tl(al,de))}function ue(e,t){if(!Yl&&ql){Yl=!0;do{for(var n=!1,i=Wl;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-Yo(42|e)+1)-1,s=201326741&(s&=r&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,ge(i,s))}else s=ou,!(3&(s=m(i,i===su?s:0,null!==i.cancelPendingCommit||i.timeoutHandle!==Vs)))||v(i,s)||(n=!0,ge(i,s));i=i.next}}while(n);Yl=!1}}function de(){he()}function he(){ql=jl=!1;var e=0;0!==Jl&&Zs()&&(e=Jl);for(var t=sl(),n=null,i=Wl;null!==i;){var r=i.next,s=pe(i,t);0===s?(i.next=null,null===n?Wl=r:n.next=r,null===r&&(Xl=n)):(n=i,(0!==e||!!(3&s))&&(ql=!0)),i=r}0!==Mu&&5!==Mu||ue(e,!1),0!==Jl&&(Jl=0)}function pe(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-Yo(s),o=1<<a,l=r[a];-1===l?(0===(o&n)||0!==(o&i))&&(r[a]=y(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=ou,n=m(e,e===(t=su)?n:0,null!==e.cancelPendingCommit||e.timeoutHandle!==Vs),i=e.callbackNode,0===n||e===t&&(2===lu||9===lu)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&nl(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||v(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&nl(i),T(n)){case 2:case 8:n=ol;break;case 32:default:n=ll;break;case 268435456:n=cl}return i=fe.bind(null,e),n=tl(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&nl(i),e.callbackPriority=2,e.callbackNode=null,2}function fe(e,t){if(0!==Mu&&5!==Mu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_r()&&e.callbackNode!==n)return null;var i=ou;return 0===(i=m(e,e===su?i:0,null!==e.cancelPendingCommit||e.timeoutHandle!==Vs))?null:(or(e,i,t),pe(e,sl()),null!=e.callbackNode&&e.callbackNode===n?fe.bind(null,e):null)}function ge(e,t){if(_r())return null;or(e,t,!0)}function Ae(){if(0===Jl){var e=$l;0===e&&(e=Ko,!(261888&(Ko<<=1))&&(Ko=256)),Jl=e}return Jl}function me(){if(0===--Kl&&null!==Zl){null!==ec&&(ec.status="fulfilled");var e=Zl;Zl=null,$l=0,ec=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ve(){var e=nc.current;return null!==e?e:su.pooledCache}function ye(e,t){g(nc,null===t?nc.current:t.pool)}function Ee(){var e=ve();return null===e?null:{parent:Hs?zl._currentValue:zl._currentValue2,pool:e}}function Se(e,t){if(fl(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Al.call(t,r)||!fl(e[r],t[r]))return!1}return!0}function be(e){return"fulfilled"===(e=e.status)||"rejected"===e}function xe(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(le,le),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw Ce(e=t.reason),e;default:if("string"==typeof t.status)t.then(le,le);else{if(null!==(e=su)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Ce(e=t.reason),e}throw oc=t,ic}}function we(e){try{return(0,e._init)(e._payload)}catch(e){throw null!==e&&"object"==typeof e&&"function"==typeof e.then?(oc=e,ic):e}}function Ie(){if(null===oc)throw Error(r(459));var e=oc;return oc=null,e}function Ce(e){if(e===ic||e===sc)throw Error(r(483))}function Te(e){var t=cc;return cc+=1,null===lc&&(lc=[]),xe(lc,e,t)}function Me(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Be(e,t){throw t.$$typeof===os?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Re(e){function n(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function i(t,i){if(!e)return null;for(;null!==i;)n(t,i),i=i.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Gr(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=jr(n,e.mode,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n,i){var r=n.type;return r===us?p(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===ys&&we(r)===t.type)?(Me(t=a(t,n.props),n),t.return=e,t):(Me(t=Wr(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yr(n,e.mode,i)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,i,r){return null===t||7!==t.tag?((t=Xr(n,e.mode,i,r)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ls:return Me(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case cs:return(t=Yr(t,e.mode,n)).return=e,t;case ys:return f(e,t=we(t),n)}if(ws(t)||u(t))return(t=Xr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,Te(t),n);if(t.$$typeof===fs)return f(e,re(e,t),n);Be(e,t)}return null}function g(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:c(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ls:return n.key===r?d(e,t,n,i):null;case cs:return n.key===r?h(e,t,n,i):null;case ys:return g(e,t,n=we(n),i)}if(ws(n)||u(n))return null!==r?null:p(e,t,n,i,null);if("function"==typeof n.then)return g(e,t,Te(n),i);if(n.$$typeof===fs)return g(e,t,re(e,n),i);Be(e,n)}return null}function A(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ls:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case cs:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case ys:return A(e,t,n,i=we(i),r)}if(ws(i)||u(i))return p(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return A(e,t,n,Te(i),r);if(i.$$typeof===fs)return A(e,t,n,re(t,i),r);Be(t,i)}return null}function m(t,c,d,h){if("object"==typeof d&&null!==d&&d.type===us&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case ls:e:{for(var p=d.key;null!==c;){if(c.key===p){if((p=d.type)===us){if(7===c.tag){i(t,c.sibling),(h=a(c,d.props.children)).return=t,t=h;break e}}else if(c.elementType===p||"object"==typeof p&&null!==p&&p.$$typeof===ys&&we(p)===c.type){i(t,c.sibling),Me(h=a(c,d.props),d),h.return=t,t=h;break e}i(t,c);break}n(t,c),c=c.sibling}d.type===us?((h=Xr(d.props.children,t.mode,h,d.key)).return=t,t=h):(Me(h=Wr(d.type,d.key,d.props,null,t.mode,h),d),h.return=t,t=h)}return l(t);case cs:e:{for(p=d.key;null!==c;){if(c.key===p){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){i(t,c.sibling),(h=a(c,d.children||[])).return=t,t=h;break e}i(t,c);break}n(t,c),c=c.sibling}(h=Yr(d,t.mode,h)).return=t,t=h}return l(t);case ys:return m(t,c,d=we(d),h)}if(ws(d))return function(t,r,a,l){for(var c=null,u=null,d=r,h=r=0,p=null;null!==d&&h<a.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var m=g(t,d,a[h],l);if(null===m){null===d&&(d=p);break}e&&d&&null===m.alternate&&n(t,d),r=o(m,r,h),null===u?c=m:u.sibling=m,u=m,d=p}if(h===a.length)return i(t,d),Nl&&N(t,h),c;if(null===d){for(;h<a.length;h++)null!==(d=f(t,a[h],l))&&(r=o(d,r,h),null===u?c=d:u.sibling=d,u=d);return Nl&&N(t,h),c}for(d=s(d);h<a.length;h++)null!==(p=A(d,t,h,a[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),r=o(p,r,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return n(t,e)}),Nl&&N(t,h),c}(t,c,d,h);if(u(d)){if("function"!=typeof(p=u(d)))throw Error(r(150));return function(t,a,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=a,p=a=0,m=null,v=l.next();null!==h&&!v.done;p++,v=l.next()){h.index>p?(m=h,h=null):m=h.sibling;var y=g(t,h,v.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&n(t,h),a=o(y,a,p),null===d?u=y:d.sibling=y,d=y,h=m}if(v.done)return i(t,h),Nl&&N(t,p),u;if(null===h){for(;!v.done;p++,v=l.next())null!==(v=f(t,v.value,c))&&(a=o(v,a,p),null===d?u=v:d.sibling=v,d=v);return Nl&&N(t,p),u}for(h=s(h);!v.done;p++,v=l.next())null!==(v=A(h,t,p,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?p:v.key),a=o(v,a,p),null===d?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return n(t,e)}),Nl&&N(t,p),u}(t,c,d=p.call(d),h)}if("function"==typeof d.then)return m(t,c,Te(d),h);if(d.$$typeof===fs)return m(t,c,re(t,d),h);Be(t,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(i(t,c.sibling),(h=a(c,d)).return=t,t=h):(i(t,c),(h=jr(d,t.mode,h)).return=t,t=h),l(t)):i(t,c)}return function(e,n,i,r){try{cc=0;var s=m(e,n,i,r);return lc=null,s}catch(n){if(n===ic||n===sc)throw n;var a=t(29,n,null,e.mode);return a.lanes=r,a.return=e,a}}}function Pe(){for(var e=pc,t=fc=pc=0;t<e;){var n=hc[t];hc[t++]=null;var i=hc[t];hc[t++]=null;var r=hc[t];hc[t++]=null;var s=hc[t];if(hc[t++]=null,null!==i&&null!==r){var a=i.pending;null===a?r.next=r:(r.next=a.next,a.next=r),i.pending=r}0!==s&&Le(n,r,s)}}function _e(e,t,n,i){hc[pc++]=e,hc[pc++]=t,hc[pc++]=n,hc[pc++]=i,fc|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function De(e,t,n,i){return _e(e,t,n,i),Oe(e)}function Ne(e,t){return _e(e,null,null,t),Oe(e)}function Le(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-Yo(n),null===(i=(e=s.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),s):null}function Oe(e){if(50<Lu)throw Lu=0,Ou=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function ke(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fe(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qe(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&ru){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Oe(e),Le(e,null,n),t}return _e(e,i,t,n),Oe(e)}function Ve(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,w(e,n)}}function He(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ge(){if(Ac&&null!==ec)throw ec}function ze(e,t,n,i){Ac=!1;var r=e.updateQueue;gc=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l)}if(null!==s){var d=r.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(ou&h)===h:(i&h)===h){0!==h&&h===$l&&(Ac=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;h=t;var A=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){d=f.call(A,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=g.payload)?f.call(A,d,h):f))break e;d=as({},d,h);break e;case 2:gc=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),gu|=a,e.lanes=a,e.memoizedState=d}}function We(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Xe(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)We(n[e],t)}function je(e,t){g(vc,e=pu),g(mc,t),pu=e|t.baseLanes}function qe(){g(vc,pu),g(mc,mc.current)}function Ye(){pu=vc.current,p(mc),p(vc)}function Je(e){var t=e.alternate;g(Sc,1&Sc.current),g(yc,e),null===Ec&&(null===t||null!==mc.current||null!==t.memoizedState)&&(Ec=e)}function Ze(e){g(Sc,Sc.current),g(yc,e),null===Ec&&(Ec=e)}function Ke(e){22===e.tag?(g(Sc,Sc.current),g(yc,e),null===Ec&&(Ec=e)):$e()}function $e(){g(Sc,Sc.current),g(yc,yc.current)}function et(e){p(yc),Ec===e&&(Ec=null),p(Sc)}function tt(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Va(n)||Ha(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function nt(){throw Error(r(321))}function it(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fl(e[n],t[n]))return!1;return!0}function rt(e,t,n,i,r,s){return bc=s,xc=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.H=null===e||null===e.memoizedState?Nc:Lc,Mc=!1,s=n(i,r),Mc=!1,Tc&&(s=at(t,n,i,r)),st(e),s}function st(e){Is.H=Dc;var t=null!==wc&&null!==wc.next;if(bc=0,Ic=wc=xc=null,Cc=!1,Rc=0,Pc=null,t)throw Error(r(300));null===e||Fc||null!==(e=e.dependencies)&&te(e)&&(Fc=!0)}function at(e,t,n,i){xc=e;var s=0;do{if(Tc&&(Pc=null),Rc=0,Tc=!1,25<=s)throw Error(r(301));if(s+=1,Ic=wc=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}Is.H=Oc,a=t(n,i)}while(Tc);return a}function ot(){var e=Is.H,t=e.useState()[0];return t="function"==typeof t.then?pt(t):t,e=e.useState()[0],(null!==wc?wc.memoizedState:null)!==e&&(xc.flags|=1024),t}function lt(){var e=0!==Bc;return Bc=0,e}function ct(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ut(e){if(Cc){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Cc=!1}bc=0,Ic=wc=xc=null,Tc=!1,Rc=Bc=0,Pc=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ic?xc.memoizedState=Ic=e:Ic=Ic.next=e,Ic}function ht(){if(null===wc){var e=xc.alternate;e=null!==e?e.memoizedState:null}else e=wc.next;var t=null===Ic?xc.memoizedState:Ic.next;if(null!==t)Ic=t,wc=e;else{if(null===e)throw null===xc.alternate?Error(r(467)):Error(r(310));e={memoizedState:(wc=e).memoizedState,baseState:wc.baseState,baseQueue:wc.baseQueue,queue:wc.queue,next:null},null===Ic?xc.memoizedState=Ic=e:Ic=Ic.next=e}return Ic}function pt(e){var t=Rc;return Rc+=1,null===Pc&&(Pc=[]),e=xe(Pc,e,t),t=xc,null===(null===Ic?t.memoizedState:Ic.next)&&(t=t.alternate,Is.H=null===t||null===t.memoizedState?Nc:Lc),e}function ft(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return pt(e);if(e.$$typeof===fs)return ie(e)}throw Error(r(438,String(e)))}function gt(e){var t=null,n=xc.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=xc.alternate;null!==i&&null!==(i=i.updateQueue)&&null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xc.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ss;return t.index++,n}function At(e,t){return"function"==typeof t?t(e):t}function mt(e){return vt(ht(),wc,e)}function vt(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var s=e.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,i.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ou&h)===h:(bc&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$l&&(d=!0);else{if((bc&p)===p){u=u.next,p===$l&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,xc.lanes|=p,gu|=p}h=u.action,Mc&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=a):c=c.next=p,xc.lanes|=h,gu|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!fl(a,e.memoizedState)&&(Fc=!0,d&&null!==(n=ec)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,i.lastRenderedState=a}return null===s&&(i.lanes=0),[e.memoizedState,i.dispatch]}function yt(e){var t=ht(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);fl(a,t.memoizedState)||(Fc=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Et(e,t,n){var i=xc,s=ht(),a=Nl;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!fl((wc||s).memoizedState,n);if(o&&(s.memoizedState=n,Fc=!0),s=s.queue,Wt(xt.bind(null,i,s,e),[e]),s.getSnapshot!==t||o||null!==Ic&&1&Ic.memoizedState.tag){if(i.flags|=2048,Qt(9,{destroy:void 0},bt.bind(null,i,s,n,t),null),null===su)throw Error(r(349));a||127&bc||St(i,t,n)}return n}function St(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xc.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xc.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bt(e,t,n,i){t.value=n,t.getSnapshot=i,wt(t)&&It(e)}function xt(e,t,n){return n(function(){wt(t)&&It(e)})}function wt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fl(e,n)}catch{return!0}}function It(e){var t=Ne(e,2);null!==t&&ar(t,0,2)}function Ct(e){var t=dt();if("function"==typeof e){var n=e;if(e=n(),Mc){M(!0);try{n()}finally{M(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:At,lastRenderedState:e},t}function Tt(e,t,n,i){return e.baseState=n,vt(e,wc,"function"==typeof i?i:At)}function Mt(e,t,n,i,s){if(pn(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==Is.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,Bt(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Bt(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Is.T,a={};Is.T=a;try{var o=n(r,i),l=Is.S;null!==l&&l(a,o),Rt(e,t,o)}catch(n){_t(e,t,n)}finally{null!==s&&null!==a.types&&(s.types=a.types),Is.T=s}}else try{Rt(e,t,s=n(r,i))}catch(n){_t(e,t,n)}}function Rt(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Pt(e,t,n)},function(n){return _t(e,t,n)}):Pt(e,t,n)}function Pt(e,t,n){t.status="fulfilled",t.value=n,Dt(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Bt(e,n)))}function _t(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,Dt(t),t=t.next}while(t!==i)}e.action=null}function Dt(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nt(e,t){return t}function Lt(e,t){if(Nl){var n=su.formState;if(null!==n){e:{var i=xc;if(Nl){if(Dl){var r=Wa(Dl,Ol);if(r){Dl=ja(r),i=Xa(r);break e}}G(i)}i=!1}i&&(t=n[0])}}(n=dt()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nt,lastRenderedState:t},n.queue=i,n=un.bind(null,xc,i),i.dispatch=n,i=Ct(!1);var s=hn.bind(null,xc,!1,i.queue);return r={state:t,dispatch:null,action:e,pending:null},(i=dt()).queue=r,n=Mt.bind(null,xc,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ot(e){return kt(ht(),wc,e)}function kt(e,t,n){if(t=vt(e,t,Nt)[0],e=mt(At)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var i=pt(t)}catch(e){throw e===ic?sc:e}else i=t;var r=(t=ht()).queue,s=r.dispatch;return n!==t.memoizedState&&(xc.flags|=2048,Qt(9,{destroy:void 0},Ut.bind(null,r,n),null)),[i,s,e]}function Ut(e,t){e.action=t}function Ft(e){var t=ht(),n=wc;if(null!==n)return kt(t,n,e);ht(),t=t.memoizedState;var i=(n=ht()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Qt(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=xc.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xc.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Vt(){return ht().memoizedState}function Ht(e,t,n,i){var r=dt();xc.flags|=e,r.memoizedState=Qt(1|t,{destroy:void 0},n,void 0===i?null:i)}function Gt(e,t,n,i){var r=ht();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==wc&&null!==i&&it(i,wc.memoizedState.deps)?r.memoizedState=Qt(t,s,n,i):(xc.flags|=e,r.memoizedState=Qt(1|t,s,n,i))}function zt(e,t){Ht(8390656,8,e,t)}function Wt(e,t){Gt(2048,8,e,t)}function Xt(e){var t=ht().memoizedState;return function(e){xc.flags|=4;var t=xc.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},xc.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&ru)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function jt(e,t){return Gt(4,2,e,t)}function qt(e,t){return Gt(4,4,e,t)}function Yt(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Jt(e,t,n){n=null!=n?n.concat([e]):null,Gt(4,4,Yt.bind(null,t,e),n)}function Zt(){}function Kt(e,t){var n=ht();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&it(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $t(e,t){var n=ht();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&it(t,i[1]))return i[0];if(i=e(),Mc){M(!0);try{e()}finally{M(!1)}}return n.memoizedState=[i,t],i}function en(e,t,n){return void 0===n||1073741824&bc&&!(261930&ou)?e.memoizedState=t:(e.memoizedState=n,e=sr(),xc.lanes|=e,gu|=e,n)}function tn(e,t,n,i){return fl(n,t)?n:null!==mc.current?(e=en(e,n,i),fl(e,t)||(Fc=!0),e):42&bc&&(!(1073741824&bc)||261930&ou)?(e=sr(),xc.lanes|=e,gu|=e,t):(Fc=!0,e.memoizedState=n)}function nn(e,t,n,i,r){var s=Ys();qs(0!==s&&8>s?s:8);var a=Is.T,o={};Is.T=o,hn(e,!1,t,n);try{var l=r(),c=Is.S;if(null!==c&&c(o,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i);dn(e,t,u,rr())}else dn(e,t,i,rr())}catch(n){dn(e,t,{then:function(){},status:"rejected",reason:n},rr())}finally{qs(s),null!==a&&null!==o.types&&(a.types=o.types),Is.T=a}}function rn(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:aa,baseState:aa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:At,lastRenderedState:aa},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:At,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function sn(){return ie(oa)}function an(){return ht().memoizedState}function on(){return ht().memoizedState}function ln(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=rr(),i=Qe(t,e=Fe(n),n);return null!==i&&(ar(i,0,n),Ve(i,t,n)),t={cache:ae()},void(e.payload=t)}t=t.return}}function cn(e,t,n){var i=rr();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pn(e)?fn(t,n):null!==(n=De(e,t,n,i))&&(ar(n,0,i),gn(n,t,i))}function un(e,t,n){dn(e,t,n,rr())}function dn(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pn(e))fn(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,fl(o,a))return _e(e,t,r,0),null===su&&Pe(),!1}catch{}if(null!==(n=De(e,t,r,i)))return ar(n,0,i),gn(n,t,i),!0}return!1}function hn(e,t,n,i){if(i={lane:2,revertLane:Ae(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},pn(e)){if(t)throw Error(r(479))}else null!==(t=De(e,n,i,2))&&ar(t,0,2)}function pn(e){var t=e.alternate;return e===xc||null!==t&&t===xc}function fn(e,t){Tc=Cc=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gn(e,t,n){if(4194048&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,w(e,n)}}function An(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:as({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function mn(e,t,n,i,r,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!(t.prototype&&t.prototype.isPureReactComponent&&Se(n,i)&&Se(r,s))}function vn(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&kc.enqueueReplaceState(t,t.state,null)}function yn(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=as({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function En(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Sn(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function bn(e,t,n){return(n=Fe(n)).tag=3,n.payload={element:null},n.callback=function(){En(e,t)},n}function xn(e){return(e=Fe(e)).tag=3,e}function wn(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Sn(t,n,i)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Sn(t,n,i),"function"!=typeof r&&(null===Tu?Tu=new Set([this]):Tu.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}function In(e,t,n,i){t.child=null===e?dc(t,null,n,i):uc(t,e.child,n,i)}function Cn(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return ne(t),i=rt(e,t,n,a,s,r),o=lt(),null===e||Fc?(Nl&&o&&O(t),t.flags|=1,In(e,t,i,r),t.child):(ct(e,t,r),qn(e,t,r))}function Tn(e,t,n,i,r){if(null===e){var s=n.type;return"function"!=typeof s||Hr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Wr(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mn(e,t,s,i,r))}if(s=e.child,!Yn(e,r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Se)(a,i)&&e.ref===t.ref)return qn(e,t,r)}return t.flags|=1,(e=Gr(s,i)).ref=t.ref,e.return=t,t.child=e}function Mn(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(Se(s,i)&&e.ref===t.ref){if(Fc=!1,t.pendingProps=i=s,!Yn(e,r))return t.lanes=e.lanes,qn(e,t,r);131072&e.flags&&(Fc=!0)}}return Ln(e,t,n,i,r)}function Bn(e,t,n,i){var r=i.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return Pn(e,t,s,n,i)}if(!(536870912&n))return i=t.lanes=536870912,Pn(e,t,null!==s?s.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ye(0,null!==s?s.cachePool:null),null!==s?je(t,s):qe(),Ke(t)}else null!==s?(ye(0,s.cachePool),je(t,s),$e(),t.memoizedState=null):(null!==e&&ye(0,null),qe(),$e());return In(e,t,r,n),t.child}function Rn(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Pn(e,t,n,i,r){var s=ve();return s=null===s?null:{parent:Hs?zl._currentValue:zl._currentValue2,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&ye(0,null),qe(),Ke(t),null!==e&&ee(e,t,i,!0),t.childLanes=r,null}function _n(e,t){return(t=Gn({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Dn(e,t,n){return uc(t,e.child,null,n),(e=_n(t,t.pendingProps)).flags|=2,et(t),t.memoizedState=null,e}function Nn(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function Ln(e,t,n,i,r){return ne(t),n=rt(e,t,n,i,void 0,r),i=lt(),null===e||Fc?(Nl&&i&&O(t),t.flags|=1,In(e,t,n,r),t.child):(ct(e,t,r),qn(e,t,r))}function On(e,t,n,i,r,s){return ne(t),t.updateQueue=null,n=at(t,i,n,r),st(e),i=lt(),null===e||Fc?(Nl&&i&&O(t),t.flags|=1,In(e,t,n,s),t.child):(ct(e,t,s),qn(e,t,s))}function kn(e,t,n,i,r){if(ne(t),null===t.stateNode){var s=qo,a=n.contextType;"object"==typeof a&&null!==a&&(s=ie(a)),s=new n(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=kc,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},ke(t),a=n.contextType,s.context="object"==typeof a&&null!==a?ie(a):qo,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(An(t,n,a,i),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&kc.enqueueReplaceState(s,s.state,null),ze(t,i,s,r),Ge(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=yn(n,o);s.props=l;var c=s.context,u=n.contextType;a=qo,"object"==typeof u&&null!==u&&(a=ie(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&vn(t,s,i,a),gc=!1;var h=t.memoizedState;s.state=h,ze(t,i,s,r),Ge(),c=t.memoizedState,o||h!==c||gc?("function"==typeof d&&(An(t,n,d,i),c=t.memoizedState),(l=gc||mn(t,n,l,i,h,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Ue(e,t),u=yn(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=qo,"object"==typeof c&&null!==c&&(l=ie(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&vn(t,s,i,l),gc=!1,h=t.memoizedState,s.state=h,ze(t,i,s,r),Ge();var p=t.memoizedState;a!==d||h!==p||gc||null!==e&&null!==e.dependencies&&te(e.dependencies)?("function"==typeof o&&(An(t,n,o,i),p=t.memoizedState),(u=gc||mn(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&te(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=l,i=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Nn(e,t),i=!!(128&t.flags),s||i?(s=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=uc(t,e.child,null,r),t.child=uc(t,null,n,r)):In(e,t,n,r),t.memoizedState=s.state,e=t.child):e=qn(e,t,r),e}function Un(e,t,n,i){return j(),t.flags|=256,In(e,t,n,i),t.child}function Fn(e){return{baseLanes:e,cachePool:Ee()}}function Qn(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vu),e}function Vn(e,t,n){var i,s=t.pendingProps,a=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&Sc.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(Nl){if(a?Je(t):$e(),(e=Dl)?null!==(e=io(e,Ol))&&(t.memoizedState={dehydrated:e,treeContext:null!==Il?{id:Cl,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,_l=t,Dl=null):e=null,null===e)throw G(t);return Ha(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,a?($e(),l=Gn({mode:"hidden",children:l},a=t.mode),s=Xr(s,a,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Fn(n),s.childLanes=Qn(e,i,n),t.memoizedState=Qc,Rn(null,s)):(Je(t),Hn(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Je(t),t.flags&=-257,t=zn(e,t,n)):null!==t.memoizedState?($e(),t.child=e.child,t.flags|=128,t=null):($e(),l=s.fallback,a=t.mode,s=Gn({mode:"visible",children:s.children},a),(l=Xr(l,a,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,uc(t,e.child,null,n),(s=t.child).memoizedState=Fn(n),s.childLanes=Qn(e,i,n),t.memoizedState=Qc,t=Rn(null,s));else if(Je(t),Ha(l))i=Ga(l).digest,(s=Error(r(419))).stack="",s.digest=i,Y({value:s,source:null,stack:null}),t=zn(e,t,n);else if(Fc||ee(e,t,n,!1),i=0!==(n&e.childLanes),Fc||i){if(null!==(i=su)&&0!==(s=I(i,n))&&s!==c.retryLane)throw c.retryLane=s,Ne(e,s),ar(i,0,s),Uc;Va(l)||vr(),t=zn(e,t,n)}else Va(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ws&&(Dl=Ka(l),_l=t,Nl=!0,Ll=null,Ol=!1,null!==e&&U(t,e)),(t=Hn(t,s.children)).flags|=4096);return t}return a?($e(),l=s.fallback,a=t.mode,o=(c=e.child).sibling,(s=Gr(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==o?l=Gr(o,l):(l=Xr(l,a,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,Rn(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Fn(n):(null!==(a=l.cachePool)?(c=Hs?zl._currentValue:zl._currentValue2,a=a.parent!==c?{parent:c,pool:c}:a):a=Ee(),l={baseLanes:l.baseLanes|n,cachePool:a}),s.memoizedState=l,s.childLanes=Qn(e,i,n),t.memoizedState=Qc,Rn(e.child,s)):(Je(t),e=(n=e.child).sibling,(n=Gr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Hn(e,t){return(t=Gn({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Gn(e,n){return(e=t(22,e,null,n)).lanes=0,e}function zn(e,t,n){return uc(t,e.child,null,n),(e=Hn(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wn(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),K(e.return,t,n)}function Xn(e,t,n,i,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function jn(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Sc.current,o=!!(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,g(Sc,a),In(e,t,i,n),i=Nl?bl:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wn(e,n,t);else if(19===e.tag)Wn(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===tt(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xn(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===tt(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xn(t,!0,n,null,s,i);break;case"together":Xn(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),gu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ee(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Gr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yn(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!te(e))}function Jn(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Fc=!0;else{if(!(Yn(e,n)||128&t.flags))return Fc=!1,function(e,t,n){switch(t.tag){case 3:F(t,t.stateNode.containerInfo),J(0,zl,e.memoizedState.cache),j();break;case 27:case 5:V(t);break;case 4:F(t,t.stateNode.containerInfo);break;case 10:J(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ze(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Je(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vn(e,t,n):(Je(t),null!==(e=qn(e,t,n))?e.sibling:null);Je(t);break;case 19:var r=!!(128&e.flags);if((i=0!==(n&t.childLanes))||(ee(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return jn(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),g(Sc,Sc.current),i)break;return null;case 22:return t.lanes=0,Bn(e,t,n,t.pendingProps);case 24:J(0,zl,e.memoizedState.cache)}return qn(e,t,n)}(e,t,n);Fc=!!(131072&e.flags)}else Fc=!1,Nl&&1048576&t.flags&&L(t,bl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=we(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var s=e.$$typeof;if(s===gs){t.tag=11,t=Cn(null,t,e,i,n);break e}if(s===vs){t.tag=14,t=Tn(null,t,e,i,n);break e}}throw t=d(e)||e,Error(r(306,t,""))}Hr(e)?(i=yn(e,i),t.tag=1,t=kn(null,t,e,i,n)):(t.tag=0,t=Ln(null,t,e,i,n))}return t;case 0:return Ln(e,t,t.type,t.pendingProps,n);case 1:return kn(e,t,i=t.type,s=yn(i,t.pendingProps),n);case 3:e:{if(F(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var a=t.pendingProps;i=(s=t.memoizedState).element,Ue(e,t),ze(t,a,null,n);var o=t.memoizedState;if(a=o.cache,J(0,zl,a),a!==s.cache&&$(t,[zl],n,!0),Ge(),a=o.element,Ws&&s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Un(e,t,a,n);break e}if(a!==i){Y(i=D(Error(r(424)),t)),t=Un(e,t,a,n);break e}for(Ws&&(Dl=Ja(t.stateNode.containerInfo),_l=t,Nl=!0,Ll=null,Ol=!0),n=dc(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(j(),a===i){t=qn(e,t,n);break e}In(e,t,a,n)}t=t.child}return t;case 26:if(Co)return Nn(e,t),null===e?(n=Bo(t.type,null,t.pendingProps,null))?t.memoizedState=n:Nl||(t.stateNode=Lo(t.type,t.pendingProps,Rl.current,t)):t.memoizedState=Bo(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(Qo)return V(t),null===e&&Qo&&Nl&&(i=t.stateNode=Vo(t.type,t.pendingProps,Rl.current,Ml.current,!1),_l=t,Ol=!0,Dl=$a(t.type,i,Dl)),In(e,t,t.pendingProps.children,n),Nn(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Nl&&(wo(t.type,t.pendingProps,Ml.current),(s=i=Dl)&&(null!==(i=eo(i,t.type,t.pendingProps,Ol))?(t.stateNode=i,_l=t,Dl=Ya(i),Ol=!1,s=!0):s=!1),s||G(t)),V(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ks(s,a)?i=null:null!==o&&ks(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=rt(e,t,ot,null,null,n),Hs?oa._currentValue=s:oa._currentValue2=s),Nn(e,t),In(e,t,i,n),t.child;case 6:return null===e&&Nl&&(Io(t.pendingProps,Ml.current),(e=n=Dl)&&(null!==(n=to(n,t.pendingProps,Ol))?(t.stateNode=n,_l=t,Dl=null,e=!0):e=!1),e||G(t)),null;case 13:return Vn(e,t,n);case 4:return F(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=uc(t,null,i,n):In(e,t,i,n),t.child;case 11:return Cn(e,t,t.type,t.pendingProps,n);case 7:return In(e,t,t.pendingProps,n),t.child;case 8:case 12:return In(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,J(0,t.type,i.value),In(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,ne(t),i=i(s=ie(s)),t.flags|=1,In(e,t,i,n),t.child;case 14:return Tn(e,t,t.type,t.pendingProps,n);case 15:return Mn(e,t,t.type,t.pendingProps,n);case 19:return jn(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,s=!!(128&t.flags);if(t.flags&=-129,null===e){if(Nl){if("hidden"===i.mode)return e=_n(t,i),t.lanes=536870912,Rn(null,e);if(Ze(t),(e=Dl)?null!==(e=no(e,Ol))&&(t.memoizedState={dehydrated:e,treeContext:null!==Il?{id:Cl,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,_l=t,Dl=null):e=null,null===e)throw G(t);return t.lanes=536870912,null}return _n(t,i)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Ze(t),s)if(256&t.flags)t.flags&=-257,t=Dn(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Fc||ee(e,t,n,!1),s=0!==(n&e.childLanes),Fc||s){if(null!==(i=su)&&0!==(o=I(i,n))&&o!==a.retryLane)throw a.retryLane=o,Ne(e,o),ar(i,0,o),Uc;vr(),t=Dn(e,t,n)}else e=a.treeContext,Ws&&(Dl=Za(o),_l=t,Nl=!0,Ll=null,Ol=!1,null!==e&&U(t,e)),(t=_n(t,i)).flags|=4096;return t}return(e=Gr(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Bn(e,t,n,t.pendingProps);case 24:return ne(t),i=ie(zl),null===e?(null===(s=ve())&&(s=su,a=ae(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:i,cache:s},ke(t),J(0,zl,s)):(0!==(e.lanes&n)&&(Ue(e,t),ze(t,null,null,n),Ge()),s=e.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),J(0,zl,i)):(i=a.cache,J(0,zl,i),i!==s.cache&&$(t,[zl],n,!0))),In(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Zn(e){e.flags|=4}function Kn(e){zs&&(e.flags|=8)}function $n(e,t){if(null!==e&&e.child===t.child)return!1;if(16&t.flags)return!0;for(e=t.child;null!==e;){if(8218&e.flags||8218&e.subtreeFlags)return!0;e=e.sibling}return!1}function ei(e,t,n,i){if(Gs)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)Ls(e,n.stateNode);else if(!(4===n.tag||Qo&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(zs)for(var r=t.child;null!==r;){if(5===r.tag){var s=r.stateNode;n&&i&&(s=Fa(s,r.type,r.memoizedProps)),Ls(e,s)}else if(6===r.tag)s=r.stateNode,n&&i&&(s=Qa(s,r.memoizedProps)),Ls(e,s);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(s=r.child)&&(s.return=r),ei(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ti(e,t,n,i){var r=!1;if(zs)for(var s=t.child;null!==s;){if(5===s.tag){var a=s.stateNode;n&&i&&(a=Fa(a,s.type,s.memoizedProps)),Oa(e,a)}else if(6===s.tag)a=s.stateNode,n&&i&&(a=Qa(a,s.memoizedProps)),Oa(e,a);else if(4!==s.tag)if(22===s.tag&&null!==s.memoizedState)null!==(r=s.child)&&(r.return=s),ti(e,s,!0,!0),r=!0;else if(null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return r;s=s.return}s.sibling.return=s.return,s=s.sibling}return r}function ni(e,t){if(zs&&$n(e,t)){var n=(e=t.stateNode).containerInfo,i=La();ti(i,t,!1,!1),e.pendingChildren=i,Zn(t),ka(n,i)}}function ii(e,t,n,i){if(Gs)e.memoizedProps!==i&&Zn(t);else if(zs){var r=e.stateNode,s=e.memoizedProps;if((e=$n(e,t))||s!==i){var a=Ml.current;(s=Na(r,n,s,i,!e,null))===r?t.stateNode=r:(Kn(t),Os(s,n,i,a)&&Zn(t),t.stateNode=s,e&&ei(s,t,!1,!1))}else t.stateNode=r}}function ri(e,t,n,i,r){if(32&e.mode&&(null===n?$s(t,i):ea(t,n,i))){if(e.flags|=16777216,(335544128&r)===r||ta(t,i))if(na(e.stateNode,t,i))e.flags|=8192;else{if(!gr())throw oc=ac,rc;e.flags|=8192}}else e.flags&=-16777217}function si(e,t){if(ko(t)){if(e.flags|=16777216,!Uo(t)){if(!gr())throw oc=ac,rc;e.flags|=8192}}else e.flags&=-16777217}function ai(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?E():536870912,e.lanes|=t,yu|=t)}function oi(e,t){if(!Nl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ci(e,t,n){var i=t.pendingProps;switch(k(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return li(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Z(zl),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(X(t)?Zn(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,q())),ni(e,t),li(t),null;case 26:if(Co){var s=t.type,a=t.memoizedState;return null===e?(Zn(t),null!==a?(li(t),si(t,a)):(li(t),ri(t,s,null,i,n))):a?a!==e.memoizedState?(Zn(t),li(t),si(t,a)):(li(t),t.flags&=-16777217):(a=e.memoizedProps,Gs?a!==i&&Zn(t):ii(e,t,s,i),li(t),ri(t,s,a,i,n)),null}case 27:if(Qo){if(H(t),n=Rl.current,s=t.type,null!==e&&null!=t.stateNode)Gs?e.memoizedProps!==i&&Zn(t):ii(e,t,s,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return li(t),null}e=Ml.current,X(t)?z(t,e):(e=Vo(s,i,n,e,!0),t.stateNode=e,Zn(t))}return li(t),null}case 5:if(H(t),s=t.type,null!==e&&null!=t.stateNode)ii(e,t,s,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return li(t),null}if(a=Ml.current,X(t))z(t,a),go(t.stateNode,s,i,a)&&(t.flags|=64);else{var o=Ns(s,i,Rl.current,a,t);Kn(t),ei(o,t,!1,!1),t.stateNode=o,Os(o,s,i,a)&&Zn(t)}}return li(t),ri(t,t.type,null===e?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,Gs?n!==i&&Zn(t):zs&&(n!==i?(e=Rl.current,n=Ml.current,Kn(t),t.stateNode=Us(i,e,n,t)):t.stateNode=e.stateNode);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=Rl.current,n=Ml.current,X(t)){if(!Ws)throw Error(r(176));if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(s=_l))switch(s.tag){case 27:case 5:i=s.memoizedProps}so(e,n,t,i)||G(t,!0)}else Kn(t),t.stateNode=Us(i,e,n,t)}return li(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=X(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!Ws)throw Error(r(556));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));ao(e,t)}else j(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;li(t),e=!1}else n=q(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(et(t),t):(et(t),null);if(128&t.flags)throw Error(r(558))}return li(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=X(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!Ws)throw Error(r(344));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));oo(s,t)}else j(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;li(t),s=!1}else s=q(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(et(t),t):(et(t),null)}return et(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool),a=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ai(t,t.updateQueue),li(t),null);case 4:return Q(),ni(e,t),null===e&&js(t.stateNode.containerInfo),li(t),null;case 10:return Z(t.type),li(t),null;case 19:if(p(Sc),null===(i=t.memoizedState))return li(t),null;if(s=!!(128&t.flags),null===(a=i.rendering))if(s)oi(i,!1);else{if(0!==fu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=tt(e))){for(t.flags|=128,oi(i,!1),e=a.updateQueue,t.updateQueue=e,ai(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return g(Sc,1&Sc.current|2),Nl&&N(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&sl()>Iu&&(t.flags|=128,s=!0,oi(i,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=tt(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ai(t,e),oi(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Nl)return li(t),null}else 2*sl()-i.renderingStartTime>Iu&&536870912!==n&&(t.flags|=128,s=!0,oi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=sl(),e.sibling=null,n=Sc.current,g(Sc,s?1&n|2:1&n),Nl&&N(t,i.treeForkCount),e):(li(t),null);case 22:case 23:return et(t),Ye(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(li(t),6&t.subtreeFlags&&(t.flags|=8192)):li(t),null!==(n=t.updateQueue)&&ai(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&p(nc),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Z(zl),li(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ui(e,t){switch(k(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Z(zl),Q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return H(t),null;case 31:if(null!==t.memoizedState){if(et(t),null===t.alternate)throw Error(r(340));j()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(et(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));j()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return p(Sc),null;case 4:return Q(),null;case 10:return Z(t.type),null;case 22:case 23:return et(t),Ye(),null!==e&&p(nc),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Z(zl),null;default:return null}}function di(e,t){switch(k(t),t.tag){case 3:Z(zl),Q();break;case 26:case 27:case 5:H(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&et(t);break;case 13:et(t);break;case 19:p(Sc);break;case 10:Z(t.type);break;case 22:case 23:et(t),Ye(),null!==e&&p(nc);break;case 24:Z(zl)}}function hi(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(e){Lr(t,t.return,e)}}function pi(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(e){Lr(r,l,e)}}}i=i.next}while(i!==s)}}catch(e){Lr(t,t.return,e)}}function fi(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Xe(t,n)}catch(t){Lr(e,e.return,t)}}}function gi(e,t,n){n.props=yn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Lr(e,t,n)}}function Ai(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=Bs(e.stateNode);break;default:i=e.stateNode}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(n){Lr(e,t,n)}}function mi(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){Lr(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){Lr(e,t,n)}else n.current=null}function vi(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{ba(i,t,n,e)}catch(t){Lr(e,e.return,t)}}function yi(e,t,n){try{xa(e.stateNode,e.type,n,t,e)}catch(t){Lr(e,e.return,t)}}function Ei(e){return 5===e.tag||3===e.tag||!!Co&&26===e.tag||!!Qo&&27===e.tag&&Wo(e.type)||4===e.tag}function Si(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ei(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(Qo&&27===e.tag&&Wo(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bi(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?Ia(n,e,t):Ea(n,e);else if(4!==i&&(Qo&&27===i&&Wo(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bi(e,t,n),e=e.sibling;null!==e;)bi(e,t,n),e=e.sibling}function xi(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?wa(n,e,t):ya(n,e);else if(4!==i&&(Qo&&27===i&&Wo(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xi(e,t,n),e=e.sibling;null!==e;)xi(e,t,n),e=e.sibling}function wi(e,t,n){e=e.containerInfo;try{Ua(e,n)}catch(e){Lr(t,t.return,e)}}function Ii(e){var t=e.stateNode,n=e.memoizedProps;try{Ho(e.type,n,t,e)}catch(t){Lr(e,e.return,t)}}function Ci(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ki(e,n),4&i&&hi(5,n);break;case 1:if(ki(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){Lr(n,n.return,e)}else{var r=yn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Lr(n,n.return,e)}}64&i&&fi(n),512&i&&Ai(n,n.return);break;case 3:if(ki(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=Bs(n.child.stateNode);break;case 1:e=n.child.stateNode}try{Xe(i,e)}catch(e){Lr(n,n.return,e)}}break;case 27:Qo&&null===t&&4&i&&Ii(n);case 26:case 5:if(ki(e,n),null===t)if(4&i)vi(n);else if(64&i){e=n.type,t=n.memoizedProps,r=n.stateNode;try{uo(r,e,t,n)}catch(e){Lr(n,n.return,e)}}512&i&&Ai(n,n.return);break;case 12:ki(e,n);break;case 31:ki(e,n),4&i&&Ri(e,n);break;case 13:ki(e,n),4&i&&Pi(e,n),64&i&&null!==(i=n.memoizedState)&&null!==(i=i.dehydrated)&&(n=Fr.bind(null,n),za(i,n));break;case 22:if(!(i=null!==n.memoizedState||Vc)){t=null!==t&&null!==t.memoizedState||Hc,r=Vc;var s=Hc;Vc=i,(Hc=t)&&!s?Fi(e,n,!!(8772&n.subtreeFlags)):ki(e,n),Vc=r,Hc=s}break;case 30:break;default:ki(e,n)}}function Ti(e){var t=e.alternate;null!==t&&(e.alternate=null,Ti(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ks(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mi(e,t,n){for(n=n.child;null!==n;)Bi(e,t,n),n=n.sibling}function Bi(e,t,n){if(pl&&"function"==typeof pl.onCommitFiberUnmount)try{pl.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 26:if(Co){Hc||mi(n,t),Mi(e,t,n),n.memoizedState?Po(n.memoizedState):n.stateNode&&No(n.stateNode);break}case 27:if(Qo){Hc||mi(n,t);var i=Xc,r=jc;Wo(n.type)&&(Xc=n.stateNode,jc=!1),Mi(e,t,n),Go(n.stateNode),Xc=i,jc=r;break}case 5:Hc||mi(n,t);case 6:if(Gs){if(i=Xc,r=jc,Xc=null,Mi(e,t,n),jc=r,null!==(Xc=i))if(jc)try{Ta(Xc,n.stateNode)}catch(e){Lr(n,t,e)}else try{Ca(Xc,n.stateNode)}catch(e){Lr(n,t,e)}}else Mi(e,t,n);break;case 18:Gs&&null!==Xc&&(jc?vo(Xc,n.stateNode):mo(Xc,n.stateNode));break;case 4:Gs?(i=Xc,r=jc,Xc=n.stateNode.containerInfo,jc=!0,Mi(e,t,n),Xc=i,jc=r):(zs&&wi(n.stateNode,n,La()),Mi(e,t,n));break;case 0:case 11:case 14:case 15:pi(2,n,t),Hc||pi(4,n,t),Mi(e,t,n);break;case 1:Hc||(mi(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&gi(n,t,i)),Mi(e,t,n);break;case 21:Mi(e,t,n);break;case 22:Hc=(i=Hc)||null!==n.memoizedState,Mi(e,t,n),Hc=i;break;default:Mi(e,t,n)}}function Ri(e,t){if(Ws&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{po(e)}catch(e){Lr(t,t.return,e)}}}function Pi(e,t){if(Ws&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{fo(e)}catch(e){Lr(t,t.return,e)}}function _i(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new zc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new zc),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var i=Qr.bind(null,e,t);t.then(i,i)}})}function Di(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],a=e,o=t;if(Gs){var l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Qo){if(Wo(l.type)){Xc=l.stateNode,jc=!1;break e}break}case 5:Xc=l.stateNode,jc=!1;break e;case 3:case 4:Xc=l.stateNode.containerInfo,jc=!0;break e}l=l.return}if(null===Xc)throw Error(r(160));Bi(a,o,s),Xc=null,jc=!1}else Bi(a,o,s);null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ni(t,e),t=t.sibling}function Ni(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Di(t,e),Li(e),4&i&&(pi(3,e,e.return),hi(3,e),pi(5,e,e.return));break;case 1:Di(t,e),Li(e),512&i&&(Hc||null===n||mi(n,n.return)),64&i&&Vc&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:if(Co){var s=qc;if(Di(t,e),Li(e),512&i&&(Hc||null===n||mi(n,n.return)),4&i){i=null!==n?n.memoizedState:null;var a=e.memoizedState;null===n?null===a?null===e.stateNode?e.stateNode=_o(s,e.type,e.memoizedProps,e):Do(s,e.type,e.stateNode):e.stateNode=Ro(s,a,e.memoizedProps):i!==a?(null===i?null!==n.stateNode&&No(n.stateNode):Po(i),null===a?Do(s,e.type,e.stateNode):Ro(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&yi(e,e.memoizedProps,n.memoizedProps)}break}case 27:if(Qo){Di(t,e),Li(e),512&i&&(Hc||null===n||mi(n,n.return)),null!==n&&4&i&&yi(e,e.memoizedProps,n.memoizedProps);break}case 5:if(Di(t,e),Li(e),512&i&&(Hc||null===n||mi(n,n.return)),Gs){if(32&e.flags){s=e.stateNode;try{Ma(s)}catch(t){Lr(e,e.return,t)}}4&i&&null!=e.stateNode&&yi(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(Gc=!0)}else zs&&null!==e.alternate&&(e.alternate.stateNode=e.stateNode);break;case 6:if(Di(t,e),Li(e),4&i&&Gs){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=null!==n?n.memoizedProps:i,s=e.stateNode;try{Sa(s,n,i)}catch(t){Lr(e,e.return,t)}}break;case 3:if(Co?(Oo(),s=qc,qc=Mo(t.containerInfo),Di(t,e),qc=s):Di(t,e),Li(e),4&i){if(Gs&&Ws&&null!==n&&n.memoizedState.isDehydrated)try{ho(t.containerInfo)}catch(t){Lr(e,e.return,t)}if(zs){i=t.containerInfo,n=t.pendingChildren;try{Ua(i,n)}catch(t){Lr(e,e.return,t)}}}Gc&&(Gc=!1,Oi(e));break;case 4:Co?(n=qc,qc=Mo(e.stateNode.containerInfo),Di(t,e),Li(e),qc=n):(Di(t,e),Li(e)),4&i&&zs&&wi(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:Di(t,e),Li(e);break;case 31:Di(t,e),Li(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,_i(e,i));break;case 13:Di(t,e),Li(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(xu=sl()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,_i(e,i));break;case 22:s=null!==e.memoizedState;var o=null!==n&&null!==n.memoizedState,l=Vc,c=Hc;if(Vc=l||s,Hc=c||o,Di(t,e),Hc=c,Vc=l,Li(e),8192&i&&((t=e.stateNode)._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||o||Vc||Hc||Ui(e)),Gs))e:if(n=null,Gs)for(t=e;;){if(5===t.tag||Co&&26===t.tag){if(null===n){o=n=t;try{a=o.stateNode,s?Ba(a):Pa(o.stateNode,o.memoizedProps)}catch(e){Lr(o,o.return,e)}}}else if(6===t.tag){if(null===n){o=t;try{var u=o.stateNode;s?Ra(u):_a(u,o.memoizedProps)}catch(e){Lr(o,o.return,e)}}}else if(18===t.tag){if(null===n){o=t;try{var d=o.stateNode;s?yo(d):Eo(o.stateNode)}catch(e){Lr(o,o.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,_i(e,n));break;case 19:Di(t,e),Li(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,_i(e,i));break;case 30:case 21:break;default:Di(t,e),Li(e)}}function Li(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Ei(i)){n=i;break}i=i.return}if(Gs){if(null==n)throw Error(r(160));switch(n.tag){case 27:if(Qo){var s=n.stateNode;xi(e,Si(e),s);break}case 5:var a=n.stateNode;32&n.flags&&(Ma(a),n.flags&=-33),xi(e,Si(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;bi(e,Si(e),o);break;default:throw Error(r(161))}}}catch(t){Lr(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Oi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Oi(t),5===t.tag&&1024&t.flags&&la(t.stateNode),e=e.sibling}}function ki(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ci(e,t.alternate,t),t=t.sibling}function Ui(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:pi(4,t,t.return),Ui(t);break;case 1:mi(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&gi(t,t.return,n),Ui(t);break;case 27:Qo&&Go(t.stateNode);case 26:case 5:mi(t,t.return),Ui(t);break;case 22:null===t.memoizedState&&Ui(t);break;default:Ui(t)}e=e.sibling}}function Fi(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(r,s,n),hi(4,s);break;case 1:if(Fi(r,s,n),"function"==typeof(r=(i=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){Lr(i,i.return,e)}if(null!==(r=(i=s).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)We(l[r],o)}catch(e){Lr(i,i.return,e)}}n&&64&a&&fi(s),Ai(s,s.return);break;case 27:Qo&&Ii(s);case 26:case 5:Fi(r,s,n),n&&null===i&&4&a&&vi(s),Ai(s,s.return);break;case 12:Fi(r,s,n);break;case 31:Fi(r,s,n),n&&4&a&&Ri(r,s);break;case 13:Fi(r,s,n),n&&4&a&&Pi(r,s);break;case 22:null===s.memoizedState&&Fi(r,s,n),Ai(s,s.return);break;case 30:break;default:Fi(r,s,n)}t=t.sibling}}function Qi(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&oe(n))}function Vi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&oe(e))}function Hi(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gi(e,t,n,i),t=t.sibling}function Gi(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Hi(e,t,n,i),2048&r&&hi(9,t);break;case 1:case 31:case 13:default:Hi(e,t,n,i);break;case 3:Hi(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&oe(e)));break;case 12:if(2048&r){Hi(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Lr(t,t.return,e)}}else Hi(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Hi(e,t,n,i):Wi(e,t):2&s._visibility?Hi(e,t,n,i):(s._visibility|=2,zi(e,t,n,i,!!(10256&t.subtreeFlags)||!1)),2048&r&&Qi(a,t);break;case 24:Hi(e,t,n,i),2048&r&&Vi(t.alternate,t)}}function zi(e,t,n,i,r){for(r=r&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:zi(s,a,o,l,r),hi(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?zi(s,a,o,l,r):Wi(s,a):(u._visibility|=2,zi(s,a,o,l,r)),r&&2048&c&&Qi(a.alternate,a);break;case 24:zi(s,a,o,l,r),r&&2048&c&&Vi(a.alternate,a);break;default:zi(s,a,o,l,r)}t=t.sibling}}function Wi(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Wi(n,i),2048&r&&Qi(i.alternate,i);break;case 24:Wi(n,i),2048&r&&Vi(i.alternate,i);break;default:Wi(n,i)}t=t.sibling}}function Xi(e,t,n){if(e.subtreeFlags&Yc)for(e=e.child;null!==e;)ji(e,t,n),e=e.sibling}function ji(e,t,n){switch(e.tag){case 26:if(Xi(e,t,n),e.flags&Yc)if(null!==e.memoizedState)Fo(n,qc,e.memoizedState,e.memoizedProps);else{var i=e.stateNode,r=e.type;e=e.memoizedProps,((335544128&t)===t||ta(r,e))&&ra(n,i,r,e)}break;case 5:Xi(e,t,n),e.flags&Yc&&(i=e.stateNode,r=e.type,e=e.memoizedProps,((335544128&t)===t||ta(r,e))&&ra(n,i,r,e));break;case 3:case 4:Co?(i=qc,qc=Mo(e.stateNode.containerInfo),Xi(e,t,n),qc=i):Xi(e,t,n);break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=Yc,Yc=16777216,Xi(e,t,n),Yc=i):Xi(e,t,n));break;default:Xi(e,t,n)}}function qi(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yi(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Wc=i,Ki(i,e)}qi(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ji(e),e=e.sibling}function Ji(e){switch(e.tag){case 0:case 11:case 15:Yi(e),2048&e.flags&&pi(9,e,e.return);break;case 3:case 12:default:Yi(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zi(e)):Yi(e)}}function Zi(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Wc=i,Ki(i,e)}qi(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:pi(8,t,t.return),Zi(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zi(t));break;default:Zi(t)}e=e.sibling}}function Ki(e,t){for(;null!==Wc;){var n=Wc;switch(n.tag){case 0:case 11:case 15:pi(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:oe(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Wc=i;else e:for(n=e;null!==Wc;){var r=(i=Wc).sibling,s=i.return;if(Ti(i),i===n){Wc=null;break e}if(null!==r){r.return=s,Wc=r;break e}Wc=s}}}function $i(e){var t=Xs(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(r(364));return t}if(null===(e=ha(e)))throw Error(r(362));return e.stateNode.current}function er(e,t){var n=e.tag;switch(t.$$typeof){case Zc:if(e.type===t.value)return!0;break;case Kc:e:{for(t=t.value,e=[e,0],n=0;n<e.length;){var i=e[n++],s=i.tag,a=e[n++],o=t[a];if(5!==s&&26!==s&&27!==s||!ga(i)){for(;null!=o&&er(i,o);)o=t[++a];if(a===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}t=!1}return t;case $c:if((5===n||26===n||27===n)&&Aa(e.stateNode,t.value))return!0;break;case tu:if((5===n||6===n||26===n||27===n)&&null!==(e=fa(e))&&0<=e.indexOf(t.value))return!0;break;case eu:if((5===n||26===n||27===n)&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(r(365))}return!1}function tr(e){switch(e.$$typeof){case Zc:return"<"+(d(e.value)||"Unknown")+">";case Kc:return":has("+(tr(e)||"")+")";case $c:return'[role="'+e.value+'"]';case tu:return'"'+e.value+'"';case eu:return'[data-testname="'+e.value+'"]';default:throw Error(r(365))}}function nr(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],s=r.tag,a=e[i++],o=t[a];if(5!==s&&26!==s&&27!==s||!ga(r)){for(;null!=o&&er(r,o);)o=t[++a];if(a===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}return n}function ir(e,t){if(!da)throw Error(r(363));e=nr(e=$i(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++],s=i.tag;if(5===s||26===s||27===s)ga(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}function rr(){return 2&ru&&0!==ou?ou&-ou:null!==Is.T?Ae():Js()}function sr(){if(0===vu)if(536870912&ou&&!Nl)vu=536870912;else{var e=$o;!(3932160&($o<<=1))&&($o=262144),vu=e}return null!==(e=yc.current)&&(e.flags|=32),vu}function ar(e,t,n){(e===su&&(2===lu||9===lu)||null!==e.cancelPendingCommit)&&(pr(e,0),ur(e,ou,vu,!1)),b(e,n),(!(2&ru)||e!==su)&&(e===su&&(!(2&ru)&&(Au|=n),4===fu&&ur(e,ou,vu,!1)),ce(e))}function or(e,t,n){if(6&ru)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||v(e,t),s=i?function(e,t){var n=ru;ru|=2;var i=Ar(),s=mr();su!==e||ou!==t?(Cu=null,Iu=sl()+500,pr(e,t)):du=v(e,t);e:for(;;)try{if(0!==lu&&null!==au){t=au;var a=cu;t:switch(lu){case 1:lu=0,cu=null,wr(e,t,a,1);break;case 2:case 9:if(be(a)){lu=0,cu=null,xr(t);break}t=function(){2!==lu&&9!==lu||su!==e||(lu=7),ce(e)},a.then(t,t);break e;case 3:lu=7;break e;case 4:lu=5;break e;case 7:be(a)?(lu=0,cu=null,xr(t)):(lu=0,cu=null,wr(e,t,a,7));break;case 5:var o=null;switch(au.tag){case 26:o=au.memoizedState;case 5:case 27:var l=au,c=l.type,u=l.pendingProps;if(o?Uo(o):na(l.stateNode,c,u)){lu=0,cu=null;var d=l.sibling;if(null!==d)au=d;else{var h=l.return;null!==h?(au=h,Ir(h)):au=null}break t}}lu=0,cu=null,wr(e,t,a,5);break;case 6:lu=0,cu=null,wr(e,t,a,6);break;case 8:hr(),fu=6;break e;default:throw Error(r(462))}}Sr();break}catch(t){fr(e,t)}return Ql=Fl=null,Is.H=i,Is.A=s,ru=n,null!==au?0:(su=null,ou=0,Pe(),fu)}(e,t):yr(e,t,!0),a=i;;){if(0===s){du&&!i&&ur(e,t,0,!1);break}if(n=e.current.alternate,!a||cr(n)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=Eu;var c=Ws&&l.current.memoizedState.isDehydrated;if(c&&(pr(l,o).flags|=256),2!==(o=yr(l,o,!1))){if(hu&&!c){l.errorRecoveryDisabledLanes|=a,Au|=a,s=4;break e}a=Su,Su=s,null!==a&&(null===Su?Su=a:Su.push.apply(Su,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){pr(e,0),ur(e,t,0,!0);break}e:{switch(i=e,a=s){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ur(i,t,vu,!uu);break e;case 2:Su=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(s=xu+300-sl())){if(ur(i,t,vu,!uu),0!==m(i,0,!0))break e;Pu=t,i.timeoutHandle=Fs(lr.bind(null,i,n,Su,Cu,bu,t,vu,Au,yu,uu,a,"Throttled",-0,0),s)}else lr(i,n,Su,Cu,bu,t,vu,Au,yu,uu,a,null,-0,0)}break}s=yr(e,t,!1),a=!1}ce(e)}function lr(e,t,n,i,r,s,a,o,l,c,u,d,h,p){if(e.timeoutHandle=Vs,8192&(d=t.subtreeFlags)||!(16785408&~d)){ji(t,s,d=ia());var f=(62914560&s)===s?xu-sl():(4194048&s)===s?wu-sl():0;if(null!==(f=sa(d,f)))return Pu=s,e.cancelPendingCommit=f(Tr.bind(null,e,t,s,n,i,r,a,o,l,u,d,null,h,p)),void ur(e,s,a,!c)}Tr(e,t,s,n,i,r,a,o,l)}function cr(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!fl(s(),r))return!1}catch{return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t,n,i){t&=~mu,t&=~Au,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Yo(r),a=1<<s;i[s]=-1,r&=~a}0!==n&&x(e,n,t)}function dr(){return!!(6&ru)||(ue(0,!1),!1)}function hr(){if(null!==au){if(0===lu)var e=au.return;else Ql=Fl=null,ut(e=au),lc=null,cc=0,e=au;for(;null!==e;)di(e.alternate,e),e=e.return;au=null}}function pr(e,t){var n=e.timeoutHandle;n!==Vs&&(e.timeoutHandle=Vs,Qs(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Pu=0,hr(),su=e,au=n=Gr(e.current,null),ou=t,lu=0,cu=null,uu=!1,du=v(e,t),hu=!1,yu=vu=mu=Au=gu=fu=0,Su=Eu=null,bu=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-Yo(i),s=1<<r;t|=e[r],i&=~s}return pu=t,Pe(),n}function fr(e,t){xc=null,Is.H=Dc,t===ic||t===sc?(t=Ie(),lu=3):t===rc?(t=Ie(),lu=4):lu=t===Uc?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cu=t,null===au&&(fu=1,En(e,D(t,e.current)))}function gr(){var e=yc.current;return null===e||((4194048&ou)===ou?null===Ec:!!((62914560&ou)===ou||536870912&ou)&&e===Ec)}function Ar(){var e=Is.H;return Is.H=Dc,null===e?Dc:e}function mr(){var e=Is.A;return Is.A=Jc,e}function vr(){fu=4,uu||(4194048&ou)!==ou&&null!==yc.current||(du=!0),!(134217727&gu)&&!(134217727&Au)||null===su||ur(su,ou,vu,!1)}function yr(e,t,n){var i=ru;ru|=2;var r=Ar(),s=mr();(su!==e||ou!==t)&&(Cu=null,pr(e,t)),t=!1;var a=fu;e:for(;;)try{if(0!==lu&&null!==au){var o=au,l=cu;switch(lu){case 8:hr(),a=6;break e;case 3:case 2:case 9:case 6:null===yc.current&&(t=!0);var c=lu;if(lu=0,cu=null,wr(e,o,l,c),n&&du){a=0;break e}break;default:c=lu,lu=0,cu=null,wr(e,o,l,c)}}Er(),a=fu;break}catch(t){fr(e,t)}return t&&e.shellSuspendCounter++,Ql=Fl=null,ru=i,Is.H=r,Is.A=s,null===au&&(su=null,ou=0,Pe()),a}function Er(){for(;null!==au;)br(au)}function Sr(){for(;null!==au&&!il();)br(au)}function br(e){var t=Jn(e.alternate,e,pu);e.memoizedProps=e.pendingProps,null===t?Ir(e):au=t}function xr(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=On(n,t,t.pendingProps,t.type,void 0,ou);break;case 11:t=On(n,t,t.pendingProps,t.type.render,t.ref,ou);break;case 5:ut(t);default:di(n,t),t=Jn(n,t=au=zr(t,pu),pu)}e.memoizedProps=e.pendingProps,null===t?Ir(e):au=t}function wr(e,t,n,i){Ql=Fl=null,ut(t),lc=null,cc=0;var s=t.return;try{if(function(e,t,n,i,s){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&ee(t,n,s,!0),null!==(n=yc.current)){switch(n.tag){case 31:case 13:return null===Ec?vr():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ac?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Or(e,i,s)),!1;case 22:return n.flags|=65536,i===ac?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Or(e,i,s)),!1}throw Error(r(435,n.tag))}return Or(e,i,s),vr(),!1}if(Nl)return null!==(t=yc.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==kl&&Y(D(e=Error(r(422),{cause:i}),n))):(i!==kl&&Y(D(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,i=D(i,n),He(e,s=bn(e.stateNode,i,s)),4!==fu&&(fu=2)),!1;var a=Error(r(520),{cause:i});if(a=D(a,n),null===Eu?Eu=[a]:Eu.push(a),4!==fu&&(fu=2),null===t)return!0;i=D(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,He(n,e=bn(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Tu&&Tu.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,wn(s=xn(s),e,n,i),He(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ou))return fu=1,En(e,D(n,e.current)),void(au=null)}catch(t){if(null!==s)throw au=s,t;return fu=1,En(e,D(n,e.current)),void(au=null)}32768&t.flags?(Nl||1===i?e=!0:du||536870912&ou?e=!1:(uu=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=yc.current)&&13===i.tag&&(i.flags|=16384)),Cr(t,e)):Ir(t)}function Ir(e){var t=e;do{if(32768&t.flags)return void Cr(t,uu);e=t.return;var n=ci(t.alternate,t,pu);if(null!==n)return void(au=n);if(null!==(t=t.sibling))return void(au=t);au=t=e}while(null!==t);0===fu&&(fu=5)}function Cr(e,t){do{var n=ui(e.alternate,e);if(null!==n)return n.flags&=32767,void(au=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(au=e);au=e=n}while(null!==e);fu=6,au=null}function Tr(e,t,n,i,s,a,o,l,c){e.cancelPendingCommit=null;do{_r()}while(0!==Mu);if(6&ru)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Yo(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&x(e,i,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,a|=fc,o,l,c),e===su&&(au=su=null,ou=0),Ru=t,Bu=e,Pu=n,_u=a,Du=s,Nu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,function(e){tl(e,function(){return Dr(),null})}(ll)):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=Is.T,Is.T=null,s=Ys(),qs(2),o=ru,ru|=4;try{!function(e,t){for(_s(e.containerInfo),Wc=t;null!==Wc;)if(t=(e=Wc).child,1028&e.subtreeFlags&&null!==t)t.return=e,Wc=t;else for(;null!==Wc;){var n=(e=Wc).alternate;switch(t=e.flags,e.tag){case 0:if(4&t&&null!==(t=null!==(t=e.updateQueue)?t.events:null))for(var i=0;i<t.length;i++){var s=t[i];s.ref.impl=s.nextImpl}break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&t&&null!==n){t=void 0,i=e,s=n.memoizedProps,n=n.memoizedState;var a=i.stateNode;try{var o=yn(i.type,s);t=a.getSnapshotBeforeUpdate(o,n),a.__reactInternalSnapshotBeforeUpdate=t}catch(e){Lr(i,i.return,e)}}break;case 3:1024&t&&Gs&&Da(e.stateNode.containerInfo);break;default:if(1024&t)throw Error(r(163))}if(null!==(t=e.sibling)){t.return=e.return,Wc=t;break}Wc=e.return}}(e,t)}finally{ru=o,qs(s),Is.T=i}}Mu=1,Mr(),Br(),Rr()}}function Mr(){if(1===Mu){Mu=0;var e=Bu,t=Ru,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=Is.T,Is.T=null;var i=Ys();qs(2);var r=ru;ru|=4;try{Ni(t,e),Ds(e.containerInfo)}finally{ru=r,qs(i),Is.T=n}}e.current=t,Mu=2}}function Br(){if(2===Mu){Mu=0;var e=Bu,t=Ru,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=Is.T,Is.T=null;var i=Ys();qs(2);var r=ru;ru|=4;try{Ci(e,t.alternate,t)}finally{ru=r,qs(i),Is.T=n}}Mu=3}}function Rr(){if(4===Mu||3===Mu){Mu=0,rl();var e=Bu,t=Ru,n=Pu,i=Nu;10256&t.subtreeFlags||10256&t.flags?Mu=5:(Mu=0,Ru=Bu=null,Pr(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Tu=null),T(n),t=t.stateNode,pl&&"function"==typeof pl.onCommitFiberRoot)try{pl.onCommitFiberRoot(hl,t,void 0,!(128&~t.current.flags))}catch{}if(null!==i){t=Is.T,r=Ys(),qs(2),Is.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{Is.T=t,qs(r)}}!!(3&Pu)&&_r(),ce(e),r=e.pendingLanes,261930&n&&42&r?e===Ou?Lu++:(Lu=0,Ou=e):Lu=0,Ws&&Ao(),ue(0,!1)}}function Pr(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,oe(t))}function _r(){return Mr(),Br(),Rr(),Dr()}function Dr(){if(5!==Mu)return!1;var e=Bu,t=_u;_u=0;var n=T(Pu),i=32>n?32:n;n=Is.T;var s=Ys();try{qs(i),Is.T=null,i=Du,Du=null;var a=Bu,o=Pu;if(Mu=0,Ru=Bu=null,Pu=0,6&ru)throw Error(r(331));var l=ru;if(ru|=4,Ji(a.current),Gi(a,a.current,o,i),ru=l,ue(0,!1),pl&&"function"==typeof pl.onPostCommitFiberRoot)try{pl.onPostCommitFiberRoot(hl,a)}catch{}return!0}finally{qs(s),Is.T=n,Pr(e,t)}}function Nr(e,t,n){t=D(n,t),null!==(e=Qe(e,t=bn(e.stateNode,t,2),2))&&(b(e,2),ce(e))}function Lr(e,t,n){if(3===e.tag)Nr(e,e,n);else for(;null!==t;){if(3===t.tag){Nr(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Tu||!Tu.has(i))){e=D(n,e),null!==(i=Qe(t,n=xn(2),2))&&(wn(n,i,t,e),b(i,2),ce(i));break}}t=t.return}}function Or(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new iu;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(hu=!0,r.add(n),e=kr.bind(null,e,t,n),t.then(e,e))}function kr(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,su===e&&(ou&n)===n&&(4===fu||3===fu&&(62914560&ou)===ou&&300>sl()-xu?!(2&ru)&&pr(e,0):mu|=n,yu===ou&&(yu=0)),ce(e)}function Ur(e,t){0===t&&(t=E()),null!==(e=Ne(e,t))&&(b(e,t),ce(e))}function Fr(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ur(e,n)}function Qr(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Ur(e,n)}function Vr(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gr(e,n){var i=e.alternate;return null===i?((i=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=65011712&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,n,i,s,a,o){var l=0;if(s=e,"function"==typeof e)Hr(e)&&(l=1);else if("string"==typeof e)l=Co&&Qo?To(e,i,Ml.current)?26:zo(e)?27:5:Co?To(e,i,Ml.current)?26:5:Qo&&zo(e)?27:5;else e:switch(e){case Es:return(e=t(31,i,n,a)).elementType=Es,e.lanes=o,e;case us:return Xr(i.children,a,o,n);case ds:l=8,a|=24;break;case hs:return(e=t(12,i,n,2|a)).elementType=hs,e.lanes=o,e;case As:return(e=t(13,i,n,a)).elementType=As,e.lanes=o,e;case ms:return(e=t(19,i,n,a)).elementType=ms,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fs:l=10;break e;case ps:l=9;break e;case gs:l=11;break e;case vs:l=14;break e;case ys:l=16,s=null;break e}l=29,i=Error(r(130,null===e?"null":typeof e,"")),s=null}return(n=t(l,i,n,a)).elementType=e,n.type=s,n.lanes=o,n}function Xr(e,n,i,r){return(e=t(7,e,r,n)).lanes=i,e}function jr(e,n,i){return(e=t(6,e,null,n)).lanes=i,e}function qr(e){var n=t(18,null,null,0);return n.stateNode=e,n}function Yr(e,n,i){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Jr(e,t,n,i,r,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Vs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=S(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S(0),this.hiddenUpdates=S(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Zr(e,n,i,r,s,a,o,l,c,u,d,h){return e=new Jr(e,n,i,o,c,u,d,h,l),n=1,!0===a&&(n|=24),a=t(3,null,null,n),e.current=a,a.stateNode=e,(n=ae()).refCount++,e.pooledCache=n,n.refCount++,a.memoizedState={element:r,isDehydrated:i,cache:n},ke(a),e}function Kr(e){return e?e=qo:qo}function $r(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return null===(e=null!==(e=o(t))?l(e):null)?null:Bs(e.stateNode)}function es(e,t,n,i,r,s){r=Kr(r),null===i.context?i.context=r:i.pendingContext=r,(i=Fe(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=Qe(e,i,t))&&(ar(n,0,t),Ve(n,e,t))}function ts(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ns(e,t){ts(e,t),(e=e.alternate)&&ts(e,t)}var is={},rs=i,ss=f,as=Object.assign,os=Symbol.for("react.element"),ls=Symbol.for("react.transitional.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),ds=Symbol.for("react.strict_mode"),hs=Symbol.for("react.profiler"),ps=Symbol.for("react.consumer"),fs=Symbol.for("react.context"),gs=Symbol.for("react.forward_ref"),As=Symbol.for("react.suspense"),ms=Symbol.for("react.suspense_list"),vs=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),Es=Symbol.for("react.activity"),Ss=Symbol.for("react.memo_cache_sentinel"),bs=Symbol.iterator,xs=Symbol.for("react.client.reference"),ws=Array.isArray,Is=rs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cs=e.rendererVersion,Ts=e.rendererPackageName,Ms=e.extraDevToolsConfig,Bs=e.getPublicInstance,Rs=e.getRootHostContext,Ps=e.getChildHostContext,_s=e.prepareForCommit,Ds=e.resetAfterCommit,Ns=e.createInstance;e.cloneMutableInstance;var Ls=e.appendInitialChild,Os=e.finalizeInitialChildren,ks=e.shouldSetTextContent,Us=e.createTextInstance;e.cloneMutableTextInstance;var Fs=e.scheduleTimeout,Qs=e.cancelTimeout,Vs=e.noTimeout,Hs=e.isPrimaryRenderer;e.warnsIfNotActing;var Gs=e.supportsMutation,zs=e.supportsPersistence,Ws=e.supportsHydration,Xs=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var js=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var qs=e.setCurrentUpdatePriority,Ys=e.getCurrentUpdatePriority,Js=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Zs=e.shouldAttemptEagerTransition,Ks=e.detachDeletedInstance;e.requestPostPaintCallback;var $s=e.maySuspendCommit,ea=e.maySuspendCommitOnUpdate,ta=e.maySuspendCommitInSyncRender,na=e.preloadInstance,ia=e.startSuspendingCommit,ra=e.suspendInstance;e.suspendOnActiveViewTransition;var sa=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var aa=e.NotPendingTransition,oa=e.HostTransitionContext,la=e.resetFormInstance;e.bindToConsole;var ca=e.supportsMicrotasks,ua=e.scheduleMicrotask,da=e.supportsTestSelectors,ha=e.findFiberRoot,pa=e.getBoundingRect,fa=e.getTextContent,ga=e.isHiddenSubtree,Aa=e.matchAccessibilityRole,ma=e.setFocusIfFocusable,va=e.setupIntersectionObserver,ya=e.appendChild,Ea=e.appendChildToContainer,Sa=e.commitTextUpdate,ba=e.commitMount,xa=e.commitUpdate,wa=e.insertBefore,Ia=e.insertInContainerBefore,Ca=e.removeChild,Ta=e.removeChildFromContainer,Ma=e.resetTextContent,Ba=e.hideInstance,Ra=e.hideTextInstance,Pa=e.unhideInstance,_a=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Da=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Na=e.cloneInstance,La=e.createContainerChildSet,Oa=e.appendChildToContainerChildSet,ka=e.finalizeContainerChildren,Ua=e.replaceContainerChildren,Fa=e.cloneHiddenInstance,Qa=e.cloneHiddenTextInstance,Va=e.isSuspenseInstancePending,Ha=e.isSuspenseInstanceFallback,Ga=e.getSuspenseInstanceFallbackErrorDetails,za=e.registerSuspenseInstanceRetry,Wa=e.canHydrateFormStateMarker,Xa=e.isFormStateMarkerMatching,ja=e.getNextHydratableSibling,qa=e.getNextHydratableSiblingAfterSingleton,Ya=e.getFirstHydratableChild,Ja=e.getFirstHydratableChildWithinContainer,Za=e.getFirstHydratableChildWithinActivityInstance,Ka=e.getFirstHydratableChildWithinSuspenseInstance,$a=e.getFirstHydratableChildWithinSingleton,eo=e.canHydrateInstance,to=e.canHydrateTextInstance,no=e.canHydrateActivityInstance,io=e.canHydrateSuspenseInstance,ro=e.hydrateInstance,so=e.hydrateTextInstance,ao=e.hydrateActivityInstance,oo=e.hydrateSuspenseInstance,lo=e.getNextHydratableInstanceAfterActivityInstance,co=e.getNextHydratableInstanceAfterSuspenseInstance,uo=e.commitHydratedInstance,ho=e.commitHydratedContainer,po=e.commitHydratedActivityInstance,fo=e.commitHydratedSuspenseInstance,go=e.finalizeHydratedChildren,Ao=e.flushHydrationEvents;e.clearActivityBoundary;var mo=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var vo=e.clearSuspenseBoundaryFromContainer,yo=e.hideDehydratedBoundary,Eo=e.unhideDehydratedBoundary,So=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var bo,xo,wo=e.validateHydratableInstance,Io=e.validateHydratableTextInstance,Co=e.supportsResources,To=e.isHostHoistableType,Mo=e.getHoistableRoot,Bo=e.getResource,Ro=e.acquireResource,Po=e.releaseResource,_o=e.hydrateHoistable,Do=e.mountHoistable,No=e.unmountHoistable,Lo=e.createHoistableInstance,Oo=e.prepareToCommitHoistables,ko=e.mayResourceSuspendCommit,Uo=e.preloadResource,Fo=e.suspendResource,Qo=e.supportsSingletons,Vo=e.resolveSingletonInstance,Ho=e.acquireSingletonInstance,Go=e.releaseSingletonInstance,zo=e.isHostSingletonType,Wo=e.isSingletonScope,Xo=[],jo=-1,qo={},Yo=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Jo(e)/Zo|0)|0},Jo=Math.log,Zo=Math.LN2,Ko=256,$o=262144,el=4194304,tl=ss.unstable_scheduleCallback,nl=ss.unstable_cancelCallback,il=ss.unstable_shouldYield,rl=ss.unstable_requestPaint,sl=ss.unstable_now,al=ss.unstable_ImmediatePriority,ol=ss.unstable_UserBlockingPriority,ll=ss.unstable_NormalPriority,cl=ss.unstable_IdlePriority,ul=ss.log,dl=ss.unstable_setDisableYieldValue,hl=null,pl=null,fl="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},gl="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Al=Object.prototype.hasOwnProperty,ml=!1,vl=new WeakMap,yl=[],El=0,Sl=null,bl=0,xl=[],wl=0,Il=null,Cl=1,Tl="",Ml=h(null),Bl=h(null),Rl=h(null),Pl=h(null),_l=null,Dl=null,Nl=!1,Ll=null,Ol=!1,kl=Error(r(519)),Ul=h(null),Fl=null,Ql=null,Vl=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Hl=ss.unstable_scheduleCallback,Gl=ss.unstable_NormalPriority,zl={$$typeof:fs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Wl=null,Xl=null,jl=!1,ql=!1,Yl=!1,Jl=0,Zl=null,Kl=0,$l=0,ec=null,tc=Is.S;Is.S=function(e,t){wu=sl(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Zl){var n=Zl=[];Kl=0,$l=Ae(),ec={status:"pending",value:void 0,then:function(e){n.push(e)}}}Kl++,t.then(me,me)}(0,t),null!==tc&&tc(e,t)};var nc=h(null),ic=Error(r(460)),rc=Error(r(474)),sc=Error(r(542)),ac={then:function(){}},oc=null,lc=null,cc=0,uc=Re(!0),dc=Re(!1),hc=[],pc=0,fc=0,gc=!1,Ac=!1,mc=h(null),vc=h(0),yc=h(null),Ec=null,Sc=h(0),bc=0,xc=null,wc=null,Ic=null,Cc=!1,Tc=!1,Mc=!1,Bc=0,Rc=0,Pc=null,_c=0,Dc={readContext:ie,use:ft,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Dc.useEffectEvent=nt;var Nc={readContext:ie,use:ft,useCallback:function(e,t){return dt().memoizedState=[e,void 0===t?null:t],e},useContext:ie,useEffect:zt,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ht(4194308,4,Yt.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ht(4194308,4,e,t)},useInsertionEffect:function(e,t){Ht(4,2,e,t)},useMemo:function(e,t){var n=dt();t=void 0===t?null:t;var i=e();if(Mc){M(!0);try{e()}finally{M(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=dt();if(void 0!==n){var r=n(t);if(Mc){M(!0);try{n(t)}finally{M(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=cn.bind(null,xc,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},dt().memoizedState=e},useState:function(e){var t=(e=Ct(e)).queue,n=un.bind(null,xc,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zt,useDeferredValue:function(e,t){return en(dt(),e,t)},useTransition:function(){var e=Ct(!1);return e=nn.bind(null,xc,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=xc,s=dt();if(Nl){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===su)throw Error(r(349));127&ou||St(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,zt(xt.bind(null,i,a,e),[e]),i.flags|=2048,Qt(9,{destroy:void 0},bt.bind(null,i,a,n,t),null),n},useId:function(){var e=dt(),t=su.identifierPrefix;if(Nl){var n=Tl;t="_"+t+"R_"+(n=(Cl&~(1<<32-Yo(Cl)-1)).toString(32)+n),0<(n=Bc++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=_c++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sn,useFormState:Lt,useActionState:Lt,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hn.bind(null,xc,!0,n),n.dispatch=t,[e,t]},useMemoCache:gt,useCacheRefresh:function(){return dt().memoizedState=ln.bind(null,xc)},useEffectEvent:function(e){var t=dt(),n={impl:e};return t.memoizedState=n,function(){if(2&ru)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Lc={readContext:ie,use:ft,useCallback:Kt,useContext:ie,useEffect:Wt,useImperativeHandle:Jt,useInsertionEffect:jt,useLayoutEffect:qt,useMemo:$t,useReducer:mt,useRef:Vt,useState:function(){return mt(At)},useDebugValue:Zt,useDeferredValue:function(e,t){return tn(ht(),wc.memoizedState,e,t)},useTransition:function(){var e=mt(At)[0],t=ht().memoizedState;return["boolean"==typeof e?e:pt(e),t]},useSyncExternalStore:Et,useId:an,useHostTransitionStatus:sn,useFormState:Ot,useActionState:Ot,useOptimistic:function(e,t){return Tt(ht(),0,e,t)},useMemoCache:gt,useCacheRefresh:on};Lc.useEffectEvent=Xt;var Oc={readContext:ie,use:ft,useCallback:Kt,useContext:ie,useEffect:Wt,useImperativeHandle:Jt,useInsertionEffect:jt,useLayoutEffect:qt,useMemo:$t,useReducer:yt,useRef:Vt,useState:function(){return yt(At)},useDebugValue:Zt,useDeferredValue:function(e,t){var n=ht();return null===wc?en(n,e,t):tn(n,wc.memoizedState,e,t)},useTransition:function(){var e=yt(At)[0],t=ht().memoizedState;return["boolean"==typeof e?e:pt(e),t]},useSyncExternalStore:Et,useId:an,useHostTransitionStatus:sn,useFormState:Ft,useActionState:Ft,useOptimistic:function(e,t){var n=ht();return null!==wc?Tt(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gt,useCacheRefresh:on};Oc.useEffectEvent=Xt;var kc={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=rr(),r=Fe(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=Qe(e,r,i))&&(ar(t,0,i),Ve(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=rr(),r=Fe(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=Qe(e,r,i))&&(ar(t,0,i),Ve(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rr(),i=Fe(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=Qe(e,i,n))&&(ar(t,0,n),Ve(t,e,n))}},Uc=Error(r(461)),Fc=!1,Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Vc=!1,Hc=!1,Gc=!1,zc="function"==typeof WeakSet?WeakSet:Set,Wc=null,Xc=null,jc=!1,qc=null,Yc=8192,Jc={getCacheForType:function(e){var t=ie(zl),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ie(zl).controller.signal}},Zc=0,Kc=1,$c=2,eu=3,tu=4;if("function"==typeof Symbol&&Symbol.for){var nu=Symbol.for;Zc=nu("selector.component"),Kc=nu("selector.has_pseudo_class"),$c=nu("selector.role"),eu=nu("selector.test_id"),tu=nu("selector.text")}var iu="function"==typeof WeakMap?WeakMap:Map,ru=0,su=null,au=null,ou=0,lu=0,cu=null,uu=!1,du=!1,hu=!1,pu=0,fu=0,gu=0,Au=0,mu=0,vu=0,yu=0,Eu=null,Su=null,bu=!1,xu=0,wu=0,Iu=1/0,Cu=null,Tu=null,Mu=0,Bu=null,Ru=null,Pu=0,_u=0,Du=null,Nu=null,Lu=0,Ou=null;return is.attemptContinuousHydration=function(e){if(13===e.tag||31===e.tag){var t=Ne(e,67108864);null!==t&&ar(t,0,67108864),ns(e,67108864)}},is.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag||31===e.tag){var t=rr(),n=Ne(e,t=C(t));null!==n&&ar(n,0,t),ns(e,t)}},is.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=A(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-Yo(t);e.entanglements[1]|=n,t&=~n}ce(e),!(6&ru)&&(Iu=sl()+500,ue(0,!1))}}break;case 31:case 13:null!==(t=Ne(e,2))&&ar(t,0,2),dr(),ns(e,2)}},is.batchedUpdates=function(e,t){return e(t)},is.createComponentSelector=function(e){return{$$typeof:Zc,value:e}},is.createContainer=function(e,t,n,i,r,s,a,o,l,c){return Zr(e,t,!1,null,0,i,s,null,a,o,l,c)},is.createHasPseudoClassSelector=function(e){return{$$typeof:Kc,value:e}},is.createHydrationContainer=function(e,t,n,i,r,s,a,o,l,c,u,d,h,p){var f;return(e=Zr(n,i,!0,e,0,s,o,p,l,c,u,d)).context=Kr(null),n=e.current,(r=Fe(i=C(i=rr()))).callback=null!=(f=t)?f:null,Qe(n,r,i),t=i,e.current.lanes=t,b(e,t),ce(e),e},is.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:cs,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},is.createRoleSelector=function(e){return{$$typeof:$c,value:e}},is.createTestNameSelector=function(e){return{$$typeof:eu,value:e}},is.createTextSelector=function(e){return{$$typeof:tu,value:e}},is.defaultOnCaughtError=function(e){console.error(e)},is.defaultOnRecoverableError=function(e){gl(e)},is.defaultOnUncaughtError=function(e){gl(e)},is.deferredUpdates=function(e){var t=Is.T,n=Ys();try{return qs(32),Is.T=null,e()}finally{qs(n),Is.T=t}},is.discreteUpdates=function(e,t,n,i,r){var s=Is.T,a=Ys();try{return qs(2),Is.T=null,e(t,n,i,r)}finally{qs(a),Is.T=s,0===ru&&(Iu=sl()+500)}},is.findAllNodes=ir,is.findBoundingRects=function(e,t){if(!da)throw Error(r(363));t=ir(e,t),e=[];for(var n=0;n<t.length;n++)e.push(pa(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,s=i+n.width,a=n.y,o=a+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,p=h+c.height;if(i>=u&&a>=h&&s<=d&&o<=p){e.splice(t,1);break}if(!(i!==u||n.width!==c.width||p<a||h>o)){h>a&&(c.height+=h-a,c.y=a),p<o&&(c.height=o-h),e.splice(t,1);break}if(!(a!==h||n.height!==c.height||d<i||u>s)){u>i&&(c.width+=u-i,c.x=i),d<s&&(c.width=s-u),e.splice(t,1);break}}return e},is.findHostInstance=$r,is.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=o(e))?c(e):null)?null:Bs(e.stateNode)},is.findHostInstanceWithWarning=function(e){return $r(e)},is.flushPassiveEffects=_r,is.flushSyncFromReconciler=function(e){var t=ru;ru|=1;var n=Is.T,i=Ys();try{if(qs(2),Is.T=null,e)return e()}finally{qs(i),Is.T=n,!(6&(ru=t))&&ue(0,!1)}},is.flushSyncWork=dr,is.focusWithin=function(e,t){if(!da)throw Error(r(363));for(t=nr(e=$i(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++],i=n.tag;if(!ga(n)){if((5===i||26===i||27===i)&&ma(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},is.getFindAllNodesFailureDescription=function(e,t){if(!da)throw Error(r(363));var n=0,i=[];e=[$i(e),0];for(var s=0;s<e.length;){var a=e[s++],o=a.tag,l=e[s++],c=t[l];if((5!==o&&26!==o&&27!==o||!ga(a))&&(er(a,c)&&(i.push(tr(c)),++l>n&&(n=l)),l<t.length))for(a=a.child;null!==a;)e.push(a,l),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(tr(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},is.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return Bs(e.child.stateNode);default:return e.child.stateNode}},is.injectIntoDevTools=function(){var e={bundleType:0,version:Cs,rendererPackageName:Ts,currentDispatcherRef:Is,reconcilerVersion:"19.2.0"};if(null!==Ms&&(e.rendererConfig=Ms),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{hl=t.inject(e),pl=t}catch{}e=!!t.checkDCE}}return e},is.isAlreadyRendering=function(){return!!(6&ru)},is.observeVisibleRects=function(e,t,n,i){if(!da)throw Error(r(363));e=ir(e,t);var s=va(e,n,i).disconnect;return{disconnect:function(){s()}}},is.shouldError=function(){return null},is.shouldSuspend=function(){return!1},is.startHostTransition=function(e,t,i,s){if(5!==e.tag)throw Error(r(476));var a=rn(e).queue;nn(e,a,t,aa,null===i?n:function(){var t=rn(e);return null===t.next&&(t=e.alternate.memoizedState),dn(e,t.next.queue,{},rr()),i(s)})},is.updateContainer=function(e,t,n,i){var r=t.current,s=rr();return es(r,s,e,t,n,i),s},is.updateContainerSync=function(e,t,n,i){return es(t.current,2,e,t,n,i),2},is},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})),de.exports;var e}()),ue.exports);const pe=(fe=he)&&fe.__esModule&&Object.prototype.hasOwnProperty.call(fe,"default")?fe.default:fe;var fe;function ge(e){const t=pe(e);return t.injectIntoDevTools(),t}const Ae={},me=/^three(?=[A-Z])/,ve=e=>`${e[0].toUpperCase()}${e.slice(1)}`;let ye=0;function Ee(e){if("function"==typeof e){const t=""+ye++;return Ae[t]=e,t}Object.assign(Ae,e)}function Se(e,t){const n=ve(e),i=Ae[n];if("primitive"!==e&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function be(e){var t;e.isHidden&&(e.props.attach&&null!=(t=e.parent)&&t.object?U(e.parent,e):q(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,X(e))}function xe(e,t,n){const i=t.root.getState();if(e.parent||e.object===i.scene){if(!t.object){var r,s;const e=Ae[ve(t.type)];t.object=null!=(r=t.props.object)?r:new e(...null!=(s=t.props.args)?s:[]),t.object.__r3f=t}if(W(t.object,t.props),t.props.attach)U(e,t);else if(q(t.object)&&q(e.object)){const i=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==i){const n=e.object.children.indexOf(t.object);if(-1!==n){e.object.children.splice(n,1);const r=n<i?i-1:i;e.object.children.splice(r,0,t.object)}else t.object.parent=e.object,e.object.children.splice(i,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object})}else e.object.add(t.object)}for(const e of t.children)xe(t,e);X(t)}}function we(e,t){t&&(t.parent=e,e.children.push(t),xe(e,t))}function Ie(e,t,n){if(!t||!n)return;t.parent=e;const i=e.children.indexOf(n);-1!==i?e.children.splice(i,0,t):e.children.push(t),xe(e,t,n)}function Ce(e){if("function"==typeof e.dispose){const t=()=>{try{e.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,f.unstable_scheduleCallback)(f.unstable_IdlePriority,t)}}function Te(e,t,n){if(!t)return;t.parent=null;const i=e.children.indexOf(t);-1!==i&&e.children.splice(i,1),t.props.attach?F(e,t):q(t.object)&&q(e.object)&&(e.object.remove(t.object),function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,i)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(i)}),n.capturedMap.forEach((e,i)=>{J(n.capturedMap,t,e,i)})}(v(t),t.object));const r=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--)Te(t,t.children[e],r);t.children.length=0,delete t.object.__r3f,r&&"primitive"!==t.type&&"Scene"!==t.object.type&&Ce(t.object),void 0===n&&X(t)}function Me(e,t){for(const n of[e,e.alternate])if(null!==n)if("function"==typeof n.ref){null==n.refCleanup||n.refCleanup();const e=n.ref(t);"function"==typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}const Be=[],Re=()=>{},Pe={};let _e=0;const De=ge({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var i;return Se(e=ve(e)in Ae?e:e.replace(me,""),t),"primitive"===e&&null!=(i=t.object)&&i.__r3f&&delete t.object.__r3f,L(t.object,n,e,t)},removeChild:Te,appendChild:we,appendInitialChild:we,insertBefore:Ie,appendChildToContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&we(n,t)},removeChildFromContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&Te(n,t)},insertInContainerBefore(e,t,n){const i=e.getState().scene.__r3f;t&&n&&i&&Ie(i,t,n)},getRootHostContext:()=>Pe,getChildHostContext:()=>Pe,commitUpdate(e,t,n,i,r){var s,a,o;Se(t,i);let l=!1;if(("primitive"===e.type&&n.object!==i.object||(null==(s=i.args)?void 0:s.length)!==(null==(a=n.args)?void 0:a.length)||null!=(o=i.args)&&o.some((e,t)=>{var i;return e!==(null==(i=n.args)?void 0:i[t])}))&&(l=!0),l)Be.push([e,{...i},r]);else{const t=function(e,t){const n={};for(const i in t)if(!Q.includes(i)&&!R.equ(t[i],e.props[i])){n[i]=t[i];for(const e in t)e.startsWith(`${i}-`)&&(n[e]=t[e])}for(const i in e.props){if(Q.includes(i)||t.hasOwnProperty(i))continue;const{root:r,key:s}=O(e.object,i);if(r.constructor&&0===r.constructor.length){const e=H(r);R.und(e)||(n[s]=e[s])}else n[s]=0}return n}(e,i);Object.keys(t).length&&(Object.assign(e.props,t),W(e.object,t))}(null===r.sibling||!(4&r.flags))&&function(){for(const[e]of Be){const t=e.parent;if(t){e.props.attach?F(t,e):q(e.object)&&q(t.object)&&t.object.remove(e.object);for(const t of e.children)t.props.attach?F(e,t):q(t.object)&&q(e.object)&&e.object.remove(t.object)}e.isHidden&&be(e),e.object.__r3f&&delete e.object.__r3f,"primitive"!==e.type&&Ce(e.object)}for(const[n,i,r]of Be){n.props=i;const s=n.parent;if(s){var e,t;const i=Ae[ve(n.type)];n.object=null!=(e=n.props.object)?e:new i(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,Me(r,n.object),W(n.object,n.props),n.props.attach?U(s,n):q(n.object)&&q(s.object)&&s.object.add(n.object);for(const e of n.children)e.props.attach?U(n,e):q(e.object)&&q(n.object)&&n.object.add(e.object);X(n)}}Be.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>L(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){var t;e.isHidden||(e.props.attach&&null!=(t=e.parent)&&t.object?F(e.parent,e):q(e.object)&&(e.object.visible=!1),e.isHidden=!0,X(e))},unhideInstance:be,createTextInstance:Re,hideTextInstance:Re,unhideTextInstance:Re,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:i.createContext(null),setCurrentUpdatePriority(e){_e=e},getCurrentUpdatePriority:()=>_e,resolveUpdatePriority(){var e;if(0!==_e)return _e;switch("undefined"!=typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return 2;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return 8;default:return 32}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:"9.5.0",applyViewTransitionName(e,t,n){},restoreViewTransitionName(e,t){},cancelViewTransitionName(e,t,n){},cancelRootViewTransitionName(e){},restoreRootViewTransitionName(e){},InstanceMeasurement:null,measureInstance:e=>null,wasInstanceInViewport:e=>!0,hasInstanceChanged:(e,t)=>!1,hasInstanceAffectedParent:(e,t)=>!1,suspendOnActiveViewTransition(e,t){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(e){},createViewTransitionInstance:e=>null,getCurrentGestureOffset(e){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance:(e,t)=>e,cloneMutableTextInstance:e=>e,cloneRootViewTransitionContainer(e){throw new Error("Not implemented.")},removeRootViewTransitionClone(e,t){throw new Error("Not implemented.")},createFragmentInstance:e=>null,updateFragmentInstanceFiber(e,t){},commitNewChildToFragmentInstance(e,t){},deleteChildFromFragmentInstance(e,t){},measureClonedInstance:e=>null,maySuspendCommitOnUpdate:(e,t,n)=>!1,maySuspendCommitInSyncRender:(e,t)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(e,t)=>null}),Ne=new Map,Le={objects:"shallow",strict:!1};function Oe(e){const t=Ne.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const o="function"==typeof reportError?reportError:console.error,l=r||((e,t)=>{const n=h((n,r)=>{const a=new s.Pq0,o=new s.Pq0,l=new s.Pq0;function c(e=r().camera,t=o,n=r().size){const{width:i,height:s,top:c,left:u}=n,d=i/s;t.isVector3?l.copy(t):l.set(...t);const h=e.getWorldPosition(a).distanceTo(l);if(E(e))return{width:i/e.zoom,height:s/e.zoom,top:c,left:u,factor:1,distance:h,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,r=n*(i/s);return{width:r,height:n,top:c,left:u,factor:i/r,distance:h,aspect:d}}}let u;const d=e=>n(t=>({performance:{...t.performance,current:e}})),h=new s.I9Y,p={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new s.zD7,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();u&&clearTimeout(u),e.performance.current!==e.performance.min&&d(e.performance.min),u=setTimeout(()=>d(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:c},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i=0,s=0)=>{const a=r().camera,l={width:e,height:t,top:i,left:s};n(e=>({size:l,viewport:{...e.viewport,...c(a,o,l)}}))},setDpr:e=>n(t=>{const n=M(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:i.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return p}),r=n.getState();let a=r.size,o=r.viewport.dpr,l=r.camera;return n.subscribe(()=>{const{camera:e,size:t,viewport:i,gl:r,set:s}=n.getState();if(t.width!==a.width||t.height!==a.height||i.dpr!==o){a=t,o=i.dpr,j(e,t),i.dpr>0&&r.setPixelRatio(i.dpr);const n="undefined"!=typeof HTMLCanvasElement&&r.domElement instanceof HTMLCanvasElement;r.setSize(t.width,t.height,n)}e!==l&&(l=e,s(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n})(at,ot),c=n||De.createContainer(l,1,null,!1,null,"",o,o,o,null);let u,d;t||Ne.set(e,{fiber:c,store:l});let p=!1,f=null;return{async configure(t={}){let n;f=new Promise(e=>n=e);let{gl:i,size:r,scene:o,events:c,onCreated:h,shadows:g=!1,linear:A=!1,flat:m=!1,legacy:v=!1,orthographic:y=!1,frameloop:E="always",dpr:S=[1,2],performance:b,raycaster:x,camera:w,onPointerMissed:I}=t,C=l.getState(),T=C.gl;if(!C.gl){const t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof i?await i(t):i;T=K(n)?n:new a.WebGLRenderer({...t,...i}),C.set({gl:T})}let B=C.raycaster;B||C.set({raycaster:B=new s.tBo});const{params:P,..._}=x||{};if(R.equ(_,B,Le)||W(B,{..._}),R.equ(P,B.params,Le)||W(B,{params:{...B.params,...P}}),!C.camera||C.camera===d&&!R.equ(d,w,Le)){d=w;const e=null==w?void 0:w.isCamera,t=e?w:y?new s.qUd(0,0,0,0,.1,1e3):new s.ubm(75,0,.1,1e3);e||(t.position.z=5,w&&(W(t,w),t.manual||("aspect"in w||"left"in w||"right"in w||"bottom"in w||"top"in w)&&(t.manual=!0,t.updateProjectionMatrix())),C.camera||null!=w&&w.rotation||t.lookAt(0,0,0)),C.set({camera:t}),B.camera=t}if(!C.scene){let e;null!=o&&o.isScene?(e=o,L(e,l,"",{})):(e=new s.Z58,L(e,l,"",{}),o&&W(e,o)),C.set({scene:e})}c&&!C.events.handlers&&C.set({events:c(l)});const D=function(e,t){if(!t&&"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:i,left:r}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:r}}return!t&&"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,r);if(R.equ(D,C.size,Le)||C.setSize(D.width,D.height,D.top,D.left),S&&C.viewport.dpr!==M(S)&&C.setDpr(S),C.frameloop!==E&&C.setFrameloop(E),C.onPointerMissed||C.set({onPointerMissed:I}),b&&!R.equ(b,C.performance,Le)&&C.set(e=>({performance:{...e.performance,...b}})),!C.xr){var N;const e=(e,t)=>{const n=l.getState();"never"!==n.frameloop&&ot(e,!0,n,t)},t=()=>{const t=l.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||at(t)},n={connect(){const e=l.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=l.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(N=T.xr)?void 0:N.addEventListener)&&n.connect(),C.set({xr:n})}if(T.shadowMap){const e=T.shadowMap.enabled,t=T.shadowMap.type;if(T.shadowMap.enabled=!!g,R.boo(g))T.shadowMap.type=s.Wk7;else if(R.str(g)){var O;const e={basic:s.bTm,percentage:s.QP0,soft:s.Wk7,variance:s.RyA};T.shadowMap.type=null!=(O=e[g])?O:s.Wk7}else R.obj(g)&&Object.assign(T.shadowMap,g);e===T.shadowMap.enabled&&t===T.shadowMap.type||(T.shadowMap.needsUpdate=!0)}return s.ppV.enabled=!v,p||(T.outputColorSpace=A?s.Zr2:s.er$,T.toneMapping=m?s.y_p:s.FV),C.legacy!==v&&C.set(()=>({legacy:v})),C.linear!==A&&C.set(()=>({linear:A})),C.flat!==m&&C.set(()=>({flat:m})),!i||R.fun(i)||K(i)||R.equ(i,T,Le)||W(T,i),u=h,p=!0,n(),this},render(t){return p||f||this.configure(),f.then(()=>{De.updateContainer((0,g.jsx)(ke,{store:l,children:t,onCreated:u,rootElement:e}),c,null,()=>{})}),l},unmount(){Ue(e)}}}function ke({store:e,children:t,onCreated:n,rootElement:i}){return x(()=>{const t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(i)},[]),(0,g.jsx)($.Provider,{value:e,children:t})}function Ue(e,t){const n=Ne.get(e),i=null==n?void 0:n.fiber;if(i){const r=null==n?void 0:n.store.getState();r&&(r.internal.active=!1),De.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var n,i,s,a;null==r.events.disconnect||r.events.disconnect(),null==(n=r.gl)||null==(i=n.renderLists)||null==i.dispose||i.dispose(),null==(s=r.gl)||null==s.forceContextLoss||s.forceContextLoss(),null!=(a=r.gl)&&a.xr&&r.xr.disconnect(),_(r.scene),Ne.delete(e),t&&t(e)}catch(e){}},500)})}}function Fe(e,t,n){return(0,g.jsx)(Qe,{children:e,container:t,state:n})}function Qe({state:e={},children:t,container:n}){const{events:r,size:a,...o}=e,l=te(),[c]=i.useState(()=>new s.tBo),[u]=i.useState(()=>new s.I9Y),d=w((e,t)=>{let i;if(t.camera&&a){const n=t.camera;i=e.viewport.getCurrentViewport(n,new s.Pq0,a),n!==e.camera&&j(n,a)}return{...e,...t,scene:n,raycaster:c,pointer:u,mouse:u,previousRoot:l,events:{...e.events,...t.events,...r},size:{...e.size,...a},viewport:{...e.viewport,...i},setEvents:e=>t.set(t=>({...t,events:{...t.events,...e}}))}}),p=i.useMemo(()=>{const e=h((e,t)=>({...o,set:e,get:t})),t=t=>e.setState(e=>d.current(t,e));return t(l.getState()),l.subscribe(t),e},[l,n]);return(0,g.jsx)(g.Fragment,{children:De.createPortal((0,g.jsx)($.Provider,{value:p,children:t}),p,null)})}function Ve(e){return De.flushSyncFromReconciler(e)}function He(e,t){const n={callback:e};return t.add(n),()=>{t.delete(n)}}const Ge=new Set,ze=new Set,We=new Set,Xe=e=>He(e,Ge),je=e=>He(e,ze),qe=e=>He(e,We);function Ye(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function Je(e,t){switch(e){case"before":return Ye(Ge,t);case"after":return Ye(ze,t);case"tail":return Ye(We,t)}}let Ze,Ke;function $e(e,t,n){let i=t.clock.getDelta();"never"===t.frameloop&&"number"==typeof e&&(i=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Ze=t.internal.subscribers;for(let e=0;e<Ze.length;e++)Ke=Ze[e],Ke.ref.current(Ke.store.getState(),i,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let et,tt,nt,it=!1,rt=!1;function st(e){tt=requestAnimationFrame(st),it=!0,et=0,Je("before",e),rt=!0;for(const n of Ne.values()){var t;nt=n.store.getState(),!nt.internal.active||!("always"===nt.frameloop||nt.internal.frames>0)||null!=(t=nt.gl.xr)&&t.isPresenting||(et+=$e(e,nt))}if(rt=!1,Je("after",e),0===et)return Je("tail",e),it=!1,cancelAnimationFrame(tt)}function at(e,t=1){var n;if(!e)return Ne.forEach(e=>at(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||"never"===e.frameloop||(e.internal.frames=t>1?Math.min(60,e.internal.frames+t):rt?2:1,it||(it=!0,requestAnimationFrame(st)))}function ot(e,t=!0,n,i){if(t&&Je("before",e),n)$e(e,n,i);else for(const t of Ne.values())$e(e,t.store.getState());t&&Je("after",e)}const lt={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ct(e){const{handlePointer:t}=Z(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(lt).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:i}=e.getState();null!=(t=i.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=e.getState();if(null==i.disconnect||i.disconnect(),n(e=>({events:{...e.events,connected:t}})),i.handlers)for(const e in i.handlers){const n=i.handlers[e],[r,s]=lt[e];t.addEventListener(r,n,{passive:s})}},disconnect:()=>{const{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(const e in n.handlers){const t=n.handlers[e],[i]=lt[e];n.connected.removeEventListener(i,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}},5178(e,t,n){"use strict";n.r(t),n.d(t,{Canvas:()=>f,ReactThreeFiber:()=>i.t,_roots:()=>i._,act:()=>i.x,addAfterEffect:()=>i.k,addEffect:()=>i.j,addTail:()=>i.l,advance:()=>i.n,applyProps:()=>i.s,buildGraph:()=>i.y,context:()=>i.q,createEvents:()=>i.g,createPortal:()=>i.o,createRoot:()=>i.c,dispose:()=>i.w,events:()=>i.f,extend:()=>i.e,flushGlobalEffects:()=>i.h,flushSync:()=>i.p,getRootState:()=>i.v,invalidate:()=>i.m,reconciler:()=>i.r,unmountComponentAtNode:()=>i.d,useFrame:()=>i.D,useGraph:()=>i.F,useInstanceHandle:()=>i.z,useLoader:()=>i.G,useStore:()=>i.A,useThree:()=>i.C});var i=n(5214),r=n(6540),s=n(9437);function a(e,t){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...i),t)}}function o({debounce:e,scroll:t,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,c]=(0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),h=e?"number"==typeof e?e:e.scroll:null,p=e?"number"==typeof e?e:e.resize:null,f=(0,r.useRef)(!1);(0,r.useEffect)(()=>(f.current=!0,()=>{f.current=!1}));const[g,A,m]=(0,r.useMemo)(()=>{const e=()=>{if(!d.current.element)return;const{left:e,top:t,width:n,height:r,bottom:s,right:a,x:o,y:l}=d.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:r,bottom:s,right:a,x:o,y:l};d.current.element instanceof HTMLElement&&i&&(h.height=d.current.element.offsetHeight,h.width=d.current.element.offsetWidth),Object.freeze(h),f.current&&!u(d.current.lastBounds,h)&&c(d.current.lastBounds=h)};return[e,p?a(e,p):e,h?a(e,h):e]},[c,i,h,p]);function v(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",m,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null),d.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",d.current.orientationHandler))}function y(){d.current.element&&(d.current.resizeObserver=new s(m),d.current.resizeObserver.observe(d.current.element),t&&d.current.scrollContainers&&d.current.scrollContainers.forEach(e=>e.addEventListener("scroll",m,{capture:!0,passive:!0})),d.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",d.current.orientationHandler))}return function(e,t){(0,r.useEffect)(()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[e,t])}(m,!!t),function(e){(0,r.useEffect)(()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}(A),(0,r.useEffect)(()=>{v(),y()},[t,m,A]),(0,r.useEffect)(()=>v,[]),[e=>{!e||e===d.current.element||(v(),d.current.element=e,d.current.scrollContainers=l(e),y())},o,g]}function l(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(e);return[n,i,r].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...l(e.parentElement)]}const c=["x","y","top","bottom","left","right","width","height"],u=(e,t)=>c.every(n=>e[n]===t[n]);var d=n(9318),h=n(4848);function p({ref:e,children:t,fallback:n,resize:a,style:l,gl:c,events:u=i.f,eventSource:d,eventPrefix:p,shadows:f,linear:g,flat:A,legacy:m,orthographic:v,frameloop:y,dpr:E,performance:S,raycaster:b,camera:x,scene:w,onPointerMissed:I,onCreated:C,...T}){r.useMemo(()=>(0,i.e)(s),[]);const M=(0,i.u)(),[B,R]=o({scroll:!0,debounce:{scroll:50,resize:0},...a}),P=r.useRef(null),_=r.useRef(null);r.useImperativeHandle(e,()=>P.current);const D=(0,i.a)(I),[N,L]=r.useState(!1),[O,k]=r.useState(!1);if(N)throw N;if(O)throw O;const U=r.useRef(null);(0,i.b)(()=>{const e=P.current;if(R.width>0&&R.height>0&&e){async function n(){await U.current.configure({gl:c,scene:w,events:u,shadows:f,linear:g,flat:A,legacy:m,orthographic:v,frameloop:y,dpr:E,performance:S,raycaster:b,camera:x,size:R,onPointerMissed:(...e)=>null==D.current?void 0:D.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(d?(0,i.i)(d)?d.current:d:_.current),p&&e.setEvents({compute:(e,t)=>{const n=e[p+"X"],i=e[p+"Y"];t.pointer.set(n/t.size.width*2-1,-i/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==C||C(e)}}),U.current.render((0,h.jsx)(M,{children:(0,h.jsx)(i.E,{set:k,children:(0,h.jsx)(r.Suspense,{fallback:(0,h.jsx)(i.B,{set:L}),children:null!=t?t:null})})}))}U.current||(U.current=(0,i.c)(e)),n()}}),r.useEffect(()=>{const e=P.current;if(e)return()=>(0,i.d)(e)},[]);const F=d?"none":"auto";return(0,h.jsx)("div",{ref:_,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...l},...T,children:(0,h.jsx)("div",{ref:B,style:{width:"100%",height:"100%"},children:(0,h.jsx)("canvas",{ref:P,style:{display:"block"},children:n})})})}function f(e){return(0,h.jsx)(d.Af,{children:(0,h.jsx)(p,{...e})})}n(9982)},1247(e,t,n){"use strict";var i=n(9982),r=n(6540),s=n(961);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var M=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var B=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function _(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList";case T:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case A:return"Portal";case S:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return _(e(t))}catch(e){}}return null}var D=Array.isArray,N=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},k=[],U=-1;function F(e){return{current:e}}function Q(e){0>U||(e.current=k[U],k[U]=null,U--)}function V(e,t){U++,k[U]=e.current,e.current=t}var H,G,z=F(null),W=F(null),X=F(null),j=F(null);function q(e,t){switch(V(X,t),V(W,e),V(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?md(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=md(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(z),V(z,e)}function Y(){Q(z),Q(W),Q(X)}function J(e){null!==e.memoizedState&&V(j,e);var t=z.current,n=vd(t,e.type);t!==n&&(V(W,e),V(z,n))}function Z(e){W.current===e&&(Q(z),Q(W)),j.current===e&&(Q(j),uh._currentValue=O)}function K(e){if(void 0===H)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",G=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+G}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?K(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return K(e.type);case 16:return K("Lazy");case 13:return e.child!==t&&null!==t?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return K("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var ie=Object.prototype.hasOwnProperty,re=i.unstable_scheduleCallback,se=i.unstable_cancelCallback,ae=i.unstable_shouldYield,oe=i.unstable_requestPaint,le=i.unstable_now,ce=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,he=i.unstable_NormalPriority,pe=i.unstable_LowPriority,fe=i.unstable_IdlePriority,ge=i.log,Ae=i.unstable_setDisableYieldValue,me=null,ve=null;function ye(e){if("function"==typeof ge&&Ae(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(me,e)}catch(e){}}var Ee=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Se(e)/be|0)|0},Se=Math.log,be=Math.LN2,xe=256,we=262144,Ie=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~s)?r=Ce(i):0!==(a&=o)?r=Ce(a):n||0!==(n=o&~e)&&(r=Ce(n)):0!==(o=i&~s)?r=Ce(o):0!==a?r=Ce(a):n||0!==(n=i&~e)&&(r=Ce(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function Me(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=Ie;return!(62914560&(Ie<<=1))&&(Ie=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ee(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ee(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Le(e,t){var n=t&-t;return 0!==((n=42&n?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ke(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ue(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Fe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Qe=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Qe,He="__reactProps$"+Qe,Ge="__reactContainer$"+Qe,ze="__reactEvents$"+Qe,We="__reactListeners$"+Qe,Xe="__reactHandles$"+Qe,je="__reactResources$"+Qe,qe="__reactMarker$"+Qe;function Ye(e){delete e[Ve],delete e[He],delete e[ze],delete e[We],delete e[Xe]}function Je(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ge]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Od(e);null!==e;){if(n=e[Ve])return n;e=Od(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Ve]||e[Ge]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function $e(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[qe]=!0}var tt=new Set,nt={};function it(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(r=t,ie.call(ot,r)||!ie.call(at,r)&&(st.test(r)?ot[r]=!0:(at[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ht(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function gt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var At=/[\n"\\]/g;function mt(e){return e.replace(At,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,i,r,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?Et(e,a,dt(t)):null!=n?Et(e,a,dt(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function yt(e,t,n,i,r,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),pt(e)}function Et(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(a(92));if(D(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),pt(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var It=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||It.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Ct(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Ct(e,s,t[s])}function Mt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _t(){}var Dt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function kt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[He]||null;if(!r)throw Error(a(90));vt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ft(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ut=!1;function Ft(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Lt||null!==Ot)&&($c(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,kt(t),e)))for(t=0;t<e.length;t++)kt(e[t])}}function Qt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[He]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Vt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ht=!1;if(Vt)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch(e){Ht=!1}var zt=null,Wt=null,Xt=null;function jt(){if(Xt)return Xt;var e,t,n=Wt,i=n.length,r="value"in zt?zt.value:zt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return Xt=r.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Jt(){return!1}function Zt(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Yt:Jt,this.isPropagationStopped=Jt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Kt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=p({},tn,{view:0,detail:0}),sn=Zt(rn),an=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Kt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Kt=0,en=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),on=Zt(an),ln=Zt(p({},an,{dataTransfer:0})),cn=Zt(p({},rn,{relatedTarget:0})),un=Zt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Zt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Zt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function mn(){return An}var vn=Zt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Zt(p({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=Zt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),Sn=Zt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Zt(p({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Zt(p({},tn,{newState:0,oldState:0})),wn=[9,13,27,32],In=Vt&&"CompositionEvent"in window,Cn=null;Vt&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Vt&&"TextEvent"in window&&!Cn,Mn=Vt&&(!In||Cn&&8<Cn&&11>=Cn),Bn=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1,Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function On(e,t,n,i){Lt?Ot?Ot.push(i):Ot=[i]:Lt=i,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var kn=null,Un=null;function Fn(e){Yu(e,0)}function Qn(e){if(ft(Ke(e)))return e}function Vn(e,t){if("change"===e)return t}var Hn=!1;if(Vt){var Gn;if(Vt){var zn="oninput"in document;if(!zn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),zn="function"==typeof Wn.oninput}Gn=zn}else Gn=!1;Hn=Gn&&(!document.documentMode||9<document.documentMode)}function Xn(){kn&&(kn.detachEvent("onpropertychange",jn),Un=kn=null)}function jn(e){if("value"===e.propertyName&&Qn(Un)){var t=[];On(t,Un,e,Nt(e)),Ft(Fn,t)}}function qn(e,t,n){"focusin"===e?(Xn(),Un=n,(kn=t).attachEvent("onpropertychange",jn)):"focusout"===e&&Xn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Un)}function Jn(e,t){if("click"===e)return Qn(t)}function Zn(e,t){if("input"===e||"change"===e)return Qn(t)}var Kn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function $n(e,t){if(Kn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ie.call(t,r)||!Kn(e[r],t[r]))return!1}return!0}function ei(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ti(e,t){var n,i=ei(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ei(i)}}function ni(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ni(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ii(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var si=Vt&&"documentMode"in document&&11>=document.documentMode,ai=null,oi=null,li=null,ci=!1;function ui(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ci||null==ai||ai!==gt(i)||(i="selectionStart"in(i=ai)&&ri(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},li&&$n(li,i)||(li=i,0<(i=id(oi,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ai)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},pi={},fi={};function gi(e){if(pi[e])return pi[e];if(!hi[e])return e;var t,n=hi[e];for(t in n)if(n.hasOwnProperty(t)&&t in fi)return pi[e]=n[t];return e}Vt&&(fi=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);var Ai=gi("animationend"),mi=gi("animationiteration"),vi=gi("animationstart"),yi=gi("transitionrun"),Ei=gi("transitionstart"),Si=gi("transitioncancel"),bi=gi("transitionend"),xi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(e,t){xi.set(e,t),it(t,[e])}wi.push("scrollEnd");var Ci="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ti=[],Mi=0,Bi=0;function Ri(){for(var e=Mi,t=Bi=Mi=0;t<e;){var n=Ti[t];Ti[t++]=null;var i=Ti[t];Ti[t++]=null;var r=Ti[t];Ti[t++]=null;var s=Ti[t];if(Ti[t++]=null,null!==i&&null!==r){var a=i.pending;null===a?r.next=r:(r.next=a.next,a.next=r),i.pending=r}0!==s&&Ni(n,r,s)}}function Pi(e,t,n,i){Ti[Mi++]=e,Ti[Mi++]=t,Ti[Mi++]=n,Ti[Mi++]=i,Bi|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function _i(e,t,n,i){return Pi(e,t,n,i),Li(e)}function Di(e,t){return Pi(e,null,null,t),Li(e)}function Ni(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-Ee(n),null===(i=(e=s.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),s):null}function Li(e){if(50<zc)throw zc=0,Wc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oi={};function ki(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(e,t,n,i){return new ki(e,t,n,i)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qi(e,t){var n=e.alternate;return null===n?((n=Ui(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hi(e,t,n,i,r,s){var o=0;if(i=e,"function"==typeof e)Fi(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Ui(31,n,t,r)).elementType=T,e.lanes=s,e;case m:return Gi(n.children,r,s,t);case v:o=8,r|=24;break;case y:return(e=Ui(12,n,t,2|r)).elementType=y,e.lanes=s,e;case x:return(e=Ui(13,n,t,r)).elementType=x,e.lanes=s,e;case w:return(e=Ui(19,n,t,r)).elementType=w,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case E:o=9;break e;case b:o=11;break e;case I:o=14;break e;case C:o=16,i=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),i=null}return(t=Ui(o,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Gi(e,t,n,i){return(e=Ui(7,e,i,t)).lanes=n,e}function zi(e,t,n){return(e=Ui(6,e,null,t)).lanes=n,e}function Wi(e){var t=Ui(18,null,null,0);return t.stateNode=e,t}function Xi(e,t,n){return(t=Ui(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ji=new WeakMap;function qi(e,t){if("object"==typeof e&&null!==e){var n=ji.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},ji.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yi=[],Ji=0,Zi=null,Ki=0,$i=[],er=0,tr=null,nr=1,ir="";function rr(e,t){Yi[Ji++]=Ki,Yi[Ji++]=Zi,Zi=e,Ki=t}function sr(e,t,n){$i[er++]=nr,$i[er++]=ir,$i[er++]=tr,tr=e;var i=nr;e=ir;var r=32-Ee(i)-1;i&=~(1<<r),n+=1;var s=32-Ee(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,nr=1<<32-Ee(t)+r|n<<r|i,ir=s+e}else nr=1<<s|n<<r|i,ir=e}function ar(e){null!==e.return&&(rr(e,1),sr(e,1,0))}function or(e){for(;e===Zi;)Zi=Yi[--Ji],Yi[Ji]=null,Ki=Yi[--Ji],Yi[Ji]=null;for(;e===tr;)tr=$i[--er],$i[er]=null,ir=$i[--er],$i[er]=null,nr=$i[--er],$i[er]=null}function lr(e,t){$i[er++]=nr,$i[er++]=ir,$i[er++]=tr,nr=t.id,ir=t.overflow,tr=e}var cr=null,ur=null,dr=!1,hr=null,pr=!1,fr=Error(a(519));function gr(e){throw Sr(qi(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fr}function Ar(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ve]=e,t[He]=i,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<ju.length;n++)Ju(ju[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),yt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),xt(t,i.value,i.defaultValue,i.children)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||cd(t.textContent,n)?(null!=i.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=i.onScroll&&Ju("scroll",t),null!=i.onScrollEnd&&Ju("scrollend",t),null!=i.onClick&&(t.onclick=_t),t=!0):t=!1,t||gr(e,!0)}function mr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(pr=!1);case 27:case 3:return void(pr=!0);default:cr=cr.return}}function vr(e){if(e!==cr)return!1;if(!dr)return mr(e),dr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yd(e.type,e.memoizedProps)),t=!t),t&&ur&&gr(e),mr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ur=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ur=Ld(e)}else 27===n?(n=ur,Cd(e.type)?(e=Nd,Nd=null,ur=e):ur=n):ur=cr?Dd(e.stateNode.nextSibling):null;return!0}function yr(){ur=cr=null,dr=!1}function Er(){var e=hr;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),hr=null),e}function Sr(e){null===hr?hr=[e]:hr.push(e)}var br=F(null),xr=null,wr=null;function Ir(e,t,n){V(br,t._currentValue),t._currentValue=n}function Cr(e){e._currentValue=br.current,Q(br)}function Tr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var o=r.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Tr(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Tr(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function Br(e,t,n,i){e=null;for(var r=t,s=!1;null!==r;){if(!s)if(524288&r.flags)s=!0;else if(262144&r.flags)break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=r.type;Kn(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===j.current){if(null===(o=r.alternate))throw Error(a(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}r=r.return}null!==e&&Mr(t,e,n,i),t.flags|=262144}function Rr(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){xr=e,wr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _r(e){return Nr(xr,e)}function Dr(e,t){return null===xr&&Pr(e),Nr(e,t)}function Nr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wr){if(null===e)throw Error(a(308));wr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wr=wr.next=t;return n}var Lr="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Or=i.unstable_scheduleCallback,kr=i.unstable_NormalPriority,Ur={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fr(){return{controller:new Lr,data:new Map,refCount:0}}function Qr(e){e.refCount--,0===e.refCount&&Or(kr,function(){e.controller.abort()})}var Vr=null,Hr=0,Gr=0,zr=null;function Wr(){if(0===--Hr&&null!==Vr){null!==zr&&(zr.status="fulfilled");var e=Vr;Vr=null,Gr=0,zr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Xr=N.S;N.S=function(e,t){Dc=le(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Vr){var n=Vr=[];Hr=0,Gr=Hu(),zr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hr++,t.then(Wr,Wr)}(0,t),null!==Xr&&Xr(e,t)};var jr=F(null);function qr(){var e=jr.current;return null!==e?e:fc.pooledCache}function Yr(e,t){V(jr,null===t?jr.current:t.pool)}function Jr(){var e=qr();return null===e?null:{parent:Ur._currentValue,pool:e}}var Zr=Error(a(460)),Kr=Error(a(474)),$r=Error(a(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(_t,_t),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"==typeof t.status)t.then(_t,_t);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw rs=t,Zr}}function is(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw rs=e,Zr;throw e}}var rs=null;function ss(){if(null===rs)throw Error(a(459));var e=rs;return rs=null,e}function as(e){if(e===Zr||e===$r)throw Error(a(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),ns(os,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Qi(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===m?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===C&&is(s)===t.type)?(us(t=r(t,n.props),n),t.return=e,t):(us(t=Hi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,s){return null===t||7!==t.tag?((t=Gi(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=zi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case g:return us(n=Hi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case A:return(t=Xi(t,e.mode,n)).return=e,t;case C:return h(e,t=is(t),n)}if(D(t)||R(t))return(t=Gi(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,cs(t),n);if(t.$$typeof===S)return h(e,Dr(e,t),n);ds(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===r?c(e,t,n,i):null;case A:return n.key===r?u(e,t,n,i):null;case C:return p(e,t,n=is(n),i)}if(D(n)||R(n))return null!==r?null:d(e,t,n,i,null);if("function"==typeof n.then)return p(e,t,cs(n),i);if(n.$$typeof===S)return p(e,t,Dr(e,n),i);ds(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case g:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case A:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case C:return f(e,t,n,i=is(i),r)}if(D(i)||R(i))return d(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return f(e,t,n,cs(i),r);if(i.$$typeof===S)return f(e,t,n,Dr(t,i),r);ds(t,i)}return null}function v(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===m){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===C&&is(y)===c.type){n(l,c.sibling),us(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((d=Gi(u.props.children,l.mode,d,u.key)).return=l,l=d):(us(d=Hi(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case A:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Xi(u,l.mode,d)).return=l,l=d}return o(l);case C:return v(l,c,u=is(u),d)}if(D(u))return function(r,a,o,l){for(var c=null,u=null,d=a,g=a=0,A=null;null!==d&&g<o.length;g++){d.index>g?(A=d,d=null):A=d.sibling;var m=p(r,d,o[g],l);if(null===m){null===d&&(d=A);break}e&&d&&null===m.alternate&&t(r,d),a=s(m,a,g),null===u?c=m:u.sibling=m,u=m,d=A}if(g===o.length)return n(r,d),dr&&rr(r,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(r,o[g],l))&&(a=s(d,a,g),null===u?c=d:u.sibling=d,u=d);return dr&&rr(r,g),c}for(d=i(d);g<o.length;g++)null!==(A=f(d,r,g,o[g],l))&&(e&&null!==A.alternate&&d.delete(null===A.key?g:A.key),a=s(A,a,g),null===u?c=A:u.sibling=A,u=A);return e&&d.forEach(function(e){return t(r,e)}),dr&&rr(r,g),c}(l,c,u,d);if(R(u)){if("function"!=typeof(y=R(u)))throw Error(a(150));return function(r,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,g=o,A=o=0,m=null,v=l.next();null!==g&&!v.done;A++,v=l.next()){g.index>A?(m=g,g=null):m=g.sibling;var y=p(r,g,v.value,c);if(null===y){null===g&&(g=m);break}e&&g&&null===y.alternate&&t(r,g),o=s(y,o,A),null===d?u=y:d.sibling=y,d=y,g=m}if(v.done)return n(r,g),dr&&rr(r,A),u;if(null===g){for(;!v.done;A++,v=l.next())null!==(v=h(r,v.value,c))&&(o=s(v,o,A),null===d?u=v:d.sibling=v,d=v);return dr&&rr(r,A),u}for(g=i(g);!v.done;A++,v=l.next())null!==(v=f(g,r,A,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?A:v.key),o=s(v,o,A),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(r,e)}),dr&&rr(r,A),u}(l,c,u=y.call(u),d)}if("function"==typeof u.then)return v(l,c,cs(u),d);if(u.$$typeof===S)return v(l,c,Dr(l,u),d);ds(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=zi(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,i){try{ls=0;var r=v(e,t,n,i);return os=null,r}catch(t){if(t===Zr||t===$r)throw t;var s=Ui(29,t,null,e.mode);return s.lanes=i,s.return=e,s}}}var ps=hs(!0),fs=hs(!1),gs=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ys(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&pc){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Li(e),Ni(e,null,n),t}return Pi(e,i,t,n),Li(e)}function Es(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function Ss(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var bs=!1;function xs(){if(bs&&null!==zr)throw zr}function ws(e,t,n,i){bs=!1;var r=e.updateQueue;gs=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l)}if(null!==s){var d=r.baseState;for(a=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(Ac&h)===h:(i&h)===h){0!==h&&h===Gr&&(bs=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,A=o;h=t;var m=n;switch(A.tag){case 1:if("function"==typeof(g=A.payload)){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(h="function"==typeof(g=A.payload)?g.call(m,d,h):g))break e;d=p({},d,h);break e;case 2:gs=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(f=o).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),wc|=a,e.lanes=a,e.memoizedState=d}}function Is(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function Cs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Is(n[e],t)}var Ts=F(null),Ms=F(0);function Bs(e,t){V(Ms,e=bc),V(Ts,t),bc=e|t.baseLanes}function Rs(){V(Ms,bc),V(Ts,Ts.current)}function Ps(){bc=Ms.current,Q(Ts),Q(Ms)}var _s=F(null),Ds=null;function Ns(e){var t=e.alternate;V(Fs,1&Fs.current),V(_s,e),null===Ds&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Ds=e)}function Ls(e){V(Fs,Fs.current),V(_s,e),null===Ds&&(Ds=e)}function Os(e){22===e.tag?(V(Fs,Fs.current),V(_s,e),null===Ds&&(Ds=e)):ks()}function ks(){V(Fs,Fs.current),V(_s,_s.current)}function Us(e){Q(_s),Ds===e&&(Ds=null),Q(Fs)}var Fs=F(0);function Qs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||_d(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vs=0,Hs=null,Gs=null,zs=null,Ws=!1,Xs=!1,js=!1,qs=0,Ys=0,Js=null,Zs=0;function Ks(){throw Error(a(321))}function $s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function ea(e,t,n,i,r,s){return Vs=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Ao:mo,js=!1,s=n(i,r),js=!1,Xs&&(s=na(t,n,i,r)),ta(e),s}function ta(e){N.H=go;var t=null!==Gs&&null!==Gs.next;if(Vs=0,zs=Gs=Hs=null,Ws=!1,Ys=0,Js=null,t)throw Error(a(300));null===e||Do||null!==(e=e.dependencies)&&Rr(e)&&(Do=!0)}function na(e,t,n,i){Hs=e;var r=0;do{if(Xs&&(Js=null),Ys=0,Xs=!1,25<=r)throw Error(a(301));if(r+=1,zs=Gs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}N.H=vo,s=t(n,i)}while(Xs);return s}function ia(){var e=N.H,t=e.useState()[0];return t="function"==typeof t.then?ca(t):t,e=e.useState()[0],(null!==Gs?Gs.memoizedState:null)!==e&&(Hs.flags|=1024),t}function ra(){var e=0!==qs;return qs=0,e}function sa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function aa(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}Vs=0,zs=Gs=Hs=null,Xs=!1,Ys=qs=0,Js=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zs?Hs.memoizedState=zs=e:zs=zs.next=e,zs}function la(){if(null===Gs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=Gs.next;var t=null===zs?Hs.memoizedState:zs.next;if(null!==t)zs=t,Gs=e;else{if(null===e){if(null===Hs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Gs=e).memoizedState,baseState:Gs.baseState,baseQueue:Gs.baseQueue,queue:Gs.queue,next:null},null===zs?Hs.memoizedState=zs=e:zs=zs.next=e}return zs}function ca(e){var t=Ys;return Ys+=1,null===Js&&(Js=[]),e=ns(Js,e,t),t=Hs,null===(null===zs?t.memoizedState:zs.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Ao:mo),e}function ua(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ca(e);if(e.$$typeof===S)return _r(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=Hs.alternate;null!==i&&null!==(i=i.updateQueue)&&null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=M;return t.index++,n}function ha(e,t){return"function"==typeof t?t(e):t}function pa(e){return fa(la(),Gs,e)}function fa(e,t,n){var i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{var l=o=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(Ac&h)===h:(Vs&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Gr&&(d=!0);else{if((Vs&p)===p){u=u.next,p===Gr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Hs.lanes|=p,wc|=p}h=u.action,js&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,Hs.lanes|=h,wc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Kn(s,e.memoizedState)&&(Do=!0,d&&null!==(n=zr)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,i.lastRenderedState=s}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ga(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);Kn(s,t.memoizedState)||(Do=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Aa(e,t,n){var i=Hs,r=la(),s=dr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Kn((Gs||r).memoizedState,n);if(o&&(r.memoizedState=n,Do=!0),r=r.queue,Va(ya.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||null!==zs&&1&zs.memoizedState.tag){if(i.flags|=2048,Oa(9,{destroy:void 0},va.bind(null,i,r,n,t),null),null===fc)throw Error(a(349));s||127&Vs||ma(i,t,n)}return n}function ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function va(e,t,n,i){t.value=n,t.getSnapshot=i,Ea(t)&&Sa(e)}function ya(e,t,n){return n(function(){Ea(t)&&Sa(e)})}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(e){return!0}}function Sa(e){var t=Di(e,2);null!==t&&qc(t,0,2)}function ba(e){var t=oa();if("function"==typeof e){var n=e;if(e=n(),js){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function xa(e,t,n,i){return e.baseState=n,fa(e,Gs,"function"==typeof i?i:ha)}function wa(e,t,n,i,r){if(ho(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==N.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,Ia(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ia(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=N.T,a={};N.T=a;try{var o=n(r,i),l=N.S;null!==l&&l(a,o),Ca(e,t,o)}catch(n){Ma(e,t,n)}finally{null!==s&&null!==a.types&&(s.types=a.types),N.T=s}}else try{Ca(e,t,s=n(r,i))}catch(n){Ma(e,t,n)}}function Ca(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ta(e,t,n)},function(n){return Ma(e,t,n)}):Ta(e,t,n)}function Ta(e,t,n){t.status="fulfilled",t.value=n,Ba(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ia(e,n)))}function Ma(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,Ba(t),t=t.next}while(t!==i)}e.action=null}function Ba(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ra(e,t){return t}function Pa(e,t){if(dr){var n=fc.formState;if(null!==n){e:{var i=Hs;if(dr){if(ur){t:{for(var r=ur,s=pr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=Dd(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){ur=Dd(r.nextSibling),i="F!"===r.data;break e}}gr(i)}i=!1}i&&(t=n[0])}}return(n=oa()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:t},n.queue=i,n=lo.bind(null,Hs,i),i.dispatch=n,i=ba(!1),s=uo.bind(null,Hs,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=oa()).queue=r,n=wa.bind(null,Hs,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function _a(e){return Da(la(),Gs,e)}function Da(e,t,n){if(t=fa(e,t,Ra)[0],e=pa(ha)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var i=ca(t)}catch(e){if(e===Zr)throw $r;throw e}else i=t;var r=(t=la()).queue,s=r.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,Oa(9,{destroy:void 0},Na.bind(null,r,n),null)),[i,s,e]}function Na(e,t){e.action=t}function La(e){var t=la(),n=Gs;if(null!==n)return Da(t,n,e);la(),t=t.memoizedState;var i=(n=la()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Oa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ka(){return la().memoizedState}function Ua(e,t,n,i){var r=oa();Hs.flags|=e,r.memoizedState=Oa(1|t,{destroy:void 0},n,void 0===i?null:i)}function Fa(e,t,n,i){var r=la();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==Gs&&null!==i&&$s(i,Gs.memoizedState.deps)?r.memoizedState=Oa(t,s,n,i):(Hs.flags|=e,r.memoizedState=Oa(1|t,s,n,i))}function Qa(e,t){Ua(8390656,8,e,t)}function Va(e,t){Fa(2048,8,e,t)}function Ha(e){var t=la().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&pc)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ga(e,t){return Fa(4,2,e,t)}function za(e,t){return Fa(4,4,e,t)}function Wa(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Xa(e,t,n){n=null!=n?n.concat([e]):null,Fa(4,4,Wa.bind(null,t,e),n)}function ja(){}function qa(e,t){var n=la();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&$s(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=la();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&$s(t,i[1]))return i[0];if(i=e(),js){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[i,t],i}function Ja(e,t,n){return void 0===n||1073741824&Vs&&!(261930&Ac)?e.memoizedState=t:(e.memoizedState=n,e=jc(),Hs.lanes|=e,wc|=e,n)}function Za(e,t,n,i){return Kn(n,t)?n:null!==Ts.current?(e=Ja(e,n,i),Kn(e,t)||(Do=!0),e):42&Vs&&(!(1073741824&Vs)||261930&Ac)?(e=jc(),Hs.lanes|=e,wc|=e,t):(Do=!0,e.memoizedState=n)}function Ka(e,t,n,i,r){var s=L.p;L.p=0!==s&&8>s?s:8;var a,o,l,c=N.T,u={};N.T=u,uo(e,!1,t,n);try{var d=r(),h=N.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?co(e,t,(a=i,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Xc()):co(e,t,i,Xc())}catch(n){co(e,t,{then:function(){},status:"rejected",reason:n},Xc())}finally{L.p=s,null!==c&&null!==u.types&&(c.types=u.types),N.T=c}}function $a(){}function eo(e,t,n,i){if(5!==e.tag)throw Error(a(476));var r=to(e).queue;Ka(e,r,t,O,null===n?$a:function(){return no(e),n(i)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Xc())}function io(){return _r(uh)}function ro(){return la().memoizedState}function so(){return la().memoizedState}function ao(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Xc(),i=ys(t,e=vs(n),n);return null!==i&&(qc(i,0,n),Es(i,t,n)),t={cache:Fr()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var i=Xc();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)?po(t,n):null!==(n=_i(e,t,n,i))&&(qc(n,0,i),fo(n,t,i))}function lo(e,t,n){co(e,t,n,Xc())}function co(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ho(e))po(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,Kn(o,a))return Pi(e,t,r,0),null===fc&&Ri(),!1}catch(e){}if(null!==(n=_i(e,t,r,i)))return qc(n,0,i),fo(n,t,i),!0}return!1}function uo(e,t,n,i){if(i={lane:2,revertLane:Hu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(a(479))}else null!==(t=_i(e,n,i,2))&&qc(t,0,2)}function ho(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function po(e,t){Xs=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fo(e,t,n){if(4194048&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var go={readContext:_r,use:ua,useCallback:Ks,useContext:Ks,useEffect:Ks,useImperativeHandle:Ks,useLayoutEffect:Ks,useInsertionEffect:Ks,useMemo:Ks,useReducer:Ks,useRef:Ks,useState:Ks,useDebugValue:Ks,useDeferredValue:Ks,useTransition:Ks,useSyncExternalStore:Ks,useId:Ks,useHostTransitionStatus:Ks,useFormState:Ks,useActionState:Ks,useOptimistic:Ks,useMemoCache:Ks,useCacheRefresh:Ks};go.useEffectEvent=Ks;var Ao={readContext:_r,use:ua,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:_r,useEffect:Qa,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ua(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){Ua(4,2,e,t)},useMemo:function(e,t){var n=oa();t=void 0===t?null:t;var i=e();if(js){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=oa();if(void 0!==n){var r=n(t);if(js){ye(!0);try{n(t)}finally{ye(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=oo.bind(null,Hs,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},oa().memoizedState=e},useState:function(e){var t=(e=ba(e)).queue,n=lo.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ja,useDeferredValue:function(e,t){return Ja(oa(),e,t)},useTransition:function(){var e=ba(!1);return e=Ka.bind(null,Hs,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Hs,r=oa();if(dr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===fc)throw Error(a(349));127&Ac||ma(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Qa(ya.bind(null,i,s,e),[e]),i.flags|=2048,Oa(9,{destroy:void 0},va.bind(null,i,s,n,t),null),n},useId:function(){var e=oa(),t=fc.identifierPrefix;if(dr){var n=ir;t="_"+t+"R_"+(n=(nr&~(1<<32-Ee(nr)-1)).toString(32)+n),0<(n=qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Pa,useActionState:Pa,useOptimistic:function(e){var t=oa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return oa().memoizedState=ao.bind(null,Hs)},useEffectEvent:function(e){var t=oa(),n={impl:e};return t.memoizedState=n,function(){if(2&pc)throw Error(a(440));return n.impl.apply(void 0,arguments)}}},mo={readContext:_r,use:ua,useCallback:qa,useContext:_r,useEffect:Va,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:za,useMemo:Ya,useReducer:pa,useRef:ka,useState:function(){return pa(ha)},useDebugValue:ja,useDeferredValue:function(e,t){return Za(la(),Gs.memoizedState,e,t)},useTransition:function(){var e=pa(ha)[0],t=la().memoizedState;return["boolean"==typeof e?e:ca(e),t]},useSyncExternalStore:Aa,useId:ro,useHostTransitionStatus:io,useFormState:_a,useActionState:_a,useOptimistic:function(e,t){return xa(la(),0,e,t)},useMemoCache:da,useCacheRefresh:so};mo.useEffectEvent=Ha;var vo={readContext:_r,use:ua,useCallback:qa,useContext:_r,useEffect:Va,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:za,useMemo:Ya,useReducer:ga,useRef:ka,useState:function(){return ga(ha)},useDebugValue:ja,useDeferredValue:function(e,t){var n=la();return null===Gs?Ja(n,e,t):Za(n,Gs.memoizedState,e,t)},useTransition:function(){var e=ga(ha)[0],t=la().memoizedState;return["boolean"==typeof e?e:ca(e),t]},useSyncExternalStore:Aa,useId:ro,useHostTransitionStatus:io,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=la();return null!==Gs?xa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:so};function yo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vo.useEffectEvent=Ha;var Eo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Xc(),r=vs(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=ys(e,r,i))&&(qc(t,0,i),Es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Xc(),r=vs(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ys(e,r,i))&&(qc(t,0,i),Es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xc(),i=vs(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=ys(e,i,n))&&(qc(t,0,n),Es(t,e,n))}};function So(e,t,n,i,r,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!(t.prototype&&t.prototype.isPureReactComponent&&$n(n,i)&&$n(r,s))}function bo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function xo(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function wo(e){Ci(e)}function Io(e){console.error(e)}function Co(e){Ci(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Mo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Bo(e,t,n){return(n=vs(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Ro(e){return(e=vs(e)).tag=3,e}function Po(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Mo(t,n,i)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Mo(t,n,i),"function"!=typeof r&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var _o=Error(a(461)),Do=!1;function No(e,t,n,i){t.child=null===e?fs(t,null,n,i):ps(t,e.child,n,i)}function Lo(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return Pr(t),i=ea(e,t,n,a,s,r),o=ra(),null===e||Do?(dr&&o&&ar(t),t.flags|=1,No(e,t,i,r),t.child):(sa(e,t,r),rl(e,t,r))}function Oo(e,t,n,i,r){if(null===e){var s=n.type;return"function"!=typeof s||Fi(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,i,r))}if(s=e.child,!sl(e,r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,i)&&e.ref===t.ref)return rl(e,t,r)}return t.flags|=1,(e=Qi(s,i)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if($n(s,i)&&e.ref===t.ref){if(Do=!1,t.pendingProps=i=s,!sl(e,r))return t.lanes=e.lanes,rl(e,t,r);131072&e.flags&&(Do=!0)}}return zo(e,t,n,i,r)}function Uo(e,t,n,i){var r=i.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return Qo(e,t,s,n,i)}if(!(536870912&n))return i=t.lanes=536870912,Qo(e,t,null!==s?s.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yr(0,null!==s?s.cachePool:null),null!==s?Bs(t,s):Rs(),Os(t)}else null!==s?(Yr(0,s.cachePool),Bs(t,s),ks(),t.memoizedState=null):(null!==e&&Yr(0,null),Rs(),ks());return No(e,t,r,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qo(e,t,n,i,r){var s=qr();return s=null===s?null:{parent:Ur._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yr(0,null),Rs(),Os(t),null!==e&&Br(e,t,i,!0),t.childLanes=r,null}function Vo(e,t){return(t=$o({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,n){return ps(t,e.child,null,n),(e=Vo(t,t.pendingProps)).flags|=2,Us(t),t.memoizedState=null,e}function Go(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zo(e,t,n,i,r){return Pr(t),n=ea(e,t,n,i,void 0,r),i=ra(),null===e||Do?(dr&&i&&ar(t),t.flags|=1,No(e,t,n,r),t.child):(sa(e,t,r),rl(e,t,r))}function Wo(e,t,n,i,r,s){return Pr(t),t.updateQueue=null,n=na(t,i,n,r),ta(e),i=ra(),null===e||Do?(dr&&i&&ar(t),t.flags|=1,No(e,t,n,s),t.child):(sa(e,t,s),rl(e,t,s))}function Xo(e,t,n,i,r){if(Pr(t),null===t.stateNode){var s=Oi,a=n.contextType;"object"==typeof a&&null!==a&&(s=_r(a)),s=new n(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Eo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},As(t),a=n.contextType,s.context="object"==typeof a&&null!==a?_r(a):Oi,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(yo(t,n,a,i),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Eo.enqueueReplaceState(s,s.state,null),ws(t,i,s,r),xs(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=xo(n,o);s.props=l;var c=s.context,u=n.contextType;a=Oi,"object"==typeof u&&null!==u&&(a=_r(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&bo(t,s,i,a),gs=!1;var h=t.memoizedState;s.state=h,ws(t,i,s,r),xs(),c=t.memoizedState,o||h!==c||gs?("function"==typeof d&&(yo(t,n,d,i),c=t.memoizedState),(l=gs||So(t,n,l,i,h,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,ms(e,t),u=xo(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Oi,"object"==typeof c&&null!==c&&(l=_r(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&bo(t,s,i,l),gs=!1,h=t.memoizedState,s.state=h,ws(t,i,s,r),xs();var p=t.memoizedState;a!==d||h!==p||gs||null!==e&&null!==e.dependencies&&Rr(e.dependencies)?("function"==typeof o&&(yo(t,n,o,i),p=t.memoizedState),(u=gs||So(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&Rr(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=l,i=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Go(e,t),i=!!(128&t.flags),s||i?(s=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=ps(t,e.child,null,r),t.child=ps(t,null,n,r)):No(e,t,n,r),t.memoizedState=s.state,e=t.child):e=rl(e,t,r),e}function jo(e,t,n,i){return yr(),t.flags|=256,No(e,t,n,i),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Jr()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Zo(e,t,n){var i,r=t.pendingProps,s=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&Fs.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(dr){if(s?Ns(t):ks(),(e=ur)?null!==(e=null!==(e=Rd(e,pr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Wi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw gr(t);return _d(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,s?(ks(),l=$o({mode:"hidden",children:l},s=t.mode),r=Gi(r,s,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(r=t.child).memoizedState=Yo(n),r.childLanes=Jo(e,i,n),t.memoizedState=qo,Fo(null,r)):(Ns(t),Ko(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ns(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(ks(),t.child=e.child,t.flags|=128,t=null):(ks(),l=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s),(l=Gi(l,s,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,ps(t,e.child,null,n),(r=t.child).memoizedState=Yo(n),r.childLanes=Jo(e,i,n),t.memoizedState=qo,t=Fo(null,r));else if(Ns(t),_d(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(a(419))).stack="",r.digest=i,Sr({value:r,source:null,stack:null}),t=el(e,t,n)}else if(Do||Br(e,t,n,!1),i=0!==(n&e.childLanes),Do||i){if(null!==(i=fc)&&0!==(r=Le(i,n))&&r!==c.retryLane)throw c.retryLane=r,Di(e,r),qc(i,0,r),_o;Pd(l)||au(),t=el(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ur=Dd(l.nextSibling),cr=t,dr=!0,hr=null,pr=!1,null!==e&&lr(t,e),(t=Ko(t,r.children)).flags|=4096);return t}return s?(ks(),l=r.fallback,s=t.mode,u=(c=e.child).sibling,(r=Qi(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Qi(u,l):(l=Gi(l,s,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,Fo(null,r),r=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=Ur._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Jr(),l={baseLanes:l.baseLanes|n,cachePool:s}),r.memoizedState=l,r.childLanes=Jo(e,i,n),t.memoizedState=qo,Fo(e.child,r)):(Ns(t),e=(n=e.child).sibling,(n=Qi(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ko(e,t){return(t=$o({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $o(e,t){return(e=Ui(22,e,null,t)).lanes=0,e}function el(e,t,n){return ps(t,e.child,null,n),(e=Ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Tr(e.return,t,n)}function nl(e,t,n,i,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function il(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Fs.current,o=!!(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,V(Fs,a),No(e,t,i,n),i=dr?Ki:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Qs(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nl(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Qs(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nl(t,!0,n,null,s,i);break;case"together":nl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),wc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Br(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Qi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Qi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Rr(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Do=!0;else{if(!(sl(e,n)||128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Ir(0,Ur,e.memoizedState.cache),yr();break;case 27:case 5:J(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Ir(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Ns(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(Ns(t),null!==(e=rl(e,t,n))?e.sibling:null);Ns(t);break;case 19:var r=!!(128&e.flags);if((i=0!==(n&t.childLanes))||(Br(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return il(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(Fs,Fs.current),i)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:Ir(0,Ur,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Do=!!(131072&e.flags)}else Do=!1,dr&&1048576&t.flags&&sr(t,Ki,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var r=e.$$typeof;if(r===b){t.tag=11,t=Lo(null,t,e,i,n);break e}if(r===I){t.tag=14,t=Oo(null,t,e,i,n);break e}}throw t=_(e)||e,Error(a(306,t,""))}Fi(e)?(i=xo(e,i),t.tag=1,t=Xo(null,t,e,i,n)):(t.tag=0,t=zo(null,t,e,i,n))}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return Xo(e,t,i=t.type,r=xo(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,ms(e,t),ws(t,i,null,n);var o=t.memoizedState;if(i=o.cache,Ir(0,Ur,i),i!==s.cache&&Mr(t,[Ur],n,!0),xs(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=jo(e,t,i,n);break e}if(i!==r){Sr(r=qi(Error(a(424)),t)),t=jo(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ur=Dd(e.firstChild),cr=t,dr=!0,hr=null,pr=!0,n=fs(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yr(),i===r){t=rl(e,t,n);break e}No(e,t,i,n)}t=t.child}return t;case 26:return Go(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:dr||(n=t.type,e=t.pendingProps,(i=Ad(X.current).createElement(n))[Ve]=t,i[He]=e,hd(i,n,e),et(i),t.stateNode=i):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&dr&&(i=t.stateNode=kd(t.type,t.pendingProps,X.current),cr=t,pr=!0,r=ur,Cd(t.type)?(Nd=r,ur=Dd(i.firstChild)):ur=r),No(e,t,t.pendingProps.children,n),Go(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=i=ur)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,pr))?(t.stateNode=i,cr=t,ur=Dd(i.firstChild),pr=!1,r=!0):r=!1),r||gr(t)),J(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,yd(r,s)?i=null:null!==o&&yd(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=ea(e,t,ia,null,null,n),uh._currentValue=r),Go(e,t),No(e,t,i,n),t.child;case 6:return null===e&&dr&&((e=n=ur)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pr))?(t.stateNode=n,cr=t,ur=null,e=!0):e=!1),e||gr(t)),null;case 13:return Zo(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ps(t,null,i,n):No(e,t,i,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ir(0,t.type,i.value),No(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Pr(t),i=i(r=_r(r)),t.flags|=1,No(e,t,i,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,r=!!(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===i.mode)return e=Vo(t,i),t.lanes=536870912,Fo(null,e);if(Ls(t),(e=ur)?null!==(e=null!==(e=Rd(e,pr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Wi(e)).return=t,t.child=n,cr=t,ur=null):e=null,null===e)throw gr(t);return t.lanes=536870912,null}return Vo(t,i)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ls(t),r)if(256&t.flags)t.flags&=-257,t=Ho(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Do||Br(e,t,n,!1),r=0!==(n&e.childLanes),Do||r){if(null!==(i=fc)&&0!==(o=Le(i,n))&&o!==s.retryLane)throw s.retryLane=o,Di(e,o),qc(i,0,o),_o;au(),t=Ho(e,t,n)}else e=s.treeContext,ur=Dd(o.nextSibling),cr=t,dr=!0,hr=null,pr=!1,null!==e&&lr(t,e),(t=Vo(t,i)).flags|=4096;return t}return(e=Qi(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Pr(t),i=_r(Ur),null===e?(null===(r=qr())&&(r=fc,s=Fr(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},As(t),Ir(0,Ur,r)):(0!==(e.lanes&n)&&(ms(e,t),ws(t,null,null,n),xs()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Ir(0,Ur,i)):(i=s.cache,Ir(0,Ur,i),i!==r.cache&&Mr(t,[Ur],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,i,r){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw rs=es,Kr;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!rh(t)){if(!iu())throw rs=es,Kr;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,Mc|=t)}function dl(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function pl(e,t,n){var i=t.pendingProps;switch(or(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Cr(Ur),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vr(t)?ol(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Er())),hl(t),null;case 26:var r=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,r,0,0,n))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&ol(t),hl(t),ll(t,r,0,0,n)),null;case 27:if(Z(t),n=X.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ol(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return hl(t),null}e=z.current,vr(t)?Ar(t):(e=kd(r,i,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(Z(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ol(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return hl(t),null}if(s=z.current,vr(t))Ar(t);else{var o=Ad(X.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s="string"==typeof i.is?o.createElement(r,{is:i.is}):o.createElement(r)}}s[Ve]=t,s[He]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hd(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&ol(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));if(e=X.current,vr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=cr))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||cd(e.nodeValue,n)))||gr(t,!0)}else(e=Ad(e).createTextNode(i))[Ve]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=vr(t),null!==n){if(null===e){if(!i)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ve]=t}else yr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=Er(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Us(t),t):(Us(t),null);if(128&t.flags)throw Error(a(558))}return hl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=vr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[Ve]=t}else yr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),r=!1}else r=Er(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Us(t),t):(Us(t),null)}return Us(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),s=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&$u(t.stateNode.containerInfo),hl(t),null;case 10:return Cr(t.type),hl(t),null;case 19:if(Q(Fs),null===(i=t.memoizedState))return hl(t),null;if(r=!!(128&t.flags),null===(s=i.rendering))if(r)dl(i,!1);else{if(0!==xc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Qs(e))){for(t.flags|=128,dl(i,!1),e=s.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vi(n,e),n=n.sibling;return V(Fs,1&Fs.current|2),dr&&rr(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&le()>Nc&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Qs(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!dr)return hl(t),null}else 2*le()-i.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=Fs.current,V(Fs,r?1&n|2:1&n),dr&&rr(t,i.treeForkCount),e):(hl(t),null);case 22:case 23:return Us(t),Ps(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&Q(jr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cr(Ur),hl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function fl(e,t){switch(or(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cr(Ur),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Us(t),null===t.alternate)throw Error(a(340));yr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));yr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(Fs),null;case 4:return Y(),null;case 10:return Cr(t.type),null;case 22:case 23:return Us(t),Ps(),null!==e&&Q(jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cr(Ur),null;default:return null}}function gl(e,t){switch(or(t),t.tag){case 3:Cr(Ur),Y();break;case 26:case 27:case 5:Z(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Us(t);break;case 13:Us(t);break;case 19:Q(Fs);break;case 10:Cr(t.type);break;case 22:case 23:Us(t),Ps(),null!==e&&Q(jr);break;case 24:Cr(Ur)}}function Al(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(e){xu(t,t.return,e)}}function ml(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(e){xu(r,l,e)}}}i=i.next}while(i!==s)}}catch(e){xu(t,t.return,e)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Cs(t,n)}catch(t){xu(e,e.return,t)}}}function yl(e,t,n){n.props=xo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){xu(e,t,n)}}function El(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(n){xu(e,t,n)}}function Sl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){xu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){xu(e,t,n)}else n.current=null}function bl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(t){xu(e,e.return,t)}}function xl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(f)||ud(e,t,f,null,i,h)}}for(var p in i){var f=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":s=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==h&&ud(e,t,p,f,i,h)}}return void vt(e,o,l,c,u,d,s,r);case"select":for(s in f=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(s)||ud(e,t,s,null,i,c)}for(r in i)if(s=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=s||null!=c))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ud(e,t,r,s,i,c)}return t=l,n=o,i=f,void(null!=p?St(e,!!n,p,!1):!!i!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,i,r)}for(o in i)if(r=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=r||null!=s))switch(o){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(a(91));break;default:r!==s&&ud(e,t,o,r,i,s)}return void bt(e,p,f);case"option":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&("selected"===g?e.selected=!1:ud(e,t,g,null,i,p));for(c in i)p=i[c],f=n[c],!i.hasOwnProperty(c)||p===f||null==p&&null==f||("selected"===c?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:ud(e,t,c,p,i,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)p=n[A],n.hasOwnProperty(A)&&null!=p&&!i.hasOwnProperty(A)&&ud(e,t,A,null,i,p);for(u in i)if(p=i[u],f=n[u],i.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:ud(e,t,u,p,i,f)}return;default:if(Mt(t)){for(var m in n)p=n[m],n.hasOwnProperty(m)&&void 0!==p&&!i.hasOwnProperty(m)&&dd(e,t,m,void 0,i,p);for(d in i)p=i[d],f=n[d],!i.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||dd(e,t,d,p,i,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&ud(e,t,v,null,i,p);for(h in i)p=i[h],f=n[h],!i.hasOwnProperty(h)||p===f||null==p&&null==f||ud(e,t,h,p,i,f)}(i,e.type,n,t),i[He]=t}catch(t){xu(e,e.return,t)}}function wl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function Il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=_t));else if(4!==i&&(27===i&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Ml(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hd(t,i,n),t[Ve]=e,t[He]=n}catch(t){xu(e,e.return,t)}}var Bl=!1,Rl=!1,Pl=!1,_l="function"==typeof WeakSet?WeakSet:Set,Dl=null;function Nl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ql(e,n),4&i&&Al(5,n);break;case 1:if(ql(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){xu(n,n.return,e)}else{var r=xo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){xu(n,n.return,e)}}64&i&&vl(n),512&i&&El(n,n.return);break;case 3:if(ql(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Cs(e,t)}catch(e){xu(n,n.return,e)}}break;case 27:null===t&&4&i&&Ml(n);case 26:case 5:ql(e,n),null===t&&4&i&&bl(n),512&i&&El(n,n.return);break;case 12:ql(e,n);break;case 31:ql(e,n),4&i&&Ql(e,n);break;case 13:ql(e,n),4&i&&Vl(e,n),64&i&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=Tu.bind(null,n));break;case 22:if(!(i=null!==n.memoizedState||Bl)){t=null!==t&&null!==t.memoizedState||Rl,r=Bl;var s=Rl;Bl=i,(Rl=t)&&!s?Jl(e,n,!!(8772&n.subtreeFlags)):ql(e,n),Bl=r,Rl=s}break;case 30:break;default:ql(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ye(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ol=null,kl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(me,n)}catch(e){}switch(n.tag){case 26:Rl||Sl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Rl||Sl(n,t);var i=Ol,r=kl;Cd(n.type)&&(Ol=n.stateNode,kl=!1),Ul(e,t,n),Ud(n.stateNode),Ol=i,kl=r;break;case 5:Rl||Sl(n,t);case 6:if(i=Ol,r=kl,Ol=null,Ul(e,t,n),kl=r,null!==(Ol=i))if(kl)try{(9===Ol.nodeType?Ol.body:"HTML"===Ol.nodeName?Ol.ownerDocument.body:Ol).removeChild(n.stateNode)}catch(e){xu(n,t,e)}else try{Ol.removeChild(n.stateNode)}catch(e){xu(n,t,e)}break;case 18:null!==Ol&&(kl?(Td(9===(e=Ol).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),zh(e)):Td(Ol,n.stateNode));break;case 4:i=Ol,r=kl,Ol=n.stateNode.containerInfo,kl=!0,Ul(e,t,n),Ol=i,kl=r;break;case 0:case 11:case 14:case 15:ml(2,n,t),Rl||ml(4,n,t),Ul(e,t,n);break;case 1:Rl||(Sl(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&yl(n,t,i)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Rl=(i=Rl)||null!==n.memoizedState,Ul(e,t,n),Rl=i;break;default:Ul(e,t,n)}}function Ql(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{zh(e)}catch(e){xu(t,t.return,e)}}}function Vl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{zh(e)}catch(e){xu(t,t.return,e)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var i=Mu.bind(null,e,t);t.then(i,i)}})}function Gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ol=l.stateNode,kl=!1;break e}break;case 5:Ol=l.stateNode,kl=!1;break e;case 3:case 4:Ol=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===Ol)throw Error(a(160));Fl(s,o,r),Ol=null,kl=!1,null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var zl=null;function Wl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gl(t,e),Xl(e),4&i&&(ml(3,e,e.return),Al(3,e),ml(5,e,e.return));break;case 1:Gl(t,e),Xl(e),512&i&&(Rl||null===n||Sl(n,n.return)),64&i&&Bl&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var r=zl;if(Gl(t,e),Xl(e),512&i&&(Rl||null===n||Sl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(s=r.getElementsByTagName("title")[0])||s[qe]||s[Ve]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),hd(s,i,n),s[Ve]=e,et(s),i=s;break e;case"link":var o=nh("link","href",r).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}hd(s=r.createElement(i),i,n),r.head.appendChild(s);break;case"meta":if(o=nh("meta","content",r).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}hd(s=r.createElement(i),i,n),r.head.appendChild(s);break;default:throw Error(a(468,i))}s[Ve]=e,et(s),i=s}e.stateNode=i}else ih(r,e.type,e.stateNode);else e.stateNode=Zd(r,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?ih(r,e.type,e.stateNode):Zd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&xl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gl(t,e),Xl(e),512&i&&(Rl||null===n||Sl(n,n.return)),null!==n&&4&i&&xl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gl(t,e),Xl(e),512&i&&(Rl||null===n||Sl(n,n.return)),32&e.flags){r=e.stateNode;try{wt(r,"")}catch(t){xu(e,e.return,t)}}4&i&&null!=e.stateNode&&xl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Pl=!0);break;case 6:if(Gl(t,e),Xl(e),4&i){if(null===e.stateNode)throw Error(a(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(t){xu(e,e.return,t)}}break;case 3:if(th=null,r=zl,zl=Vd(t.containerInfo),Gl(t,e),zl=r,Xl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zh(t.containerInfo)}catch(t){xu(e,e.return,t)}Pl&&(Pl=!1,jl(e));break;case 4:i=zl,zl=Vd(e.stateNode.containerInfo),Gl(t,e),Xl(e),zl=i;break;case 12:default:Gl(t,e),Xl(e);break;case 31:case 19:Gl(t,e),Xl(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Hl(e,i));break;case 13:Gl(t,e),Xl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(_c=le()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Hl(e,i));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Bl,d=Rl;if(Bl=u||r,Rl=d||c,Gl(t,e),Rl=d,Bl=u,Xl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Bl||Rl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,r)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){xu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(e){xu(c,c.return,e)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;r?Md(f,!0):Md(c.stateNode,!1)}catch(e){xu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Hl(e,n));case 30:case 21:}}function Xl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(wl(i)){n=i;break}i=i.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var r=n.stateNode;Tl(e,Il(e),r);break;case 5:var s=n.stateNode;32&n.flags&&(wt(s,""),n.flags&=-33),Tl(e,Il(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,Il(e),o);break;default:throw Error(a(161))}}catch(t){xu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ml(4,t,t.return),Yl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&yl(t,t.return,n),Yl(t);break;case 27:Ud(t.stateNode);case 26:case 5:Sl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(r,s,n),Al(4,s);break;case 1:if(Jl(r,s,n),"function"==typeof(r=(i=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){xu(i,i.return,e)}if(null!==(r=(i=s).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Is(l[r],o)}catch(e){xu(i,i.return,e)}}n&&64&a&&vl(s),El(s,s.return);break;case 27:Ml(s);case 26:case 5:Jl(r,s,n),n&&null===i&&4&a&&bl(s),El(s,s.return);break;case 12:Jl(r,s,n);break;case 31:Jl(r,s,n),n&&4&a&&Ql(r,s);break;case 13:Jl(r,s,n),n&&4&a&&Vl(r,s);break;case 22:null===s.memoizedState&&Jl(r,s,n),El(s,s.return);break;case 30:break;default:Jl(r,s,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Qr(n))}function Kl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Qr(e))}function $l(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,i),t=t.sibling}function ec(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,i),2048&r&&Al(9,t);break;case 1:case 31:case 13:default:$l(e,t,n,i);break;case 3:$l(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Qr(e)));break;case 12:if(2048&r){$l(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){xu(t,t.return,e)}}else $l(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?$l(e,t,n,i):nc(e,t):2&s._visibility?$l(e,t,n,i):(s._visibility|=2,tc(e,t,n,i,!!(10256&t.subtreeFlags)||!1)),2048&r&&Zl(a,t);break;case 24:$l(e,t,n,i),2048&r&&Kl(t.alternate,t)}}function tc(e,t,n,i,r){for(r=r&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:tc(s,a,o,l,r),Al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?tc(s,a,o,l,r):nc(s,a):(u._visibility|=2,tc(s,a,o,l,r)),r&&2048&c&&Zl(a.alternate,a);break;case 24:tc(s,a,o,l,r),r&&2048&c&&Kl(a.alternate,a);break;default:tc(s,a,o,l,r)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:nc(n,i),2048&r&&Zl(i.alternate,i);break;case 24:nc(n,i),2048&r&&Kl(i.alternate,i);break;default:nc(n,i)}t=t.sibling}}var ic=8192;function rc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,i){if(!("stylesheet"!==n.type||"string"==typeof i.media&&!1===matchMedia(i.media).matches||4&n.state.loading)){if(null===n.instance){var r=Xd(i.href),s=t.querySelector(jd(r));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=ah.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,i=qd(i),(r=Fd.get(r))&&$d(i,r),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(s,"link",i),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=ah.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,zl,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var i=zl;zl=Vd(e.stateNode.containerInfo),rc(e,t,n),zl=i;break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=ic,ic=16777216,rc(e,t,n),ic=i):rc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,uc(i,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&ml(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,uc(i,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ml(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:ml(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Qr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Dl=i;else e:for(n=e;null!==Dl;){var r=(i=Dl).sibling,s=i.return;if(Ll(i),i===n){Dl=null;break e}if(null!==r){r.return=s,Dl=r;break e}Dl=s}}}var dc={getCacheForType:function(e){var t=_r(Ur),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return _r(Ur).controller.signal}},hc="function"==typeof WeakMap?WeakMap:Map,pc=0,fc=null,gc=null,Ac=0,mc=0,vc=null,yc=!1,Ec=!1,Sc=!1,bc=0,xc=0,wc=0,Ic=0,Cc=0,Tc=0,Mc=0,Bc=null,Rc=null,Pc=!1,_c=0,Dc=0,Nc=1/0,Lc=null,Oc=null,kc=0,Uc=null,Fc=null,Qc=0,Vc=0,Hc=null,Gc=null,zc=0,Wc=null;function Xc(){return 2&pc&&0!==Ac?Ac&-Ac:null!==N.T?Hu():Ue()}function jc(){if(0===Tc)if(536870912&Ac&&!dr)Tc=536870912;else{var e=we;!(3932160&(we<<=1))&&(we=262144),Tc=e}return null!==(e=_s.current)&&(e.flags|=32),Tc}function qc(e,t,n){(e!==fc||2!==mc&&9!==mc)&&null===e.cancelPendingCommit||(tu(e,0),Kc(e,Ac,Tc,!1)),_e(e,n),2&pc&&e===fc||(e===fc&&(!(2&pc)&&(Ic|=n),4===xc&&Kc(e,Ac,Tc,!1)),Lu(e))}function Yc(e,t,n){if(6&pc)throw Error(a(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||Me(e,t),r=i?function(e,t){var n=pc;pc|=2;var i=ru(),r=su();fc!==e||Ac!==t?(Lc=null,Nc=le()+500,tu(e,t)):Ec=Me(e,t);e:for(;;)try{if(0!==mc&&null!==gc){t=gc;var s=vc;t:switch(mc){case 1:mc=0,vc=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){mc=0,vc=null,du(t);break}t=function(){2!==mc&&9!==mc||fc!==e||(mc=7),Lu(e)},s.then(t,t);break e;case 3:mc=7;break e;case 4:mc=5;break e;case 7:ts(s)?(mc=0,vc=null,du(t)):(mc=0,vc=null,hu(e,t,s,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?rh(o):l.stateNode.complete){mc=0,vc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}mc=0,vc=null,hu(e,t,s,5);break;case 6:mc=0,vc=null,hu(e,t,s,6);break;case 8:eu(),xc=6;break e;default:throw Error(a(462))}}cu();break}catch(t){nu(e,t)}return wr=xr=null,N.H=i,N.A=r,pc=n,null!==gc?0:(fc=null,Ac=0,Ri(),xc)}(e,t):ou(e,t,!0),s=i;;){if(0===r){Ec&&!i&&Kc(e,t,0,!1);break}if(n=e.current.alternate,!s||Zc(n)){if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=Bc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,o).flags|=256),2!==(o=ou(l,o,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=s,Ic|=s,r=4;break e}s=Rc,Rc=r,null!==s&&(null===Rc?Rc=s:Rc.push.apply(Rc,s))}r=o}if(s=!1,2!==r)continue}}if(1===r){tu(e,0),Kc(e,t,0,!0);break}e:{switch(i=e,s=r){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Kc(i,t,Tc,!yc);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(r=_c+300-le())){if(Kc(i,t,Tc,!yc),0!==Te(i,0,!0))break e;Qc=t,i.timeoutHandle=Sd(Jc.bind(null,i,n,Rc,Lc,Pc,t,Tc,Ic,Mc,yc,s,"Throttled",-0,0),r)}else Jc(i,n,Rc,Lc,Pc,t,Tc,Ic,Mc,yc,s,null,-0,0)}break}r=ou(e,t,!1),s=!1}Lu(e)}function Jc(e,t,n,i,r,s,a,o,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){sc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_t});var f=(62914560&s)===s?_c-le():(4194048&s)===s?Dc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,o=r.duration;if(s&&o&&pd(a)){for(a=0,o=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--i,t+=8*(s+a)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(d,f)))return Qc=s,e.cancelPendingCommit=f(gu.bind(null,e,t,s,n,i,r,a,o,l,u,d,null,h,p)),void Kc(e,s,a,!c)}gu(e,t,s,n,i,r,a,o,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Kn(s(),r))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kc(e,t,n,i){t&=~Cc,t&=~Ic,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Ee(r),a=1<<s;i[s]=-1,r&=~a}0!==n&&De(e,n,t)}function $c(){return!!(6&pc)||(Ou(0,!1),!1)}function eu(){if(null!==gc){if(0===mc)var e=gc.return;else wr=xr=null,aa(e=gc),os=null,ls=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,bd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Qc=0,eu(),fc=e,gc=n=Qi(e.current,null),Ac=t,mc=0,vc=null,yc=!1,Ec=Me(e,t),Sc=!1,Mc=Tc=Cc=Ic=wc=xc=0,Rc=Bc=null,Pc=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-Ee(i),s=1<<r;t|=e[r],i&=~s}return bc=t,Ri(),n}function nu(e,t){Hs=null,N.H=go,t===Zr||t===$r?(t=ss(),mc=3):t===Kr?(t=ss(),mc=4):mc=t===_o?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vc=t,null===gc&&(xc=1,To(e,qi(t,e.current)))}function iu(){var e=_s.current;return null===e||((4194048&Ac)===Ac?null===Ds:!!((62914560&Ac)===Ac||536870912&Ac)&&e===Ds)}function ru(){var e=N.H;return N.H=go,null===e?go:e}function su(){var e=N.A;return N.A=dc,e}function au(){xc=4,yc||(4194048&Ac)!==Ac&&null!==_s.current||(Ec=!0),!(134217727&wc)&&!(134217727&Ic)||null===fc||Kc(fc,Ac,Tc,!1)}function ou(e,t,n){var i=pc;pc|=2;var r=ru(),s=su();fc===e&&Ac===t||(Lc=null,tu(e,t)),t=!1;var a=xc;e:for(;;)try{if(0!==mc&&null!==gc){var o=gc,l=vc;switch(mc){case 8:eu(),a=6;break e;case 3:case 2:case 9:case 6:null===_s.current&&(t=!0);var c=mc;if(mc=0,vc=null,hu(e,o,l,c),n&&Ec){a=0;break e}break;default:c=mc,mc=0,vc=null,hu(e,o,l,c)}}lu(),a=xc;break}catch(t){nu(e,t)}return t&&e.shellSuspendCounter++,wr=xr=null,pc=i,N.H=r,N.A=s,null===gc&&(fc=null,Ac=0,Ri()),a}function lu(){for(;null!==gc;)uu(gc)}function cu(){for(;null!==gc&&!ae();)uu(gc)}function uu(e){var t=al(e.alternate,e,bc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wo(n,t,t.pendingProps,t.type,void 0,Ac);break;case 11:t=Wo(n,t,t.pendingProps,t.type.render,t.ref,Ac);break;case 5:aa(t);default:gl(n,t),t=al(n,t=gc=Vi(t,bc),bc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e,t,n,i){wr=xr=null,aa(t),os=null,ls=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Br(t,n,r,!0),null!==(n=_s.current)){switch(n.tag){case 31:case 13:return null===Ds?au():null===n.alternate&&0===xc&&(xc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),wu(e,i,r)),!1;case 22:return n.flags|=65536,i===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),wu(e,i,r)),!1}throw Error(a(435,n.tag))}return wu(e,i,r),au(),!1}if(dr)return null!==(t=_s.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==fr&&Sr(qi(e=Error(a(422),{cause:i}),n))):(i!==fr&&Sr(qi(t=Error(a(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=qi(i,n),Ss(e,r=Bo(e.stateNode,i,r)),4!==xc&&(xc=2)),!1;var s=Error(a(520),{cause:i});if(s=qi(s,n),null===Bc?Bc=[s]:Bc.push(s),4!==xc&&(xc=2),null===t)return!0;i=qi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,Ss(n,e=Bo(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Oc&&Oc.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,Po(r=Ro(r),e,n,i),Ss(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,Ac))return xc=1,To(e,qi(n,e.current)),void(gc=null)}catch(t){if(null!==r)throw gc=r,t;return xc=1,To(e,qi(n,e.current)),void(gc=null)}32768&t.flags?(dr||1===i?e=!0:Ec||536870912&Ac?e=!1:(yc=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=_s.current)&&13===i.tag&&(i.flags|=16384)),fu(t,e)):pu(t)}function pu(e){var t=e;do{if(32768&t.flags)return void fu(t,yc);e=t.return;var n=pl(t.alternate,t,bc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===xc&&(xc=5)}function fu(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);xc=6,gc=null}function gu(e,t,n,i,r,s,o,l,c){e.cancelPendingCommit=null;do{Eu()}while(0!==kc);if(6&pc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Ee(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&De(e,i,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Bi,o,l,c),e===fc&&(gc=fc=null,Ac=0),Fc=t,Uc=e,Qc=n,Vc=s,Hc=r,Gc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,re(he,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=N.T,N.T=null,r=L.p,L.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,fd=yh,ri(e=ii(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=o),p===s&&++d===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},yh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(s=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var g=xo(n.type,r);e=i.getSnapshotBeforeUpdate(g,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(e){xu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Bd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=o,L.p=r,N.T=i}}kc=1,Au(),mu(),vu()}}function Au(){if(1===kc){kc=0;var e=Uc,t=Fc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=N.T,N.T=null;var i=L.p;L.p=2;var r=pc;pc|=4;try{Wl(t,e);var s=gd,a=ii(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&ni(o.ownerDocument.documentElement,o)){if(null!==l&&ri(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,g=Math.min(l.start,f),A=void 0===l.end?g:Math.min(l.end,f);!p.extend&&g>A&&(a=A,A=g,g=a);var m=ti(o,g),v=ti(o,A);if(m&&v&&(1!==p.rangeCount||p.anchorNode!==m.node||p.anchorOffset!==m.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(m.node,m.offset),p.removeAllRanges(),g>A?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var E=d[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}yh=!!fd,gd=fd=null}finally{pc=r,L.p=i,N.T=n}}e.current=t,kc=2}}function mu(){if(2===kc){kc=0;var e=Uc,t=Fc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=N.T,N.T=null;var i=L.p;L.p=2;var r=pc;pc|=4;try{Nl(e,t.alternate,t)}finally{pc=r,L.p=i,N.T=n}}kc=3}}function vu(){if(4===kc||3===kc){kc=0,oe();var e=Uc,t=Fc,n=Qc,i=Gc;10256&t.subtreeFlags||10256&t.flags?kc=5:(kc=0,Fc=Uc=null,yu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Oc=null),ke(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(me,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==i){t=N.T,r=L.p,L.p=2,N.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{N.T=t,L.p=r}}3&Qc&&Eu(),Lu(e),r=e.pendingLanes,261930&n&&42&r?e===Wc?zc++:(zc=0,Wc=e):zc=0,Ou(0,!1)}}function yu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Qr(t))}function Eu(){return Au(),mu(),vu(),Su()}function Su(){if(5!==kc)return!1;var e=Uc,t=Vc;Vc=0;var n=ke(Qc),i=N.T,r=L.p;try{L.p=32>n?32:n,N.T=null,n=Hc,Hc=null;var s=Uc,o=Qc;if(kc=0,Fc=Uc=null,Qc=0,6&pc)throw Error(a(331));var l=pc;if(pc|=4,lc(s.current),ec(s,s.current,o,n),pc=l,Ou(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(me,s)}catch(e){}return!0}finally{L.p=r,N.T=i,yu(e,t)}}function bu(e,t,n){t=qi(n,t),null!==(e=ys(e,t=Bo(e.stateNode,t,2),2))&&(_e(e,2),Lu(e))}function xu(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Oc||!Oc.has(i))){e=qi(n,e),null!==(i=ys(t,n=Ro(2),2))&&(Po(n,i,t,e),_e(i,2),Lu(i));break}}t=t.return}}function wu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(Sc=!0,r.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function Iu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fc===e&&(Ac&n)===n&&(4===xc||3===xc&&(62914560&Ac)===Ac&&300>le()-_c?!(2&pc)&&tu(e,0):Cc|=n,Mc===Ac&&(Mc=0)),Lu(e)}function Cu(e,t){0===t&&(t=Re()),null!==(e=Di(e,t))&&(_e(e,t),Lu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Mu(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==i&&i.delete(t),Cu(e,n)}var Bu=null,Ru=null,Pu=!1,_u=!1,Du=!1,Nu=0;function Lu(e){e!==Ru&&null===e.next&&(null===Ru?Bu=Ru=e:Ru=Ru.next=e),_u=!0,Pu||(Pu=!0,wd(function(){6&pc?re(ue,ku):Uu()}))}function Ou(e,t){if(!Du&&_u){Du=!0;do{for(var n=!1,i=Bu;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-Ee(42|e)+1)-1,s=201326741&(s&=r&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Vu(i,s))}else s=Ac,!(3&(s=Te(i,i===fc?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||Me(i,s)||(n=!0,Vu(i,s));i=i.next}}while(n);Du=!1}}function ku(){Uu()}function Uu(){_u=Pu=!1;var e,t=0;0!==Nu&&((e=window.event)&&"popstate"===e.type?e!==Ed&&(Ed=e,1):(Ed=null,0))&&(t=Nu);for(var n=le(),i=null,r=Bu;null!==r;){var s=r.next,a=Fu(r,n);0===a?(r.next=null,null===i?Bu=s:i.next=s,null===s&&(Ru=i)):(i=r,(0!==t||3&a)&&(_u=!0)),r=s}0!==kc&&5!==kc||Ou(t,!1),0!==Nu&&(Nu=0)}function Fu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-Ee(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=Be(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=Ac,n=Te(e,e===(t=fc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===mc||9===mc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&se(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Me(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&se(i),ke(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return i=Qu.bind(null,e),n=re(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&se(i),e.callbackPriority=2,e.callbackNode=null,2}function Qu(e,t){if(0!==kc&&5!==kc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var i=Ac;return 0===(i=Te(e,e===fc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,i,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Qu.bind(null,e):null)}function Vu(e,t){if(Eu())return null;Yc(e,t,!0)}function Hu(){if(0===Nu){var e=Gr;0===e&&(e=xe,!(261888&(xe<<=1))&&(xe=256)),Nu=e}return Nu}function Gu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function zu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<wi.length;Wu++){var Xu=wi[Wu];Ii(Xu.toLowerCase(),"on"+(Xu[0].toUpperCase()+Xu.slice(1)))}Ii(Ai,"onAnimationEnd"),Ii(mi,"onAnimationIteration"),Ii(vi,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(yi,"onTransitionRun"),Ii(Ei,"onTransitionStart"),Ii(Si,"onTransitionCancel"),Ii(bi,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Yu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(e){Ci(e)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(e){Ci(e)}r.currentTarget=null,s=l}}}}function Ju(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var i=e+"__bubble";n.has(i)||(ed(t,e,2,!1),n.add(i))}function Zu(e,t,n){var i=0;t&&(i|=4),ed(n,e,i,t)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Ku]){e[Ku]=!0,tt.forEach(function(t){"selectionchange"!==t&&(qu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ku]||(t[Ku]=!0,Zu("selectionchange",!1,t))}}function ed(e,t,n,i){switch(Ch(t)){case 2:var r=Eh;break;case 8:r=Sh;break;default:r=bh}n=r.bind(null,t,n,e),r=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function td(e,t,n,i,r){var s=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r)break;if(4===a)for(a=i.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===r)return;a=a.return}for(;null!==o;){if(null===(a=Je(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){i=s=a;continue e}o=o.parentNode}}i=i.return}Ft(function(){var i=s,r=Nt(n),a=[];e:{var o=xi.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=En;break;case Ai:case mi:case vi:c=un;break;case bi:c=Sn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=xn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,g=i;null!==g;){var A=g;if(f=A.stateNode,5!==(A=A.tag)&&26!==A&&27!==A||null===f||null===p||null!=(A=Qt(g,p))&&d.push(nd(g,A,f)),h)break;g=g.return}0<d.length&&(o=new c(o,u,null,n,r),a.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[Ge])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=on,A="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,A="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==c?o:Ke(c),f=null==u?o:Ke(u),(o=new d(A,g+"leave",c,n,r)).target=h,o.relatedTarget=f,A=null,Je(r)===i&&((d=new d(p,g+"enter",u,n,r)).target=f,d.relatedTarget=h,A=d),h=A,c&&u)e:{for(d=rd,g=u,f=0,A=p=c;A;A=d(A))f++;A=0;for(var m=g;m;m=d(m))A++;for(;0<f-A;)p=d(p),f--;for(;0<A-f;)g=d(g),A--;for(;f--;){if(p===g||null!==g&&p===g.alternate){d=p;break e}p=d(p),g=d(g)}d=null}else d=null;null!==c&&sd(a,o,c,d,!1),null!==u&&null!==h&&sd(a,h,u,d,!0)}if("select"===(c=(o=i?Ke(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Vn;else if(Ln(o))if(Hn)v=Zn;else{v=Yn;var y=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Mt(i.elementType)&&(v=Vn):v=Jn;switch(v&&(v=v(e,i))?On(a,v,n,r):(y&&y(e,o,i),"focusout"===e&&i&&"number"===o.type&&null!=i.memoizedProps.value&&Et(o,"number",o.value)),y=i?Ke(i):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(ai=y,oi=i,li=null);break;case"focusout":li=oi=ai=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":ci=!1,ui(a,n,r);break;case"selectionchange":if(si)break;case"keydown":case"keyup":ui(a,n,r)}var E;if(In)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Dn?Pn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Mn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Dn&&(E=jt()):(Wt="value"in(zt=r)?zt.value:zt.textContent,Dn=!0)),0<(y=id(i,S)).length&&(S=new hn(S,e,null,n,r),a.push({event:S,listeners:y}),(E||null!==(E=_n(n)))&&(S.data=E))),(E=Tn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(Rn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!In&&Pn(e,t)?(e=jt(),Xt=Wt=zt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(S=id(i,"onBeforeInput")).length&&(y=new hn("onBeforeInput","beforeinput",null,n,r),a.push({event:y,listeners:S}),y.data=E),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var s=Gu((r[He]||null).action),a=i.submitter;a&&null!==(t=(t=a[He]||null)?Gu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Nu){var e=a?zu(r,a):new FormData(r);eo(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=a?zu(r,a):new FormData(r),eo(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(a,e,i,n,r)}Yu(a,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Qt(e,n))&&i.unshift(nd(e,r,s)),null!=(r=Qt(e,t))&&i.push(nd(e,r,s))),3===e.tag)return i;e=e.return}return[]}function rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Qt(n,s))&&a.unshift(nd(n,c,l)):r||null!=(c=Qt(n,s))&&a.push(nd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ad=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"==typeof e?e:""+e).replace(ad,"\n").replace(od,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,i,r,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||wt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&wt(e,""+i);break;case"className":ct(e,"class",i);break;case"tabIndex":ct(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,i);break;case"style":Tt(e,i,s);break;case"data":if("object"!==t){ct(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",r.name,r,null),ud(e,t,"formEncType",r.formEncType,r,null),ud(e,t,"formMethod",r.formMethod,r,null),ud(e,t,"formTarget",r.formTarget,r,null)):(ud(e,t,"encType",r.encType,r,null),ud(e,t,"method",r.method,r,null),ud(e,t,"target",r.target,r,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=_t);break;case"onScroll":null!=i&&Ju("scroll",e);break;case"onScrollEnd":null!=i&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Pt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",i);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":lt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Bt.get(n)||n,i)}}function dd(e,t,n,i,r,s){switch(n){case"style":Tt(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof i?wt(e,i):("number"==typeof i||"bigint"==typeof i)&&wt(e,""+i);break;case"onScroll":null!=i&&Ju("scroll",e);break;case"onScrollEnd":null!=i&&Ju("scrollend",e);break;case"onClick":null!=i&&(e.onclick=_t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,r),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):lt(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var i,r=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,i,o,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(r&&ud(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=i=o=s=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:ud(e,t,r,d,n,null)}}return void yt(e,i,l,c,u,o,s,!1);case"select":for(s in Ju("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:ud(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!r,void(null!=t?St(e,!!r,t,!1):null!=n&&St(e,!!r,n,!0));case"textarea":for(o in Ju("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:ud(e,t,o,l,n,null)}return void xt(e,r,s,i);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(r=n[c])&&("selected"===c?e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r:ud(e,t,c,r,n,null));return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(r=0;r<ju.length;r++)Ju(ju[r],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,u,r,n,null)}return;default:if(Mt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(r=n[d])&&dd(e,t,d,r,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(r=n[l])&&ud(e,t,l,r,n,null)}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,gd=null;function Ad(e){return 9===e.nodeType?e:e.ownerDocument}function md(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ed=null,Sd="function"==typeof setTimeout?setTimeout:void 0,bd="function"==typeof clearTimeout?clearTimeout:void 0,xd="function"==typeof Promise?Promise:void 0,wd="function"==typeof queueMicrotask?queueMicrotask:void 0!==xd?function(e){return xd.resolve(null).then(e).catch(Id)}:Sd;function Id(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return e.removeChild(r),void zh(t);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Ud(e.ownerDocument.body);n=r}while(n);zh(t)}function Md(e,t){var n=e;e=0;do{var i=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=i}while(n)}function Bd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function _d(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Nd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Od(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=Ad(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fd=new Map,Qd=new Set;function Vd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=L.d;L.d={f:function(){var e=Hd.f(),t=$c();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Hd.r(e)},D:function(e){Hd.D(e),zd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),zd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var i=Gd;if(i&&e&&t){var r='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+mt(n.imageSizes)+'"]')):r+='[href="'+mt(e)+'"]';var s=r;switch(t){case"style":s=Xd(e);break;case"script":s=Yd(e)}Fd.has(s)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(s,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(jd(s))||"script"===t&&i.querySelector(Jd(s))||(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=Gd;if(n&&e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+mt(i)+'"][href="'+mt(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yd(e)}if(!Fd.has(s)&&(e=p({rel:"modulepreload",href:e},t),Fd.set(s,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(s)))return}hd(i=n.createElement("link"),"link",e),et(i),n.head.appendChild(i)}}},X:function(e,t){Hd.X(e,t);var n=Gd;if(n&&e){var i=$e(n).hoistableScripts,r=Yd(e),s=i.get(r);s||((s=n.querySelector(Jd(r)))||(e=p({src:e,async:!0},t),(t=Fd.get(r))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}},S:function(e,t,n){Hd.S(e,t,n);var i=Gd;if(i&&e){var r=$e(i).hoistableStyles,s=Xd(e);t=t||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(jd(s)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(s))&&$d(e,n);var l=a=i.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Kd(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}},M:function(e,t){Hd.M(e,t);var n=Gd;if(n&&e){var i=$e(n).hoistableScripts,r=Yd(e),s=i.get(r);s||((s=n.querySelector(Jd(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=Fd.get(r))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}};var Gd="undefined"==typeof document?null:document;function zd(e,t,n){var i=Gd;if(i&&"string"==typeof t&&t){var r=mt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),Qd.has(r)||(Qd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(hd(t=i.createElement("link"),"link",e),et(t),i.head.appendChild(t)))}}function Wd(e,t,n,i){var r,s,o,l,c=(c=X.current)?Vd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Xd(n.href),(i=(n=$e(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Xd(n.href);var u=$e(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(jd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(r=c,s=e,o=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hd(s,"link",o),et(s),r.head.appendChild(s))))),t&&null===i)throw Error(a(528,""));return d}if(t&&null!==i)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Yd(n),(i=(n=$e(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xd(e){return'href="'+mt(e)+'"'}function jd(e){return'link[rel="stylesheet"]['+e+"]"}function qd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+mt(e)+'"]'}function Jd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(i)return t.instance=i,et(i),i;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(i=(e.ownerDocument||e).createElement("style")),hd(i,"style",r),Kd(i,n.precedence,e),t.instance=i;case"stylesheet":r=Xd(n.href);var s=e.querySelector(jd(r));if(s)return t.state.loading|=4,t.instance=s,et(s),s;i=qd(n),(r=Fd.get(r))&&$d(i,r),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",i),t.state.loading|=4,Kd(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(r=e.querySelector(Jd(s)))?(t.instance=r,et(r),r):(i=n,(r=Fd.get(s))&&eh(i=p({},n),r),et(r=(e=e.ownerDocument||e).createElement("script")),hd(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Kd(i,n.precedence,e));return t.instance}function Kd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var i=new Map,r=th=new Map;r.set(n,i)}else(i=(r=th).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[qe]||s[Ve]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rh(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var sh=0;function ah(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ah.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=oh.get(e);if(n)var i=n.get(null);else{n=new Map,oh.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(r=t.instance).getAttribute("data-precedence"),(s=n.get(a)||i)===i&&n.set(null,r),n.set(a,r),this.count++,i=ah.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var uh={$$typeof:S,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function dh(e,t,n,i,r,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,i,r,s,a,o,l,c,u,d){return e=new dh(e,t,n,a,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Ui(3,null,null,t),e.current=s,s.stateNode=e,(t=Fr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},As(s),e}function ph(e){return e?e=Oi:Oi}function fh(e,t,n,i,r,s){r=ph(r),null===i.context?i.context=r:i.pendingContext=r,(i=vs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=ys(e,i,t))&&(qc(n,0,t),Es(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ah(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function mh(e){if(13===e.tag||31===e.tag){var t=Di(e,67108864);null!==t&&qc(t,0,67108864),Ah(e,67108864)}}function vh(e){if(13===e.tag||31===e.tag){var t=Xc(),n=Di(e,t=Oe(t));null!==n&&qc(n,0,t),Ah(e,t)}}var yh=!0;function Eh(e,t,n,i){var r=N.T;N.T=null;var s=L.p;try{L.p=2,bh(e,t,n,i)}finally{L.p=s,N.T=r}}function Sh(e,t,n,i){var r=N.T;N.T=null;var s=L.p;try{L.p=8,bh(e,t,n,i)}finally{L.p=s,N.T=r}}function bh(e,t,n,i){if(yh){var r=xh(i);if(null===r)td(e,t,i,wh,n),Lh(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Mh=Oh(Mh,e,t,n,i,r),!0;case"dragenter":return Bh=Oh(Bh,e,t,n,i,r),!0;case"mouseover":return Rh=Oh(Rh,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ph.set(s,Oh(Ph.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,_h.set(s,Oh(_h.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Lh(e,i),4&t&&-1<Nh.indexOf(e)){for(;null!==r;){var s=Ze(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ce(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Ee(a);o.entanglements[1]|=l,a&=~l}Lu(s),!(6&pc)&&(Nc=le()+500,Ou(0,!1))}}break;case 31:case 13:null!==(o=Di(s,2))&&qc(o,0,2),$c(),Ah(s,2)}if(null===(s=xh(i))&&td(e,t,i,wh,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else td(e,t,i,null,n)}}function xh(e){return Ih(e=Nt(e))}var wh=null;function Ih(e){if(wh=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Th=!1,Mh=null,Bh=null,Rh=null,Ph=new Map,_h=new Map,Dh=[],Nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Mh=null;break;case"dragenter":case"dragleave":Bh=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(t.pointerId)}}function Oh(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&null!==(t=Ze(t))&&mh(t),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function kh(e){var t=Je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){vh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){vh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&mh(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Dt=i,n.target.dispatchEvent(i),Dt=null,t.shift()}return!0}function Fh(e,t,n){Uh(e)&&n.delete(t)}function Qh(){Th=!1,null!==Mh&&Uh(Mh)&&(Mh=null),null!==Bh&&Uh(Bh)&&(Bh=null),null!==Rh&&Uh(Rh)&&(Rh=null),Ph.forEach(Fh),_h.forEach(Fh)}function Vh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qh)))}var Hh=null;function Gh(e){Hh!==e&&(Hh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!=typeof i){if(null===Ih(i||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function zh(e){function t(t){return Vh(t,e)}null!==Mh&&Vh(Mh,e),null!==Bh&&Vh(Bh,e),null!==Rh&&Vh(Rh,e),Ph.forEach(t),_h.forEach(t);for(var n=0;n<Dh.length;n++){var i=Dh[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)kh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[He]||null;if("function"==typeof s)a||Gh(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[He]||null)o=a.formAction;else if(null!==Ih(r))continue}else o=a.action;"function"==typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Gh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Xh(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Xh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));fh(t.current,Xc(),e,t,null,null)},jh.prototype.unmount=Xh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fh(e.current,2,null,e,null,null),$c(),t[Ge]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&kh(e)}};var qh=r.version;if("19.2.4"!==qh)throw Error(a(527,qh,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return d(r),e;if(s===i)return d(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,i=s;break}if(c===i){o=!0,i=r,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,i=r;break}if(c===i){o=!0,i=s,n=r;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{me=Jh.inject(Yh),ve=Jh}catch(e){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,i="",r=wo,s=Io,l=Co;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,i,null,r,s,l,Wh),e[Ge]=t.current,$u(e),new Xh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var i=!1,r="",s=wo,l=Io,c=Co,u=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,i,r,u,s,l,c,Wh)).context=ph(null),n=t.current,(r=vs(i=Oe(i=Xc()))).callback=null,ys(n,r,i),n=i,t.current.lanes=n,_e(t,n),Lu(t),e[Ge]=t.current,$u(e),new jh(t)},t.version="19.2.4"},6221(e,t,n){"use strict";var i=n(6540);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal"),l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},5338(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(1247)},961(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(6221)},1772(e,t){"use strict";Symbol.for("react.fragment")},9698(e,t){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var s in i={},t)"key"!==s&&(i[s]=t[s]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},9869(e,t){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator,g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function y(){}function E(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var S=E.prototype=new y;S.constructor=E,A(S,v.prototype),S.isPureReactComponent=!0;var b=Array.isArray;function x(){}var w={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(e,t,i){var r=i.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function B(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return i[e]})):t.toString(36);var n,i}function R(e,t,r,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return R((u=e._init)(e._payload),t,r,s,a)}}if(u)return a=a(e),u=""===s?"."+B(e,0):s,b(a)?(r="",null!=u&&(r=u.replace(M,"$&/")+"/"),R(a,t,r,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=r+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+u,a=C(l.type,c,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(b(e))for(var g=0;g<e.length;g++)u+=R(s=e[g],t,r,o=p+B(s,g),a);else if("function"==typeof(g=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=R(s=s.value,t,r,o=p+B(s,g++),a);else if("object"===o){if("function"==typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",function(e){return t.call(n,e,r++)}),i}function _(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},N={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=N,t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=E,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=A({},e.props),r=e.key;if(null!=t)for(s in void 0!==t.key&&(r=""+t.key),t)!I.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];i.children=a}return C(e.type,r,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var i,r={},s=null;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)I.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===r[i]&&(r[i]=a[i]);return C(e,s,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var i=e(),r=w.S;null!==r&&r(n,i),"object"==typeof i&&null!==i&&"function"==typeof i.then&&i.then(x,D)}catch(e){D(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useEffectEvent=function(e){return w.H.useEffectEvent(e)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.2.4"},6540(e,t,n){"use strict";e.exports=n(9869)},5446(e,t,n){"use strict";n(1772)},4848(e,t,n){"use strict";e.exports=n(9698)},4477(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,A=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function b(e){if(A=!1,S(e),!g)if(null!==i(c))g=!0,w||(w=!0,x());else{var t=i(u);null!==t&&_(b,t.startTime-e)}}var x,w=!1,I=-1,C=5,T=-1;function M(){return!(!m&&t.unstable_now()-T<C)}function B(){if(m=!1,w){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,A&&(A=!1,y(I),I=-1),f=!0;var s=p;try{t:{for(S(e),h=i(c);null!==h&&!(h.expirationTime>e&&M());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof o){h.callback=o,S(e),n=!0;break t}h===i(c)&&r(c),S(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&_(b,l.startTime-e),n=!1}}break e}finally{h=null,p=s,f=!1}n=void 0}}finally{n?x():w=!1}}}if("function"==typeof E)x=function(){E(B)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=B,x=function(){P.postMessage(null)}}else x=function(){v(B,0)};function _(e,n){I=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(A?(y(I),I=-1):A=!0,_(b,s-a))):(e.sortIndex=o,n(c,e),g||f||(g=!0,w||(w=!0,x()))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9982(e,t,n){"use strict";e.exports=n(4477)},6749(e,t,n){"use strict";n.d(t,{DY:()=>a,IU:()=>l,uv:()=>o});const i=[];function r(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;const i=e.length;if(t.length!==i)return!1;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}function s(e,t=null,n=!1,s={}){null===t&&(t=[e]);for(const e of i)if(r(t,e.keys,e.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(e,"error"))throw e.error;if(Object.prototype.hasOwnProperty.call(e,"response"))return s.lifespan&&s.lifespan>0&&(e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(e.remove,s.lifespan)),e.response;if(!n)throw e.promise}const a={keys:t,equal:s.equal,remove:()=>{const e=i.indexOf(a);-1!==e&&i.splice(e,1)},promise:(o=e,"object"==typeof o&&"function"==typeof o.then?e:e(...t)).then(e=>{a.response=e,s.lifespan&&s.lifespan>0&&(a.timeout=setTimeout(a.remove,s.lifespan))}).catch(e=>a.error=e)};var o;if(i.push(a),!n)throw a.promise}const a=(e,t,n)=>s(e,t,!1,n),o=(e,t,n)=>{s(e,t,!0,n)},l=e=>{if(void 0===e||0===e.length)i.splice(0,i.length);else{const t=i.find(t=>r(e,t.keys,t.equal));t&&t.remove()}}},5576(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkCapabilities=async function(){const e=[],t=[],i=[];for(const r of n)try{await Promise.resolve(r.check())||(r.required?(i.push(r.message),console.error(`Required capability missing: ${r.message}`)):(t.push(r.message),console.warn(`Optional capability missing: ${r.message}`)),e.push(r.message))}catch(n){r.required?(i.push(r.message),console.error(`Error checking required capability ${r.name}:`,n)):(t.push(r.message),console.warn(`Error checking optional capability ${r.name}:`,n)),e.push(r.message)}return{success:0===i.length,failures:e,warnings:t}};const n=[{name:"WebGL2",required:!0,check:()=>null!==document.createElement("canvas").getContext("webgl2"),message:"WebGL2 is required for rendering"},{name:"WebXR",required:!0,check:()=>"xr"in navigator,message:"WebXR is required for VR/AR functionality"},{name:"RTCPeerConnection",required:!0,check:()=>"RTCPeerConnection"in window,message:"RTCPeerConnection is required for WebRTC streaming"},{name:"requestVideoFrameCallback",required:!0,check:()=>"function"==typeof document.createElement("video").requestVideoFrameCallback,message:"HTMLVideoElement.requestVideoFrameCallback is required for video frame processing"},{name:"Canvas.captureStream",required:!0,check:()=>"function"==typeof document.createElement("canvas").captureStream,message:"Canvas.captureStream is required for video streaming"},{name:"AV1 Codec Support",required:!1,check:async()=>{try{if(!navigator.mediaCapabilities)return!1;const e={type:"webrtc",video:{contentType:"video/av1",width:1920,height:1080,framerate:60,bitrate:15e6}};return(await navigator.mediaCapabilities.decodingInfo(e)).supported}catch(e){return console.warn("Error checking AV1 support:",e),!1}},message:"AV1 codec support is recommended for optimal streaming quality"}]},8200(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEVICE_PROFILES=void 0,t.resolveDeviceProfileId=function(e){return"custom"===e||"quest2"===e||"quest3"===e||"quest3s"===e||"pico4ultra"===e?e:"custom"},t.getDeviceProfile=function(e){return t.DEVICE_PROFILES[e]??n};const n={id:"custom",label:"Custom",description:"No device defaults applied."},i={id:"quest3",label:"Quest 3",description:"Balanced defaults for Meta Quest 3.",connection:{httpsRequired:!1},web:{webglAntialias:!1,xrWebGLLayerAntialias:!1,powerPreference:"high-performance",framebufferScaleFactor:1.5,fixedFoveation:.666,frameBufferScaling:1.5,foveation:.666},cloudxr:{perEyeWidth:2048,perEyeHeight:1792,deviceFrameRate:90,maxStreamingBitrateKbps:15e4,codec:"av1",enablePoseSmoothing:!0,posePredictionFactor:1,enableTexSubImage2D:!0,useQuestColorWorkaround:!0}},r={...i,id:"quest3s",label:"Quest 3S",description:"Same as Quest 3 for now."},s={...i,id:"quest2",label:"Quest 2",description:"Same as Quest 3 except using H.265.",cloudxr:{...i.cloudxr,codec:"h265"}};t.DEVICE_PROFILES={custom:n,quest2:s,quest3:i,quest3s:r,pico4ultra:{id:"pico4ultra",label:"Pico 4 Ultra",description:"Conservative defaults for Pico 4 Ultra.",connection:{httpsRequired:!0},web:{webglAntialias:!1,xrWebGLLayerAntialias:!1,powerPreference:"high-performance",framebufferScaleFactor:1.3,fixedFoveation:null,frameBufferScaling:1.3},cloudxr:{perEyeWidth:2048,perEyeHeight:1792,deviceFrameRate:90,maxStreamingBitrateKbps:1e5,codec:"av1",enablePoseSmoothing:!0,posePredictionFactor:1,enableTexSubImage2D:!1,useQuestColorWorkaround:!1}}}},475(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadIWERIfNeeded=async function(){let e=!1,t=!1;if("xr"in navigator)try{const t=await(navigator.xr.isSessionSupported?.("immersive-vr")),n=await(navigator.xr.isSessionSupported?.("immersive-ar"));e=Boolean(t||n)}catch(e){}if(!e){console.info("Immersive mode not supported, loading IWER as fallback.");const n=document.createElement("script");n.src="https://unpkg.com/iwer@2.1.1/build/iwer.min.js",n.async=!0,n.integrity="sha384-ZOdYbNlfA4q9jkBGcdmjy2ZYmjxy2uzncU6it3cPOHi12/WF048bamSU0Z5N+V5u",n.crossOrigin="anonymous",await new Promise(i=>{n.onload=async()=>{console.info("IWER loaded as fallback.");const n=window.IWER||globalThis.IWER;if(!n)return console.warn("IWER global not found after script load."),e=!1,void i();const r=document.createElement("script");r.src="https://unpkg.com/@iwer/devui@1.1.2/build/iwer-devui.min.js",r.async=!0,r.integrity="sha384-CG/gISX6PadiSzc8i2paU7CYLVsnVJaJ0tgoVnAPq/gyiTX6bddG5rwOgMDGlq74",r.crossOrigin="anonymous",await new Promise(e=>{r.onload=()=>{console.info("IWER DevUI loaded."),e()},r.onerror=t=>{console.warn("Failed to load IWER DevUI:",t),e()},document.head.appendChild(r)});try{const i=new n.XRDevice(n.metaQuest3),r=window.IWER_DevUI||globalThis.IWER_DevUI;r?.DevUI?(i.installDevUI(r.DevUI),console.info("IWER DevUI initialized with XR device.")):console.warn("IWER DevUI not found after script load, continuing without DevUI.");const s=i.installRuntime?.();s&&"function"==typeof s.then&&await s,e=!0,t=!0}catch(t){console.warn("IWER runtime install failed:",t),e=!1}i()},n.onerror=()=>{console.warn("Failed to load IWER."),e=!1,i()},document.head.appendChild(n)})}return{supportsImmersive:e,iwerLoaded:t}}},5347(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsTracker=t.FastWindowedAverage=void 0;class n{constructor(e){this.oldWindowSum=0,this.oldWindowCount=0,this.newWindowSum=0,this.newWindowCount=0,this.minWindowSize=e}insert(e){this.newWindowSum+=e,this.newWindowCount++,this.newWindowCount===this.minWindowSize&&(this.oldWindowSum=this.newWindowSum,this.oldWindowCount=this.newWindowCount,this.newWindowSum=0,this.newWindowCount=0)}get(){const e=this.oldWindowSum+this.newWindowSum,t=this.oldWindowCount+this.newWindowCount;return 0===t?null:e/t}getCount(){return this.oldWindowCount+this.newWindowCount}reset(){this.oldWindowSum=0,this.oldWindowCount=0,this.newWindowSum=0,this.newWindowCount=0}}t.FastWindowedAverage=n,t.MetricsTracker=class{constructor(e=100){this.averageTracker=new n(e)}add(e){return this.averageTracker.insert(e),this.averageTracker.get()??0}getAverage(){return this.averageTracker.get()}reset(){this.averageTracker.reset()}}},6698(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kPerformanceOptions=void 0,t.kPerformanceOptions={webglContext_antialias:!1,xrWebGLLayer_antialias:!1,xrWebGLLayer_framebufferScaleFactor:1.5,xrWebGLLayer_fixedFoveationLevel:.666}},8386(e,t){"use strict";function n(e){return e!==t.GLUndefined}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLStateTracker=t.WebGLConstants=t.WebGLState=t.WebGLQueryState=t.WebGLSamplerState=t.WebGLRenderbufferState=t.WebGLTransformFeedbackState=t.WebGLSampleState=t.WebGLPolygonOffsetState=t.WebGLLineState=t.WebGLCullingState=t.WebGLColorState=t.WebGLStencilState=t.WebGLDepthState=t.WebGLBlendState=t.WebGLPixelStoreState=t.WebGLCapabilityState=t.WebGLClearState=t.WebGLViewportState=t.WebGLVertexArrayState=t.WebGLPerVAOState=t.WebGLVertexAttribState=t.WebGLFramebufferState=t.WebGLDefaultFramebufferState=t.WebGLFramebufferAttachments=t.WebGLFramebufferAttachment=t.WebGLProgramState=t.WebGLBufferState=t.WebGLIndexedBufferBinding=t.WebGLTextureState=t.WebGLTextureUnitState=t.GLUnitMap=t.GLAttributeArray=t.GL_MAX_COLOR_ATTACHMENTS=t.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS=t.GL_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=t.GL_MAX_UNIFORM_BUFFER_BINDINGS=t.GL_MAX_VERTEX_ATTRIBS=t.GLUndefined=void 0,t.isDefined=n,t.GLUndefined={},t.GL_MAX_VERTEX_ATTRIBS=16,t.GL_MAX_UNIFORM_BUFFER_BINDINGS=36,t.GL_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=4,t.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS=32,t.GL_MAX_COLOR_ATTACHMENTS=8;class i{constructor(e){this._size=e;for(let n=0;n<e;n++)this[n]=t.GLUndefined}get(e){return this[e]}set(e,t){this[e]=t}clone(){const e=new i(this._size);for(let n=0;n<this._size;n++)e[n]=this[n]!==t.GLUndefined?this[n].clone():this[n];return e}equals(e){if(this._size!==e._size)return!1;for(let n=0;n<this._size;n++){const i=this[n],r=e[n];if(i!==t.GLUndefined||r!==t.GLUndefined){if(i===t.GLUndefined||r===t.GLUndefined)return!1;if(!i.equals(r))return!1}}return!0}}t.GLAttributeArray=i;class r{get(e){return void 0!==this[e]?this[e]:t.GLUndefined}set(e,t){this[e]=t}clone(){const e=new r;for(const[t,n]of Object.entries(this))n&&"object"==typeof n&&"clone"in n&&(e[t]=n.clone());return e}equals(e){const n=Object.keys(this),i=Object.keys(e);return n.length===i.length&&n.every(n=>{const i=this.get(n),r=e.get(n);return i===t.GLUndefined&&r===t.GLUndefined||i!==t.GLUndefined&&r!==t.GLUndefined&&i.equals(r)})}}t.GLUnitMap=r;class s{constructor(){this.texture2D=t.GLUndefined,this.textureCubeMap=t.GLUndefined,this.texture3D=t.GLUndefined,this.texture2DArray=t.GLUndefined}clone(){const e=new s;return e.texture2D=this.texture2D,e.textureCubeMap=this.textureCubeMap,e.texture3D=this.texture3D,e.texture2DArray=this.texture2DArray,e}equals(e){return this.texture2D===e.texture2D&&this.textureCubeMap===e.textureCubeMap&&this.texture3D===e.texture3D&&this.texture2DArray===e.texture2DArray}}t.WebGLTextureUnitState=s;class a{constructor(){this.activeTexture=t.GLUndefined,this.textureUnits=new r}clone(){const e=new a;return e.activeTexture=this.activeTexture,e.textureUnits=this.textureUnits.clone(),e}equals(e){return this.activeTexture===e.activeTexture&&this.textureUnits.equals(e.textureUnits)}}t.WebGLTextureState=a;class o{constructor(){this.buffer=t.GLUndefined,this.offset=t.GLUndefined,this.size=t.GLUndefined}clone(){const e=new o;return e.buffer=this.buffer,e.offset=this.offset,e.size=this.size,e}equals(e){return this.buffer===e.buffer&&this.offset===e.offset&&this.size===e.size}}t.WebGLIndexedBufferBinding=o;class l{constructor(){this.arrayBuffer=t.GLUndefined,this.uniformBuffer=t.GLUndefined,this.transformFeedbackBuffer=t.GLUndefined,this.uniformBufferBindings=new i(t.GL_MAX_UNIFORM_BUFFER_BINDINGS),this.transformFeedbackBufferBindings=new i(t.GL_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS),this.pixelPackBuffer=t.GLUndefined,this.pixelUnpackBuffer=t.GLUndefined,this.copyReadBuffer=t.GLUndefined,this.copyWriteBuffer=t.GLUndefined}clone(){const e=new l;return e.arrayBuffer=this.arrayBuffer,e.uniformBuffer=this.uniformBuffer,e.transformFeedbackBuffer=this.transformFeedbackBuffer,e.pixelPackBuffer=this.pixelPackBuffer,e.pixelUnpackBuffer=this.pixelUnpackBuffer,e.copyReadBuffer=this.copyReadBuffer,e.copyWriteBuffer=this.copyWriteBuffer,e.uniformBufferBindings=this.uniformBufferBindings.clone(),e.transformFeedbackBufferBindings=this.transformFeedbackBufferBindings.clone(),e}equals(e){return this.arrayBuffer===e.arrayBuffer&&this.uniformBuffer===e.uniformBuffer&&this.transformFeedbackBuffer===e.transformFeedbackBuffer&&this.pixelPackBuffer===e.pixelPackBuffer&&this.pixelUnpackBuffer===e.pixelUnpackBuffer&&this.copyReadBuffer===e.copyReadBuffer&&this.copyWriteBuffer===e.copyWriteBuffer&&this.uniformBufferBindings.equals(e.uniformBufferBindings)&&this.transformFeedbackBufferBindings.equals(e.transformFeedbackBufferBindings)}}t.WebGLBufferState=l;class c{constructor(){this.currentProgram=t.GLUndefined}clone(){const e=new c;return e.currentProgram=this.currentProgram,e}equals(e){return this.currentProgram===e.currentProgram}}t.WebGLProgramState=c;class u{constructor(){this.attachmentType=t.GLUndefined,this.texture=t.GLUndefined,this.renderbuffer=t.GLUndefined,this.textureLevel=t.GLUndefined,this.textureLayer=t.GLUndefined,this.textureCubeFace=t.GLUndefined}clone(){const e=new u;return e.attachmentType=this.attachmentType,e.texture=this.texture,e.renderbuffer=this.renderbuffer,e.textureLevel=this.textureLevel,e.textureLayer=this.textureLayer,e.textureCubeFace=this.textureCubeFace,e}equals(e){return this.attachmentType===e.attachmentType&&this.texture===e.texture&&this.renderbuffer===e.renderbuffer&&this.textureLevel===e.textureLevel&&this.textureLayer===e.textureLayer&&this.textureCubeFace===e.textureCubeFace}}t.WebGLFramebufferAttachment=u;class d{}t.WebGLFramebufferAttachments=d;class h{constructor(){this.colorAttachments=new d,this.depthAttachment=t.GLUndefined,this.stencilAttachment=t.GLUndefined,this.depthStencilAttachment=t.GLUndefined,this.drawBuffers=t.GLUndefined,this.readBuffer=t.GLUndefined}clone(){const e=new h;for(const[t,n]of Object.entries(this.colorAttachments))n instanceof u&&(e.colorAttachments[t]=n.clone());return e.depthAttachment=this.depthAttachment,e.stencilAttachment=this.stencilAttachment,e.depthStencilAttachment=this.depthStencilAttachment,e.drawBuffers=Array.isArray(this.drawBuffers)?[...this.drawBuffers]:this.drawBuffers,e.readBuffer=this.readBuffer,e}equals(e){const t=Object.keys(this.colorAttachments),n=Object.keys(e.colorAttachments);if(t.length!==n.length)return!1;const i=t.every(t=>{const n=this.colorAttachments[t],i=e.colorAttachments[t];return n&&i?n.equals(i):n===i}),r=this.drawBuffers===e.drawBuffers||Array.isArray(this.drawBuffers)&&Array.isArray(e.drawBuffers)&&this.drawBuffers.length===e.drawBuffers.length&&this.drawBuffers.every((t,n)=>t===e.drawBuffers[n]);return i&&this.depthAttachment===e.depthAttachment&&this.stencilAttachment===e.stencilAttachment&&this.depthStencilAttachment===e.depthStencilAttachment&&r&&this.readBuffer===e.readBuffer}}t.WebGLDefaultFramebufferState=h;class p{constructor(){this.drawFramebuffer=t.GLUndefined,this.readFramebuffer=t.GLUndefined,this.framebuffer=t.GLUndefined,this.defaultFramebufferState=new h}clone(){const e=new p;return e.drawFramebuffer=this.drawFramebuffer,e.readFramebuffer=this.readFramebuffer,e.framebuffer=this.framebuffer,e.defaultFramebufferState=this.defaultFramebufferState.clone(),e}equals(e){return this.drawFramebuffer===e.drawFramebuffer&&this.readFramebuffer===e.readFramebuffer&&this.framebuffer===e.framebuffer&&this.defaultFramebufferState.equals(e.defaultFramebufferState)}}t.WebGLFramebufferState=p;class f{constructor(){this.enabled=t.GLUndefined,this.buffer=t.GLUndefined,this.size=t.GLUndefined,this.type=t.GLUndefined,this.normalized=t.GLUndefined,this.stride=t.GLUndefined,this.offset=t.GLUndefined,this.divisor=t.GLUndefined}clone(){const e=new f;return e.enabled=this.enabled,e.buffer=this.buffer,e.size=this.size,e.type=this.type,e.normalized=this.normalized,e.stride=this.stride,e.offset=this.offset,e.divisor=this.divisor,e}equals(e){return this.enabled===e.enabled&&this.buffer===e.buffer&&this.size===e.size&&this.type===e.type&&this.normalized===e.normalized&&this.stride===e.stride&&this.offset===e.offset&&this.divisor===e.divisor}}t.WebGLVertexAttribState=f;class g{constructor(){this.elementArrayBuffer=t.GLUndefined,this.attributes=new i(t.GL_MAX_VERTEX_ATTRIBS)}clone(){const e=new g;return e.elementArrayBuffer=this.elementArrayBuffer,e.attributes=this.attributes.clone(),e}equals(e){return this.elementArrayBuffer===e.elementArrayBuffer&&this.attributes.equals(e.attributes)}}t.WebGLPerVAOState=g;class A{constructor(){this.vertexArrayObject=t.GLUndefined,this.vaoStates=new Map}clone(){const e=new A;e.vertexArrayObject=this.vertexArrayObject;for(const[t,n]of this.vaoStates.entries())e.vaoStates.set(t,n.clone());return e}equals(e){if(this.vertexArrayObject!==e.vertexArrayObject)return!1;if(this.vaoStates.size!==e.vaoStates.size)return!1;for(const[t,n]of this.vaoStates.entries()){const i=e.vaoStates.get(t);if(!i||!n.equals(i))return!1}return!0}getCurrentVAOState(){const e=this.vertexArrayObject===t.GLUndefined?null:this.vertexArrayObject;return this.vaoStates.has(e)||this.vaoStates.set(e,new g),this.vaoStates.get(e)}}t.WebGLVertexArrayState=A;class m{constructor(){this.viewport=t.GLUndefined,this.scissorBox=t.GLUndefined}clone(){const e=new m;return e.viewport=this.viewport!==t.GLUndefined?new Int32Array(this.viewport):this.viewport,e.scissorBox=this.scissorBox!==t.GLUndefined?new Int32Array(this.scissorBox):this.scissorBox,e}equals(e){const n=this.viewport===e.viewport||this.viewport!==t.GLUndefined&&e.viewport!==t.GLUndefined&&this.viewport.every((t,n)=>t===e.viewport[n]),i=this.scissorBox===e.scissorBox||this.scissorBox!==t.GLUndefined&&e.scissorBox!==t.GLUndefined&&this.scissorBox.every((t,n)=>t===e.scissorBox[n]);return n&&i}}t.WebGLViewportState=m;class v{constructor(){this.colorClearValue=t.GLUndefined,this.depthClearValue=t.GLUndefined,this.stencilClearValue=t.GLUndefined}clone(){const e=new v;return e.colorClearValue=this.colorClearValue!==t.GLUndefined?new Float32Array(this.colorClearValue):this.colorClearValue,e.depthClearValue=this.depthClearValue,e.stencilClearValue=this.stencilClearValue,e}equals(e){return(this.colorClearValue===e.colorClearValue||this.colorClearValue!==t.GLUndefined&&e.colorClearValue!==t.GLUndefined&&this.colorClearValue.every((t,n)=>t===e.colorClearValue[n]))&&this.depthClearValue===e.depthClearValue&&this.stencilClearValue===e.stencilClearValue}}t.WebGLClearState=v;class y{constructor(){this.blend=t.GLUndefined,this.cullFace=t.GLUndefined,this.depthTest=t.GLUndefined,this.dither=t.GLUndefined,this.polygonOffsetFill=t.GLUndefined,this.sampleAlphaToCoverage=t.GLUndefined,this.sampleCoverage=t.GLUndefined,this.scissorTest=t.GLUndefined,this.stencilTest=t.GLUndefined,this.rasterDiscard=t.GLUndefined}clone(){const e=new y;return Object.assign(e,this),e}equals(e){return this.blend===e.blend&&this.cullFace===e.cullFace&&this.depthTest===e.depthTest&&this.dither===e.dither&&this.polygonOffsetFill===e.polygonOffsetFill&&this.sampleAlphaToCoverage===e.sampleAlphaToCoverage&&this.sampleCoverage===e.sampleCoverage&&this.scissorTest===e.scissorTest&&this.stencilTest===e.stencilTest&&this.rasterDiscard===e.rasterDiscard}}t.WebGLCapabilityState=y;class E{constructor(){this.packAlignment=t.GLUndefined,this.unpackAlignment=t.GLUndefined,this.unpackFlipY=t.GLUndefined,this.unpackPremultiplyAlpha=t.GLUndefined,this.packRowLength=t.GLUndefined,this.packSkipPixels=t.GLUndefined,this.packSkipRows=t.GLUndefined,this.unpackRowLength=t.GLUndefined,this.unpackImageHeight=t.GLUndefined,this.unpackSkipPixels=t.GLUndefined,this.unpackSkipRows=t.GLUndefined,this.unpackSkipImages=t.GLUndefined}clone(){const e=new E;return Object.assign(e,this),e}equals(e){return this.packAlignment===e.packAlignment&&this.unpackAlignment===e.unpackAlignment&&this.unpackFlipY===e.unpackFlipY&&this.unpackPremultiplyAlpha===e.unpackPremultiplyAlpha&&this.packRowLength===e.packRowLength&&this.packSkipPixels===e.packSkipPixels&&this.packSkipRows===e.packSkipRows&&this.unpackRowLength===e.unpackRowLength&&this.unpackImageHeight===e.unpackImageHeight&&this.unpackSkipPixels===e.unpackSkipPixels&&this.unpackSkipRows===e.unpackSkipRows&&this.unpackSkipImages===e.unpackSkipImages}}t.WebGLPixelStoreState=E;class S{constructor(){this.blendEquationRgb=t.GLUndefined,this.blendEquationAlpha=t.GLUndefined,this.blendSrcRgb=t.GLUndefined,this.blendDstRgb=t.GLUndefined,this.blendSrcAlpha=t.GLUndefined,this.blendDstAlpha=t.GLUndefined,this.blendColor=t.GLUndefined}clone(){const e=new S;return e.blendEquationRgb=this.blendEquationRgb,e.blendEquationAlpha=this.blendEquationAlpha,e.blendSrcRgb=this.blendSrcRgb,e.blendDstRgb=this.blendDstRgb,e.blendSrcAlpha=this.blendSrcAlpha,e.blendDstAlpha=this.blendDstAlpha,e.blendColor=this.blendColor!==t.GLUndefined?new Float32Array(this.blendColor):this.blendColor,e}equals(e){const n=this.blendColor===e.blendColor||this.blendColor!==t.GLUndefined&&e.blendColor!==t.GLUndefined&&this.blendColor.every((t,n)=>t===e.blendColor[n]);return this.blendEquationRgb===e.blendEquationRgb&&this.blendEquationAlpha===e.blendEquationAlpha&&this.blendSrcRgb===e.blendSrcRgb&&this.blendDstRgb===e.blendDstRgb&&this.blendSrcAlpha===e.blendSrcAlpha&&this.blendDstAlpha===e.blendDstAlpha&&n}}t.WebGLBlendState=S;class b{constructor(){this.depthFunc=t.GLUndefined,this.depthRange=t.GLUndefined,this.depthWritemask=t.GLUndefined}clone(){const e=new b;return e.depthFunc=this.depthFunc,e.depthRange=this.depthRange!==t.GLUndefined?new Float32Array(this.depthRange):this.depthRange,e.depthWritemask=this.depthWritemask,e}equals(e){const n=this.depthRange===e.depthRange||this.depthRange!==t.GLUndefined&&e.depthRange!==t.GLUndefined&&this.depthRange.every((t,n)=>t===e.depthRange[n]);return this.depthFunc===e.depthFunc&&n&&this.depthWritemask===e.depthWritemask}}t.WebGLDepthState=b;class x{constructor(){this.stencilFunc=t.GLUndefined,this.stencilRef=t.GLUndefined,this.stencilValueMask=t.GLUndefined,this.stencilWritemask=t.GLUndefined,this.stencilFail=t.GLUndefined,this.stencilPassDepthFail=t.GLUndefined,this.stencilPassDepthPass=t.GLUndefined,this.stencilBackFunc=t.GLUndefined,this.stencilBackRef=t.GLUndefined,this.stencilBackValueMask=t.GLUndefined,this.stencilBackWritemask=t.GLUndefined,this.stencilBackFail=t.GLUndefined,this.stencilBackPassDepthFail=t.GLUndefined,this.stencilBackPassDepthPass=t.GLUndefined}clone(){const e=new x;return Object.assign(e,this),e}equals(e){return this.stencilFunc===e.stencilFunc&&this.stencilRef===e.stencilRef&&this.stencilValueMask===e.stencilValueMask&&this.stencilWritemask===e.stencilWritemask&&this.stencilFail===e.stencilFail&&this.stencilPassDepthFail===e.stencilPassDepthFail&&this.stencilPassDepthPass===e.stencilPassDepthPass&&this.stencilBackFunc===e.stencilBackFunc&&this.stencilBackRef===e.stencilBackRef&&this.stencilBackValueMask===e.stencilBackValueMask&&this.stencilBackWritemask===e.stencilBackWritemask&&this.stencilBackFail===e.stencilBackFail&&this.stencilBackPassDepthFail===e.stencilBackPassDepthFail&&this.stencilBackPassDepthPass===e.stencilBackPassDepthPass}}t.WebGLStencilState=x;class w{constructor(){this.colorWritemask=t.GLUndefined}clone(){const e=new w;return e.colorWritemask=this.colorWritemask!==t.GLUndefined?[...this.colorWritemask]:this.colorWritemask,e}equals(e){return this.colorWritemask===e.colorWritemask||this.colorWritemask!==t.GLUndefined&&e.colorWritemask!==t.GLUndefined&&this.colorWritemask.every((t,n)=>t===e.colorWritemask[n])}}t.WebGLColorState=w;class I{constructor(){this.cullFaceMode=t.GLUndefined,this.frontFace=t.GLUndefined}clone(){const e=new I;return Object.assign(e,this),e}equals(e){return this.cullFaceMode===e.cullFaceMode&&this.frontFace===e.frontFace}}t.WebGLCullingState=I;class C{constructor(){this.lineWidth=t.GLUndefined}clone(){const e=new C;return e.lineWidth=this.lineWidth,e}equals(e){return this.lineWidth===e.lineWidth}}t.WebGLLineState=C;class T{constructor(){this.polygonOffsetFactor=t.GLUndefined,this.polygonOffsetUnits=t.GLUndefined}clone(){const e=new T;return Object.assign(e,this),e}equals(e){return this.polygonOffsetFactor===e.polygonOffsetFactor&&this.polygonOffsetUnits===e.polygonOffsetUnits}}t.WebGLPolygonOffsetState=T;class M{constructor(){this.sampleCoverageValue=t.GLUndefined,this.sampleCoverageInvert=t.GLUndefined}clone(){const e=new M;return Object.assign(e,this),e}equals(e){return this.sampleCoverageValue===e.sampleCoverageValue&&this.sampleCoverageInvert===e.sampleCoverageInvert}}t.WebGLSampleState=M;class B{constructor(){this.transformFeedback=t.GLUndefined,this.transformFeedbackActive=t.GLUndefined,this.transformFeedbackPaused=t.GLUndefined}clone(){const e=new B;return Object.assign(e,this),e}equals(e){return this.transformFeedback===e.transformFeedback&&this.transformFeedbackActive===e.transformFeedbackActive&&this.transformFeedbackPaused===e.transformFeedbackPaused}}t.WebGLTransformFeedbackState=B;class R{constructor(){this.renderbuffer=t.GLUndefined}clone(){const e=new R;return e.renderbuffer=this.renderbuffer,e}equals(e){return this.renderbuffer===e.renderbuffer}}t.WebGLRenderbufferState=R;class P{constructor(){this.samplerBindings={}}clone(){const e=new P;return Object.assign(e.samplerBindings,this.samplerBindings),e}equals(e){const t=Object.keys(this.samplerBindings),n=Object.keys(e.samplerBindings);return t.length===n.length&&t.every(t=>this.samplerBindings[Number(t)]===e.samplerBindings[Number(t)])}}t.WebGLSamplerState=P;class _{constructor(){this.currentOcclusionQuery=t.GLUndefined,this.currentTransformFeedbackPrimitivesWritten=t.GLUndefined,this.currentAnySamplesPassed=t.GLUndefined,this.currentAnySamplesPassedConservative=t.GLUndefined}clone(){const e=new _;return Object.assign(e,this),e}equals(e){return this.currentOcclusionQuery===e.currentOcclusionQuery&&this.currentTransformFeedbackPrimitivesWritten===e.currentTransformFeedbackPrimitivesWritten&&this.currentAnySamplesPassed===e.currentAnySamplesPassed&&this.currentAnySamplesPassedConservative===e.currentAnySamplesPassedConservative}}t.WebGLQueryState=_;class D{constructor(){this.validBuffers=new Set,this.constants=new N}getTexturesState(){return this.textures||(this.textures=new a,this.textures.activeTexture=this.constants.TEXTURE0),this.textures}getOrCreateTextureUnit(e){const t=this.getTexturesState();return t.textureUnits[e]||(t.textureUnits[e]=new s),t.textureUnits[e]}getBuffersState(){return this.buffers||(this.buffers=new l),this.buffers}getProgramsState(){return this.programs||(this.programs=new c),this.programs}getFramebuffersState(){return this.framebuffers||(this.framebuffers=new p,this.framebuffers.defaultFramebufferState.drawBuffers=[this.constants.BACK||1029],this.framebuffers.defaultFramebufferState.readBuffer=this.constants.BACK||1029),this.framebuffers}getVertexArraysState(){return this.vertexArrays||(this.vertexArrays=new A),this.vertexArrays}getOrCreateVertexAttrib(e){const n=this.getVertexArraysState().getCurrentVAOState(),i=n.attributes.get(e);if(!i||i===t.GLUndefined){const t=new f;return n.attributes.set(e,t),t}return i}getViewportState(){return this.viewport||(this.viewport=new m),this.viewport}getClearState(){return this.clear||(this.clear=new v),this.clear}getCapabilitiesState(){return this.capabilities||(this.capabilities=new y),this.capabilities}getPixelStoreState(){return this.pixelStore||(this.pixelStore=new E),this.pixelStore}getBlendState(){return this.blend||(this.blend=new S),this.blend}getDepthState(){return this.depth||(this.depth=new b),this.depth}getStencilState(){return this.stencil||(this.stencil=new x),this.stencil}getColorState(){return this.color||(this.color=new w),this.color}getCullingState(){return this.culling||(this.culling=new I),this.culling}getLineState(){return this.line||(this.line=new C),this.line}getPolygonOffsetState(){return this.polygonOffset||(this.polygonOffset=new T),this.polygonOffset}getSampleState(){return this.sample||(this.sample=new M),this.sample}getTransformFeedbackState(){return this.transformFeedback||(this.transformFeedback=new B),this.transformFeedback}getRenderbufferState(){return this.renderbuffer||(this.renderbuffer=new R),this.renderbuffer}getSamplersState(){return this.samplers||(this.samplers=new P),this.samplers}getQueriesState(){return this.queries||(this.queries=new _),this.queries}getState(){return this}clone(){const e=new D;return this.buffers&&(e.buffers=this.buffers.clone()),this.vertexArrays&&(e.vertexArrays=this.vertexArrays.clone()),this.textures&&(e.textures=this.textures.clone()),this.samplers&&(e.samplers=this.samplers.clone()),this.programs&&(e.programs=this.programs.clone()),this.framebuffers&&(e.framebuffers=this.framebuffers.clone()),this.renderbuffer&&(e.renderbuffer=this.renderbuffer.clone()),this.transformFeedback&&(e.transformFeedback=this.transformFeedback.clone()),this.viewport&&(e.viewport=this.viewport.clone()),this.capabilities&&(e.capabilities=this.capabilities.clone()),this.clear&&(e.clear=this.clear.clone()),this.blend&&(e.blend=this.blend.clone()),this.depth&&(e.depth=this.depth.clone()),this.stencil&&(e.stencil=this.stencil.clone()),this.color&&(e.color=this.color.clone()),this.culling&&(e.culling=this.culling.clone()),this.line&&(e.line=this.line.clone()),this.polygonOffset&&(e.polygonOffset=this.polygonOffset.clone()),this.sample&&(e.sample=this.sample.clone()),this.pixelStore&&(e.pixelStore=this.pixelStore.clone()),this.queries&&(e.queries=this.queries.clone()),e.validBuffers=new Set(this.validBuffers),e}}t.WebGLState=D;class N{constructor(){this.ARRAY_BUFFER=34962,this.ELEMENT_ARRAY_BUFFER=34963,this.UNIFORM_BUFFER=35345,this.TRANSFORM_FEEDBACK_BUFFER=35982,this.PIXEL_PACK_BUFFER=35051,this.PIXEL_UNPACK_BUFFER=35052,this.COPY_READ_BUFFER=36662,this.COPY_WRITE_BUFFER=36663,this.TEXTURE0=33984,this.TEXTURE_2D=3553,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE_3D=32879,this.TEXTURE_2D_ARRAY=35866,this.FRAMEBUFFER=36160,this.DRAW_FRAMEBUFFER=36009,this.READ_FRAMEBUFFER=36008,this.BLEND=3042,this.CULL_FACE=2884,this.DEPTH_TEST=2929,this.DITHER=3024,this.POLYGON_OFFSET_FILL=32823,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.SAMPLE_COVERAGE=32928,this.SCISSOR_TEST=3089,this.STENCIL_TEST=2960,this.RASTERIZER_DISCARD=35977,this.FUNC_ADD=32774,this.FUNC_SUBTRACT=32778,this.ZERO=0,this.ONE=1,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_ALPHA=771,this.NEVER=512,this.LESS=513,this.EQUAL=514,this.LEQUAL=515,this.KEEP=7680,this.REPLACE=7681,this.INCR=7682,this.ALWAYS=519,this.FRONT=1028,this.BACK=1029,this.FRONT_AND_BACK=1032,this.CW=2304,this.CCW=2305,this.PACK_ALIGNMENT=3333,this.UNPACK_ALIGNMENT=3317,this.UNPACK_FLIP_Y_WEBGL=37440,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.PACK_ROW_LENGTH=3330,this.PACK_SKIP_PIXELS=3332,this.PACK_SKIP_ROWS=3331,this.UNPACK_ROW_LENGTH=3314,this.UNPACK_IMAGE_HEIGHT=32878,this.UNPACK_SKIP_PIXELS=3316,this.UNPACK_SKIP_ROWS=3315,this.UNPACK_SKIP_IMAGES=32877,this.COLOR_ATTACHMENT0=36064,this.DEPTH_ATTACHMENT=36096,this.STENCIL_ATTACHMENT=36128,this.DEPTH_STENCIL_ATTACHMENT=33306,this.ANY_SAMPLES_PASSED=35887,this.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,this.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,this.BYTE=5120,this.UNSIGNED_BYTE=5121,this.SHORT=5122,this.UNSIGNED_SHORT=5123,this.INT=5124,this.UNSIGNED_INT=5125,this.FLOAT=5126,this.RENDERBUFFER=36161,this.TRANSFORM_FEEDBACK=36386,this.TEXTURE_MIN_FILTER=10241,this.LINEAR=9729,this.TRIANGLES=4,this.POINTS=0,this.STATIC_DRAW=35044}}t.WebGLConstants=N,t.WebGLStateTracker=class{constructor(){this.state=new D,this.constants=this.state.constants}createBuffer(e){this.state.validBuffers.add(e)}deleteBuffer(e){this.state.validBuffers.delete(e)}isValidBuffer(e){return!!e&&this.state.validBuffers.has(e)}bindBuffer(e,t){const n=this.state.getBuffersState();switch(e){case this.constants.ARRAY_BUFFER:n.arrayBuffer=t;break;case this.constants.ELEMENT_ARRAY_BUFFER:this.state.getVertexArraysState().getCurrentVAOState().elementArrayBuffer=t;break;case this.constants.UNIFORM_BUFFER:n.uniformBuffer=t;break;case this.constants.TRANSFORM_FEEDBACK_BUFFER:n.transformFeedbackBuffer=t;break;case this.constants.PIXEL_PACK_BUFFER:n.pixelPackBuffer=t;break;case this.constants.PIXEL_UNPACK_BUFFER:n.pixelUnpackBuffer=t;break;case this.constants.COPY_READ_BUFFER:n.copyReadBuffer=t;break;case this.constants.COPY_WRITE_BUFFER:n.copyWriteBuffer=t}}bindVertexArray(e){const t=this.state.getVertexArraysState();t.vertexArrayObject=e,t.vaoStates.has(e)||t.vaoStates.set(e,new g)}deleteVertexArray(e){if(!e)return;const t=this.state.getVertexArraysState();t.vertexArrayObject===e&&(t.vertexArrayObject=null),t.vaoStates.delete(e)}enableVertexAttribArray(e){this.state.getOrCreateVertexAttrib(e).enabled=!0}disableVertexAttribArray(e){this.state.getOrCreateVertexAttrib(e).enabled=!1}vertexAttribPointer(e,n,i,r,s,a){const o=this.state.getOrCreateVertexAttrib(e),l=this.state.buffers;o.buffer=l?.arrayBuffer||t.GLUndefined,o.size=n,o.type=i,o.normalized=r,o.stride=s,o.offset=a}vertexAttribIPointer(e,n,i,r,s){const a=this.state.getOrCreateVertexAttrib(e),o=this.state.buffers;a.buffer=o?.arrayBuffer||t.GLUndefined,a.size=n,a.type=i,a.normalized=!1,a.stride=r,a.offset=s}vertexAttribDivisor(e,t){this.state.getOrCreateVertexAttrib(e).divisor=t}activeTexture(e){const n=this.state.getTexturesState(),i=e-this.constants.TEXTURE0;i<0||i>=t.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS?console.warn(`Invalid activeTexture value: ${e} (unit index: ${i})`):n.activeTexture=e}bindTexture(e,n){const i=this.state.getTexturesState(),r=i.activeTexture===t.GLUndefined?this.constants.TEXTURE0:i.activeTexture,a=r-this.constants.TEXTURE0;if(a<0||a>=t.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS)return void console.warn(`Invalid texture unit index: ${a} (activeTexture: ${r})`);const o=`TEXTURE${a}`;switch(i.textureUnits[o]||(i.textureUnits[o]=new s),e){case this.constants.TEXTURE_2D:i.textureUnits[o].texture2D=n;break;case this.constants.TEXTURE_CUBE_MAP:i.textureUnits[o].textureCubeMap=n;break;case this.constants.TEXTURE_3D:i.textureUnits[o].texture3D=n;break;case this.constants.TEXTURE_2D_ARRAY:i.textureUnits[o].texture2DArray=n}}useProgram(e){this.state.getProgramsState().currentProgram=e}bindFramebuffer(e,t){const n=this.state.getFramebuffersState();switch(e){case this.constants.FRAMEBUFFER:n.framebuffer=t,n.drawFramebuffer=t,n.readFramebuffer=t;break;case this.constants.DRAW_FRAMEBUFFER:n.drawFramebuffer=t;break;case this.constants.READ_FRAMEBUFFER:n.readFramebuffer=t}}enable(e){const t=this.state.getCapabilitiesState();switch(e){case this.constants.BLEND:t.blend=!0;break;case this.constants.CULL_FACE:t.cullFace=!0;break;case this.constants.DEPTH_TEST:t.depthTest=!0;break;case this.constants.DITHER:t.dither=!0;break;case this.constants.POLYGON_OFFSET_FILL:t.polygonOffsetFill=!0;break;case this.constants.SAMPLE_ALPHA_TO_COVERAGE:t.sampleAlphaToCoverage=!0;break;case this.constants.SAMPLE_COVERAGE:t.sampleCoverage=!0;break;case this.constants.SCISSOR_TEST:t.scissorTest=!0;break;case this.constants.STENCIL_TEST:t.stencilTest=!0;break;case this.constants.RASTERIZER_DISCARD:t.rasterDiscard=!0}}disable(e){const t=this.state.getCapabilitiesState();switch(e){case this.constants.BLEND:t.blend=!1;break;case this.constants.CULL_FACE:t.cullFace=!1;break;case this.constants.DEPTH_TEST:t.depthTest=!1;break;case this.constants.DITHER:t.dither=!1;break;case this.constants.POLYGON_OFFSET_FILL:t.polygonOffsetFill=!1;break;case this.constants.SAMPLE_ALPHA_TO_COVERAGE:t.sampleAlphaToCoverage=!1;break;case this.constants.SAMPLE_COVERAGE:t.sampleCoverage=!1;break;case this.constants.SCISSOR_TEST:t.scissorTest=!1;break;case this.constants.STENCIL_TEST:t.stencilTest=!1;break;case this.constants.RASTERIZER_DISCARD:t.rasterDiscard=!1}}viewport(e,t,i,r){const s=this.state.getViewportState();n(s.viewport)||(s.viewport=new Int32Array(4));const a=s.viewport;a[0]=e,a[1]=t,a[2]=i,a[3]=r}scissor(e,t,i,r){const s=this.state.getViewportState();n(s.scissorBox)||(s.scissorBox=new Int32Array(4));const a=s.scissorBox;a[0]=e,a[1]=t,a[2]=i,a[3]=r}clearColor(e,t,i,r){const s=this.state.getClearState();n(s.colorClearValue)||(s.colorClearValue=new Float32Array(4));const a=s.colorClearValue;a[0]=e,a[1]=t,a[2]=i,a[3]=r}clearDepth(e){this.state.getClearState().depthClearValue=e}clearStencil(e){this.state.getClearState().stencilClearValue=e}blendColor(e,t,i,r){const s=this.state.getBlendState();n(s.blendColor)||(s.blendColor=new Float32Array(4));const a=s.blendColor;a[0]=e,a[1]=t,a[2]=i,a[3]=r}blendEquation(e){const t=this.state.getBlendState();t.blendEquationRgb=e,t.blendEquationAlpha=e}blendEquationSeparate(e,t){const n=this.state.getBlendState();n.blendEquationRgb=e,n.blendEquationAlpha=t}blendFunc(e,t){const n=this.state.getBlendState();n.blendSrcRgb=e,n.blendDstRgb=t,n.blendSrcAlpha=e,n.blendDstAlpha=t}blendFuncSeparate(e,t,n,i){const r=this.state.getBlendState();r.blendSrcRgb=e,r.blendDstRgb=t,r.blendSrcAlpha=n,r.blendDstAlpha=i}depthFunc(e){this.state.getDepthState().depthFunc=e}depthMask(e){this.state.getDepthState().depthWritemask=e}depthRange(e,t){const i=this.state.getDepthState();n(i.depthRange)||(i.depthRange=new Float32Array(2));const r=i.depthRange;r[0]=e,r[1]=t}stencilFunc(e,t,n){const i=this.state.getStencilState();i.stencilFunc=e,i.stencilRef=t,i.stencilValueMask=n,i.stencilBackFunc=e,i.stencilBackRef=t,i.stencilBackValueMask=n}stencilFuncSeparate(e,t,n,i){const r=this.state.getStencilState();e!==this.constants.FRONT&&e!==this.constants.FRONT_AND_BACK||(r.stencilFunc=t,r.stencilRef=n,r.stencilValueMask=i),e!==this.constants.BACK&&e!==this.constants.FRONT_AND_BACK||(r.stencilBackFunc=t,r.stencilBackRef=n,r.stencilBackValueMask=i)}stencilMask(e){const t=this.state.getStencilState();t.stencilWritemask=e,t.stencilBackWritemask=e}stencilMaskSeparate(e,t){const n=this.state.getStencilState();e!==this.constants.FRONT&&e!==this.constants.FRONT_AND_BACK||(n.stencilWritemask=t),e!==this.constants.BACK&&e!==this.constants.FRONT_AND_BACK||(n.stencilBackWritemask=t)}stencilOp(e,t,n){const i=this.state.getStencilState();i.stencilFail=e,i.stencilPassDepthFail=t,i.stencilPassDepthPass=n,i.stencilBackFail=e,i.stencilBackPassDepthFail=t,i.stencilBackPassDepthPass=n}stencilOpSeparate(e,t,n,i){const r=this.state.getStencilState();e!==this.constants.FRONT&&e!==this.constants.FRONT_AND_BACK||(r.stencilFail=t,r.stencilPassDepthFail=n,r.stencilPassDepthPass=i),e!==this.constants.BACK&&e!==this.constants.FRONT_AND_BACK||(r.stencilBackFail=t,r.stencilBackPassDepthFail=n,r.stencilBackPassDepthPass=i)}colorMask(e,t,n,i){this.state.getColorState().colorWritemask=[e,t,n,i]}cullFace(e){this.state.getCullingState().cullFaceMode=e}frontFace(e){this.state.getCullingState().frontFace=e}lineWidth(e){this.state.getLineState().lineWidth=e}polygonOffset(e,t){const n=this.state.getPolygonOffsetState();n.polygonOffsetFactor=e,n.polygonOffsetUnits=t}sampleCoverage(e,t){const n=this.state.getSampleState();n.sampleCoverageValue=e,n.sampleCoverageInvert=t}pixelStorei(e,t){const n=this.state.getPixelStoreState();switch(e){case this.constants.PACK_ALIGNMENT:n.packAlignment=t;break;case this.constants.UNPACK_ALIGNMENT:n.unpackAlignment=t;break;case this.constants.UNPACK_FLIP_Y_WEBGL:n.unpackFlipY=!!t;break;case this.constants.UNPACK_PREMULTIPLY_ALPHA_WEBGL:n.unpackPremultiplyAlpha=!!t;break;case this.constants.PACK_ROW_LENGTH:n.packRowLength=t;break;case this.constants.PACK_SKIP_PIXELS:n.packSkipPixels=t;break;case this.constants.PACK_SKIP_ROWS:n.packSkipRows=t;break;case this.constants.UNPACK_ROW_LENGTH:n.unpackRowLength=t;break;case this.constants.UNPACK_IMAGE_HEIGHT:n.unpackImageHeight=t;break;case this.constants.UNPACK_SKIP_PIXELS:n.unpackSkipPixels=t;break;case this.constants.UNPACK_SKIP_ROWS:n.unpackSkipRows=t;break;case this.constants.UNPACK_SKIP_IMAGES:n.unpackSkipImages=t}}bindRenderbuffer(e,t){this.state.getRenderbufferState().renderbuffer=t}bindTransformFeedback(e,t){this.state.getTransformFeedbackState().transformFeedback=t}beginTransformFeedback(e){const t=this.state.getTransformFeedbackState();t.transformFeedbackActive=!0,t.transformFeedbackPaused=!1}endTransformFeedback(){const e=this.state.getTransformFeedbackState();e.transformFeedbackActive=!1,e.transformFeedbackPaused=!1}pauseTransformFeedback(){const e=this.state.getTransformFeedbackState();e.transformFeedbackActive&&(e.transformFeedbackPaused=!0)}resumeTransformFeedback(){const e=this.state.getTransformFeedbackState();e.transformFeedbackActive&&(e.transformFeedbackPaused=!1)}bindBufferBase(e,t,n){const i=this.state.getBuffersState();switch(e){case this.constants.UNIFORM_BUFFER:i.uniformBuffer=n;const e=new o;e.buffer=n,e.offset=0,e.size=0,i.uniformBufferBindings.set(t,e);break;case this.constants.TRANSFORM_FEEDBACK_BUFFER:i.transformFeedbackBuffer=n;const r=new o;r.buffer=n,r.offset=0,r.size=0,i.transformFeedbackBufferBindings.set(t,r)}}bindBufferRange(e,t,n,i,r){const s=this.state.getBuffersState();switch(e){case this.constants.UNIFORM_BUFFER:s.uniformBuffer=n;const e=new o;e.buffer=n,e.offset=i,e.size=r,s.uniformBufferBindings.set(t,e);break;case this.constants.TRANSFORM_FEEDBACK_BUFFER:s.transformFeedbackBuffer=n;const a=new o;a.buffer=n,a.offset=i,a.size=r,s.transformFeedbackBufferBindings.set(t,a)}}framebufferTexture2D(e,n,i,r,s){const a=this.state.framebuffers;if(!a||e===this.constants.FRAMEBUFFER&&null===a.framebuffer||e===this.constants.DRAW_FRAMEBUFFER&&null===a.drawFramebuffer){const e=this.state.getFramebuffersState().defaultFramebufferState,a=new u;a.attachmentType=r?"texture":t.GLUndefined,a.texture=r||t.GLUndefined,a.renderbuffer=t.GLUndefined,a.textureLevel=s,a.textureLayer=0,a.textureCubeFace=i,this.setFramebufferAttachment(e,n,a)}}framebufferRenderbuffer(e,n,i,r){const s=this.state.framebuffers;if(!s||e===this.constants.FRAMEBUFFER&&null===s.framebuffer||e===this.constants.DRAW_FRAMEBUFFER&&null===s.drawFramebuffer){const e=this.state.getFramebuffersState().defaultFramebufferState,i=new u;i.attachmentType=r?"renderbuffer":t.GLUndefined,i.texture=t.GLUndefined,i.renderbuffer=r||t.GLUndefined,i.textureLevel=0,i.textureLayer=0,i.textureCubeFace=0,this.setFramebufferAttachment(e,n,i)}}framebufferTextureLayer(e,n,i,r,s){const a=this.state.framebuffers;if(!a||e===this.constants.FRAMEBUFFER&&null===a.framebuffer||e===this.constants.DRAW_FRAMEBUFFER&&null===a.drawFramebuffer){const e=this.state.getFramebuffersState().defaultFramebufferState,a=new u;a.attachmentType=i?"texture":t.GLUndefined,a.texture=i||t.GLUndefined,a.renderbuffer=t.GLUndefined,a.textureLevel=r,a.textureLayer=s,a.textureCubeFace=0,this.setFramebufferAttachment(e,n,a)}}setFramebufferAttachment(e,t,n){if(t===this.constants.DEPTH_ATTACHMENT)e.depthAttachment=n;else if(t===this.constants.STENCIL_ATTACHMENT)e.stencilAttachment=n;else if(t===this.constants.DEPTH_STENCIL_ATTACHMENT)e.depthStencilAttachment=n;else if(t>=this.constants.COLOR_ATTACHMENT0&&t<=this.constants.COLOR_ATTACHMENT0+15){const i=t-this.constants.COLOR_ATTACHMENT0;e.colorAttachments[`COLOR_ATTACHMENT${i}`]=n}}drawBuffers(e){const t=this.state.framebuffers;t&&null!==t.drawFramebuffer||(this.state.getFramebuffersState().defaultFramebufferState.drawBuffers=[...e])}readBuffer(e){const t=this.state.framebuffers;t&&null!==t.readFramebuffer||(this.state.getFramebuffersState().defaultFramebufferState.readBuffer=e)}hint(e,t){}bufferData(e,t,n,i,r){}bufferSubData(e,t,n,i,r){}copyBufferSubData(e,t,n,i,r){}texParameterf(e,t,n){}texParameteri(e,t,n){}texImage2D(...e){}texSubImage2D(...e){}texImage3D(...e){}texSubImage3D(...e){}compressedTexImage2D(...e){}compressedTexSubImage2D(...e){}compressedTexImage3D(...e){}compressedTexSubImage3D(...e){}texStorage2D(e,t,n,i,r){}texStorage3D(e,t,n,i,r,s){}copyTexImage2D(e,t,n,i,r,s,a,o){}copyTexSubImage2D(e,t,n,i,r,s,a,o){}copyTexSubImage3D(e,t,n,i,r,s,a,o,l){}generateMipmap(e){}invalidateFramebuffer(e,t){}invalidateSubFramebuffer(e,t,n,i,r,s){}renderbufferStorage(e,t,n,i){}renderbufferStorageMultisample(e,t,n,i,r){}bindSampler(e,t){this.state.getSamplersState().samplerBindings[e]=t}samplerParameteri(e,t,n){}samplerParameterf(e,t,n){}beginQuery(e,t){const n=this.state.getQueriesState();switch(e){case this.constants.ANY_SAMPLES_PASSED:n.currentAnySamplesPassed=t;break;case this.constants.ANY_SAMPLES_PASSED_CONSERVATIVE:n.currentAnySamplesPassedConservative=t;break;case this.constants.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:n.currentTransformFeedbackPrimitivesWritten=t;break;default:n.currentOcclusionQuery=t}}endQuery(e){const t=this.state.getQueriesState();switch(e){case this.constants.ANY_SAMPLES_PASSED:t.currentAnySamplesPassed=null;break;case this.constants.ANY_SAMPLES_PASSED_CONSERVATIVE:t.currentAnySamplesPassedConservative=null;break;case this.constants.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:t.currentTransformFeedbackPrimitivesWritten=null;break;default:t.currentOcclusionQuery=null}}vertexAttrib1f(e,t){}vertexAttrib2f(e,t,n){}vertexAttrib3f(e,t,n,i){}vertexAttrib4f(e,t,n,i,r){}vertexAttribI4i(e,t,n,i,r){}vertexAttribI4ui(e,t,n,i,r){}vertexAttrib1fv(e,t){}vertexAttrib2fv(e,t){}vertexAttrib3fv(e,t){}vertexAttrib4fv(e,t){}vertexAttribI4iv(e,t){}vertexAttribI4uiv(e,t){}uniform1f(e,t){}uniform2f(e,t,n){}uniform3f(e,t,n,i){}uniform4f(e,t,n,i,r){}uniform1i(e,t){}uniform2i(e,t,n){}uniform3i(e,t,n,i){}uniform4i(e,t,n,i,r){}uniform1ui(e,t){}uniform2ui(e,t,n){}uniform3ui(e,t,n,i){}uniform4ui(e,t,n,i,r){}uniform1fv(e,t,n,i){}uniform2fv(e,t,n,i){}uniform3fv(e,t,n,i){}uniform4fv(e,t,n,i){}uniform1iv(e,t,n,i){}uniform2iv(e,t,n,i){}uniform3iv(e,t,n,i){}uniform4iv(e,t,n,i){}uniform1uiv(e,t,n,i){}uniform2uiv(e,t,n,i){}uniform3uiv(e,t,n,i){}uniform4uiv(e,t,n,i){}uniformMatrix2fv(e,t,n,i,r){}uniformMatrix3fv(e,t,n,i,r){}uniformMatrix4fv(e,t,n,i,r){}uniformMatrix2x3fv(e,t,n,i,r){}uniformMatrix3x2fv(e,t,n,i,r){}uniformMatrix2x4fv(e,t,n,i,r){}uniformMatrix4x2fv(e,t,n,i,r){}uniformMatrix3x4fv(e,t,n,i,r){}uniformMatrix4x3fv(e,t,n,i,r){}clear(e){}drawArrays(e,t,n){}drawElements(e,t,n,i){}drawArraysInstanced(e,t,n,i){}drawElementsInstanced(e,t,n,i,r){}drawRangeElements(e,t,n,i,r,s){}readPixels(...e){}blitFramebuffer(e,t,n,i,r,s,a,o,l,c){}flush(){}finish(){}getState(){return this.state.clone()}getBufferState(){return this.state.buffers}getVertexArrayState(){return this.state.vertexArrays}getTextureState(){return this.state.textures}getProgramState(){return this.state.programs}getFramebufferState(){return this.state.framebuffers}getCapabilityState(){return this.state.capabilities}getSamplerState(){return this.state.samplers}getQueryState(){return this.state.queries}getStencilState(){return this.state.stencil}getPixelStoreState(){return this.state.pixelStore}getTransformFeedbackState(){return this.state.transformFeedback}reset(){this.state=new D}}},2308(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHECK_ERRORS=void 0,t.apply=function(e,t,n){var o;s(t.vertexArrays,n.vertexArrays)&&(function(e,t,n){if(r(t,"vertexArrayObject")){const i=t.vertexArrayObject;if(null!==i&&n&&!n.vaoStates.has(i))return console.warn("[WebGLStateApply] Cannot restore VAO state: the saved VAO has been deleted. Binding will revert to default VAO (null)."),void e.bindVertexArray(null);e.bindVertexArray(i)}else(0,i.isDefined)(n?.vertexArrayObject)&&e.bindVertexArray(null);const s=t?.vertexArrayObject===i.GLUndefined?null:t?.vertexArrayObject,a=t?.vaoStates.get(s);if(a&&(r(a,"elementArrayBuffer")&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a.elementArrayBuffer),a.attributes))for(let t=0;t<i.GL_MAX_VERTEX_ATTRIBS;t++){const n=a.attributes.get(t);if(!(0,i.isDefined)(n))continue;const r=n,s=(0,i.isDefined)(r.size)&&(0,i.isDefined)(r.type)&&(0,i.isDefined)(r.stride)&&(0,i.isDefined)(r.offset);(s||(0,i.isDefined)(r.enabled)&&!r.enabled)&&((0,i.isDefined)(r.buffer)&&e.bindBuffer(e.ARRAY_BUFFER,r.buffer),s&&((0,i.isDefined)(r.normalized)?e.vertexAttribPointer(t,r.size,r.type,r.normalized,r.stride,r.offset):e.vertexAttribIPointer(t,r.size,r.type,r.stride,r.offset)),(0,i.isDefined)(r.enabled)&&(r.enabled?s&&e.enableVertexAttribArray(t):e.disableVertexAttribArray(t)),(0,i.isDefined)(r.divisor)&&e.vertexAttribDivisor(t,r.divisor))}}(e,t.vertexArrays,n.vertexArrays),a(e,"vertex array state")),s(t.buffers,n.buffers)&&(function(e,t,n,s){const a=(e,t)=>!e||!!s.has(e)||(console.warn(`[WebGLStateApply] Cannot bind ${t}: buffer has been deleted. Skipping.`),!1);if(r(t,"arrayBuffer")?a(t.arrayBuffer,"ARRAY_BUFFER")&&e.bindBuffer(e.ARRAY_BUFFER,t.arrayBuffer):(0,i.isDefined)(n?.arrayBuffer)&&e.bindBuffer(e.ARRAY_BUFFER,null),r(t,"uniformBuffer")?a(t.uniformBuffer,"UNIFORM_BUFFER")&&e.bindBuffer(e.UNIFORM_BUFFER,t.uniformBuffer):(0,i.isDefined)(n?.uniformBuffer)&&e.bindBuffer(e.UNIFORM_BUFFER,null),r(t,"transformFeedbackBuffer")?a(t.transformFeedbackBuffer,"TRANSFORM_FEEDBACK_BUFFER")&&e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,t.transformFeedbackBuffer):(0,i.isDefined)(n?.transformFeedbackBuffer)&&e.bindBuffer(e.TRANSFORM_FEEDBACK_BUFFER,null),r(t,"pixelPackBuffer")?a(t.pixelPackBuffer,"PIXEL_PACK_BUFFER")&&e.bindBuffer(e.PIXEL_PACK_BUFFER,t.pixelPackBuffer):(0,i.isDefined)(n?.pixelPackBuffer)&&e.bindBuffer(e.PIXEL_PACK_BUFFER,null),r(t,"pixelUnpackBuffer")?a(t.pixelUnpackBuffer,"PIXEL_UNPACK_BUFFER")&&e.bindBuffer(e.PIXEL_UNPACK_BUFFER,t.pixelUnpackBuffer):(0,i.isDefined)(n?.pixelUnpackBuffer)&&e.bindBuffer(e.PIXEL_UNPACK_BUFFER,null),r(t,"copyReadBuffer")?a(t.copyReadBuffer,"COPY_READ_BUFFER")&&e.bindBuffer(e.COPY_READ_BUFFER,t.copyReadBuffer):(0,i.isDefined)(n?.copyReadBuffer)&&e.bindBuffer(e.COPY_READ_BUFFER,null),r(t,"copyWriteBuffer")?a(t.copyWriteBuffer,"COPY_WRITE_BUFFER")&&e.bindBuffer(e.COPY_WRITE_BUFFER,t.copyWriteBuffer):(0,i.isDefined)(n?.copyWriteBuffer)&&e.bindBuffer(e.COPY_WRITE_BUFFER,null),t?.uniformBufferBindings)for(let n=0;n<i.GL_MAX_UNIFORM_BUFFER_BINDINGS;n++){const r=t.uniformBufferBindings.get(n);if(!(0,i.isDefined)(r))continue;const s=r;if((0,i.isDefined)(s.buffer)){if(!a(s.buffer,`UNIFORM_BUFFER at index ${n}`))continue;const t=s.size,i=s.offset;0===t?e.bindBufferBase(e.UNIFORM_BUFFER,n,s.buffer):e.bindBufferRange(e.UNIFORM_BUFFER,n,s.buffer,i,t)}}if(t?.transformFeedbackBufferBindings)for(let n=0;n<i.GL_MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS;n++){const r=t.transformFeedbackBufferBindings.get(n);if(!(0,i.isDefined)(r))continue;const s=r;if((0,i.isDefined)(s.buffer)){if(!a(s.buffer,`TRANSFORM_FEEDBACK_BUFFER at index ${n}`))continue;const t=s.size,i=s.offset;0===t?e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n,s.buffer):e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,n,s.buffer,i,t)}}}(e,t.buffers,n.buffers,t.validBuffers),a(e,"buffer state")),s(t.textures,n.textures)&&(function(e,t,n){if(r(t,"activeTexture")?e.activeTexture(t.activeTexture):(0,i.isDefined)(n?.activeTexture)&&e.activeTexture(e.TEXTURE0),t?.textureUnits){for(let n=0;n<i.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS;n++){const r=`TEXTURE${n}`,s=t.textureUnits.get(r);if(!(0,i.isDefined)(s))continue;const a=s;e.activeTexture(e.TEXTURE0+n),(0,i.isDefined)(a.texture2D)&&e.bindTexture(e.TEXTURE_2D,a.texture2D),(0,i.isDefined)(a.textureCubeMap)&&e.bindTexture(e.TEXTURE_CUBE_MAP,a.textureCubeMap),(0,i.isDefined)(a.texture3D)&&e.bindTexture(e.TEXTURE_3D,a.texture3D),(0,i.isDefined)(a.texture2DArray)&&e.bindTexture(e.TEXTURE_2D_ARRAY,a.texture2DArray)}r(t,"activeTexture")&&e.activeTexture(t.activeTexture)}}(e,t.textures,n.textures),a(e,"texture state")),s(t.samplers,n.samplers)&&(function(e,t,n){if(t?.samplerBindings)for(let n=0;n<i.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS;n++){const r=t.samplerBindings[n];(0,i.isDefined)(r)&&e.bindSampler(n,r)}else if(n?.samplerBindings)for(let t=0;t<i.GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS;t++)(0,i.isDefined)(n.samplerBindings[t])&&e.bindSampler(t,null)}(e,t.samplers,n.samplers),a(e,"sampler state")),s(t.programs,n.programs)&&(function(e,t,n){r(t,"currentProgram")?e.useProgram(t.currentProgram):(0,i.isDefined)(n?.currentProgram)&&e.useProgram(null)}(e,t.programs,n.programs),a(e,"program state")),s(t.framebuffers,n.framebuffers)&&(function(e,t,n){r(t,"framebuffer")?e.bindFramebuffer(e.FRAMEBUFFER,t.framebuffer):(0,i.isDefined)(n?.framebuffer)&&e.bindFramebuffer(e.FRAMEBUFFER,null),r(t,"drawFramebuffer")?e.bindFramebuffer(e.DRAW_FRAMEBUFFER,t.drawFramebuffer):(0,i.isDefined)(n?.drawFramebuffer)&&e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r(t,"readFramebuffer")?e.bindFramebuffer(e.READ_FRAMEBUFFER,t.readFramebuffer):(0,i.isDefined)(n?.readFramebuffer)&&e.bindFramebuffer(e.READ_FRAMEBUFFER,null);const s=null===t?.drawFramebuffer,a=t?.defaultFramebufferState;if(s&&a){const n=t.defaultFramebufferState;(0,i.isDefined)(n.drawBuffers)&&e.drawBuffers(n.drawBuffers),(0,i.isDefined)(n.readBuffer)&&e.readBuffer(n.readBuffer)}}(e,t.framebuffers,n.framebuffers),a(e,"framebuffer state")),s(t.renderbuffer,n.renderbuffer)&&(function(e,t,n){r(t,"renderbuffer")?e.bindRenderbuffer(e.RENDERBUFFER,t.renderbuffer):(0,i.isDefined)(n?.renderbuffer)&&e.bindRenderbuffer(e.RENDERBUFFER,null)}(e,t.renderbuffer,n.renderbuffer),a(e,"renderbuffer state")),s(t.transformFeedback,n.transformFeedback)&&(function(e,t,n){r(t,"transformFeedback")?e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,t.transformFeedback):(0,i.isDefined)(n?.transformFeedback)&&e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),r(t,"transformFeedbackActive")&&t.transformFeedbackActive,r(t,"transformFeedbackPaused")&&t.transformFeedbackPaused&&e.pauseTransformFeedback()}(e,t.transformFeedback,n.transformFeedback),a(e,"transform feedback state")),s(t.viewport,n.viewport)&&(function(e,t,n){if(r(t,"viewport")){const n=t.viewport;e.viewport(n[0],n[1],n[2],n[3])}else if((0,i.isDefined)(n?.viewport)){const t=e.canvas;e.viewport(0,0,t.width,t.height)}if(r(t,"scissorBox")){const n=t.scissorBox;e.scissor(n[0],n[1],n[2],n[3])}else if((0,i.isDefined)(n?.scissorBox)){const t=e.canvas;e.scissor(0,0,t.width,t.height)}}(e,t.viewport,n.viewport),a(e,"viewport state")),s(t.capabilities,n.capabilities)&&(function(e,t,n){const r=(r,s)=>{const a=t?.[r],o=n?.[r];(0,i.isDefined)(a)?a?e.enable(s):e.disable(s):(0,i.isDefined)(o)&&!0===o&&e.disable(s)};r("blend",e.BLEND),r("cullFace",e.CULL_FACE),r("depthTest",e.DEPTH_TEST),r("dither",e.DITHER),r("polygonOffsetFill",e.POLYGON_OFFSET_FILL),r("sampleAlphaToCoverage",e.SAMPLE_ALPHA_TO_COVERAGE),r("sampleCoverage",e.SAMPLE_COVERAGE),r("scissorTest",e.SCISSOR_TEST),r("stencilTest",e.STENCIL_TEST),r("rasterDiscard",e.RASTERIZER_DISCARD)}(e,t.capabilities,n.capabilities),a(e,"capability state")),s(t.clear,n.clear)&&(function(e,t,n){if(r(t,"colorClearValue")){const n=t.colorClearValue;e.clearColor(n[0],n[1],n[2],n[3])}else(0,i.isDefined)(n?.colorClearValue)&&e.clearColor(0,0,0,0);r(t,"depthClearValue")?e.clearDepth(t.depthClearValue):(0,i.isDefined)(n?.depthClearValue)&&e.clearDepth(1),r(t,"stencilClearValue")?e.clearStencil(t.stencilClearValue):(0,i.isDefined)(n?.stencilClearValue)&&e.clearStencil(0)}(e,t.clear,n.clear),a(e,"clear state")),s(t.blend,n.blend)&&(function(e,t,n){if(r(t,"blendColor")){const n=t.blendColor;e.blendColor(n[0],n[1],n[2],n[3])}else(0,i.isDefined)(n?.blendColor)&&e.blendColor(0,0,0,0);r(t,"blendEquationRgb")&&r(t,"blendEquationAlpha")?e.blendEquationSeparate(t.blendEquationRgb,t.blendEquationAlpha):(0,i.isDefined)(n?.blendEquationRgb)&&(0,i.isDefined)(n?.blendEquationAlpha)&&e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),r(t,"blendSrcRgb")&&r(t,"blendDstRgb")&&r(t,"blendSrcAlpha")&&r(t,"blendDstAlpha")?e.blendFuncSeparate(t.blendSrcRgb,t.blendDstRgb,t.blendSrcAlpha,t.blendDstAlpha):(0,i.isDefined)(n?.blendSrcRgb)&&(0,i.isDefined)(n?.blendDstRgb)&&(0,i.isDefined)(n?.blendSrcAlpha)&&(0,i.isDefined)(n?.blendDstAlpha)&&e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO)}(e,t.blend,n.blend),a(e,"blend state")),s(t.depth,n.depth)&&(function(e,t,n){if(r(t,"depthFunc")?e.depthFunc(t.depthFunc):(0,i.isDefined)(n?.depthFunc)&&e.depthFunc(e.LESS),r(t,"depthWritemask")?e.depthMask(t.depthWritemask):(0,i.isDefined)(n?.depthWritemask)&&e.depthMask(!0),r(t,"depthRange")){const n=t.depthRange;e.depthRange(n[0],n[1])}else(0,i.isDefined)(n?.depthRange)&&e.depthRange(0,1)}(e,t.depth,n.depth),a(e,"depth state")),s(t.stencil,n.stencil)&&(function(e,t,n){r(t,"stencilFunc")&&r(t,"stencilRef")&&r(t,"stencilValueMask")?e.stencilFuncSeparate(e.FRONT,t.stencilFunc,t.stencilRef,t.stencilValueMask):(0,i.isDefined)(n?.stencilFunc)&&(0,i.isDefined)(n?.stencilRef)&&(0,i.isDefined)(n?.stencilValueMask)&&e.stencilFuncSeparate(e.FRONT,e.ALWAYS,0,4294967295),r(t,"stencilWritemask")?e.stencilMaskSeparate(e.FRONT,t.stencilWritemask):(0,i.isDefined)(n?.stencilWritemask)&&e.stencilMaskSeparate(e.FRONT,4294967295),r(t,"stencilFail")&&r(t,"stencilPassDepthFail")&&r(t,"stencilPassDepthPass")?e.stencilOpSeparate(e.FRONT,t.stencilFail,t.stencilPassDepthFail,t.stencilPassDepthPass):(0,i.isDefined)(n?.stencilFail)&&(0,i.isDefined)(n?.stencilPassDepthFail)&&(0,i.isDefined)(n?.stencilPassDepthPass)&&e.stencilOpSeparate(e.FRONT,e.KEEP,e.KEEP,e.KEEP),r(t,"stencilBackFunc")&&r(t,"stencilBackRef")&&r(t,"stencilBackValueMask")?e.stencilFuncSeparate(e.BACK,t.stencilBackFunc,t.stencilBackRef,t.stencilBackValueMask):(0,i.isDefined)(n?.stencilBackFunc)&&(0,i.isDefined)(n?.stencilBackRef)&&(0,i.isDefined)(n?.stencilBackValueMask)&&e.stencilFuncSeparate(e.BACK,e.ALWAYS,0,4294967295),r(t,"stencilBackWritemask")?e.stencilMaskSeparate(e.BACK,t.stencilBackWritemask):(0,i.isDefined)(n?.stencilBackWritemask)&&e.stencilMaskSeparate(e.BACK,4294967295),r(t,"stencilBackFail")&&r(t,"stencilBackPassDepthFail")&&r(t,"stencilBackPassDepthPass")?e.stencilOpSeparate(e.BACK,t.stencilBackFail,t.stencilBackPassDepthFail,t.stencilBackPassDepthPass):(0,i.isDefined)(n?.stencilBackFail)&&(0,i.isDefined)(n?.stencilBackPassDepthFail)&&(0,i.isDefined)(n?.stencilBackPassDepthPass)&&e.stencilOpSeparate(e.BACK,e.KEEP,e.KEEP,e.KEEP)}(e,t.stencil,n.stencil),a(e,"stencil state")),s(t.color,n.color)&&(function(e,t,n){if(r(t,"colorWritemask")){const n=t.colorWritemask;e.colorMask(n[0],n[1],n[2],n[3])}else(0,i.isDefined)(n?.colorWritemask)&&e.colorMask(!0,!0,!0,!0)}(e,t.color,n.color),a(e,"color state")),s(t.culling,n.culling)&&(function(e,t,n){r(t,"cullFaceMode")?e.cullFace(t.cullFaceMode):(0,i.isDefined)(n?.cullFaceMode)&&e.cullFace(e.BACK),r(t,"frontFace")?e.frontFace(t.frontFace):(0,i.isDefined)(n?.frontFace)&&e.frontFace(e.CCW)}(e,t.culling,n.culling),a(e,"culling state")),s(t.line,n.line)&&(function(e,t,n){r(t,"lineWidth")?e.lineWidth(t.lineWidth):(0,i.isDefined)(n?.lineWidth)&&e.lineWidth(1)}(e,t.line,n.line),a(e,"line state")),s(t.polygonOffset,n.polygonOffset)&&(function(e,t,n){r(t,"polygonOffsetFactor")&&r(t,"polygonOffsetUnits")?e.polygonOffset(t.polygonOffsetFactor,t.polygonOffsetUnits):(0,i.isDefined)(n?.polygonOffsetFactor)&&(0,i.isDefined)(n?.polygonOffsetUnits)&&e.polygonOffset(0,0)}(e,t.polygonOffset,n.polygonOffset),a(e,"polygon offset state")),s(t.sample,n.sample)&&(function(e,t,n){r(t,"sampleCoverageValue")&&r(t,"sampleCoverageInvert")?e.sampleCoverage(t.sampleCoverageValue,t.sampleCoverageInvert):(0,i.isDefined)(n?.sampleCoverageValue)&&(0,i.isDefined)(n?.sampleCoverageInvert)&&e.sampleCoverage(1,!1)}(e,t.sample,n.sample),a(e,"sample state")),s(t.pixelStore,n.pixelStore)&&(function(e,t,n){r(t,"packAlignment")?e.pixelStorei(e.PACK_ALIGNMENT,t.packAlignment):(0,i.isDefined)(n?.packAlignment)&&e.pixelStorei(e.PACK_ALIGNMENT,4),r(t,"unpackAlignment")?e.pixelStorei(e.UNPACK_ALIGNMENT,t.unpackAlignment):(0,i.isDefined)(n?.unpackAlignment)&&e.pixelStorei(e.UNPACK_ALIGNMENT,4),r(t,"unpackFlipY")?e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.unpackFlipY?1:0):(0,i.isDefined)(n?.unpackFlipY)&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,0),r(t,"unpackPremultiplyAlpha")?e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.unpackPremultiplyAlpha?1:0):(0,i.isDefined)(n?.unpackPremultiplyAlpha)&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),r(t,"packRowLength")?e.pixelStorei(e.PACK_ROW_LENGTH,t.packRowLength):(0,i.isDefined)(n?.packRowLength)&&e.pixelStorei(e.PACK_ROW_LENGTH,0),r(t,"packSkipPixels")?e.pixelStorei(e.PACK_SKIP_PIXELS,t.packSkipPixels):(0,i.isDefined)(n?.packSkipPixels)&&e.pixelStorei(e.PACK_SKIP_PIXELS,0),r(t,"packSkipRows")?e.pixelStorei(e.PACK_SKIP_ROWS,t.packSkipRows):(0,i.isDefined)(n?.packSkipRows)&&e.pixelStorei(e.PACK_SKIP_ROWS,0),r(t,"unpackRowLength")?e.pixelStorei(e.UNPACK_ROW_LENGTH,t.unpackRowLength):(0,i.isDefined)(n?.unpackRowLength)&&e.pixelStorei(e.UNPACK_ROW_LENGTH,0),r(t,"unpackImageHeight")?e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,t.unpackImageHeight):(0,i.isDefined)(n?.unpackImageHeight)&&e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),r(t,"unpackSkipPixels")?e.pixelStorei(e.UNPACK_SKIP_PIXELS,t.unpackSkipPixels):(0,i.isDefined)(n?.unpackSkipPixels)&&e.pixelStorei(e.UNPACK_SKIP_PIXELS,0),r(t,"unpackSkipRows")?e.pixelStorei(e.UNPACK_SKIP_ROWS,t.unpackSkipRows):(0,i.isDefined)(n?.unpackSkipRows)&&e.pixelStorei(e.UNPACK_SKIP_ROWS,0),r(t,"unpackSkipImages")?e.pixelStorei(e.UNPACK_SKIP_IMAGES,t.unpackSkipImages):(0,i.isDefined)(n?.unpackSkipImages)&&e.pixelStorei(e.UNPACK_SKIP_IMAGES,0)}(e,t.pixelStore,n.pixelStore),a(e,"pixel store state")),!t.queries||n.queries&&t.queries.equals(n.queries)||(o=t.queries,(0,i.isDefined)(o.currentAnySamplesPassed)&&o.currentAnySamplesPassed&&console.warn("[WebGLStateApply] Cannot restore active query state for ANY_SAMPLES_PASSED - queries cannot be directly restored"),(0,i.isDefined)(o.currentAnySamplesPassedConservative)&&o.currentAnySamplesPassedConservative&&console.warn("[WebGLStateApply] Cannot restore active query state for ANY_SAMPLES_PASSED_CONSERVATIVE - queries cannot be directly restored"),(0,i.isDefined)(o.currentTransformFeedbackPrimitivesWritten)&&o.currentTransformFeedbackPrimitivesWritten&&console.warn("[WebGLStateApply] Cannot restore active query state for TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN - queries cannot be directly restored"),a(e,"query state"))};const i=n(8386);function r(e,t){return void 0!==e&&(0,i.isDefined)(e[t])}function s(e,t){return!(void 0===e&&void 0===t||void 0!==e&&void 0!==t&&e.equals(t))}function a(e,n){if(!t.CHECK_ERRORS)return;const i=e.getError();if(i!==e.NO_ERROR){const t=function(e,t){switch(t){case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"UNKNOWN_ERROR"}}(e,i),r=`[WebGLStateApply] GL error after ${n}: ${t} (0x${i.toString(16)})`;throw new Error(r)}}t.CHECK_ERRORS=!1},9701(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoundWebGLState=void 0,t.bindGL=function(e){const t=e;if(t.__cloudxrBoundState)return console.warn("WebGL context is already wrapped with state tracking. Returning existing BoundWebGLState."),t.__cloudxrBoundState;const n=new i.WebGLStateTracker,r=new Map,a=new Map,o=new s(e,n,r);t.__cloudxrBoundState=o;const l=(i,s)=>{const l=t[i];if(!l)throw new Error("Original method not found for "+i);if(l===a.get(i))throw new Error("Wrapped function already bound for "+i);const c=l.bind(e);r.set(i,c);const u=(...e)=>(o._enabled()&&s.apply(n,e),c(...e));a.set(i,u),t[i]=u};l("bindBuffer",n.bindBuffer),l("bindBufferBase",n.bindBufferBase),l("bindBufferRange",n.bindBufferRange);const c=t.createBuffer.bind(e);return r.set("createBuffer",c),t.createBuffer=()=>{const e=c();return e&&n.createBuffer(e),e},l("deleteBuffer",n.deleteBuffer),l("bindVertexArray",n.bindVertexArray),l("deleteVertexArray",n.deleteVertexArray),l("enableVertexAttribArray",n.enableVertexAttribArray),l("disableVertexAttribArray",n.disableVertexAttribArray),l("vertexAttribPointer",n.vertexAttribPointer),l("vertexAttribIPointer",n.vertexAttribIPointer),l("vertexAttribDivisor",n.vertexAttribDivisor),l("activeTexture",n.activeTexture),l("bindTexture",n.bindTexture),l("useProgram",n.useProgram),l("bindFramebuffer",n.bindFramebuffer),l("framebufferTexture2D",n.framebufferTexture2D),l("framebufferRenderbuffer",n.framebufferRenderbuffer),l("framebufferTextureLayer",n.framebufferTextureLayer),l("drawBuffers",n.drawBuffers),l("readBuffer",n.readBuffer),l("bindRenderbuffer",n.bindRenderbuffer),l("bindTransformFeedback",n.bindTransformFeedback),l("beginTransformFeedback",n.beginTransformFeedback),l("endTransformFeedback",n.endTransformFeedback),l("pauseTransformFeedback",n.pauseTransformFeedback),l("resumeTransformFeedback",n.resumeTransformFeedback),l("enable",n.enable),l("disable",n.disable),l("viewport",n.viewport),l("scissor",n.scissor),l("clearColor",n.clearColor),l("clearDepth",n.clearDepth),l("clearStencil",n.clearStencil),l("blendColor",n.blendColor),l("blendEquation",n.blendEquation),l("blendEquationSeparate",n.blendEquationSeparate),l("blendFunc",n.blendFunc),l("blendFuncSeparate",n.blendFuncSeparate),l("depthFunc",n.depthFunc),l("depthMask",n.depthMask),l("depthRange",n.depthRange),l("stencilFunc",n.stencilFunc),l("stencilFuncSeparate",n.stencilFuncSeparate),l("stencilMask",n.stencilMask),l("stencilMaskSeparate",n.stencilMaskSeparate),l("stencilOp",n.stencilOp),l("stencilOpSeparate",n.stencilOpSeparate),l("colorMask",n.colorMask),l("cullFace",n.cullFace),l("frontFace",n.frontFace),l("lineWidth",n.lineWidth),l("polygonOffset",n.polygonOffset),l("sampleCoverage",n.sampleCoverage),l("pixelStorei",n.pixelStorei),l("bindSampler",n.bindSampler),l("beginQuery",n.beginQuery),l("endQuery",n.endQuery),o};const i=n(8386),r=n(2308);class s{constructor(e,t,n){this.trackingEnabled=!0,this.gl=e,this.tracker=t,this.originalFunctions=n}getTracker(){return this.tracker}save(){this.savedState=this.tracker.getState()}restore(){if(!this.savedState)throw new Error("No state has been saved. Call save() before restore().");const e=this.trackingEnabled;this.trackingEnabled=!0;const t=this.tracker.getState();(0,r.apply)(this.gl,this.savedState,t),this.trackingEnabled=e}enableTracking(e){this.trackingEnabled=e}_enabled(){return this.trackingEnabled}revert(){const e=this.gl;for(const[t,n]of this.originalFunctions.entries())e[t]=n;this.originalFunctions.clear(),delete e.__cloudxrBoundState}}t.BoundWebGLState=s},4241(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overridePressureObserver=function(){if("undefined"==typeof window||!window.PressureObserver)return;const e=window.PressureObserver;window.PressureObserver=class extends e{observe(e){try{const t=super.observe(e);return t&&"function"==typeof t.catch?t.catch(e=>{console.warn("PressureObserver.observe() failed:",e.message)}):t}catch(e){return void console.warn("PressureObserver.observe() failed:",e.message)}}}}},4458(e,t,n){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),a=0;a<n.length;a++)"default"!==n[a]&&r(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({config:e,applicationName:t,onStatusChange:n,onError:i,onSessionReady:r,onServerAddress:s,onRenderPerformanceMetrics:a,onStreamingPerformanceMetrics:f,metricsSettings:g={}}){const A=(0,d.useThree)().gl,{session:m}=(0,h.useXR)(),v=(0,p.useRef)(null),y=(0,p.useRef)(new o.MetricsTracker(g.renderFpsWindow??100)),E=(0,p.useRef)(new o.MetricsTracker(g.streamingFpsWindow??20)),S=(0,p.useRef)(new o.MetricsTracker(g.poseToRenderWindow??20));A.autoClear=!1;const b=A.getContext(),x=(0,c.bindGL)(b);return(0,p.useEffect)(()=>{const o=A.xr;if(o){const c=async()=>{let c=null;try{const t=o.getSession?o.getSession():null;if(t)if("auto"===e.referenceSpaceType){const e=["local-floor","local","viewer","unbounded"];for(const n of e)try{if(c=await t.requestReferenceSpace(n),c)break}catch(e){}}else try{c=await t.requestReferenceSpace(e.referenceSpaceType)}catch(t){console.error(`Failed to request reference space '${e.referenceSpaceType}':`,t)}}catch(e){console.error("Failed to request XR reference space:",e),c=null}if(c||(c=o.getReferenceSpace()),c){if(v.current)return void console.error("CloudXR session already exists");const d=o.getBinding();let h;d||console.warn("No WebGL binding found");try{h=(0,l.getConnectionConfig)(e.serverIP,e.port,e.proxyUrl),s?.(h.serverIP)}catch(e){return n?.(!1,"Configuration Error"),void i?.(`Proxy configuration failed: ${e}`)}const p=e.xrOffsetX||0,g=e.xrOffsetY||0,A=e.xrOffsetZ||0;if(0!==p||0!==g||0!==A){const e=new XRRigidTransform({x:p,y:g,z:A},{x:0,y:0,z:0,w:1});c=c.getOffsetReferenceSpace(e)}const m={serverAddress:h.serverIP,serverPort:h.port,useSecureConnection:h.useSecureConnection,signalingResourcePath:h.resourcePath,perEyeWidth:e.perEyeWidth,perEyeHeight:e.perEyeHeight,codec:e.codec,gl:b,referenceSpace:c,deviceFrameRate:e.deviceFrameRate,maxStreamingBitrateKbps:1e3*e.maxStreamingBitrateMbps,enablePoseSmoothing:e.enablePoseSmoothing,posePredictionFactor:e.posePredictionFactor,enableTexSubImage2D:e.enableTexSubImage2D,useQuestColorWorkaround:e.useQuestColorWorkaround,mediaAddress:e.mediaAddress,mediaPort:e.mediaPort,glBinding:d,telemetry:{enabled:!0,appInfo:{version:"6.1.0",product:t}}},w={onWebGLStateChangeBegin:()=>{x.save()},onWebGLStateChangeEnd:()=>{x.restore()},onStreamStarted:()=>{console.debug("CloudXR stream started"),n?.(!0,"Connected")},onStreamStopped:e=>{if(e){const t=e.code?`${e.message} (Error code: 0x${e.code.toString(16).toUpperCase()})`:e.message;console.error("Stream stopped with error:",t),n?.(!1,"Error"),i?.(`CloudXR session stopped: ${t}`),void 0!==e.reasonCode&&console.debug("Stop reason code:",e.reasonCode)}else console.debug("CloudXR session stopped"),n?.(!1,"Disconnected");v.current=null,r?.(null)},onMetrics:(e,t)=>{if(a&&t===u.MetricsCadence.PerRender){const t=e[u.MetricsName.RenderFramerate]??0;a(y.current.add(t))}if(f&&t===u.MetricsCadence.PerFrame){const t=e[u.MetricsName.StreamingFramerate]??0,n=e[u.MetricsName.PoseToRenderTime]??0;f(E.current.add(t),S.current.add(n))}}};let I;try{I=u.createSession(m,w)}catch(e){return n?.(!1,"Session Creation Failed"),void i?.(`Failed to create CloudXR session: ${e}`)}v.current=I,r?.(I);try{I.connect(),console.log("CloudXR session connect initiated")}catch(e){n?.(!1,"Connection Failed"),i?.("Failed to connect CloudXR session"),v.current=null}}},d=()=>{v.current&&(v.current.disconnect(),v.current=null,r?.(null))};return o.addEventListener("sessionstart",c),o.addEventListener("sessionend",d),()=>{o.removeEventListener("sessionstart",c),o.removeEventListener("sessionend",d)}}},[A,e]),(0,d.useFrame)((e,t)=>{if(A.xr.isPresenting&&m){const t=e.gl.xr.getFrame();if(t){const n=e.gl.xr;if(!v||!v.current)return console.debug("Skipping frame, no session yet"),void A.clear();const r=v.current;if(r.state!==u.SessionState.Connected)return console.debug("Skipping frame, session not connected, state:",r.state),void A.clear();const s=1e3*e.clock.elapsedTime;try{r.sendTrackingStateToServer(s,t);let e=n.getBaseLayer();r.render(s,t,e)}catch(e){const t=e instanceof Error?e.message:String(e);console.error("CloudXR render loop error:",e),r.disconnect(),i?.(`CloudXR error: ${t}`)}}}},-1e3),null};const o=n(5347),l=n(5243),c=n(9701),u=a(n(9564)),d=n(5178),h=n(8276),p=n(6540)},9459(e,t,n){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),a=0;a<n.length;a++)"default"!==n[a]&&r(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.HDRI_BANDS=void 0,t.SimpleEnvironment=function(){const{scene:e}=(0,o.useThree)();return(0,l.useEffect)(()=>{const n=new Uint16Array(8192),i=t.HDRI_BANDS;for(let e=0;e<32;e++){const t=e/32*(i.length-1),r=Math.min(Math.floor(t),i.length-2),s=t-r,[a,o,l]=i[r],[u,d,h]=i[r+1],p=c.DataUtils.toHalfFloat(a+s*(u-a)),f=c.DataUtils.toHalfFloat(o+s*(d-o)),g=c.DataUtils.toHalfFloat(l+s*(h-l)),A=c.DataUtils.toHalfFloat(1);for(let t=0;t<64;t++){const i=4*(64*e+t);n[i]=p,n[i+1]=f,n[i+2]=g,n[i+3]=A}}const r=new c.DataTexture(n,64,32,c.RGBAFormat,c.HalfFloatType);return r.mapping=c.EquirectangularReflectionMapping,r.colorSpace=c.LinearSRGBColorSpace,r.magFilter=c.LinearFilter,r.minFilter=c.LinearFilter,r.generateMipmaps=!1,r.flipY=!0,r.needsUpdate=!0,e.environment=r,e.environmentIntensity=2,()=>{e.environment=null,e.environmentIntensity=1,r.dispose()}},[e]),null};const o=n(5178),l=n(6540),c=a(n(7186));t.HDRI_BANDS=[[1.41,1.45,1.73],[.16,.14,.16],[.13,.07,.07]]},5783(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseControlPanelPosition=function(e,t){return n.includes(e)?e:t},t.getControlPanelPositionVector=function(e,t){if("center"===e)return[0,t.height,-t.distance];const n=t.angleDegrees*Math.PI/180,i=t.distance*Math.sin(n),r=-t.distance*Math.cos(n);return["left"===e?-i:i,t.height,r]};const n=["left","center","right"]},5243(e,t){"use strict";function n(e){return e.replace(/^https?:\/\//,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParams=function(e=window.location){const t={},n=e.search.substring(1);if(n){const e=n.split("&");for(const n of e){const[e,i=""]=n.split("=");t[decodeURIComponent(e)]=decodeURIComponent(i)}}return t},t.enableLocalStorage=function(e,t){const n=`__localStorageEnabled_${t}`;if(e[n])console.warn(`localStorage already enabled for ${t}, skipping`);else{try{if(localStorage.hasOwnProperty(t)){const n=localStorage.getItem(t);e.value=n||"",console.info(`Loaded saved ${t} from localStorage:`,n)}}catch(e){console.warn(`${t}: Failed to load saved value from localStorage:`,e)}e.addEventListener("change",()=>{try{localStorage.setItem(t,e.value),console.info(`Saved ${t} to localStorage:`,JSON.stringify(e.value))}catch(e){console.warn(`${t}: Failed to save to localStorage:`,e)}}),e[n]=!0}},t.setSelectValueIfAvailable=function(e,t){Array.from(e.options).some(e=>e.value===t)&&(e.value=t)},t.getConnectionConfig=function(e,t,i,r=window.location){let s,a="",o=t,l=!1;if("https:"===r.protocol){console.info("Running on HTTPS protocol - using secure WebSocket (WSS)"),l=!0;const c=i?.trim();if(c){if(console.info("Proxy URL provided - using proxy routing mode"),!c.startsWith("https://"))throw new Error("Proxy URL must start with https://. Received: "+c);const t=new URL(c);a=t.hostname,o=t.port?parseInt(t.port,10):443;const i=t.pathname.replace(/\/$/,"");if(e&&"localhost"!==e&&"127.0.0.1"!==e){const t=n(e);s=i?`${i}/${t}`:`/${t}`,console.info(`Using HTTPS proxy: ${a}:${o} with resource path: ${s}`)}else s=i||void 0,console.info(`Using HTTPS proxy: ${a}:${o} (no target server specified)`)}else console.info("No proxy URL - using direct WSS connection"),e&&"localhost"!==e&&"127.0.0.1"!==e?(a=n(e),console.info("Using user-provided server IP:",a)):(a=new URL(r.href).hostname,console.info("Using default server IP from window location:",a)),t&&!isNaN(t)&&(o=t,console.info("Using user-provided port:",o))}else console.info("Running on HTTP protocol - using insecure WebSocket (WS)"),l=!1,e&&"localhost"!==e&&"127.0.0.1"!==e?(a=n(e),console.info("Using user-provided server IP:",a)):(a=new URL(r.href).hostname,console.info("Using default server IP from window location:",a)),t&&!isNaN(t)&&(o=t,console.info("Using user-provided port:",o));return{serverIP:a,port:o,useSecureConnection:l,resourcePath:s}},t.setupCertificateAcceptanceLink=function(e,t,n,i,r,s=window.location){const a=()=>{const a="https:"===s.protocol,o=n.value.trim().length>0,l=parseInt(t.value,10)||(o?443:48322);if(a&&!o){let t=e.value.trim();t||(t=new URL(s.href).hostname);const n=`https://${t}:${l}/`;i.style.display="block",r.href=n,r.textContent=`Click ${n} to accept cert`}else i.style.display="none"};return e.addEventListener("input",a),t.addEventListener("input",a),n.addEventListener("input",a),setTimeout(a,0),()=>{e.removeEventListener("input",a),t.removeEventListener("input",a),n.removeEventListener("input",a)}}},3566(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4848),s=n(5576),a=n(8200),o=n(475),l=n(4241),c=n(6698),u=i(n(4458)),d=n(9459),h=n(5783),p=n(508),f=n(5178),g=n(9985),A=n(8276),m=n(6540),v=n(6630),y=i(n(5496)),E=(0,p.signal)(null),S=(0,p.signal)(null),b=(0,p.computed)(()=>E.value?E.value.fps.toFixed(1):"-"),x=(0,p.computed)(()=>S.value?S.value.fps.toFixed(1):"-"),w=(0,p.computed)(()=>S.value?`${S.value.latencyMs.toFixed(1)}ms`:"-"),I={distance:1.8,height:1.85,angleDegrees:70};(0,l.overridePressureObserver)(),(0,g.setPreferredColorScheme)("dark");const C={type:"teleop_command",message:{command:"start teleop"}};t.default=function(){const e="cxr.react.countdownSeconds",[t,n]=(0,m.useState)(null),[i,l]=(0,m.useState)(!1),[p,g]=(0,m.useState)(!1),T=(0,m.useRef)(!1),[M,B]=(0,m.useState)(!1),[R,P]=(0,m.useState)("Disconnected"),[_,D]=(0,m.useState)(""),[N,L]=(0,m.useState)(null),[O,k]=(0,m.useState)(!1),[U,F]=(0,m.useState)(""),[Q,V]=(0,m.useState)(!1),[H,G]=(0,m.useState)(0),[z,W]=(0,m.useState)(!1),X=(0,m.useRef)(null),[j,q]=(0,m.useState)(()=>{try{const t=localStorage.getItem(e);if(null!=t){const e=parseInt(t,10);if(!isNaN(e))return Math.min(9,Math.max(0,e))}}catch(e){}return 3});(0,m.useEffect)(()=>{try{localStorage.setItem(e,String(j))}catch(e){}},[j]),(0,m.useEffect)(()=>{(async()=>{const{supportsImmersive:e,iwerLoaded:t}=await(0,o.loadIWERIfNeeded)();if(!e)return D("Immersive mode not supported"),l(!1),g(!1),void(T.current=!1);l(!0),t&&sessionStorage.setItem("iwerWasLoaded","true")})()},[]),(0,m.useEffect)(()=>{!t||i||p||t.setStartButtonState(!0,"CONNECT (immersive mode not supported)")},[t,i,p]),(0,m.useEffect)(()=>{(async()=>{if(!t||!i)return;if(T.current)return;T.current=!0,t.setStartButtonState(!0,"CONNECT (checking capabilities)");let e={success:!1,failures:[],warnings:[]};try{e=await(0,s.checkCapabilities)()}catch(e){return t.showStatus(`Capability check error: ${e}`,"error"),g(!1),t.setStartButtonState(!0,"CONNECT (capability check failed)"),void(T.current=!1)}if(!e.success)return t.showStatus("Browser does not meet required capabilities:\n"+e.failures.join("\n"),"error"),g(!1),t.setStartButtonState(!0,"CONNECT (capability check failed)"),void(T.current=!1);const n="true"===sessionStorage.getItem("iwerWasLoaded");e.warnings.length>0?t.showStatus("Performance notice:\n"+e.warnings.join("\n"),"info"):n?t.showStatus("CloudXR.js SDK is supported. Ready to connect!\nUsing IWER (Immersive Web Emulator Runtime) - Emulating Meta Quest 3.","info"):t.showStatus("CloudXR.js SDK is supported. Ready to connect!","success"),g(!0),t.setStartButtonState(!1,"CONNECT")})()},[t,i]);const[Y,J]=(0,m.useState)(0),Z=(0,m.useMemo)(()=>(0,a.getDeviceProfile)((0,a.resolveDeviceProfileId)(t?.getConfiguration().deviceProfileId)),[t,Y]),K=Z.web?.foveation??c.kPerformanceOptions.xrWebGLLayer_fixedFoveationLevel,$=Z.web?.frameBufferScaling??c.kPerformanceOptions.xrWebGLLayer_framebufferScaleFactor,ee=t?.getConfiguration().hideControllerModel??!1,te=(0,m.useMemo)(()=>(0,A.createXRStore)({emulate:!1,foveation:K,frameBufferScaling:$,baseAssetPath:`${new URL(".",window.location.href).href}npm/@webxr-input-profiles/assets@1.0.19/dist/profiles/`,hand:{model:!1},controller:{model:!ee},handTracking:!0,bodyTracking:!0}),[K,$]);(0,m.useEffect)(()=>{te.setController({model:!ee})},[te,ee]),(0,m.useEffect)(()=>{const e=new v.CloudXR2DUI(()=>{J(e=>e+1)});return e.initialize(),e.setupConnectButtonHandler(async()=>{"ar"===e.getConfiguration().immersiveMode?await te.enterAR():"vr"===e.getConfiguration().immersiveMode?await te.enterVR():D("Unrecognized immersive mode"),te.setFrameRate(t=>{let n=e.getConfiguration().deviceFrameRate,i=!1;for(let e=0;e<t.length;++e)if(t[e]===n){i=!0;break}return i?(console.info("Changed frame rate to",n),n):(console.error("Failed to change frame rate to",n),!1)})},e=>{D(`Failed to start XR session: ${e}`)}),n(e),()=>{e&&e.cleanup()}},[te]),(0,m.useEffect)(()=>{t&&(_?t.showError(_):t.hideError())},[_,t]),(0,m.useEffect)(()=>{const e=te.subscribe(()=>{const e=te.getState();if("immersive-ar"===e.mode||"immersive-vr"===e.mode){k(!0);const n=e.session;if(n){const e=n.enabledFeatures||[],t=e.includes("body-tracking");console.warn(`[Body Tracking] XR Session started. Body tracking enabled: ${t}`),console.warn(`[Body Tracking] Enabled features: ${e.join(", ")}`)}t&&t.setStartButtonState(!0,"CONNECT (XR session active)")}else k(!1),t&&t.setStartButtonState(!1,"CONNECT"),e.error&&D(`XR session error: ${e.error}`)});return()=>{e(),k(!1)}},[t,te]);const ne=async e=>{if(!N)return console.error("CloudXR session not available"),!1;const t=N.availableMessageChannels;if(t.length>0){const n=t[0];console.log(`Using MessageChannel API (${t.length} channels available)`);try{const t=(new TextEncoder).encode(JSON.stringify(e)),i=n.sendServerMessage(t);return i?console.log("Message sent via MessageChannel:",e):console.error("Failed to send message via MessageChannel"),i}catch(e){return console.error("Error sending via MessageChannel:",e),!1}}console.log("Using legacy sendServerMessage API");try{return N.sendServerMessage(e),console.log("Message sent via legacy API:",e),!0}catch(e){return console.error("Error sending via legacy API:",e),!1}},ie=(0,m.useMemo)(()=>t?t.getConfiguration():null,[t,Y]),re=(0,m.useMemo)(()=>(0,h.getControlPanelPositionVector)(ie?.controlPanelPosition??"center",I),[ie?.controlPanelPosition]);return(0,m.useEffect)(()=>(O?document.body.classList.add("xr-mode"):document.body.classList.remove("xr-mode"),()=>{document.body.classList.remove("xr-mode")}),[O]),(0,m.useEffect)(()=>{if(!N)return;let e=!0,t=!1;const n=()=>{if(!e||t)return;const n=N.availableMessageChannels;if(n.length>0){const i=n[0];console.log("Setting up MessageChannel receiver"),t=!0,(async()=>{for(;e;)try{const e=await i.receiveMessage();if(null===e){console.log("MessageChannel closed");break}const t=(new TextDecoder).decode(e);console.log("Received message via MessageChannel:",t);try{const e=JSON.parse(t);console.log("Parsed message:",e)}catch{console.log("Non-JSON message:",t)}}catch(e){console.error("Error receiving message:",e);break}})()}};n();const i=setInterval(n,1e3);return()=>{e=!1,clearInterval(i)}},[N]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(f.Canvas,{events:A.noEvents,style:{background:"#000",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,zIndex:-1},gl:{alpha:!0,depth:!0,stencil:!1,antialias:Z.web?.webglAntialias??c.kPerformanceOptions.webglContext_antialias,failIfMajorPerformanceCaveat:!0,powerPreference:Z.web?.powerPreference??"high-performance",premultipliedAlpha:!1,preserveDrawingBuffer:!0},camera:{position:[0,0,.65]},onWheel:e=>{e.preventDefault()},children:[(0,r.jsx)(A.PointerEvents,{batchEvents:!1}),(0,r.jsxs)(A.XR,{store:te,children:[(0,r.jsx)(d.SimpleEnvironment,{}),(0,r.jsx)(A.XROrigin,{}),t&&ie&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.default,{config:ie,applicationName:"Isaac Lab Teleop",onStatusChange:(e,t)=>{B(e),P(t)},onError:e=>{t&&t.showError(e)},onSessionReady:L,onServerAddress:F,onRenderPerformanceMetrics:e=>{E.value={fps:e}},onStreamingPerformanceMetrics:(e,t)=>{S.value={fps:e,latencyMs:t}}}),(0,r.jsx)(y.default,{onStartTeleop:async()=>{if(console.log("Start Teleop pressed"),N){if(!Q&&!z){if(j<=0){V(!1),G(0);const e=await ne(C);return void W(!!e)}V(!0),G(j),X.current=window.setInterval(()=>{G(e=>e<=1?(null!==X.current&&(clearInterval(X.current),X.current=null),V(!1),ne(C).then(e=>{W(!!e)}),0):e-1)},1e3)}}else console.error("CloudXR session not available")},onDisconnect:()=>{console.log("Disconnect pressed"),null!==X.current&&(clearInterval(X.current),X.current=null),V(!1),G(0),W(!1);const e=te.getState().session;e&&e.end().catch(e=>{D(`Failed to end XR session: ${e instanceof Error?e.message:String(e)}`)})},onResetTeleop:async()=>{if(console.log("Reset Teleop pressed"),null!==X.current&&(clearInterval(X.current),X.current=null),V(!1),G(0),!N)return void console.error("CloudXR session not available");const e={type:"teleop_command",message:{command:"reset teleop"}};await ne({type:"teleop_command",message:{command:"stop teleop"}})&&await ne(e)&&W(!1)},serverAddress:U||ie.serverIP,sessionStatus:R,playLabel:z?"Running":Q?`Starting in ${H} sec...`:"Play",playInProgress:Q||z,countdownSeconds:j,onCountdownIncrease:()=>{Q||q(e=>Math.min(9,e+1))},onCountdownDecrease:()=>{Q||q(e=>Math.max(0,e-1))},countdownDisabled:Q,position:re,rotation:[0,0,0],renderFpsText:b,streamingFpsText:x,poseToRenderText:w})]})]})]})})}},6630(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloudXR2DUI=void 0;const i=n(8200),r=n(5783),s=n(5243);t.CloudXR2DUI=class{constructor(e){this.initialized=!1,this.onConfigurationChange=null,this.handleConnectClick=null,this.eventListeners=[],this.certLinkCleanup=null,this.onConfigurationChange=e||null,this.currentConfiguration=this.getDefaultConfiguration()}initialize(){if(!this.initialized)try{this.initializeElements(),this.setupLocalStorage(),this.setupProxyConfiguration(),this.setupEventListeners(),this.posePredictionFactorValue.textContent=this.posePredictionFactorInput.value,this.updateConfiguration(),this.updateDeviceProfileWarning((0,i.resolveDeviceProfileId)(this.deviceProfileSelect.value)),this.setStartButtonState(!1,"CONNECT"),this.initialized=!0}catch(e){this.showError(`Failed to initialize CloudXR2DUI: ${e}`)}}initializeElements(){this.startButton=this.getElement("startButton"),this.serverIpInput=this.getElement("serverIpInput"),this.portInput=this.getElement("portInput"),this.proxyUrlInput=this.getElement("proxyUrl"),this.immersiveSelect=this.getElement("immersive"),this.deviceFrameRateSelect=this.getElement("deviceFrameRate"),this.maxStreamingBitrateMbpsSelect=this.getElement("maxStreamingBitrateMbps"),this.codecSelect=this.getElement("codec"),this.perEyeWidthInput=this.getElement("perEyeWidth"),this.perEyeHeightInput=this.getElement("perEyeHeight"),this.enablePoseSmoothingSelect=this.getElement("enablePoseSmoothing"),this.posePredictionFactorInput=this.getElement("posePredictionFactor"),this.posePredictionFactorValue=this.getElement("posePredictionFactorValue"),this.enableTexSubImage2DSelect=this.getElement("enableTexSubImage2D"),this.useQuestColorWorkaroundSelect=this.getElement("useQuestColorWorkaround"),this.serverTypeSelect=this.getElement("serverType"),this.deviceProfileSelect=this.getElement("deviceProfile"),this.appSelect=this.getElement("app"),this.referenceSpaceSelect=this.getElement("referenceSpace"),this.xrOffsetXInput=this.getElement("xrOffsetX"),this.xrOffsetYInput=this.getElement("xrOffsetY"),this.xrOffsetZInput=this.getElement("xrOffsetZ"),this.controlPanelPositionSelect=this.getElement("controlPanelPosition"),this.proxyDefaultText=this.getElement("proxyDefaultText"),this.deviceProfileWarning=this.getElement("deviceProfileWarning"),this.errorMessageBox=this.getElement("errorMessageBox"),this.errorMessageText=this.getElement("errorMessageText"),this.certAcceptanceLink=this.getElement("certAcceptanceLink"),this.certLink=this.getElement("certLink"),this.mediaAddressInput=this.getElement("mediaAddress"),this.mediaPortInput=this.getElement("mediaPort"),this.controllerModelVisibilitySelect=this.getElement("controllerModelVisibility")}getElement(e){const t=document.getElementById(e);if(!t)throw new Error(`Element with id '${e}' not found`);return t}getDefaultConfiguration(){const e="undefined"!=typeof window&&"https:"===window.location.protocol;return{serverIP:"127.0.0.1",port:e?48322:49100,useSecureConnection:e,perEyeWidth:2048,perEyeHeight:1792,deviceFrameRate:90,maxStreamingBitrateMbps:150,codec:"av1",immersiveMode:"ar",deviceProfileId:"custom",app:"generic",serverType:"manual",proxyUrl:"",referenceSpaceType:"auto",controlPanelPosition:"center",enablePoseSmoothing:!0,posePredictionFactor:1,enableTexSubImage2D:!1,useQuestColorWorkaround:!1,hideControllerModel:!1}}setupLocalStorage(){(0,s.enableLocalStorage)(this.serverTypeSelect,"serverType"),(0,s.enableLocalStorage)(this.serverIpInput,"serverIp"),(0,s.enableLocalStorage)(this.portInput,"port"),(0,s.enableLocalStorage)(this.perEyeWidthInput,"perEyeWidth"),(0,s.enableLocalStorage)(this.perEyeHeightInput,"perEyeHeight"),(0,s.enableLocalStorage)(this.proxyUrlInput,"proxyUrl"),(0,s.enableLocalStorage)(this.deviceFrameRateSelect,"deviceFrameRate"),(0,s.enableLocalStorage)(this.maxStreamingBitrateMbpsSelect,"maxStreamingBitrateMbps"),(0,s.enableLocalStorage)(this.codecSelect,"codec"),(0,s.enableLocalStorage)(this.enablePoseSmoothingSelect,"enablePoseSmoothing"),(0,s.enableLocalStorage)(this.posePredictionFactorInput,"posePredictionFactor"),(0,s.enableLocalStorage)(this.enableTexSubImage2DSelect,"enableTexSubImage2D"),(0,s.enableLocalStorage)(this.useQuestColorWorkaroundSelect,"useQuestColorWorkaround"),(0,s.enableLocalStorage)(this.immersiveSelect,"immersiveMode"),(0,s.enableLocalStorage)(this.deviceProfileSelect,"deviceProfile"),(0,s.enableLocalStorage)(this.appSelect,"app"),(0,s.enableLocalStorage)(this.referenceSpaceSelect,"referenceSpace"),(0,s.enableLocalStorage)(this.xrOffsetXInput,"xrOffsetX"),(0,s.enableLocalStorage)(this.xrOffsetYInput,"xrOffsetY"),(0,s.enableLocalStorage)(this.xrOffsetZInput,"xrOffsetZ"),(0,s.enableLocalStorage)(this.controlPanelPositionSelect,"controlPanelPosition"),(0,s.enableLocalStorage)(this.mediaAddressInput,"mediaAddress"),(0,s.enableLocalStorage)(this.mediaPortInput,"mediaPort"),(0,s.enableLocalStorage)(this.controllerModelVisibilitySelect,"controllerModelVisibility")}setupProxyConfiguration(){"https:"===window.location.protocol?this.portInput.placeholder="Port (default: 48322, or 443 if proxy URL set)":this.portInput.placeholder="Port (default: 49100)","https:"===window.location.protocol?(this.proxyDefaultText.textContent="Optional: Leave empty for direct WSS connection, or provide URL for proxy routing (e.g., https://proxy.example.com/)",this.proxyUrlInput.placeholder=""):(this.proxyDefaultText.textContent="Not needed for HTTP - uses direct WS connection",this.proxyUrlInput.placeholder="")}setupEventListeners(){const e=()=>this.updateConfiguration(),t=()=>{this.setProfileToCustomIfNeeded(),e()},n=(e,t,n)=>{e.addEventListener(t,n),this.eventListeners.push({element:e,event:t,handler:n})};n(this.serverTypeSelect,"change",e),n(this.serverIpInput,"input",e),n(this.serverIpInput,"change",e),n(this.portInput,"input",e),n(this.portInput,"change",e),n(this.perEyeWidthInput,"input",t),n(this.perEyeWidthInput,"change",t),n(this.perEyeHeightInput,"input",t),n(this.perEyeHeightInput,"change",t),n(this.deviceFrameRateSelect,"change",t),n(this.maxStreamingBitrateMbpsSelect,"change",t),n(this.codecSelect,"change",t),n(this.enablePoseSmoothingSelect,"change",t),n(this.posePredictionFactorInput,"change",t),n(this.posePredictionFactorInput,"input",()=>{this.setProfileToCustomIfNeeded(),this.posePredictionFactorValue.textContent=this.posePredictionFactorInput.value,this.updateConfiguration()}),n(this.enableTexSubImage2DSelect,"change",t),n(this.useQuestColorWorkaroundSelect,"change",t),n(this.immersiveSelect,"change",e),n(this.appSelect,"change",e),n(this.referenceSpaceSelect,"change",e),n(this.xrOffsetXInput,"input",e),n(this.xrOffsetXInput,"change",e),n(this.xrOffsetYInput,"input",e),n(this.xrOffsetYInput,"change",e),n(this.xrOffsetZInput,"input",e),n(this.xrOffsetZInput,"change",e),n(this.controlPanelPositionSelect,"change",e),n(this.proxyUrlInput,"input",e),n(this.proxyUrlInput,"change",e),n(this.mediaAddressInput,"input",e),n(this.mediaAddressInput,"change",e),n(this.mediaPortInput,"input",e),n(this.mediaPortInput,"change",e),n(this.controllerModelVisibilitySelect,"change",e),n(this.deviceProfileSelect,"change",()=>{this.applyDeviceProfileToForm((0,i.resolveDeviceProfileId)(this.deviceProfileSelect.value)),this.persistProfileFieldsToLocalStorage(),this.updateConfiguration()}),this.certLinkCleanup=(0,s.setupCertificateAcceptanceLink)(this.serverIpInput,this.portInput,this.proxyUrlInput,this.certAcceptanceLink,this.certLink)}updateConfiguration(){const e=this.getDefaultConfiguration().useSecureConnection,t=parseInt(this.portInput.value),n=this.proxyUrlInput.value.trim().length>0;let s=49100;e&&(s=n?443:48322);const a={serverIP:this.serverIpInput.value||this.getDefaultConfiguration().serverIP,port:t||s,useSecureConnection:e,perEyeWidth:parseInt(this.perEyeWidthInput.value)||this.getDefaultConfiguration().perEyeWidth,perEyeHeight:parseInt(this.perEyeHeightInput.value)||this.getDefaultConfiguration().perEyeHeight,deviceFrameRate:parseInt(this.deviceFrameRateSelect.value)||this.getDefaultConfiguration().deviceFrameRate,maxStreamingBitrateMbps:parseInt(this.maxStreamingBitrateMbpsSelect.value)||this.getDefaultConfiguration().maxStreamingBitrateMbps,codec:this.codecSelect.value||this.getDefaultConfiguration().codec,immersiveMode:this.immersiveSelect.value||this.getDefaultConfiguration().immersiveMode,deviceProfileId:(0,i.resolveDeviceProfileId)(this.deviceProfileSelect.value),app:this.appSelect.value||this.getDefaultConfiguration().app,serverType:this.serverTypeSelect.value||this.getDefaultConfiguration().serverType,proxyUrl:this.proxyUrlInput.value||this.getDefaultConfiguration().proxyUrl,referenceSpaceType:this.referenceSpaceSelect.value||this.getDefaultConfiguration().referenceSpaceType,enablePoseSmoothing:"true"===this.enablePoseSmoothingSelect.value,posePredictionFactor:parseFloat(this.posePredictionFactorInput.value),enableTexSubImage2D:"true"===this.enableTexSubImage2DSelect.value,useQuestColorWorkaround:"true"===this.useQuestColorWorkaroundSelect.value,xrOffsetX:(()=>{const e=parseFloat(this.xrOffsetXInput.value);return Number.isFinite(e)?e/100:0})(),xrOffsetY:(()=>{const e=parseFloat(this.xrOffsetYInput.value);return Number.isFinite(e)?e/100:0})(),xrOffsetZ:(()=>{const e=parseFloat(this.xrOffsetZInput.value);return Number.isFinite(e)?e/100:0})(),controlPanelPosition:(0,r.parseControlPanelPosition)(this.controlPanelPositionSelect.value,this.getDefaultConfiguration().controlPanelPosition??"center"),mediaAddress:this.mediaAddressInput.value.trim()||void 0,mediaPort:(()=>{const e=parseInt(this.mediaPortInput.value,10);return isNaN(e)?void 0:e})(),hideControllerModel:"hide"===this.controllerModelVisibilitySelect.value};this.currentConfiguration=a,this.onConfigurationChange&&this.onConfigurationChange(a)}applyDeviceProfileToForm(e){const t=(0,i.getDeviceProfile)(e).cloudxr;if(this.updateDeviceProfileWarning(e),t&&"custom"!==e){if(void 0!==t.perEyeWidth&&(this.perEyeWidthInput.value=String(t.perEyeWidth)),void 0!==t.perEyeHeight&&(this.perEyeHeightInput.value=String(t.perEyeHeight)),void 0!==t.deviceFrameRate&&(0,s.setSelectValueIfAvailable)(this.deviceFrameRateSelect,String(t.deviceFrameRate)),void 0!==t.maxStreamingBitrateKbps){const e=Math.round(t.maxStreamingBitrateKbps/1e3);(0,s.setSelectValueIfAvailable)(this.maxStreamingBitrateMbpsSelect,String(e))}t.codec&&(0,s.setSelectValueIfAvailable)(this.codecSelect,t.codec),void 0!==t.enablePoseSmoothing&&(this.enablePoseSmoothingSelect.value=String(t.enablePoseSmoothing)),void 0!==t.posePredictionFactor&&(this.posePredictionFactorInput.value=String(t.posePredictionFactor),this.posePredictionFactorValue.textContent=this.posePredictionFactorInput.value),void 0!==t.enableTexSubImage2D&&(this.enableTexSubImage2DSelect.value=String(t.enableTexSubImage2D)),void 0!==t.useQuestColorWorkaround&&(this.useQuestColorWorkaroundSelect.value=String(t.useQuestColorWorkaround))}}setProfileToCustomIfNeeded(){if("custom"!==this.deviceProfileSelect.value){this.deviceProfileSelect.value="custom",this.updateDeviceProfileWarning("custom");try{localStorage.setItem("deviceProfile","custom")}catch(e){}}}persistProfileFieldsToLocalStorage(){try{localStorage.setItem("perEyeWidth",this.perEyeWidthInput.value),localStorage.setItem("perEyeHeight",this.perEyeHeightInput.value),localStorage.setItem("deviceFrameRate",this.deviceFrameRateSelect.value),localStorage.setItem("maxStreamingBitrateMbps",this.maxStreamingBitrateMbpsSelect.value),localStorage.setItem("codec",this.codecSelect.value),localStorage.setItem("enablePoseSmoothing",this.enablePoseSmoothingSelect.value),localStorage.setItem("posePredictionFactor",this.posePredictionFactorInput.value),localStorage.setItem("enableTexSubImage2D",this.enableTexSubImage2DSelect.value),localStorage.setItem("useQuestColorWorkaround",this.useQuestColorWorkaroundSelect.value)}catch(e){console.warn("Failed to persist profile fields to localStorage:",e)}}updateDeviceProfileWarning(e){if(!this.deviceProfileWarning)return;const t=(0,i.getDeviceProfile)(e),n=!0===t.connection?.httpsRequired,r="http:"===window.location.protocol;n&&r?(this.deviceProfileWarning.textContent="This device requires HTTPS mode.",this.deviceProfileWarning.style.display="block"):(this.deviceProfileWarning.style.display="none",this.deviceProfileWarning.textContent="")}getConfiguration(){return{...this.currentConfiguration}}setStartButtonState(e,t){this.startButton&&(this.startButton.disabled=e,this.startButton.innerHTML=t)}setupConnectButtonHandler(e,t){this.startButton&&(this.handleConnectClick&&this.startButton.removeEventListener("click",this.handleConnectClick),this.handleConnectClick=async()=>{this.setStartButtonState(!0,"CONNECT (starting XR session...)");try{await e()}catch(e){this.setStartButtonState(!1,"CONNECT"),t(e)}},this.startButton.addEventListener("click",this.handleConnectClick))}showStatus(e,t){this.errorMessageText&&this.errorMessageBox&&(this.errorMessageText.textContent=e,this.errorMessageBox.className=`error-message-box show ${t}`),console["error"===t?"error":"info"](e)}showError(e){this.showStatus(e,"error")}hideError(){this.errorMessageBox&&this.errorMessageBox.classList.remove("show")}cleanup(){this.eventListeners.forEach(({element:e,event:t,handler:n})=>{e.removeEventListener(t,n)}),this.eventListeners=[],this.startButton&&this.handleConnectClick&&(this.startButton.removeEventListener("click",this.handleConnectClick),this.handleConnectClick=null),this.certLinkCleanup&&(this.certLinkCleanup(),this.certLinkCleanup=null)}}},5496(e,t,n){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),a=0;a<n.length;a++)"default"!==n[a]&&r(t,e,n[a]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({onStartTeleop:e,onDisconnect:t,onResetTeleop:n,serverAddress:i="127.0.0.1",sessionStatus:r="Disconnected",playLabel:s="Play",playInProgress:a=!1,countdownSeconds:p,onCountdownIncrease:b,onCountdownDecrease:x,countdownDisabled:w=!1,position:I=[1.8,1.75,-1.3],rotation:C=[0,0,0],renderFpsText:T,streamingFpsText:M,poseToRenderText:B}){const R="cxr.isaac.minimizeOnPlay",P=(0,h.useRef)(null),_=(0,h.useRef)(null),[D,N]=(0,h.useState)(()=>{try{return"true"===localStorage.getItem(R)}catch{return!1}});(0,h.useEffect)(()=>{try{localStorage.setItem(R,String(D))}catch(e){}},[D]),(0,h.useEffect)(()=>{P.current&&P.current.position.set(I[0],I[1],I[2])},[I[0],I[1],I[2]]);const L=D&&a;return(0,l.useFrame)((e,t)=>{null!=P.current&&(e.camera.getWorldPosition(m),P.current.getWorldPosition(v),A.setFromUnitVectors(y,m.sub(v).normalize()),g.setFromQuaternion(A,"YXZ"),P.current.rotation.y=(0,f.damp)(P.current.rotation.y,g.y,10,t))}),(0,o.jsx)(c.HandleTarget,{children:(0,o.jsxs)("group",{ref:P,position:I,rotation:C,pointerEventsType:{deny:"grab"},children:[(0,o.jsx)(c.Handle,{handleRef:_,targetRef:P,scale:!1,multitouch:!1,rotate:!1,children:(0,o.jsxs)("mesh",{ref:_,position:[0,L?-.15:-.42,.01],onPointerEnter:()=>{const e=_.current?.material;e&&(e.color.copy(S),e.opacity=.9)},onPointerLeave:()=>{const e=_.current?.material;e&&(e.color.copy(E),e.opacity=.6)},children:[(0,o.jsx)("boxGeometry",{args:[L?.28:1,.05,.02]}),(0,o.jsx)("meshStandardMaterial",{color:"#666666",transparent:!0,opacity:.6,roughness:.5})]})}),(0,o.jsx)(u.Container,{pixelSize:.001,width:L?520:2e3,height:L?320:1400,alignItems:"center",justifyContent:"center",pointerEvents:"auto",padding:L?24:40,sizeX:L?.87:3.33,sizeY:L?.53:2.33,flexDirection:"column",children:L?(0,o.jsxs)(u.Container,{width:"100%",flexDirection:"column",gap:16,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(40, 40, 40, 0.85)",borderRadius:20,padding:24,children:[(0,o.jsx)(d.Button,{onClick:e,variant:"default",width:400,height:80,borderRadius:24,backgroundColor:"rgba(220, 220, 220, 0.9)",hover:{backgroundColor:"rgba(100, 150, 255, 1)",borderColor:"white",borderWidth:2},disabled:a,children:(0,o.jsxs)(u.Container,{flexDirection:"row",alignItems:"center",gap:8,children:["Play"===s&&(0,o.jsx)(u.Image,{src:"./play-circle.svg",width:40,height:40}),(0,o.jsx)(u.Text,{fontSize:36,color:"black",fontWeight:"medium",children:s})]})}),(0,o.jsx)(d.Button,{onClick:n,variant:"default",width:400,height:80,borderRadius:24,backgroundColor:"rgba(220, 220, 220, 0.9)",hover:{backgroundColor:"rgba(100, 150, 255, 1)",borderColor:"white",borderWidth:2},children:(0,o.jsxs)(u.Container,{flexDirection:"row",alignItems:"center",gap:8,children:[(0,o.jsx)(u.Image,{src:"./arrow-uturn-left.svg",width:40,height:40}),(0,o.jsx)(u.Text,{fontSize:36,color:"black",fontWeight:"medium",children:"Reset"})]})})]}):(0,o.jsxs)(u.Container,{width:1900,height:980,backgroundColor:"rgba(40, 40, 40, 0.85)",borderRadius:20,padding:50,paddingLeft:50,paddingRight:50,alignItems:"center",justifyContent:"center",flexDirection:"row",gap:36,children:[(0,o.jsxs)(u.Container,{width:520,flexDirection:"column",gap:24,alignItems:"center",justifyContent:"center",children:[(0,o.jsxs)(u.Container,{width:"100%",flexDirection:"column",gap:20,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(20, 20, 20, 0.6)",borderRadius:20,padding:36,children:[(0,o.jsx)(u.Text,{fontSize:52,fontWeight:"bold",color:"white",textAlign:"center",marginBottom:4,children:"Performance"}),(0,o.jsxs)(u.Container,{flexDirection:"column",gap:14,alignItems:"stretch",justifyContent:"center",width:"100%",children:[(0,o.jsxs)(u.Container,{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:12,paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(u.Text,{fontSize:26,color:"rgba(180, 180, 180, 1)",textAlign:"center",marginBottom:12,children:"Render FPS"}),(0,o.jsx)(u.Container,{width:200,alignItems:"center",justifyContent:"center",children:(0,o.jsx)(u.Text,{fontSize:40,color:"rgba(100, 255, 100, 1)",textAlign:"center",fontWeight:"bold",children:T})})]}),(0,o.jsxs)(u.Container,{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:12,paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(u.Text,{fontSize:26,color:"rgba(180, 180, 180, 1)",textAlign:"center",marginBottom:12,children:"Streaming FPS"}),(0,o.jsx)(u.Container,{width:200,alignItems:"center",justifyContent:"center",children:(0,o.jsx)(u.Text,{fontSize:40,color:"rgba(100, 200, 255, 1)",textAlign:"center",fontWeight:"bold",children:M})})]}),(0,o.jsxs)(u.Container,{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:12,paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(u.Text,{fontSize:26,color:"rgba(180, 180, 180, 1)",textAlign:"center",marginBottom:12,children:"Pose-to-Render"}),(0,o.jsx)(u.Container,{width:200,alignItems:"center",justifyContent:"center",children:(0,o.jsx)(u.Text,{fontSize:40,color:"rgba(255, 200, 100, 1)",textAlign:"center",fontWeight:"bold",children:B})})]})]})]}),(0,o.jsxs)(u.Container,{flexDirection:"row",alignItems:"center",justifyContent:"center",gap:14,marginTop:20,cursor:"pointer",onClick:()=>N(e=>!e),children:[(0,o.jsx)(u.Container,{width:48,height:48,borderRadius:8,borderWidth:2,borderColor:"rgba(200, 200, 200, 1)",backgroundColor:"rgba(60, 60, 60, 0.8)",alignItems:"center",justifyContent:"center",padding:8,children:D&&(0,o.jsx)(u.Container,{width:"100%",height:"100%",borderRadius:4,backgroundColor:"rgba(100, 255, 100, 0.95)"})}),(0,o.jsx)(u.Text,{fontSize:30,color:"rgba(220, 220, 220, 1)",children:"Minimize on play"})]})]}),(0,o.jsxs)(u.Container,{flexGrow:1,flexDirection:"column",gap:20,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(u.Text,{fontSize:72,fontWeight:"bold",color:"white",textAlign:"center",children:"Controls"}),(0,o.jsxs)(u.Container,{flexDirection:"column",gap:8,alignItems:"center",marginTop:4,marginBottom:4,children:[(0,o.jsxs)(u.Text,{fontSize:38,color:"rgba(200, 200, 200, 1)",textAlign:"center",children:["Server: ",i]}),(0,o.jsxs)(u.Text,{fontSize:38,color:"rgba(200, 200, 200, 1)",textAlign:"center",children:["Status: ",r]})]}),(0,o.jsxs)(u.Container,{flexDirection:"row",gap:16,alignItems:"center",justifyContent:"center",marginTop:12,children:[(0,o.jsx)(u.Text,{fontSize:36,color:"white",children:"Countdown"}),(0,o.jsx)(d.Button,{onClick:x,variant:"default",width:90,height:90,borderRadius:45,backgroundColor:"rgba(220, 220, 220, 0.9)",disabled:w,children:(0,o.jsx)(u.Text,{fontSize:44,color:"black",fontWeight:"bold",children:"-"})}),(0,o.jsx)(u.Container,{width:140,height:90,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:12,children:(0,o.jsxs)(u.Text,{fontSize:48,color:"black",fontWeight:"bold",children:[p,"s"]})}),(0,o.jsx)(d.Button,{onClick:b,variant:"default",width:90,height:90,borderRadius:45,backgroundColor:"rgba(220, 220, 220, 0.9)",disabled:w,children:(0,o.jsx)(u.Text,{fontSize:44,color:"black",fontWeight:"bold",children:"+"})})]}),(0,o.jsxs)(u.Container,{flexDirection:"column",gap:20,alignItems:"center",justifyContent:"center",width:"100%",marginTop:16,children:[(0,o.jsxs)(u.Container,{flexDirection:"row",gap:24,justifyContent:"center",children:[(0,o.jsx)(d.Button,{onClick:e,variant:"default",width:420,height:100,borderRadius:32,backgroundColor:"rgba(220, 220, 220, 0.9)",hover:{backgroundColor:"rgba(100, 150, 255, 1)",borderColor:"white",borderWidth:2},disabled:a,children:(0,o.jsxs)(u.Container,{flexDirection:"row",alignItems:"center",gap:10,children:["Play"===s&&(0,o.jsx)(u.Image,{src:"./play-circle.svg",width:50,height:50}),(0,o.jsx)(u.Text,{fontSize:42,color:"black",fontWeight:"medium",children:s})]})}),(0,o.jsx)(d.Button,{onClick:n,variant:"default",width:420,height:100,borderRadius:32,backgroundColor:"rgba(220, 220, 220, 0.9)",hover:{backgroundColor:"rgba(100, 150, 255, 1)",borderColor:"white",borderWidth:2},children:(0,o.jsxs)(u.Container,{flexDirection:"row",alignItems:"center",gap:10,children:[(0,o.jsx)(u.Image,{src:"./arrow-uturn-left.svg",width:50,height:50}),(0,o.jsx)(u.Text,{fontSize:42,color:"black",fontWeight:"medium",children:"Reset"})]})})]}),(0,o.jsx)(u.Container,{flexDirection:"row",justifyContent:"center",children:(0,o.jsx)(d.Button,{onClick:t,variant:"destructive",width:320,height:90,borderRadius:28,backgroundColor:"rgba(255, 150, 150, 0.9)",hover:{backgroundColor:"rgba(255, 50, 50, 1)",borderColor:"white",borderWidth:2},children:(0,o.jsxs)(u.Container,{flexDirection:"row",alignItems:"center",gap:10,children:[(0,o.jsx)(u.Image,{src:"./arrow-left-start-on-rectangle.svg",width:50,height:50}),(0,o.jsx)(u.Text,{fontSize:38,color:"black",fontWeight:"medium",children:"Disconnect"})]})})})]})]})]})})]})})};const o=n(4848),l=n(5178),c=n(9969),u=n(9985),d=n(7045),h=a(n(6540)),p=n(7186),f=n(8823),g=new p.Euler,A=new p.Quaternion,m=new p.Vector3,v=new p.Vector3,y=new p.Vector3(0,0,1),E=new p.Color("#666666"),S=new p.Color("#aaaaaa")},4879(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4848),s=i(n(6540)),a=i(n(5338)),o=i(n(3566));function l(){const e=document.getElementById("3d-ui");e?a.default.createRoot(e).render((0,r.jsx)(s.default.StrictMode,{children:(0,r.jsx)(o.default,{})})):console.error("3d-ui container not found")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()},8493(e,t,n){"use strict";var i=n(6540),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useState,a=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=s({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return o(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),a(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},2162(e,t,n){"use strict";var i=n(6540),r=n(9888),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,o=i.useRef,l=i.useEffect,c=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=i(e),void 0!==r&&h.hasValue){var t=h.value;if(r(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var n=i(e);return void 0!==r&&r(t,n)?(a=e,t):(a=e,o=n)}var a,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,i,r]);var p=a(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}},9888(e,t,n){"use strict";e.exports=n(8493)},9242(e,t,n){"use strict";e.exports=n(2162)},7186(e,t){"use strict";const n="172",i=0,r=1,s=2,a=100,o=101,l=102,c=200,u=201,d=202,h=203,p=204,f=205,g=206,A=207,m=208,v=209,y=210,E=211,S=212,b=213,x=214,w=0,I=1,C=2,T=3,M=4,B=5,R=6,P=7,_="attached",D="detached",N=300,L=301,O=302,k=303,U=304,F=306,Q=1e3,V=1001,H=1002,G=1003,z=1004,W=1005,X=1006,j=1007,q=1008,Y=1009,J=1010,Z=1011,K=1012,$=1013,ee=1014,te=1015,ne=1016,ie=1017,re=1018,se=1020,ae=35902,oe=1021,le=1022,ce=1023,ue=1024,de=1025,he=1026,pe=1027,fe=1028,ge=1029,Ae=1030,me=1031,ve=1033,ye=33776,Ee=33777,Se=33778,be=33779,xe=35840,we=35841,Ie=35842,Ce=35843,Te=36196,Me=37492,Be=37496,Re=37808,Pe=37809,_e=37810,De=37811,Ne=37812,Le=37813,Oe=37814,ke=37815,Ue=37816,Fe=37817,Qe=37818,Ve=37819,He=37820,Ge=37821,ze=36492,We=36494,Xe=36495,je=36283,qe=36284,Ye=36285,Je=36286,Ze=2300,Ke=2301,$e=2302,et=2400,tt=2401,nt=2402,it=2501,rt="",st="srgb",at="srgb-linear",ot="linear",lt="srgb",ct=7680,ut=512,dt=513,ht=514,pt=515,ft=516,gt=517,At=518,mt=519,vt=35044,yt="300 es",Et=2e3,St=2001;class bt{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e);e.target=null}}}const xt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wt=1234567;const It=Math.PI/180,Ct=180/Math.PI;function Tt(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(xt[255&e]+xt[e>>8&255]+xt[e>>16&255]+xt[e>>24&255]+"-"+xt[255&t]+xt[t>>8&255]+"-"+xt[t>>16&15|64]+xt[t>>24&255]+"-"+xt[63&n|128]+xt[n>>8&255]+"-"+xt[n>>16&255]+xt[n>>24&255]+xt[255&i]+xt[i>>8&255]+xt[i>>16&255]+xt[i>>24&255]).toLowerCase()}function Mt(e,t,n){return Math.max(t,Math.min(n,e))}function Bt(e,t){return(e%t+t)%t}function Rt(e,t,n){return(1-n)*e+n*t}function Pt(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function _t(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Dt={DEG2RAD:It,RAD2DEG:Ct,generateUUID:Tt,clamp:Mt,euclideanModulo:Bt,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Rt,damp:function(e,t,n,i){return Rt(e,t,1-Math.exp(-n*i))},pingpong:function(e,t=1){return t-Math.abs(Bt(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(wt=e);let t=wt+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*It},radToDeg:function(e){return e*Ct},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((t+i)/2),u=a((t+i)/2),d=s((t-i)/2),h=a((t-i)/2),p=s((i-t)/2),f=a((i-t)/2);switch(r){case"XYX":e.set(o*u,l*d,l*h,o*c);break;case"YZY":e.set(l*h,o*u,l*d,o*c);break;case"ZXZ":e.set(l*d,l*h,o*u,o*c);break;case"XZX":e.set(o*u,l*f,l*p,o*c);break;case"YXY":e.set(l*p,o*u,l*f,o*c);break;case"ZYZ":e.set(l*f,l*p,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:_t,denormalize:Pt};class Nt{constructor(e=0,t=0){Nt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Mt(this.x,e.x,t.x),this.y=Mt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Mt(this.x,e,t),this.y=Mt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Mt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Mt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Lt{constructor(e,t,n,i,r,s,a,o,l){Lt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,s,a,o,l)}set(e,t,n,i,r,s,a,o,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=o,c[6]=n,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[3],o=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=i[0],g=i[3],A=i[6],m=i[1],v=i[4],y=i[7],E=i[2],S=i[5],b=i[8];return r[0]=s*f+a*m+o*E,r[3]=s*g+a*v+o*S,r[6]=s*A+a*y+o*b,r[1]=l*f+c*m+u*E,r[4]=l*g+c*v+u*S,r[7]=l*A+c*y+u*b,r[2]=d*f+h*m+p*E,r[5]=d*g+h*v+p*S,r[8]=d*A+h*y+p*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*s*c-t*a*l-n*r*c+n*a*o+i*r*l-i*s*o}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=c*s-a*l,d=a*o-c*r,h=l*r-s*o,p=t*u+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(i*l-c*n)*f,e[2]=(a*n-i*s)*f,e[3]=d*f,e[4]=(c*t-i*o)*f,e[5]=(i*r-a*t)*f,e[6]=h*f,e[7]=(n*o-l*t)*f,e[8]=(s*t-n*r)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,s,a){const o=Math.cos(r),l=Math.sin(r);return this.set(n*o,n*l,-n*(o*s+l*a)+s+e,-i*l,i*o,-i*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ot.makeScale(e,t)),this}rotate(e){return this.premultiply(Ot.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ot.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Ot=new Lt;function kt(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Ut={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ft(e,t){return new Ut[e](t)}function Qt(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Vt(){const e=Qt("canvas");return e.style.display="block",e}const Ht={};function Gt(e){e in Ht||(Ht[e]=!0,console.warn(e))}const zt=(new Lt).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Wt=(new Lt).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Xt(){const e={enabled:!0,workingColorSpace:at,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===lt&&(e.r=qt(e.r),e.g=qt(e.g),e.b=qt(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===lt&&(e.r=Yt(e.r),e.g=Yt(e.g),e.b=Yt(e.b)),e):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===rt?ot:this.spaces[e].transfer},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return e.define({[at]:{primaries:t,whitePoint:i,transfer:ot,toXYZ:zt,fromXYZ:Wt,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:st},outputColorSpaceConfig:{drawingBufferColorSpace:st}},[st]:{primaries:t,whitePoint:i,transfer:lt,toXYZ:zt,fromXYZ:Wt,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:st}}}),e}const jt=Xt();function qt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Yt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let Jt;class Zt{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Jt&&(Jt=Qt("canvas")),Jt.width=e.width,Jt.height=e.height;const n=Jt.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Jt}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Qt("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*qt(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*qt(t[e]/255)):t[e]=qt(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Kt=0;class $t{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Kt++}),this.uuid=Tt(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(en(i[t].image)):e.push(en(i[t]))}else e=en(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function en(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Zt.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let tn=0;class nn extends bt{constructor(e=nn.DEFAULT_IMAGE,t=nn.DEFAULT_MAPPING,n=1001,i=1001,r=1006,s=1008,a=1023,o=1009,l=nn.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tn++}),this.uuid=Tt(),this.name="",this.source=new $t(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new Nt(0,0),this.repeat=new Nt(1,1),this.center=new Nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Lt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==N)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Q:e.x=e.x-Math.floor(e.x);break;case V:e.x=e.x<0?0:1;break;case H:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Q:e.y=e.y-Math.floor(e.y);break;case V:e.y=e.y<0?0:1;break;case H:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}nn.DEFAULT_IMAGE=null,nn.DEFAULT_MAPPING=N,nn.DEFAULT_ANISOTROPY=1;class rn{constructor(e=0,t=0,n=0,i=1){rn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const s=.01,a=.1,o=e.elements,l=o[0],c=o[4],u=o[8],d=o[1],h=o[5],p=o[9],f=o[2],g=o[6],A=o[10];if(Math.abs(c-d)<s&&Math.abs(u-f)<s&&Math.abs(p-g)<s){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+g)<a&&Math.abs(l+h+A-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,o=(h+1)/2,m=(A+1)/2,v=(c+d)/4,y=(u+f)/4,E=(p+g)/4;return e>o&&e>m?e<s?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=v/n,r=y/n):o>m?o<s?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(o),n=v/i,r=E/i):m<s?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(m),n=y/r,i=E/r),this.set(n,i,r,t),this}let m=Math.sqrt((g-p)*(g-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(m)<.001&&(m=1),this.x=(g-p)/m,this.y=(u-f)/m,this.z=(d-c)/m,this.w=Math.acos((l+h+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Mt(this.x,e.x,t.x),this.y=Mt(this.y,e.y,t.y),this.z=Mt(this.z,e.z,t.z),this.w=Mt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Mt(this.x,e,t),this.y=Mt(this.y,e,t),this.z=Mt(this.z,e,t),this.w=Mt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Mt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class sn extends bt{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new rn(0,0,e,t),this.scissorTest=!1,this.viewport=new rn(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:X,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const r=new nn(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);r.flipY=!1,r.generateMipmaps=n.generateMipmaps,r.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let e=0;e<s;e++)this.textures[e]=r.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++)this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new $t(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class an extends sn{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class on extends nn{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=G,this.minFilter=G,this.wrapR=V,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ln extends nn{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=G,this.minFilter=G,this.wrapR=V,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cn{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,s,a){let o=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[s+0],h=r[s+1],p=r[s+2],f=r[s+3];if(0===a)return e[t+0]=o,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||o!==d||l!==h||c!==p){let e=1-a;const t=o*d+l*h+c*p+u*f,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),s=Math.atan2(r,t*n);e=Math.sin(e*s)/r,a=Math.sin(a*s)/r}const r=a*n;if(o=o*e+d*r,l=l*e+h*r,c=c*e+p*r,u=u*e+f*r,e===1-a){const e=1/Math.sqrt(o*o+l*l+c*c+u*u);o*=e,l*=e,c*=e,u*=e}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,s){const a=n[i],o=n[i+1],l=n[i+2],c=n[i+3],u=r[s],d=r[s+1],h=r[s+2],p=r[s+3];return e[t]=a*p+c*u+o*h-l*d,e[t+1]=o*p+c*d+l*u-a*h,e[t+2]=l*p+c*h+a*d-o*u,e[t+3]=c*p-a*u-o*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,r=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(n/2),c=a(i/2),u=a(r/2),d=o(n/2),h=o(i/2),p=o(r/2);switch(s){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],s=t[1],a=t[5],o=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-o)*e,this._y=(r-l)*e,this._z=(s-i)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-o)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(r+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(r-l)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(s-i)/e,this._x=(r+l)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,s=e._w,a=t._x,o=t._y,l=t._z,c=t._w;return this._x=n*c+s*a+i*l-r*o,this._y=i*c+s*o+r*a-n*l,this._z=r*c+s*l+n*o-i*a,this._w=s*c-n*a-i*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,s=this._w;let a=s*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this}const l=Math.sqrt(o),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=s*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class un{constructor(e=0,t=0,n=0){un.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(hn.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(hn.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,a=e.z,o=e.w,l=2*(s*i-a*n),c=2*(a*t-r*i),u=2*(r*n-s*t);return this.x=t+o*l+s*u-a*c,this.y=n+o*c+a*l-r*u,this.z=i+o*u+r*c-s*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Mt(this.x,e.x,t.x),this.y=Mt(this.y,e.y,t.y),this.z=Mt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Mt(this.x,e,t),this.y=Mt(this.y,e,t),this.z=Mt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Mt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=i*o-r*a,this.y=r*s-n*o,this.z=n*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return dn.copy(this).projectOnVector(e),this.sub(dn)}reflect(e){return this.sub(dn.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Mt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dn=new un,hn=new cn;class pn{constructor(e=new un(1/0,1/0,1/0),t=new un(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(gn.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(gn.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=gn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,n=i.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,gn):gn.fromBufferAttribute(i,t),gn.applyMatrix4(e.matrixWorld),this.expandByPoint(gn);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),An.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),An.copy(n.boundingBox)),An.applyMatrix4(e.matrixWorld),this.union(An)}const i=e.children;for(let e=0,n=i.length;e<n;e++)this.expandByObject(i[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,gn),gn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(xn),wn.subVectors(this.max,xn),mn.subVectors(e.a,xn),vn.subVectors(e.b,xn),yn.subVectors(e.c,xn),En.subVectors(vn,mn),Sn.subVectors(yn,vn),bn.subVectors(mn,yn);let t=[0,-En.z,En.y,0,-Sn.z,Sn.y,0,-bn.z,bn.y,En.z,0,-En.x,Sn.z,0,-Sn.x,bn.z,0,-bn.x,-En.y,En.x,0,-Sn.y,Sn.x,0,-bn.y,bn.x,0];return!!Tn(t,mn,vn,yn,wn)&&(t=[1,0,0,0,1,0,0,0,1],!!Tn(t,mn,vn,yn,wn)&&(In.crossVectors(En,Sn),t=[In.x,In.y,In.z],Tn(t,mn,vn,yn,wn)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,gn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(gn).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(fn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fn)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fn=[new un,new un,new un,new un,new un,new un,new un,new un],gn=new un,An=new pn,mn=new un,vn=new un,yn=new un,En=new un,Sn=new un,bn=new un,xn=new un,wn=new un,In=new un,Cn=new un;function Tn(e,t,n,i,r){for(let s=0,a=e.length-3;s<=a;s+=3){Cn.fromArray(e,s);const a=r.x*Math.abs(Cn.x)+r.y*Math.abs(Cn.y)+r.z*Math.abs(Cn.z),o=t.dot(Cn),l=n.dot(Cn),c=i.dot(Cn);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>a)return!1}return!0}const Mn=new pn,Bn=new un,Rn=new un;class Pn{constructor(e=new un,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Mn.setFromPoints(e).getCenter(n);let i=0;for(let t=0,r=e.length;t<r;t++)i=Math.max(i,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Bn.subVectors(e,this.center);const t=Bn.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Bn,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Rn.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Bn.copy(e.center).add(Rn)),this.expandByPoint(Bn.copy(e.center).sub(Rn))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const _n=new un,Dn=new un,Nn=new un,Ln=new un,On=new un,kn=new un,Un=new un;class Fn{constructor(e=new un,t=new un(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_n)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_n.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_n.copy(this.origin).addScaledVector(this.direction,t),_n.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Dn.copy(e).add(t).multiplyScalar(.5),Nn.copy(t).sub(e).normalize(),Ln.copy(this.origin).sub(Dn);const r=.5*e.distanceTo(t),s=-this.direction.dot(Nn),a=Ln.dot(this.direction),o=-Ln.dot(Nn),l=Ln.lengthSq(),c=Math.abs(1-s*s);let u,d,h,p;if(c>0)if(u=s*o-a,d=s*a-o,p=r*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+s*d+2*a)+d*(s*u+d+2*o)+l}else d=r,u=Math.max(0,-(s*d+a)),h=-u*u+d*(d+2*o)+l;else d=-r,u=Math.max(0,-(s*d+a)),h=-u*u+d*(d+2*o)+l;else d<=-p?(u=Math.max(0,-(-s*r+a)),d=u>0?-r:Math.min(Math.max(-r,-o),r),h=-u*u+d*(d+2*o)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-o),r),h=d*(d+2*o)+l):(u=Math.max(0,-(s*r+a)),d=u>0?r:Math.min(Math.max(-r,-o),r),h=-u*u+d*(d+2*o)+l);else d=s>0?-r:r,u=Math.max(0,-(s*d+a)),h=-u*u+d*(d+2*o)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(Dn).addScaledVector(Nn,d),h}intersectSphere(e,t){_n.subVectors(e.center,this.origin);const n=_n.dot(this.direction),i=_n.dot(_n)-n*n,r=e.radius*e.radius;if(i>r)return null;const s=Math.sqrt(r-i),a=n-s,o=n+s;return o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,s,a,o;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),n>s||r>i?null:((r>n||isNaN(n))&&(n=r),(s<i||isNaN(i))&&(i=s),u>=0?(a=(e.min.z-d.z)*u,o=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,o=(e.min.z-d.z)*u),n>o||a>i?null:((a>n||n!=n)&&(n=a),(o<i||i!=i)&&(i=o),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,_n)}intersectTriangle(e,t,n,i,r){On.subVectors(t,e),kn.subVectors(n,e),Un.crossVectors(On,kn);let s,a=this.direction.dot(Un);if(a>0){if(i)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}Ln.subVectors(this.origin,e);const o=s*this.direction.dot(kn.crossVectors(Ln,kn));if(o<0)return null;const l=s*this.direction.dot(On.cross(Ln));if(l<0)return null;if(o+l>a)return null;const c=-s*Ln.dot(Un);return c<0?null:this.at(c/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Qn{constructor(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g){Qn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g)}set(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g){const A=this.elements;return A[0]=e,A[4]=t,A[8]=n,A[12]=i,A[1]=r,A[5]=s,A[9]=a,A[13]=o,A[2]=l,A[6]=c,A[10]=u,A[14]=d,A[3]=h,A[7]=p,A[11]=f,A[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Qn).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Vn.setFromMatrixColumn(e,0).length(),r=1/Vn.setFromMatrixColumn(e,1).length(),s=1/Vn.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=s*c,n=s*u,i=a*c,r=a*u;t[0]=o*c,t[4]=-o*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-a*o,t[2]=r-e*l,t[6]=i+n*l,t[10]=s*o}else if("YXZ"===e.order){const e=o*c,n=o*u,i=l*c,r=l*u;t[0]=e+r*a,t[4]=i*a-n,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-a,t[2]=n*a-i,t[6]=r+e*a,t[10]=s*o}else if("ZXY"===e.order){const e=o*c,n=o*u,i=l*c,r=l*u;t[0]=e-r*a,t[4]=-s*u,t[8]=i+n*a,t[1]=n+i*a,t[5]=s*c,t[9]=r-e*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){const e=s*c,n=s*u,i=a*c,r=a*u;t[0]=o*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=o*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){const e=s*o,n=s*l,i=a*o,r=a*l;t[0]=o*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=s*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=s*o,n=s*l,i=a*o,r=a*l;t[0]=o*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=s*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=a*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Gn,e,zn)}lookAt(e,t,n){const i=this.elements;return jn.subVectors(e,t),0===jn.lengthSq()&&(jn.z=1),jn.normalize(),Wn.crossVectors(n,jn),0===Wn.lengthSq()&&(1===Math.abs(n.z)?jn.x+=1e-4:jn.z+=1e-4,jn.normalize(),Wn.crossVectors(n,jn)),Wn.normalize(),Xn.crossVectors(jn,Wn),i[0]=Wn.x,i[4]=Xn.x,i[8]=jn.x,i[1]=Wn.y,i[5]=Xn.y,i[9]=jn.y,i[2]=Wn.z,i[6]=Xn.z,i[10]=jn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[4],o=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],g=n[10],A=n[14],m=n[3],v=n[7],y=n[11],E=n[15],S=i[0],b=i[4],x=i[8],w=i[12],I=i[1],C=i[5],T=i[9],M=i[13],B=i[2],R=i[6],P=i[10],_=i[14],D=i[3],N=i[7],L=i[11],O=i[15];return r[0]=s*S+a*I+o*B+l*D,r[4]=s*b+a*C+o*R+l*N,r[8]=s*x+a*T+o*P+l*L,r[12]=s*w+a*M+o*_+l*O,r[1]=c*S+u*I+d*B+h*D,r[5]=c*b+u*C+d*R+h*N,r[9]=c*x+u*T+d*P+h*L,r[13]=c*w+u*M+d*_+h*O,r[2]=p*S+f*I+g*B+A*D,r[6]=p*b+f*C+g*R+A*N,r[10]=p*x+f*T+g*P+A*L,r[14]=p*w+f*M+g*_+A*O,r[3]=m*S+v*I+y*B+E*D,r[7]=m*b+v*C+y*R+E*N,r[11]=m*x+v*T+y*P+E*L,r[15]=m*w+v*M+y*_+E*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],a=e[5],o=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+r*o*u-i*l*u-r*a*d+n*l*d+i*a*h-n*o*h)+e[7]*(+t*o*h-t*l*d+r*s*d-i*s*h+i*l*c-r*o*c)+e[11]*(+t*l*u-t*a*h-r*s*u+n*s*h+r*a*c-n*l*c)+e[15]*(-i*a*c-t*o*u+t*a*d+i*s*u-n*s*d+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],g=e[14],A=e[15],m=u*g*l-f*d*l+f*o*h-a*g*h-u*o*A+a*d*A,v=p*d*l-c*g*l-p*o*h+s*g*h+c*o*A-s*d*A,y=c*f*l-p*u*l+p*a*h-s*f*h-c*a*A+s*u*A,E=p*u*o-c*f*o-p*a*d+s*f*d+c*a*g-s*u*g,S=t*m+n*v+i*y+r*E;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/S;return e[0]=m*b,e[1]=(f*d*r-u*g*r-f*i*h+n*g*h+u*i*A-n*d*A)*b,e[2]=(a*g*r-f*o*r+f*i*l-n*g*l-a*i*A+n*o*A)*b,e[3]=(u*o*r-a*d*r-u*i*l+n*d*l+a*i*h-n*o*h)*b,e[4]=v*b,e[5]=(c*g*r-p*d*r+p*i*h-t*g*h-c*i*A+t*d*A)*b,e[6]=(p*o*r-s*g*r-p*i*l+t*g*l+s*i*A-t*o*A)*b,e[7]=(s*d*r-c*o*r+c*i*l-t*d*l-s*i*h+t*o*h)*b,e[8]=y*b,e[9]=(p*u*r-c*f*r-p*n*h+t*f*h+c*n*A-t*u*A)*b,e[10]=(s*f*r-p*a*r+p*n*l-t*f*l-s*n*A+t*a*A)*b,e[11]=(c*a*r-s*u*r-c*n*l+t*u*l+s*n*h-t*a*h)*b,e[12]=E*b,e[13]=(c*f*i-p*u*i+p*n*d-t*f*d-c*n*g+t*u*g)*b,e[14]=(p*a*i-s*f*i-p*n*o+t*f*o+s*n*g-t*a*g)*b,e[15]=(s*u*i-c*a*i+c*n*o-t*u*o-s*n*d+t*a*d)*b,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,a=e.y,o=e.z,l=r*s,c=r*a;return this.set(l*s+n,l*a-i*o,l*o+i*a,0,l*a+i*o,c*a+n,c*o-i*s,0,l*o-i*a,c*o+i*s,r*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,s){return this.set(1,n,r,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,s=t._y,a=t._z,o=t._w,l=r+r,c=s+s,u=a+a,d=r*l,h=r*c,p=r*u,f=s*c,g=s*u,A=a*u,m=o*l,v=o*c,y=o*u,E=n.x,S=n.y,b=n.z;return i[0]=(1-(f+A))*E,i[1]=(h+y)*E,i[2]=(p-v)*E,i[3]=0,i[4]=(h-y)*S,i[5]=(1-(d+A))*S,i[6]=(g+m)*S,i[7]=0,i[8]=(p+v)*b,i[9]=(g-m)*b,i[10]=(1-(d+f))*b,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=Vn.set(i[0],i[1],i[2]).length();const s=Vn.set(i[4],i[5],i[6]).length(),a=Vn.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Hn.copy(this);const o=1/r,l=1/s,c=1/a;return Hn.elements[0]*=o,Hn.elements[1]*=o,Hn.elements[2]*=o,Hn.elements[4]*=l,Hn.elements[5]*=l,Hn.elements[6]*=l,Hn.elements[8]*=c,Hn.elements[9]*=c,Hn.elements[10]*=c,t.setFromRotationMatrix(Hn),n.x=r,n.y=s,n.z=a,this}makePerspective(e,t,n,i,r,s,a=2e3){const o=this.elements,l=2*r/(t-e),c=2*r/(n-i),u=(t+e)/(t-e),d=(n+i)/(n-i);let h,p;if(a===Et)h=-(s+r)/(s-r),p=-2*s*r/(s-r);else{if(a!==St)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-s/(s-r),p=-s*r/(s-r)}return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,i,r,s,a=2e3){const o=this.elements,l=1/(t-e),c=1/(n-i),u=1/(s-r),d=(t+e)*l,h=(n+i)*c;let p,f;if(a===Et)p=(s+r)*u,f=-2*u;else{if(a!==St)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=r*u,f=-1*u}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=f,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Vn=new un,Hn=new Qn,Gn=new un(0,0,0),zn=new un(1,1,1),Wn=new un,Xn=new un,jn=new un,qn=new Qn,Yn=new cn;class Jn{constructor(e=0,t=0,n=0,i=Jn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],s=i[4],a=i[8],o=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Mt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Mt(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Mt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-Mt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(Mt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Mt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return qn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qn,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Yn.setFromEuler(this),this.setFromQuaternion(Yn,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Jn.DEFAULT_ORDER="XYZ";class Zn{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Kn=0;const $n=new un,ei=new cn,ti=new Qn,ni=new un,ii=new un,ri=new un,si=new cn,ai=new un(1,0,0),oi=new un(0,1,0),li=new un(0,0,1),ci={type:"added"},ui={type:"removed"},di={type:"childadded",child:null},hi={type:"childremoved",child:null};class pi extends bt{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Kn++}),this.uuid=Tt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pi.DEFAULT_UP.clone();const e=new un,t=new Jn,n=new cn,i=new un(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Qn},normalMatrix:{value:new Lt}}),this.matrix=new Qn,this.matrixWorld=new Qn,this.matrixAutoUpdate=pi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=pi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ei.setFromAxisAngle(e,t),this.quaternion.multiply(ei),this}rotateOnWorldAxis(e,t){return ei.setFromAxisAngle(e,t),this.quaternion.premultiply(ei),this}rotateX(e){return this.rotateOnAxis(ai,e)}rotateY(e){return this.rotateOnAxis(oi,e)}rotateZ(e){return this.rotateOnAxis(li,e)}translateOnAxis(e,t){return $n.copy(e).applyQuaternion(this.quaternion),this.position.add($n.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ai,e)}translateY(e){return this.translateOnAxis(oi,e)}translateZ(e){return this.translateOnAxis(li,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ti.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?ni.copy(e):ni.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),ii.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ti.lookAt(ii,ni,this.up):ti.lookAt(ni,ii,this.up),this.quaternion.setFromRotationMatrix(ti),i&&(ti.extractRotation(i.matrixWorld),ei.setFromRotationMatrix(ti),this.quaternion.premultiply(ei.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ci),di.child=e,this.dispatchEvent(di),di.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ui),hi.child=e,this.dispatchEvent(hi),hi.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ti.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ti.multiply(e.parent.matrixWorld)),e.applyMatrix4(ti),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ci),di.child=e,this.dispatchEvent(di),di.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ii,e,ri),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ii,si,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),null!==this.boundingBox&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=s(e.geometries),i=s(e.materials),r=s(e.textures),a=s(e.images),o=s(e.shapes),l=s(e.skeletons),c=s(e.animations),u=s(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),a.length>0&&(n.images=a),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function s(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}pi.DEFAULT_UP=new un(0,1,0),pi.DEFAULT_MATRIX_AUTO_UPDATE=!0,pi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fi=new un,gi=new un,Ai=new un,mi=new un,vi=new un,yi=new un,Ei=new un,Si=new un,bi=new un,xi=new un,wi=new rn,Ii=new rn,Ci=new rn;class Ti{constructor(e=new un,t=new un,n=new un){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),fi.subVectors(e,t),i.cross(fi);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){fi.subVectors(i,t),gi.subVectors(n,t),Ai.subVectors(e,t);const s=fi.dot(fi),a=fi.dot(gi),o=fi.dot(Ai),l=gi.dot(gi),c=gi.dot(Ai),u=s*l-a*a;if(0===u)return r.set(0,0,0),null;const d=1/u,h=(l*o-a*c)*d,p=(s*c-a*o)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return null!==this.getBarycoord(e,t,n,i,mi)&&mi.x>=0&&mi.y>=0&&mi.x+mi.y<=1}static getInterpolation(e,t,n,i,r,s,a,o){return null===this.getBarycoord(e,t,n,i,mi)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(r,mi.x),o.addScaledVector(s,mi.y),o.addScaledVector(a,mi.z),o)}static getInterpolatedAttribute(e,t,n,i,r,s){return wi.setScalar(0),Ii.setScalar(0),Ci.setScalar(0),wi.fromBufferAttribute(e,t),Ii.fromBufferAttribute(e,n),Ci.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(wi,r.x),s.addScaledVector(Ii,r.y),s.addScaledVector(Ci,r.z),s}static isFrontFacing(e,t,n,i){return fi.subVectors(n,t),gi.subVectors(e,t),fi.cross(gi).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fi.subVectors(this.c,this.b),gi.subVectors(this.a,this.b),.5*fi.cross(gi).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ti.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ti.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return Ti.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Ti.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ti.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let s,a;vi.subVectors(i,n),yi.subVectors(r,n),Si.subVectors(e,n);const o=vi.dot(Si),l=yi.dot(Si);if(o<=0&&l<=0)return t.copy(n);bi.subVectors(e,i);const c=vi.dot(bi),u=yi.dot(bi);if(c>=0&&u<=c)return t.copy(i);const d=o*u-c*l;if(d<=0&&o>=0&&c<=0)return s=o/(o-c),t.copy(n).addScaledVector(vi,s);xi.subVectors(e,r);const h=vi.dot(xi),p=yi.dot(xi);if(p>=0&&h<=p)return t.copy(r);const f=h*l-o*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(yi,a);const g=c*p-h*u;if(g<=0&&u-c>=0&&h-p>=0)return Ei.subVectors(r,i),a=(u-c)/(u-c+(h-p)),t.copy(i).addScaledVector(Ei,a);const A=1/(g+f+d);return s=f*A,a=d*A,t.copy(n).addScaledVector(vi,s).addScaledVector(yi,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Mi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bi={h:0,s:0,l:0},Ri={h:0,s:0,l:0};function Pi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class _i{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=st){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,jt.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=jt.workingColorSpace){return this.r=e,this.g=t,this.b=n,jt.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=jt.workingColorSpace){if(e=Bt(e,1),t=Mt(t,0,1),n=Mt(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Pi(r,i,e+1/3),this.g=Pi(r,i,e),this.b=Pi(r,i,e-1/3)}return jt.toWorkingColorSpace(this,i),this}setStyle(e,t=st){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=i[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(6===r)return this.setHex(parseInt(n,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=st){const n=Mi[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qt(e.r),this.g=qt(e.g),this.b=qt(e.b),this}copyLinearToSRGB(e){return this.r=Yt(e.r),this.g=Yt(e.g),this.b=Yt(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=st){return jt.fromWorkingColorSpace(Di.copy(this),e),65536*Math.round(Mt(255*Di.r,0,255))+256*Math.round(Mt(255*Di.g,0,255))+Math.round(Mt(255*Di.b,0,255))}getHexString(e=st){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=jt.workingColorSpace){jt.fromWorkingColorSpace(Di.copy(this),t);const n=Di.r,i=Di.g,r=Di.b,s=Math.max(n,i,r),a=Math.min(n,i,r);let o,l;const c=(a+s)/2;if(a===s)o=0,l=0;else{const e=s-a;switch(l=c<=.5?e/(s+a):e/(2-s-a),s){case n:o=(i-r)/e+(i<r?6:0);break;case i:o=(r-n)/e+2;break;case r:o=(n-i)/e+4}o/=6}return e.h=o,e.s=l,e.l=c,e}getRGB(e,t=jt.workingColorSpace){return jt.fromWorkingColorSpace(Di.copy(this),t),e.r=Di.r,e.g=Di.g,e.b=Di.b,e}getStyle(e=st){jt.fromWorkingColorSpace(Di.copy(this),e);const t=Di.r,n=Di.g,i=Di.b;return e!==st?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(e,t,n){return this.getHSL(Bi),this.setHSL(Bi.h+e,Bi.s+t,Bi.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Bi),e.getHSL(Ri);const n=Rt(Bi.h,Ri.h,t),i=Rt(Bi.s,Ri.s,t),r=Rt(Bi.l,Ri.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Di=new _i;_i.NAMES=Mi;let Ni=0;class Li extends bt{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ni++}),this.uuid=Tt(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=p,this.blendDst=f,this.blendEquation=a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new _i(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ct,this.stencilZFail=ct,this.stencilZPass=ct,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==p&&(n.blendSrc=this.blendSrc),this.blendDst!==f&&(n.blendDst=this.blendDst),this.blendEquation!==a&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ct&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ct&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ct&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Oi extends Li{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _i(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ki=Ui();function Ui(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(i[e]=0,i[256|e]=32768,r[e]=24,r[256|e]=24):t<-14?(i[e]=1024>>-t-14,i[256|e]=1024>>-t-14|32768,r[e]=-t-1,r[256|e]=-t-1):t<=15?(i[e]=t+15<<10,i[256|e]=t+15<<10|32768,r[e]=13,r[256|e]=13):t<128?(i[e]=31744,i[256|e]=64512,r[e]=24,r[256|e]=24):(i[e]=31744,i[256|e]=64512,r[e]=13,r[256|e]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;!(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,s[e]=t|n}for(let e=1024;e<2048;++e)s[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)a[e]=e<<23;a[31]=1199570944,a[32]=2147483648;for(let e=33;e<63;++e)a[e]=2147483648+(e-32<<23);a[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(o[e]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Fi(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Mt(e,-65504,65504),ki.floatView[0]=e;const t=ki.uint32View[0],n=t>>23&511;return ki.baseTable[n]+((8388607&t)>>ki.shiftTable[n])}function Qi(e){const t=e>>10;return ki.uint32View[0]=ki.mantissaTable[ki.offsetTable[t]+(1023&e)]+ki.exponentTable[t],ki.floatView[0]}const Vi={toHalfFloat:Fi,fromHalfFloat:Qi},Hi=new un,Gi=new Nt;class zi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=vt,this.updateRanges=[],this.gpuType=te,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Gi.fromBufferAttribute(this,t),Gi.applyMatrix3(e),this.setXY(t,Gi.x,Gi.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.applyMatrix3(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.applyMatrix4(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.applyNormalMatrix(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.transformDirection(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Pt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Pt(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Pt(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Pt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Pt(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array),i=_t(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==vt&&(e.usage=this.usage),e}}class Wi extends zi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Xi extends zi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class ji extends zi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let qi=0;const Yi=new Qn,Ji=new pi,Zi=new un,Ki=new pn,$i=new pn,er=new un;class tr extends bt{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:qi++}),this.uuid=Tt(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kt(e)?Xi:Wi)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Lt).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yi.makeRotationFromQuaternion(e),this.applyMatrix4(Yi),this}rotateX(e){return Yi.makeRotationX(e),this.applyMatrix4(Yi),this}rotateY(e){return Yi.makeRotationY(e),this.applyMatrix4(Yi),this}rotateZ(e){return Yi.makeRotationZ(e),this.applyMatrix4(Yi),this}translate(e,t,n){return Yi.makeTranslation(e,t,n),this.applyMatrix4(Yi),this}scale(e,t,n){return Yi.makeScale(e,t,n),this.applyMatrix4(Yi),this}lookAt(e){return Ji.lookAt(e),Ji.updateMatrix(),this.applyMatrix4(Ji.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zi).negate(),this.translate(Zi.x,Zi.y,Zi.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}this.setAttribute("position",new ji(t,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const n=e[i];t.setXYZ(i,n.x,n.y,n.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new pn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new un(-1/0,-1/0,-1/0),new un(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Ki.setFromBufferAttribute(n),this.morphTargetsRelative?(er.addVectors(this.boundingBox.min,Ki.min),this.boundingBox.expandByPoint(er),er.addVectors(this.boundingBox.max,Ki.max),this.boundingBox.expandByPoint(er)):(this.boundingBox.expandByPoint(Ki.min),this.boundingBox.expandByPoint(Ki.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Pn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new un,1/0);if(e){const n=this.boundingSphere.center;if(Ki.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];$i.setFromBufferAttribute(n),this.morphTargetsRelative?(er.addVectors(Ki.min,$i.min),Ki.expandByPoint(er),er.addVectors(Ki.max,$i.max),Ki.expandByPoint(er)):(Ki.expandByPoint($i.min),Ki.expandByPoint($i.max))}Ki.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)er.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(er));if(t)for(let r=0,s=t.length;r<s;r++){const s=t[r],a=this.morphTargetsRelative;for(let t=0,r=s.count;t<r;t++)er.fromBufferAttribute(s,t),a&&(Zi.fromBufferAttribute(e,t),er.add(Zi)),i=Math.max(i,n.distanceToSquared(er))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,i=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new zi(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],o=[];for(let e=0;e<n.count;e++)a[e]=new un,o[e]=new un;const l=new un,c=new un,u=new un,d=new Nt,h=new Nt,p=new Nt,f=new un,g=new un;function A(e,t,i){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),p.fromBufferAttribute(r,i),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const s=1/(h.x*p.y-p.x*h.y);isFinite(s)&&(f.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(s),g.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(s),a[e].add(f),a[t].add(f),a[i].add(f),o[e].add(g),o[t].add(g),o[i].add(g))}let m=this.groups;0===m.length&&(m=[{start:0,count:e.count}]);for(let t=0,n=m.length;t<n;++t){const n=m[t],i=n.start;for(let t=i,r=i+n.count;t<r;t+=3)A(e.getX(t+0),e.getX(t+1),e.getX(t+2))}const v=new un,y=new un,E=new un,S=new un;function b(e){E.fromBufferAttribute(i,e),S.copy(E);const t=a[e];v.copy(t),v.sub(E.multiplyScalar(E.dot(t))).normalize(),y.crossVectors(S,t);const n=y.dot(o[e])<0?-1:1;s.setXYZW(e,v.x,v.y,v.z,n)}for(let t=0,n=m.length;t<n;++t){const n=m[t],i=n.start;for(let t=i,r=i+n.count;t<r;t+=3)b(e.getX(t+0)),b(e.getX(t+1)),b(e.getX(t+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new zi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new un,r=new un,s=new un,a=new un,o=new un,l=new un,c=new un,u=new un;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,f),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),a.fromBufferAttribute(n,h),o.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),o.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)er.fromBufferAttribute(e,t),er.normalize(),e.setXYZ(t,er.x,er.y,er.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,s=new n.constructor(t.length*i);let a=0,o=0;for(let r=0,l=t.length;r<l;r++){a=e.isInterleavedBufferAttribute?t[r]*e.data.stride+e.offset:t[r]*i;for(let e=0;e<i;e++)s[o++]=n[a++]}return new zi(s,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tr,n=this.index.array,i=this.attributes;for(const r in i){const s=e(i[r],n);t.setAttribute(r,s)}const r=this.morphAttributes;for(const i in r){const s=[],a=r[i];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);s.push(i)}t.morphAttributes[i]=s}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let e=0,n=s.length;e<n;e++){const n=s[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const i=n[t];e.data.attributes[t]=i.toJSON(e.data)}const i={};let r=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],s=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];s.push(i.toJSON(e.data))}s.length>0&&(i[t]=s,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const e in i){const n=i[e];this.setAttribute(e,n.clone(t))}const r=e.morphAttributes;for(const e in r){const n=[],i=r[e];for(let e=0,r=i.length;e<r;e++)n.push(i[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let e=0,t=s.length;e<t;e++){const t=s[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const nr=new Qn,ir=new Fn,rr=new Pn,sr=new un,ar=new un,or=new un,lr=new un,cr=new un,ur=new un,dr=new un,hr=new un;class pr extends pi{constructor(e=new tr,t=new Oi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(r&&a){ur.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=a[n],o=r[n];0!==i&&(cr.fromBufferAttribute(o,e),s?ur.addScaledVector(cr,i):ur.addScaledVector(cr.sub(t),i))}t.add(ur)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),rr.copy(n.boundingSphere),rr.applyMatrix4(r),ir.copy(e.ray).recast(e.near),!1===rr.containsPoint(ir.origin)){if(null===ir.intersectSphere(rr,sr))return;if(ir.origin.distanceToSquared(sr)>(e.far-e.near)**2)return}nr.copy(r).invert(),ir.copy(e.ray).applyMatrix4(nr),null!==n.boundingBox&&!1===ir.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,ir)}}_computeIntersections(e,t,n){let i;const r=this.geometry,s=this.material,a=r.index,o=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==a)if(Array.isArray(s))for(let r=0,o=d.length;r<o;r++){const o=d[r],p=s[o.materialIndex];for(let r=Math.max(o.start,h.start),s=Math.min(a.count,Math.min(o.start+o.count,h.start+h.count));r<s;r+=3)i=fr(this,p,e,n,l,c,u,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=o.materialIndex,t.push(i))}else for(let r=Math.max(0,h.start),o=Math.min(a.count,h.start+h.count);r<o;r+=3)i=fr(this,s,e,n,l,c,u,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),t.push(i));else if(void 0!==o)if(Array.isArray(s))for(let r=0,a=d.length;r<a;r++){const a=d[r],p=s[a.materialIndex];for(let r=Math.max(a.start,h.start),s=Math.min(o.count,Math.min(a.start+a.count,h.start+h.count));r<s;r+=3)i=fr(this,p,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=a.materialIndex,t.push(i))}else for(let r=Math.max(0,h.start),a=Math.min(o.count,h.start+h.count);r<a;r+=3)i=fr(this,s,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}function fr(e,t,n,i,r,s,a,o,l,c){e.getVertexPosition(o,ar),e.getVertexPosition(l,or),e.getVertexPosition(c,lr);const u=function(e,t,n,i,r,s,a,o){let l;if(l=1===t.side?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,0===t.side,o),null===l)return null;hr.copy(o),hr.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(hr);return c<n.near||c>n.far?null:{distance:c,point:hr.clone(),object:e}}(e,t,n,i,ar,or,lr,dr);if(u){const e=new un;Ti.getBarycoord(dr,ar,or,lr,e),r&&(u.uv=Ti.getInterpolatedAttribute(r,o,l,c,e,new Nt)),s&&(u.uv1=Ti.getInterpolatedAttribute(s,o,l,c,e,new Nt)),a&&(u.normal=Ti.getInterpolatedAttribute(a,o,l,c,e,new un),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const t={a:o,b:l,c,normal:new un,materialIndex:0};Ti.getNormal(ar,or,lr,t.normal),u.face=t,u.barycoord=e}return u}class gr extends tr{constructor(e=1,t=1,n=1,i=1,r=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};const a=this;i=Math.floor(i),r=Math.floor(r),s=Math.floor(s);const o=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,i,r,s,p,f,g,A,m){const v=s/g,y=p/A,E=s/2,S=p/2,b=f/2,x=g+1,w=A+1;let I=0,C=0;const T=new un;for(let s=0;s<w;s++){const a=s*y-S;for(let o=0;o<x;o++){const d=o*v-E;T[e]=d*i,T[t]=a*r,T[n]=b,l.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=f>0?1:-1,c.push(T.x,T.y,T.z),u.push(o/g),u.push(1-s/A),I+=1}}for(let e=0;e<A;e++)for(let t=0;t<g;t++){const n=d+t+x*e,i=d+t+x*(e+1),r=d+(t+1)+x*(e+1),s=d+(t+1)+x*e;o.push(n,i,s),o.push(i,r,s),C+=6}a.addGroup(h,C,m),h+=C,d+=I}p("z","y","x",-1,-1,n,t,e,s,r,0),p("z","y","x",1,-1,n,t,-e,s,r,1),p("x","z","y",1,1,e,n,t,i,s,2),p("x","z","y",1,-1,e,n,-t,i,s,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(o),this.setAttribute("position",new ji(l,3)),this.setAttribute("normal",new ji(c,3)),this.setAttribute("uv",new ji(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ar(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function mr(e){const t={};for(let n=0;n<e.length;n++){const i=Ar(e[n]);for(const e in i)t[e]=i[e]}return t}function vr(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:jt.workingColorSpace}const yr={clone:Ar,merge:mr};class Er extends Li{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ar(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Sr extends pi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qn,this.projectionMatrix=new Qn,this.projectionMatrixInverse=new Qn,this.coordinateSystem=Et}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const br=new un,xr=new Nt,wr=new Nt;class Ir extends Sr{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Ct*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*It*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Ct*Math.atan(Math.tan(.5*It*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){br.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(br.x,br.y).multiplyScalar(-e/br.z),br.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(br.x,br.y).multiplyScalar(-e/br.z)}getViewSize(e,t){return this.getViewBounds(e,xr,wr),t.subVectors(wr,xr)}setViewOffset(e,t,n,i,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*It*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const e=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/e,t-=s.offsetY*n/a,i*=s.width/e,n*=s.height/a}const a=this.filmOffset;0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Cr=-90;class Tr extends pi{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ir(Cr,1,e,t);i.layers=this.layers,this.add(i);const r=new Ir(Cr,1,e,t);r.layers=this.layers,this.add(r);const s=new Ir(Cr,1,e,t);s.layers=this.layers,this.add(s);const a=new Ir(Cr,1,e,t);a.layers=this.layers,this.add(a);const o=new Ir(Cr,1,e,t);o.layers=this.layers,this.add(o);const l=new Ir(Cr,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,s,a,o]=t;for(const e of t)this.remove(e);if(e===Et)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(e!==St)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,a,o,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,s),e.setRenderTarget(n,2,i),e.render(t,a),e.setRenderTarget(n,3,i),e.render(t,o),e.setRenderTarget(n,4,i),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5,i),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class Mr extends nn{constructor(e,t,n,i,r,s,a,o,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:L,n,i,r,s,a,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Br extends an{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Mr(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:X}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new gr(5,5,5),a=new Er({name:"CubemapFromEquirect",uniforms:Ar(n),vertexShader:i,fragmentShader:r,side:1,blending:0});a.uniforms.tEquirect.value=t;const o=new pr(s,a),l=t.minFilter;return t.minFilter===q&&(t.minFilter=X),new Tr(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,n,i);e.setRenderTarget(r)}}class Rr{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new _i(e),this.density=t}clone(){return new Rr(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Pr{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new _i(e),this.near=t,this.far=n}clone(){return new Pr(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class _r extends pi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Jn,this.environmentIntensity=1,this.environmentRotation=new Jn,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Dr{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=vt,this.updateRanges=[],this.version=0,this.uuid=Tt()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Tt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Tt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Nr=new un;class Lr{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix4(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.applyNormalMatrix(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Nr.fromBufferAttribute(this,t),Nr.transformDirection(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Pt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_t(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Pt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Pt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Pt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Pt(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array),i=_t(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new zi(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Lr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Or extends Li{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new _i(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kr;const Ur=new un,Fr=new un,Qr=new un,Vr=new Nt,Hr=new Nt,Gr=new Qn,zr=new un,Wr=new un,Xr=new un,jr=new Nt,qr=new Nt,Yr=new Nt;class Jr extends pi{constructor(e=new Or){if(super(),this.isSprite=!0,this.type="Sprite",void 0===kr){kr=new tr;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Dr(e,5);kr.setIndex([0,1,2,0,2,3]),kr.setAttribute("position",new Lr(t,3,0,!1)),kr.setAttribute("uv",new Lr(t,2,3,!1))}this.geometry=kr,this.material=e,this.center=new Nt(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fr.setFromMatrixScale(this.matrixWorld),Gr.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qr.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Fr.multiplyScalar(-Qr.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;Zr(zr.set(-.5,-.5,0),Qr,s,Fr,i,r),Zr(Wr.set(.5,-.5,0),Qr,s,Fr,i,r),Zr(Xr.set(.5,.5,0),Qr,s,Fr,i,r),jr.set(0,0),qr.set(1,0),Yr.set(1,1);let a=e.ray.intersectTriangle(zr,Wr,Xr,!1,Ur);if(null===a&&(Zr(Wr.set(-.5,.5,0),Qr,s,Fr,i,r),qr.set(0,1),a=e.ray.intersectTriangle(zr,Xr,Wr,!1,Ur),null===a))return;const o=e.ray.origin.distanceTo(Ur);o<e.near||o>e.far||t.push({distance:o,point:Ur.clone(),uv:Ti.getInterpolation(Ur,zr,Wr,Xr,jr,qr,Yr,new Nt),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Zr(e,t,n,i,r,s){Vr.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(Hr.x=s*Vr.x-r*Vr.y,Hr.y=r*Vr.x+s*Vr.y):Hr.copy(Vr),e.copy(t),e.x+=Hr.x,e.y+=Hr.y,e.applyMatrix4(Gr)}const Kr=new un,$r=new un;class es extends pi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.addLevel(n.object.clone(),n.distance,n.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Kr.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Kr);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Kr.setFromMatrixPosition(e.matrixWorld),$r.setFromMatrixPosition(this.matrixWorld);const n=Kr.distanceTo($r)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r;i++){let e=t[i].distance;if(t[i].object.visible&&(e-=e*t[i].hysteresis),!(n>=e))break;t[i-1].object.visible=!1,t[i].object.visible=!0}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let e=0,i=n.length;e<i;e++){const i=n[e];t.object.levels.push({object:i.object.uuid,distance:i.distance,hysteresis:i.hysteresis})}return t}}const ts=new un,ns=new rn,is=new rn,rs=new un,ss=new Qn,as=new un,os=new Pn,ls=new Qn,cs=new Fn;class us extends pr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=_,this.bindMatrix=new Qn,this.bindMatrixInverse=new Qn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new pn),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,as),this.boundingBox.expandByPoint(as)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Pn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,as),this.boundingSphere.expandByPoint(as)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),os.copy(this.boundingSphere),os.applyMatrix4(i),!1!==e.ray.intersectsSphere(os)&&(ls.copy(i).invert(),cs.copy(e.ray).applyMatrix4(ls),null!==this.boundingBox&&!1===cs.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,cs)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new rn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===_?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===D?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;ns.fromBufferAttribute(i.attributes.skinIndex,e),is.fromBufferAttribute(i.attributes.skinWeight,e),ts.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const i=is.getComponent(e);if(0!==i){const r=ns.getComponent(e);ss.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(rs.copy(ts).applyMatrix4(ss),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}class ds extends pi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hs extends nn{constructor(e=null,t=1,n=1,i,r,s,a,o,l=1003,c=1003,u,d){super(null,s,a,o,l,c,i,r,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ps=new Qn,fs=new Qn;class gs{constructor(e=[],t=[]){this.uuid=Tt(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Qn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Qn;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=e.length;i<r;i++){const r=e[i]?e[i].matrixWorld:fs;ps.multiplyMatrices(r,t[i]),ps.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new gs(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new hs(t,e,e,ce,te);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new ds),this.bones.push(r),this.boneInverses.push((new Qn).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const s=n[i];e.boneInverses.push(s.toArray())}return e}}class As extends zi{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ms=new Qn,vs=new Qn,ys=[],Es=new pn,Ss=new Qn,bs=new pr,xs=new Pn;class ws extends pr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new As(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<n;e++)this.setMatrixAt(e,Ss)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new pn),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,ms),Es.copy(e.boundingBox).applyMatrix4(ms),this.boundingBox.union(Es)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Pn),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,ms),xs.copy(e.boundingSphere).applyMatrix4(ms),this.boundingSphere.union(xs)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=e*(n.length+1)+1;for(let e=0;e<n.length;e++)n[e]=i[r+e]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(bs.geometry=this.geometry,bs.material=this.material,void 0!==bs.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),xs.copy(this.boundingSphere),xs.applyMatrix4(n),!1!==e.ray.intersectsSphere(xs)))for(let r=0;r<i;r++){this.getMatrixAt(r,ms),vs.multiplyMatrices(n,ms),bs.matrixWorld=vs,bs.raycast(e,ys);for(let e=0,n=ys.length;e<n;e++){const n=ys[e];n.instanceId=r,n.object=this,t.push(n)}ys.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new As(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new hs(new Float32Array(i*this.count),i,this.count,fe,te));const r=this.morphTexture.source.data.data;let s=0;for(let e=0;e<n.length;e++)s+=n[e];const a=this.geometry.morphTargetsRelative?1:1-s,o=i*e;r[o]=a,r.set(n,o+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Is=new un,Cs=new un,Ts=new Lt;class Ms{constructor(e=new un(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Is.subVectors(n,t).cross(Cs.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Is),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ts.getNormalMatrix(e),i=this.coplanarPoint(Is).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Bs=new Pn,Rs=new un;class Ps{constructor(e=new Ms,t=new Ms,n=new Ms,i=new Ms,r=new Ms,s=new Ms){this.planes=[e,t,n,i,r,s]}set(e,t,n,i,r,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,i=e.elements,r=i[0],s=i[1],a=i[2],o=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],p=i[9],f=i[10],g=i[11],A=i[12],m=i[13],v=i[14],y=i[15];if(n[0].setComponents(o-r,d-l,g-h,y-A).normalize(),n[1].setComponents(o+r,d+l,g+h,y+A).normalize(),n[2].setComponents(o+s,d+c,g+p,y+m).normalize(),n[3].setComponents(o-s,d-c,g-p,y-m).normalize(),n[4].setComponents(o-a,d-u,g-f,y-v).normalize(),t===Et)n[5].setComponents(o+a,d+u,g+f,y+v).normalize();else{if(t!==St)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,f,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Bs.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Bs.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Bs)}intersectsSprite(e){return Bs.center.set(0,0,0),Bs.radius=.7071067811865476,Bs.applyMatrix4(e.matrixWorld),this.intersectsSphere(Bs)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Rs.x=i.normal.x>0?e.max.x:e.min.x,Rs.y=i.normal.y>0?e.max.y:e.min.y,Rs.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Rs)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function _s(e,t){return e-t}function Ds(e,t){return e.z-t.z}function Ns(e,t){return t.z-e.z}class Ls{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const a=r[this.index];s.push(a),this.index++,a.start=e,a.count=t,a.z=n,a.index=i}reset(){this.list.length=0,this.index=0}}const Os=new Qn,ks=new _i(1,1,1),Us=new Ps,Fs=new pn,Qs=new Pn,Vs=new un,Hs=new un,Gs=new un,zs=new Ls,Ws=new pr,Xs=[];function js(e,t,n=0){const i=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const r=e.count;for(let s=0;s<r;s++)for(let r=0;r<i;r++)t.setComponent(s+n,r,e.getComponent(s,r))}else t.array.set(e.array,n*i);t.needsUpdate=!0}function qs(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)t[i]=e[i]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class Ys extends pr{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=2*t,i){super(new tr,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new hs(t,e,e,ce,te);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new hs(t,e,e,ge,ee);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new hs(t,e,e,ce,te);n.colorSpace=jt.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(const i in e.attributes){const r=e.getAttribute(i),{array:s,itemSize:a,normalized:o}=r,l=new s.constructor(n*a),c=new zi(l,a,o);t.setAttribute(i,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new zi(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),r=t.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new pn);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,Os),this.getBoundingBoxAt(i,Fs).applyMatrix4(Os),e.union(Fs)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Pn);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,Os),this.getBoundingSphereAt(i,Qs).applyMatrix4(Os),e.union(Qs)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(_s),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const i=this._matricesTexture;Os.identity().toArray(i.image.data,16*n),i.needsUpdate=!0;const r=this._colorsTexture;return r&&(ks.toArray(r.image.data,4*n),r.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const s=e.getIndex();if(null!==s&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=-1===n?s.count:n),-1!==i.indexStart&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let a;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(_s),a=this._availableGeometryIds.shift(),r[a]=i):(a=this._geometryCount,this._geometryCount++,r.push(i)),this.setGeometryAt(a,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,a}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=null!==n.getIndex(),r=n.getIndex(),s=t.getIndex(),a=this._geometryInfo[e];if(i&&s.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const o=a.vertexStart,l=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const e in n.attributes){const i=t.getAttribute(e),r=n.getAttribute(e);js(i,r,o);const s=i.itemSize;for(let e=i.count,t=l;e<t;e++){const t=o+e;for(let e=0;e<s;e++)r.setComponent(t,e,0)}r.needsUpdate=!0,r.addUpdateRange(o*s,l*s)}if(i){const e=a.indexStart,n=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let t=0;t<s.count;t++)r.setX(e+t,o+s.getX(t));for(let t=s.count,i=n;t<i;t++)r.setX(e+t,o);r.needsUpdate=!0,r.addUpdateRange(e,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,null!==t.boundingBox&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,null!==t.boundingSphere&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let t=0,i=n.length;t<i;t++)n[t].geometryIndex===e&&this.deleteInstance(t);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),r=this.geometry;for(let s=0,a=n.length;s<a;s++){const a=i[s],o=n[a];if(!1!==o.active){if(null!==r.index){if(o.indexStart!==t){const{indexStart:n,vertexStart:i,reservedIndexCount:s}=o,a=r.index,l=a.array,c=e-i;for(let e=n;e<n+s;e++)l[e]=l[e]+c;a.array.copyWithin(t,n,n+s),a.addUpdateRange(t,s),o.indexStart=t}t+=o.reservedIndexCount}if(o.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=o,i=r.attributes;for(const r in i){const s=i[r],{array:a,itemSize:o}=s;a.copyWithin(e*o,t*o,(t+n)*o),s.addUpdateRange(e*o,n*o)}o.vertexStart=e}e+=o.reservedVertexCount,o.start=r.index?o.indexStart:o.vertexStart,this._nextIndexStart=r.index?o.indexStart+o.reservedIndexCount:0,this._nextVertexStart=o.vertexStart+o.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingBox){const e=new pn,t=n.index,r=n.attributes.position;for(let n=i.start,s=i.start+i.count;n<s;n++){let i=n;t&&(i=t.getX(i)),e.expandByPoint(Vs.fromBufferAttribute(r,i))}i.boundingBox=e}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingSphere){const t=new Pn;this.getBoundingBoxAt(e,Fs),Fs.getCenter(t.center);const r=n.index,s=n.attributes.position;let a=0;for(let e=i.start,n=i.start+i.count;e<n;e++){let n=e;r&&(n=r.getX(n)),Vs.fromBufferAttribute(s,n),a=Math.max(a,t.center.distanceToSquared(Vs))}t.radius=Math.sqrt(a),i.boundingSphere=t}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(_s);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),r=new Int32Array(e);qs(this._multiDrawCounts,i),qs(this._multiDrawStarts,r),this._multiDrawCounts=i,this._multiDrawStarts=r,this._maxInstanceCount=e;const s=this._indirectTexture,a=this._matricesTexture,o=this._colorsTexture;s.dispose(),this._initIndirectTexture(),qs(s.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),qs(a.image.data,this._matricesTexture.image.data),o&&(o.dispose(),this._initColorsTexture(),qs(o.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tr,this._initializeGeometry(i));const r=this.geometry;i.index&&qs(i.index.array,r.index.array);for(const e in i.attributes)qs(i.attributes[e].array,r.attributes[e].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,r=this.matrixWorld,s=this.geometry;Ws.material=this.material,Ws.geometry.index=s.index,Ws.geometry.attributes=s.attributes,null===Ws.geometry.boundingBox&&(Ws.geometry.boundingBox=new pn),null===Ws.geometry.boundingSphere&&(Ws.geometry.boundingSphere=new Pn);for(let s=0,a=n.length;s<a;s++){if(!n[s].visible||!n[s].active)continue;const a=n[s].geometryIndex,o=i[a];Ws.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(s,Ws.matrixWorld).premultiply(r),this.getBoundingBoxAt(a,Ws.geometry.boundingBox),this.getBoundingSphereAt(a,Ws.geometry.boundingSphere),Ws.raycast(e,Xs);for(let e=0,n=Xs.length;e<n;e++){const n=Xs[e];n.object=this,n.batchId=s,t.push(n)}Xs.length=0}Ws.material=null,Ws.geometry.index=null,Ws.geometry.attributes={},Ws.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>({...e})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=null===s?1:s.array.BYTES_PER_ELEMENT,o=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data;d&&(Os.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Us.setFromProjectionMatrix(Os,e.coordinateSystem));let f=0;if(this.sortObjects){Os.copy(this.matrixWorld).invert(),Vs.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Os),Hs.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Os);for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){const t=o[e].geometryIndex;this.getMatrixAt(e,Os),this.getBoundingSphereAt(t,Qs).applyMatrix4(Os);let n=!1;if(d&&(n=!Us.intersectsSphere(Qs)),!n){const n=u[t],i=Gs.subVectors(Qs.center,Vs).dot(Hs);zs.push(n.start,n.count,i,e)}}const e=zs.list,t=this.customSort;null===t?e.sort(r.transparent?Ns:Ds):t.call(this,e,n);for(let t=0,n=e.length;t<n;t++){const n=e[t];l[f]=n.start*a,c[f]=n.count,p[f]=n.index,f++}zs.reset()}else for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){const t=o[e].geometryIndex;let n=!1;if(d&&(this.getMatrixAt(e,Os),this.getBoundingSphereAt(t,Qs).applyMatrix4(Os),n=!Us.intersectsSphere(Qs)),!n){const n=u[t];l[f]=n.start*a,c[f]=n.count,p[f]=e,f++}}h.needsUpdate=!0,this._multiDrawCount=f,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,r,s){this.onBeforeRender(e,null,i,r,s)}}class Js extends Li{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _i(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Zs=new un,Ks=new un,$s=new Qn,ea=new Fn,ta=new Pn,na=new un,ia=new un;class ra extends pi{constructor(e=new tr,t=new Js){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)Zs.fromBufferAttribute(t,e-1),Ks.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Zs.distanceTo(Ks);e.setAttribute("lineDistance",new ji(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ta.copy(n.boundingSphere),ta.applyMatrix4(i),ta.radius+=r,!1===e.ray.intersectsSphere(ta))return;$s.copy(i).invert(),ea.copy(e.ray).applyMatrix4($s);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,s.start),i=Math.min(c.count,s.start+s.count);for(let r=n,s=i-1;r<s;r+=l){const n=c.getX(r),i=c.getX(r+1),s=sa(this,e,ea,o,n,i);s&&t.push(s)}if(this.isLineLoop){const r=c.getX(i-1),s=c.getX(n),a=sa(this,e,ea,o,r,s);a&&t.push(a)}}else{const n=Math.max(0,s.start),i=Math.min(u.count,s.start+s.count);for(let r=n,s=i-1;r<s;r+=l){const n=sa(this,e,ea,o,r,r+1);n&&t.push(n)}if(this.isLineLoop){const r=sa(this,e,ea,o,i-1,n);r&&t.push(r)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function sa(e,t,n,i,r,s){const a=e.geometry.attributes.position;if(Zs.fromBufferAttribute(a,r),Ks.fromBufferAttribute(a,s),n.distanceSqToSegment(Zs,Ks,na,ia)>i)return;na.applyMatrix4(e.matrixWorld);const o=t.ray.origin.distanceTo(na);return o<t.near||o>t.far?void 0:{distance:o,point:ia.clone().applyMatrix4(e.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:e}}const aa=new un,oa=new un;class la extends ra{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)aa.fromBufferAttribute(t,e),oa.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+aa.distanceTo(oa);e.setAttribute("lineDistance",new ji(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ca extends ra{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ua extends Li{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new _i(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const da=new Qn,ha=new Fn,pa=new Pn,fa=new un;class ga extends pi{constructor(e=new tr,t=new ua){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),pa.copy(n.boundingSphere),pa.applyMatrix4(i),pa.radius+=r,!1===e.ray.intersectsSphere(pa))return;da.copy(i).invert(),ha.copy(e.ray).applyMatrix4(da);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=n.index,c=n.attributes.position;if(null!==l)for(let n=Math.max(0,s.start),r=Math.min(l.count,s.start+s.count);n<r;n++){const r=l.getX(n);fa.fromBufferAttribute(c,r),Aa(fa,r,o,i,e,t,this)}else for(let n=Math.max(0,s.start),r=Math.min(c.count,s.start+s.count);n<r;n++)fa.fromBufferAttribute(c,n),Aa(fa,n,o,i,e,t,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Aa(e,t,n,i,r,s,a){const o=ha.distanceSqToPoint(e);if(o<n){const n=new un;ha.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:a})}}class ma extends pi{constructor(){super(),this.isGroup=!0,this.type="Group"}}class va extends nn{constructor(e,t,n,i,r,s,a,o,l,c,u,d){super(null,s,a,o,l,c,i,r,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ya extends nn{constructor(e,t,n,i,r,s,a,o,l,c=1026){if(c!==he&&c!==pe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===he&&(n=ee),void 0===n&&c===pe&&(n=se),super(null,i,r,s,a,o,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:G,this.minFilter=void 0!==o?o:G,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Ea{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const r=n.length;let s;s=t||e*n[r-1];let a,o=0,l=r-1;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),a=n[i]-s,a<0)o=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(i=l,n[i]===s)return i/(r-1);const c=n[i];return(i+(s-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),a=this.getPoint(r),o=t||(s.isVector2?new Nt:new un);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new un,i=[],r=[],s=[],a=new un,o=new Qn;for(let t=0;t<=e;t++){const n=t/e;i[t]=this.getTangentAt(n,new un)}r[0]=new un,s[0]=new un;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),s[0].crossVectors(i[0],r[0]);for(let t=1;t<=e;t++){if(r[t]=r[t-1].clone(),s[t]=s[t-1].clone(),a.crossVectors(i[t-1],i[t]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(Mt(i[t-1].dot(i[t]),-1,1));r[t].applyMatrix4(o.makeRotationAxis(a,e))}s[t].crossVectors(i[t],r[t])}if(!0===t){let t=Math.acos(Mt(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(o.makeRotationAxis(i[n],t*n)),s[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Sa extends Ea{constructor(e=0,t=0,n=1,i=1,r=0,s=2*Math.PI,a=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e,t=new Nt){const n=t,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=s?0:i),!0!==this.aClockwise||s||(r===i?r=-i:r-=i);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,i=l-this.aY;o=n*e-i*t+this.aX,l=n*t+i*e+this.aY}return n.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ba extends Sa{constructor(e,t,n,i,r,s){super(e,t,n,n,i,r,s),this.isArcCurve=!0,this.type="ArcCurve"}}function xa(){let e=0,t=0,n=0,i=0;function r(r,s,a,o){e=r,t=a,n=-3*r+3*s-2*a-o,i=2*r-2*s+a+o}return{initCatmullRom:function(e,t,n,i,s){r(t,n,s*(n-e),s*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,s,a,o){let l=(t-e)/s-(n-e)/(s+a)+(n-t)/a,c=(n-t)/a-(i-t)/(a+o)+(i-n)/o;l*=a,c*=a,r(t,n,l,c)},calc:function(r){const s=r*r;return e+t*r+n*s+i*(s*r)}}}const wa=new un,Ia=new xa,Ca=new xa,Ta=new xa;class Ma extends Ea{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new un){const n=t,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e;let a,o,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?a=i[(l-1)%r]:(wa.subVectors(i[0],i[1]).add(i[0]),a=wa);const u=i[l%r],d=i[(l+1)%r];if(this.closed||l+2<r?o=i[(l+2)%r]:(wa.subVectors(i[r-1],i[r-2]).add(i[r-1]),o=wa),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(d),e),i=Math.pow(d.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),Ia.initNonuniformCatmullRom(a.x,u.x,d.x,o.x,t,n,i),Ca.initNonuniformCatmullRom(a.y,u.y,d.y,o.y,t,n,i),Ta.initNonuniformCatmullRom(a.z,u.z,d.z,o.z,t,n,i)}else"catmullrom"===this.curveType&&(Ia.initCatmullRom(a.x,u.x,d.x,o.x,this.tension),Ca.initCatmullRom(a.y,u.y,d.y,o.y,this.tension),Ta.initCatmullRom(a.z,u.z,d.z,o.z,this.tension));return n.set(Ia.calc(c),Ca.calc(c),Ta.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new un).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Ba(e,t,n,i,r){const s=.5*(i-t),a=.5*(r-n),o=e*e;return(2*n-2*i+s+a)*(e*o)+(-3*n+3*i-2*s-a)*o+s*e+n}function Ra(e,t,n,i){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Pa(e,t,n,i,r){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}class _a extends Ea{constructor(e=new Nt,t=new Nt,n=new Nt,i=new Nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Nt){const n=t,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(Pa(e,i.x,r.x,s.x,a.x),Pa(e,i.y,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Da extends Ea{constructor(e=new un,t=new un,n=new un,i=new un){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new un){const n=t,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(Pa(e,i.x,r.x,s.x,a.x),Pa(e,i.y,r.y,s.y,a.y),Pa(e,i.z,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Na extends Ea{constructor(e=new Nt,t=new Nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Nt){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Nt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class La extends Ea{constructor(e=new un,t=new un){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new un){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new un){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Oa extends Ea{constructor(e=new Nt,t=new Nt,n=new Nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Nt){const n=t,i=this.v0,r=this.v1,s=this.v2;return n.set(Ra(e,i.x,r.x,s.x),Ra(e,i.y,r.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ka extends Ea{constructor(e=new un,t=new un,n=new un){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new un){const n=t,i=this.v0,r=this.v1,s=this.v2;return n.set(Ra(e,i.x,r.x,s.x),Ra(e,i.y,r.y,s.y),Ra(e,i.z,r.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ua extends Ea{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Nt){const n=t,i=this.points,r=(i.length-1)*e,s=Math.floor(r),a=r-s,o=i[0===s?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],u=i[s>i.length-3?i.length-1:s+2];return n.set(Ba(a,o.x,l.x,c.x,u.x),Ba(a,o.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Nt).fromArray(n))}return this}}var Fa=Object.freeze({__proto__:null,ArcCurve:ba,CatmullRomCurve3:Ma,CubicBezierCurve:_a,CubicBezierCurve3:Da,EllipseCurve:Sa,LineCurve:Na,LineCurve3:La,QuadraticBezierCurve:Oa,QuadraticBezierCurve3:ka,SplineCurve:Ua});class Qa extends Ea{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Fa[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=n){const e=i[r]-n,s=this.curves[r],a=s.getLength(),o=0===a?0:1-e/a;return s.getPointAt(o,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],a=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let e=0;e<o.length;e++){const i=o[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Fa[n.type]).fromJSON(n))}return this}}class Va extends Qa{constructor(e){super(),this.type="Path",this.currentPoint=new Nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Na(this.currentPoint.clone(),new Nt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new Oa(this.currentPoint.clone(),new Nt(e,t),new Nt(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,s){const a=new _a(this.currentPoint.clone(),new Nt(e,t),new Nt(n,i),new Nt(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Ua(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,i,r,s),this}absarc(e,t,n,i,r,s){return this.absellipse(e,t,n,n,i,r,s),this}ellipse(e,t,n,i,r,s,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,s,a,o),this}absellipse(e,t,n,i,r,s,a,o){const l=new Sa(e,t,n,i,r,s,a,o);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ha extends tr{constructor(e=[new Nt(0,-.5),new Nt(.5,0),new Nt(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Mt(i,0,2*Math.PI);const r=[],s=[],a=[],o=[],l=[],c=1/t,u=new un,d=new Nt,h=new un,p=new un,f=new un;let g=0,A=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:g=e[t+1].x-e[t].x,A=e[t+1].y-e[t].y,h.x=1*A,h.y=-g,h.z=0*A,f.copy(h),h.normalize(),o.push(h.x,h.y,h.z);break;case e.length-1:o.push(f.x,f.y,f.z);break;default:g=e[t+1].x-e[t].x,A=e[t+1].y-e[t].y,h.x=1*A,h.y=-g,h.z=0*A,p.copy(h),h.x+=f.x,h.y+=f.y,h.z+=f.z,h.normalize(),o.push(h.x,h.y,h.z),f.copy(p)}for(let r=0;r<=t;r++){const h=n+r*c*i,p=Math.sin(h),f=Math.cos(h);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*p,u.y=e[n].y,u.z=e[n].x*f,s.push(u.x,u.y,u.z),d.x=r/t,d.y=n/(e.length-1),a.push(d.x,d.y);const i=o[3*n+0]*p,c=o[3*n+1],h=o[3*n+0]*f;l.push(i,c,h)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const i=t+n*e.length,s=i,a=i+e.length,o=i+e.length+1,l=i+1;r.push(s,a,l),r.push(o,l,a)}this.setIndex(r),this.setAttribute("position",new ji(s,3)),this.setAttribute("uv",new ji(a,2)),this.setAttribute("normal",new ji(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ha(e.points,e.segments,e.phiStart,e.phiLength)}}class Ga extends Ha{constructor(e=1,t=1,n=4,i=8){const r=new Va;r.absarc(0,-t/2,e,1.5*Math.PI,0),r.absarc(0,t/2,e,0,.5*Math.PI),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new Ga(e.radius,e.length,e.capSegments,e.radialSegments)}}class za extends tr{constructor(e=1,t=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],s=[],a=[],o=[],l=new un,c=new Nt;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let r=0,u=3;r<=t;r++,u+=3){const d=n+r/t*i;l.x=e*Math.cos(d),l.y=e*Math.sin(d),s.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(s[u]/e+1)/2,c.y=(s[u+1]/e+1)/2,o.push(c.x,c.y)}for(let e=1;e<=t;e++)r.push(e,e+1,0);this.setIndex(r),this.setAttribute("position",new ji(s,3)),this.setAttribute("normal",new ji(a,3)),this.setAttribute("uv",new ji(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new za(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Wa extends tr{constructor(e=1,t=1,n=1,i=32,r=1,s=!1,a=0,o=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],d=[],h=[];let p=0;const f=[],g=n/2;let A=0;function m(n){const r=p,s=new Nt,f=new un;let m=0;const v=!0===n?e:t,y=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,g*y,0),d.push(0,y,0),h.push(.5,.5),p++;const E=p;for(let e=0;e<=i;e++){const t=e/i*o+a,n=Math.cos(t),r=Math.sin(t);f.x=v*r,f.y=g*y,f.z=v*n,u.push(f.x,f.y,f.z),d.push(0,y,0),s.x=.5*n+.5,s.y=.5*r*y+.5,h.push(s.x,s.y),p++}for(let e=0;e<i;e++){const t=r+e,i=E+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),m+=3}l.addGroup(A,m,!0===n?1:2),A+=m}!function(){const s=new un,m=new un;let v=0;const y=(t-e)/n;for(let l=0;l<=r;l++){const c=[],A=l/r,v=A*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*o+a,l=Math.sin(r),f=Math.cos(r);m.x=v*l,m.y=-A*n+g,m.z=v*f,u.push(m.x,m.y,m.z),s.set(l,y,f).normalize(),d.push(s.x,s.y,s.z),h.push(t,1-A),c.push(p++)}f.push(c)}for(let n=0;n<i;n++)for(let i=0;i<r;i++){const s=f[i][n],a=f[i+1][n],o=f[i+1][n+1],l=f[i][n+1];(e>0||0!==i)&&(c.push(s,a,l),v+=3),(t>0||i!==r-1)&&(c.push(a,o,l),v+=3)}l.addGroup(A,v,0),A+=v}(),!1===s&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(c),this.setAttribute("position",new ji(u,3)),this.setAttribute("normal",new ji(d,3)),this.setAttribute("uv",new ji(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xa extends Wa{constructor(e=1,t=1,n=32,i=1,r=!1,s=0,a=2*Math.PI){super(0,e,t,n,i,r,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Xa(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ja extends tr{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],s=[];function a(e,t,n,i){const r=i+1,s=[];for(let i=0;i<=r;i++){s[i]=[];const a=e.clone().lerp(n,i/r),o=t.clone().lerp(n,i/r),l=r-i;for(let e=0;e<=l;e++)s[i][e]=0===e&&i===r?a:a.clone().lerp(o,e/l)}for(let e=0;e<r;e++)for(let t=0;t<2*(r-e)-1;t++){const n=Math.floor(t/2);t%2==0?(o(s[e][n+1]),o(s[e+1][n]),o(s[e][n])):(o(s[e][n+1]),o(s[e+1][n+1]),o(s[e+1][n]))}}function o(e){r.push(e.x,e.y,e.z)}function l(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new un,i=new un,r=new un;for(let s=0;s<t.length;s+=3)l(t[s+0],n),l(t[s+1],i),l(t[s+2],r),a(n,i,r,e)}(i),function(e){const t=new un;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){const e=new un;for(let t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];const n=u(e)/2/Math.PI+.5,i=d(e)/Math.PI+.5;s.push(n,1-i)}(function(){const e=new un,t=new un,n=new un,i=new un,a=new Nt,o=new Nt,l=new Nt;for(let d=0,h=0;d<r.length;d+=9,h+=6){e.set(r[d+0],r[d+1],r[d+2]),t.set(r[d+3],r[d+4],r[d+5]),n.set(r[d+6],r[d+7],r[d+8]),a.set(s[h+0],s[h+1]),o.set(s[h+2],s[h+3]),l.set(s[h+4],s[h+5]),i.copy(e).add(t).add(n).divideScalar(3);const p=u(i);c(a,h+0,e,p),c(o,h+2,t,p),c(l,h+4,n,p)}})(),function(){for(let e=0;e<s.length;e+=6){const t=s[e+0],n=s[e+2],i=s[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);r>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),i<.2&&(s[e+4]+=1))}}()}(),this.setAttribute("position",new ji(r,3)),this.setAttribute("normal",new ji(r.slice(),3)),this.setAttribute("uv",new ji(s,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ja(e.vertices,e.indices,e.radius,e.details)}}class qa extends ja{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qa(e.radius,e.detail)}}const Ya=new un,Ja=new un,Za=new un,Ka=new Ti;class $a extends tr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,i=Math.pow(10,n),r=Math.cos(It*t),s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<o;e+=3){s?(l[0]=s.getX(e),l[1]=s.getX(e+1),l[2]=s.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:o}=Ka;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),o.fromBufferAttribute(a,l[2]),Ka.getNormal(Za),u[0]=`${Math.round(t.x*i)},${Math.round(t.y*i)},${Math.round(t.z*i)}`,u[1]=`${Math.round(n.x*i)},${Math.round(n.y*i)},${Math.round(n.z*i)}`,u[2]=`${Math.round(o.x*i)},${Math.round(o.y*i)},${Math.round(o.z*i)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],s=Ka[c[e]],a=Ka[c[t]],o=`${n}_${i}`,p=`${i}_${n}`;p in d&&d[p]?(Za.dot(d[p].normal)<=r&&(h.push(s.x,s.y,s.z),h.push(a.x,a.y,a.z)),d[p]=null):o in d||(d[o]={index0:l[e],index1:l[t],normal:Za.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];Ya.fromBufferAttribute(a,t),Ja.fromBufferAttribute(a,n),h.push(Ya.x,Ya.y,Ya.z),h.push(Ja.x,Ja.y,Ja.z)}this.setAttribute("position",new ji(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class eo extends Va{constructor(e){super(e),this.uuid=Tt(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Va).fromJSON(n))}return this}}function to(e,t,n,i,r){let s,a;if(r===function(e,t,n,i){let r=0;for(let s=t,a=n-i;s<n;s+=i)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)a=xo(s,e[s],e[s+1],a);else for(s=n-i;s>=t;s-=i)a=xo(s,e[s],e[s+1],a);return a&&mo(a,a.next)&&(wo(a),a=a.next),a}function no(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!mo(i,i.next)&&0!==Ao(i.prev,i,i.next))i=i.next;else{if(wo(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function io(e,t,n,i,r,s,a){if(!e)return;!a&&s&&function(e,t,n,i){let r=e;do{0===r.z&&(r.z=ho(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n,i,r,s,a,o,l,c=1;do{for(n=e,e=null,s=null,a=0;n;){for(a++,i=n,o=0,t=0;t<c&&(o++,i=i.nextZ,i);t++);for(l=c;o>0||l>0&&i;)0!==o&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,s);let o,l,c=e;for(;e.prev!==e.next;)if(o=e.prev,l=e.next,s?so(e,i,r,s):ro(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),wo(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?io(e=ao(no(e),t,n),t,n,i,r,s,2):2===a&&oo(e,t,n,i,r,s):io(no(e),t,n,i,r,s,1);break}}function ro(e){const t=e.prev,n=e,i=e.next;if(Ao(t,n,i)>=0)return!1;const r=t.x,s=n.x,a=i.x,o=t.y,l=n.y,c=i.y,u=r<s?r<a?r:a:s<a?s:a,d=o<l?o<c?o:c:l<c?l:c,h=r>s?r>a?r:a:s>a?s:a,p=o>l?o>c?o:c:l>c?l:c;let f=i.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&fo(r,o,s,l,a,c,f.x,f.y)&&Ao(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function so(e,t,n,i){const r=e.prev,s=e,a=e.next;if(Ao(r,s,a)>=0)return!1;const o=r.x,l=s.x,c=a.x,u=r.y,d=s.y,h=a.y,p=o<l?o<c?o:c:l<c?l:c,f=u<d?u<h?u:h:d<h?d:h,g=o>l?o>c?o:c:l>c?l:c,A=u>d?u>h?u:h:d>h?d:h,m=ho(p,f,t,n,i),v=ho(g,A,t,n,i);let y=e.prevZ,E=e.nextZ;for(;y&&y.z>=m&&E&&E.z<=v;){if(y.x>=p&&y.x<=g&&y.y>=f&&y.y<=A&&y!==r&&y!==a&&fo(o,u,l,d,c,h,y.x,y.y)&&Ao(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,E.x>=p&&E.x<=g&&E.y>=f&&E.y<=A&&E!==r&&E!==a&&fo(o,u,l,d,c,h,E.x,E.y)&&Ao(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;y&&y.z>=m;){if(y.x>=p&&y.x<=g&&y.y>=f&&y.y<=A&&y!==r&&y!==a&&fo(o,u,l,d,c,h,y.x,y.y)&&Ao(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;E&&E.z<=v;){if(E.x>=p&&E.x<=g&&E.y>=f&&E.y<=A&&E!==r&&E!==a&&fo(o,u,l,d,c,h,E.x,E.y)&&Ao(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function ao(e,t,n){let i=e;do{const r=i.prev,s=i.next.next;!mo(r,s)&&vo(r,i,i.next,s)&&So(r,s)&&So(s,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(s.i/n|0),wo(i),wo(i.next),i=e=s),i=i.next}while(i!==e);return no(i)}function oo(e,t,n,i,r,s){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&go(a,e)){let o=bo(a,e);return a=no(a,a.next),o=no(o,o.next),io(a,t,n,i,r,s,0),void io(o,t,n,i,r,s,0)}e=e.next}a=a.next}while(a!==e)}function lo(e,t){return e.x-t.x}function co(e,t){const n=function(e,t){let n,i=t,r=-1/0;const s=e.x,a=e.y;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){const e=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=s&&e>r&&(r=e,n=i.x<i.next.x?i:i.next,e===s))return n}i=i.next}while(i!==t);if(!n)return null;const o=n,l=n.x,c=n.y;let u,d=1/0;i=n;do{s>=i.x&&i.x>=l&&s!==i.x&&fo(a<c?s:r,a,l,c,a<c?r:s,a,i.x,i.y)&&(u=Math.abs(a-i.y)/(s-i.x),So(i,e)&&(u<d||u===d&&(i.x>n.x||i.x===n.x&&uo(n,i)))&&(n=i,d=u)),i=i.next}while(i!==o);return n}(e,t);if(!n)return t;const i=bo(n,e);return no(i,i.next),no(n,n.next)}function uo(e,t){return Ao(e.prev,e,t.prev)<0&&Ao(t.next,e,e.next)<0}function ho(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function po(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function fo(e,t,n,i,r,s,a,o){return(r-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(i-o)>=(n-a)*(t-o)&&(n-a)*(s-o)>=(r-a)*(i-o)}function go(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&vo(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(So(e,t)&&So(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Ao(e.prev,e,t.prev)||Ao(e,t.prev,t))||mo(e,t)&&Ao(e.prev,e,e.next)>0&&Ao(t.prev,t,t.next)>0)}function Ao(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function mo(e,t){return e.x===t.x&&e.y===t.y}function vo(e,t,n,i){const r=Eo(Ao(e,t,n)),s=Eo(Ao(e,t,i)),a=Eo(Ao(n,i,e)),o=Eo(Ao(n,i,t));return r!==s&&a!==o||!(0!==r||!yo(e,n,t))||!(0!==s||!yo(e,i,t))||!(0!==a||!yo(n,e,i))||!(0!==o||!yo(n,t,i))}function yo(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Eo(e){return e>0?1:e<0?-1:0}function So(e,t){return Ao(e.prev,e,e.next)<0?Ao(e,t,e.next)>=0&&Ao(e,e.prev,t)>=0:Ao(e,t,e.prev)<0||Ao(e,e.next,t)<0}function bo(e,t){const n=new Io(e.i,e.x,e.y),i=new Io(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function xo(e,t,n,i){const r=new Io(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function wo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Io(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Co{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return Co.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];To(e),Mo(n,e);let s=e.length;t.forEach(To);for(let e=0;e<t.length;e++)i.push(s),s+=t[e].length,Mo(n,t[e]);const a=function(e,t,n=2){const i=t&&t.length,r=i?t[0]*n:e.length;let s=to(e,0,r,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,d,h,p;if(i&&(s=function(e,t,n,i){const r=[];let s,a,o,l,c;for(s=0,a=t.length;s<a;s++)o=t[s]*i,l=s<a-1?t[s+1]*i:e.length,c=to(e,o,l,i,!1),c===c.next&&(c.steiner=!0),r.push(po(c));for(r.sort(lo),s=0;s<r.length;s++)n=co(r[s],n);return n}(e,t,s,n)),e.length>80*n){o=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)d=e[t],h=e[t+1],d<o&&(o=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);p=Math.max(c-o,u-l),p=0!==p?32767/p:0}return io(s,a,n,o,l,p,0),a}(n,i);for(let e=0;e<a.length;e+=3)r.push(a.slice(e,e+3));return r}}function To(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Mo(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Bo extends tr{constructor(e=new eo([new Nt(.5,.5),new Nt(-.5,.5),new Nt(-.5,-.5),new Nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let t=0,n=e.length;t<n;t++)s(e[t]);function s(e){const s=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,g=void 0!==t.UVGenerator?t.UVGenerator:Ro;let A,m,v,y,E,S=!1;f&&(A=f.getSpacedPoints(o),S=!0,c=!1,m=f.computeFrenetFrames(o,!1),v=new un,y=new un,E=new un),c||(p=0,u=0,d=0,h=0);const b=e.extractPoints(a);let x=b.shape;const w=b.holes;if(!Co.isClockWise(x)){x=x.reverse();for(let e=0,t=w.length;e<t;e++){const t=w[e];Co.isClockWise(t)&&(w[e]=t.reverse())}}const I=Co.triangulateShape(x,w),C=x;for(let e=0,t=w.length;e<t;e++){const t=w[e];x=x.concat(t)}function T(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const M=x.length,B=I.length;function R(e,t,n){let i,r,s;const a=e.x-t.x,o=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+o*o,d=a*c-o*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),p=t.x-o/d,f=t.y+a/d,g=((n.x-c/h-p)*c-(n.y+l/h-f)*l)/(a*c-o*l);i=p+a*g-e.x,r=f+o*g-e.y;const A=i*i+r*r;if(A<=2)return new Nt(i,r);s=Math.sqrt(A/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(c)&&(e=!0),e?(i=-o,r=a,s=Math.sqrt(u)):(i=a,r=o,s=Math.sqrt(u/2))}return new Nt(i/s,r/s)}const P=[];for(let e=0,t=C.length,n=t-1,i=e+1;e<t;e++,n++,i++)n===t&&(n=0),i===t&&(i=0),P[e]=R(C[e],C[n],C[i]);const _=[];let D,N=P.concat();for(let e=0,t=w.length;e<t;e++){const t=w[e];D=[];for(let e=0,n=t.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[e]=R(t[e],t[i],t[r]);_.push(D),N=N.concat(D)}for(let e=0;e<p;e++){const t=e/p,n=u*Math.cos(t*Math.PI/2),i=d*Math.sin(t*Math.PI/2)+h;for(let e=0,t=C.length;e<t;e++){const t=T(C[e],P[e],i);k(t.x,t.y,-n)}for(let e=0,t=w.length;e<t;e++){const t=w[e];D=_[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],D[e],i);k(r.x,r.y,-n)}}}const L=d+h;for(let e=0;e<M;e++){const t=c?T(x[e],N[e],L):x[e];S?(y.copy(m.normals[0]).multiplyScalar(t.x),v.copy(m.binormals[0]).multiplyScalar(t.y),E.copy(A[0]).add(y).add(v),k(E.x,E.y,E.z)):k(t.x,t.y,0)}for(let e=1;e<=o;e++)for(let t=0;t<M;t++){const n=c?T(x[t],N[t],L):x[t];S?(y.copy(m.normals[e]).multiplyScalar(n.x),v.copy(m.binormals[e]).multiplyScalar(n.y),E.copy(A[e]).add(y).add(v),k(E.x,E.y,E.z)):k(n.x,n.y,l/o*e)}for(let e=p-1;e>=0;e--){const t=e/p,n=u*Math.cos(t*Math.PI/2),i=d*Math.sin(t*Math.PI/2)+h;for(let e=0,t=C.length;e<t;e++){const t=T(C[e],P[e],i);k(t.x,t.y,l+n)}for(let e=0,t=w.length;e<t;e++){const t=w[e];D=_[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],D[e],i);S?k(r.x,r.y+A[o-1].y,A[o-1].x+n):k(r.x,r.y,l+n)}}}function O(e,t){let n=e.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=o+2*p;e<n;e++){const n=M*e,s=M*(e+1);F(t+i+n,t+r+n,t+r+s,t+i+s)}}}function k(e,t,n){s.push(e),s.push(t),s.push(n)}function U(e,t,r){Q(e),Q(t),Q(r);const s=i.length/3,a=g.generateTopUV(n,i,s-3,s-2,s-1);V(a[0]),V(a[1]),V(a[2])}function F(e,t,r,s){Q(e),Q(t),Q(s),Q(t),Q(r),Q(s);const a=i.length/3,o=g.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);V(o[0]),V(o[1]),V(o[3]),V(o[1]),V(o[2]),V(o[3])}function Q(e){i.push(s[3*e+0]),i.push(s[3*e+1]),i.push(s[3*e+2])}function V(e){r.push(e.x),r.push(e.y)}!function(){const e=i.length/3;if(c){let e=0,t=M*e;for(let e=0;e<B;e++){const n=I[e];U(n[2]+t,n[1]+t,n[0]+t)}e=o+2*p,t=M*e;for(let e=0;e<B;e++){const n=I[e];U(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<B;e++){const t=I[e];U(t[2],t[1],t[0])}for(let e=0;e<B;e++){const t=I[e];U(t[0]+M*o,t[1]+M*o,t[2]+M*o)}}n.addGroup(e,i.length/3-e,0)}(),function(){const e=i.length/3;let t=0;O(C,t),t+=C.length;for(let e=0,n=w.length;e<n;e++){const n=w[e];O(n,t),t+=n.length}n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new ji(i,3)),this.setAttribute("uv",new ji(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,i=e.length;t<i;t++){const i=e[t];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new Fa[i.type]).fromJSON(i)),new Bo(n,e.options)}}const Ro={generateTopUV:function(e,t,n,i,r){const s=t[3*n],a=t[3*n+1],o=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new Nt(s,a),new Nt(o,l),new Nt(c,u)]},generateSideWallUV:function(e,t,n,i,r,s){const a=t[3*n],o=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],f=t[3*r+2],g=t[3*s],A=t[3*s+1],m=t[3*s+2];return Math.abs(o-u)<Math.abs(a-c)?[new Nt(a,1-l),new Nt(c,1-d),new Nt(h,1-f),new Nt(g,1-m)]:[new Nt(o,1-l),new Nt(u,1-d),new Nt(p,1-f),new Nt(A,1-m)]}};class Po extends ja{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Po(e.radius,e.detail)}}class _o extends ja{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _o(e.radius,e.detail)}}class Do extends tr{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,s=t/2,a=Math.floor(n),o=Math.floor(i),l=a+1,c=o+1,u=e/a,d=t/o,h=[],p=[],f=[],g=[];for(let e=0;e<c;e++){const t=e*d-s;for(let n=0;n<l;n++){const i=n*u-r;p.push(i,-t,0),f.push(0,0,1),g.push(n/a),g.push(1-e/o)}}for(let e=0;e<o;e++)for(let t=0;t<a;t++){const n=t+l*e,i=t+l*(e+1),r=t+1+l*(e+1),s=t+1+l*e;h.push(n,i,s),h.push(i,r,s)}this.setIndex(h),this.setAttribute("position",new ji(p,3)),this.setAttribute("normal",new ji(f,3)),this.setAttribute("uv",new ji(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Do(e.width,e.height,e.widthSegments,e.heightSegments)}}class No extends tr{constructor(e=.5,t=1,n=32,i=1,r=0,s=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},n=Math.max(3,n);const a=[],o=[],l=[],c=[];let u=e;const d=(t-e)/(i=Math.max(1,i)),h=new un,p=new Nt;for(let e=0;e<=i;e++){for(let e=0;e<=n;e++){const i=r+e/n*s;h.x=u*Math.cos(i),h.y=u*Math.sin(i),o.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let e=0;e<i;e++){const t=e*(n+1);for(let e=0;e<n;e++){const i=e+t,r=i,s=i+n+1,o=i+n+2,l=i+1;a.push(r,s,l),a.push(s,o,l)}}this.setIndex(a),this.setAttribute("position",new ji(o,3)),this.setAttribute("normal",new ji(l,3)),this.setAttribute("uv",new ji(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new No(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Lo extends tr{constructor(e=new eo([new Nt(0,.5),new Nt(-.5,-.5),new Nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],s=[];let a=0,o=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(a,o,t),a+=o,o=0;function l(e){const a=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Co.isClockWise(c)&&(c=c.reverse());for(let e=0,t=u.length;e<t;e++){const t=u[e];!0===Co.isClockWise(t)&&(u[e]=t.reverse())}const d=Co.triangulateShape(c,u);for(let e=0,t=u.length;e<t;e++){const t=u[e];c=c.concat(t)}for(let e=0,t=c.length;e<t;e++){const t=c[e];i.push(t.x,t.y,0),r.push(0,0,1),s.push(t.x,t.y)}for(let e=0,t=d.length;e<t;e++){const t=d[e],i=t[0]+a,r=t[1]+a,s=t[2]+a;n.push(i,r,s),o+=3}}this.setIndex(n),this.setAttribute("position",new ji(i,3)),this.setAttribute("normal",new ji(r,3)),this.setAttribute("uv",new ji(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}return new Lo(n,e.curveSegments)}}class Oo extends tr{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(s+a,Math.PI);let l=0;const c=[],u=new un,d=new un,h=[],p=[],f=[],g=[];for(let h=0;h<=n;h++){const A=[],m=h/n;let v=0;0===h&&0===s?v=.5/t:h===n&&o===Math.PI&&(v=-.5/t);for(let n=0;n<=t;n++){const o=n/t;u.x=-e*Math.cos(i+o*r)*Math.sin(s+m*a),u.y=e*Math.cos(s+m*a),u.z=e*Math.sin(i+o*r)*Math.sin(s+m*a),p.push(u.x,u.y,u.z),d.copy(u).normalize(),f.push(d.x,d.y,d.z),g.push(o+v,1-m),A.push(l++)}c.push(A)}for(let e=0;e<n;e++)for(let i=0;i<t;i++){const t=c[e][i+1],r=c[e][i],a=c[e+1][i],l=c[e+1][i+1];(0!==e||s>0)&&h.push(t,r,l),(e!==n-1||o<Math.PI)&&h.push(r,a,l)}this.setIndex(h),this.setAttribute("position",new ji(p,3)),this.setAttribute("normal",new ji(f,3)),this.setAttribute("uv",new ji(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Oo(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ko extends ja{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ko(e.radius,e.detail)}}class Uo extends tr{constructor(e=1,t=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],o=[],l=[],c=new un,u=new un,d=new un;for(let s=0;s<=n;s++)for(let h=0;h<=i;h++){const p=h/i*r,f=s/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),a.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),o.push(d.x,d.y,d.z),l.push(h/i),l.push(s/n)}for(let e=1;e<=n;e++)for(let t=1;t<=i;t++){const n=(i+1)*e+t-1,r=(i+1)*(e-1)+t-1,a=(i+1)*(e-1)+t,o=(i+1)*e+t;s.push(n,r,o),s.push(r,a,o)}this.setIndex(s),this.setAttribute("position",new ji(a,3)),this.setAttribute("normal",new ji(o,3)),this.setAttribute("uv",new ji(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uo(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Fo extends tr{constructor(e=1,t=.4,n=64,i=8,r=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new un,d=new un,h=new un,p=new un,f=new un,g=new un,A=new un;for(let a=0;a<=n;++a){const v=a/n*r*Math.PI*2;m(v,r,s,e,h),m(v+.01,r,s,e,p),g.subVectors(p,h),A.addVectors(p,h),f.crossVectors(g,A),A.crossVectors(f,g),f.normalize(),A.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,s=-t*Math.cos(r),p=t*Math.sin(r);u.x=h.x+(s*A.x+p*f.x),u.y=h.y+(s*A.y+p*f.y),u.z=h.z+(s*A.z+p*f.z),o.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(a/n),c.push(e/i)}}for(let e=1;e<=n;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),s=(i+1)*e+t,o=(i+1)*(e-1)+t;a.push(n,r,o),a.push(r,s,o)}function m(e,t,n,i,r){const s=Math.cos(e),a=Math.sin(e),o=n/t*e,l=Math.cos(o);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(o)*.5}this.setIndex(a),this.setAttribute("position",new ji(o,3)),this.setAttribute("normal",new ji(l,3)),this.setAttribute("uv",new ji(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fo(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Qo extends tr{constructor(e=new ka(new un(-1,-1,0),new un(-1,1,0),new un(1,1,0)),t=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const s=e.computeFrenetFrames(t,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new un,o=new un,l=new Nt;let c=new un;const u=[],d=[],h=[],p=[];function f(r){c=e.getPointAt(r/t,c);const l=s.normals[r],h=s.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),s=-Math.cos(t);o.x=s*l.x+r*h.x,o.y=s*l.y+r*h.y,o.z=s*l.z+r*h.z,o.normalize(),d.push(o.x,o.y,o.z),a.x=c.x+n*o.x,a.y=c.y+n*o.y,a.z=c.z+n*o.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)f(e);f(!1===r?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),s=(i+1)*e+t,a=(i+1)*(e-1)+t;p.push(n,r,a),p.push(r,s,a)}}()}(),this.setIndex(p),this.setAttribute("position",new ji(u,3)),this.setAttribute("normal",new ji(d,3)),this.setAttribute("uv",new ji(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Qo((new Fa[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Vo extends tr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new un,r=new un;if(null!==e.index){const s=e.attributes.position,a=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],c=l.start;for(let e=c,o=c+l.count;e<o;e+=3)for(let o=0;o<3;o++){const l=a.getX(e+o),c=a.getX(e+(o+1)%3);i.fromBufferAttribute(s,l),r.fromBufferAttribute(s,c),!0===Ho(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const s=e.attributes.position;for(let e=0,a=s.count/3;e<a;e++)for(let a=0;a<3;a++){const o=3*e+a,l=3*e+(a+1)%3;i.fromBufferAttribute(s,o),r.fromBufferAttribute(s,l),!0===Ho(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new ji(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Ho(e,t,n){const i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var Go=Object.freeze({__proto__:null,BoxGeometry:gr,CapsuleGeometry:Ga,CircleGeometry:za,ConeGeometry:Xa,CylinderGeometry:Wa,DodecahedronGeometry:qa,EdgesGeometry:$a,ExtrudeGeometry:Bo,IcosahedronGeometry:Po,LatheGeometry:Ha,OctahedronGeometry:_o,PlaneGeometry:Do,PolyhedronGeometry:ja,RingGeometry:No,ShapeGeometry:Lo,SphereGeometry:Oo,TetrahedronGeometry:ko,TorusGeometry:Uo,TorusKnotGeometry:Fo,TubeGeometry:Qo,WireframeGeometry:Vo});class zo extends Li{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new _i(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Wo extends Er{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Xo extends Li{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new _i(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jo extends Xo{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new _i(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new _i(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _i(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qo extends Li{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new _i(16777215),this.specular=new _i(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yo extends Li{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _i(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Jo extends Li{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Zo extends Li{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new _i(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ko extends Li{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $o extends Li{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class el extends Li{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _i(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tl extends Js{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function nl(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function il(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rl(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort(function(t,n){return e[t]-e[n]}),n}function sl(e,t,n){const i=e.length,r=new e.constructor(i);for(let s=0,a=0;a!==i;++s){const i=n[s]*t;for(let n=0;n!==t;++n)r[a++]=e[i+n]}return r}function al(e,t,n,i){let r=1,s=e[0];for(;void 0!==s&&void 0===s[i];)s=e[r++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do{a=s[i],void 0!==a&&(t.push(s.time),n.push.apply(n,a)),s=e[r++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[i],void 0!==a&&(t.push(s.time),a.toArray(n,n.length)),s=e[r++]}while(void 0!==s);else do{a=s[i],void 0!==a&&(t.push(s.time),n.push(a)),s=e[r++]}while(void 0!==s)}const ol={convertArray:nl,isTypedArray:il,getKeyframeOrder:rl,sortedArray:sl,flattenJSON:al,subclip:function(e,t,n,i,r=30){const s=e.clone();s.name=t;const a=[];for(let e=0;e<s.tracks.length;++e){const t=s.tracks[e],o=t.getValueSize(),l=[],c=[];for(let e=0;e<t.times.length;++e){const s=t.times[e]*r;if(!(s<n||s>=i)){l.push(t.times[e]);for(let n=0;n<o;++n)c.push(t.values[e*o+n])}}0!==l.length&&(t.times=nl(l,t.times.constructor),t.values=nl(c,t.values.constructor),a.push(t))}s.tracks=a;let o=1/0;for(let e=0;e<s.tracks.length;++e)o>s.tracks[e].times[0]&&(o=s.tracks[e].times[0]);for(let e=0;e<s.tracks.length;++e)s.tracks[e].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(e,t=0,n=e,i=30){i<=0&&(i=30);const r=n.tracks.length,s=t/i;for(let t=0;t<r;++t){const i=n.tracks[t],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const a=e.tracks.find(function(e){return e.name===i.name&&e.ValueTypeName===r});if(void 0===a)continue;let o=0;const l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=i.times.length-1;let h;if(s<=i.times[0]){const e=o,t=l-o;h=i.values.slice(e,t)}else if(s>=i.times[d]){const e=d*l+o,t=e+l-o;h=i.values.slice(e,t)}else{const e=i.createInterpolant(),t=o,n=l-o;e.evaluate(s),h=e.resultBuffer.slice(t,n)}"quaternion"===r&&(new cn).fromArray(h).normalize().conjugate().toArray(h);const p=a.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===r)cn.multiplyQuaternionsFlat(a.values,t,h,0,a.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)a.values[t+n]-=h[n]}}}return e.blendMode=it,e}};class ll{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let s=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=r)){const a=t[1];e<a&&(n=2,r=a);for(let s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0;break n}break e}for(;n<s;){const i=n+s>>>1;e<t[i]?s=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let e=0;e!==i;++e)t[e]=n[r+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cl extends ll{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:et,endingEnd:et}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,s=e+1,a=i[r],o=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case tt:r=e,a=2*t-n;break;case nt:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case tt:s=e,o=2*n-t;break;case nt:s=1,o=n+i[1]-i[0];break;default:s=e-1,o=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-n),this._offsetPrev=r*c,this._offsetNext=s*c}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),f=p*p,g=f*p,A=-d*g+2*d*f-d*p,m=(1+d)*g+(-1.5-2*d)*f+(-.5+d)*p+1,v=(-1-h)*g+(1.5+h)*f+.5*p,y=h*g-h*f;for(let e=0;e!==a;++e)r[e]=A*s[c+e]+m*s[l+e]+v*s[o+e]+y*s[u+e];return r}}class ul extends ll{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=(n-t)/(i-t),u=1-c;for(let e=0;e!==a;++e)r[e]=s[l+e]*u+s[o+e]*c;return r}}class dl extends ll{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class hl{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=nl(t,this.TimeBufferType),this.values=nl(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:nl(e.times,Array),values:nl(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new dl(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ul(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cl(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ze:t=this.InterpolantFactoryMethodDiscrete;break;case Ke:t=this.InterpolantFactoryMethodLinear;break;case $e:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ze;case this.InterpolantFactoryMethodLinear:return Ke;case this.InterpolantFactoryMethodSmooth:return $e}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const e=this.getValueSize();this.times=n.slice(r,s),this.values=this.values.slice(r*e,s*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let t=0;t!==r;t++){const i=n[t];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,i),e=!1;break}if(null!==s&&s>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,i,s),e=!1;break}s=i}if(void 0!==i&&il(i))for(let t=0,n=i.length;t!==n;++t){const n=i[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===$e,r=e.length-1;let s=1;for(let a=1;a<r;++a){let r=!1;const o=e[a];if(o!==e[a+1]&&(1!==a||o!==e[0]))if(i)r=!0;else{const e=a*n,i=e-n,s=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[i+a]||n!==t[s+a]){r=!0;break}}}if(r){if(a!==s){e[s]=e[a];const i=a*n,r=s*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++s}}if(r>0){e[s]=e[r];for(let e=r*n,i=s*n,a=0;a!==n;++a)t[i+a]=t[e+a];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}hl.prototype.TimeBufferType=Float32Array,hl.prototype.ValueBufferType=Float32Array,hl.prototype.DefaultInterpolation=Ke;class pl extends hl{constructor(e,t,n){super(e,t,n)}}pl.prototype.ValueTypeName="bool",pl.prototype.ValueBufferType=Array,pl.prototype.DefaultInterpolation=Ze,pl.prototype.InterpolantFactoryMethodLinear=void 0,pl.prototype.InterpolantFactoryMethodSmooth=void 0;class fl extends hl{}fl.prototype.ValueTypeName="color";class gl extends hl{}gl.prototype.ValueTypeName="number";class Al extends ll{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-t)/(i-t);let l=e*a;for(let e=l+a;l!==e;l+=4)cn.slerpFlat(r,0,s,l-a,s,l,o);return r}}class ml extends hl{InterpolantFactoryMethodLinear(e){return new Al(this.times,this.values,this.getValueSize(),e)}}ml.prototype.ValueTypeName="quaternion",ml.prototype.InterpolantFactoryMethodSmooth=void 0;class vl extends hl{constructor(e,t,n){super(e,t,n)}}vl.prototype.ValueTypeName="string",vl.prototype.ValueBufferType=Array,vl.prototype.DefaultInterpolation=Ze,vl.prototype.InterpolantFactoryMethodLinear=void 0,vl.prototype.InterpolantFactoryMethodSmooth=void 0;class yl extends hl{}yl.prototype.ValueTypeName="vector";class El{constructor(e="",t=-1,n=[],i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Tt(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let e=0,r=n.length;e!==r;++e)t.push(Sl(n[e]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,i=n.length;e!==i;++e)t.push(hl.toJSON(n[e]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,s=[];for(let e=0;e<r;e++){let a=[],o=[];a.push((e+r-1)%r,e,(e+1)%r),o.push(0,1,0);const l=rl(a);a=sl(a,1,l),o=sl(o,1,l),i||0!==a[0]||(a.push(r),o.push(o[0])),s.push(new gl(".morphTargetInfluences["+t[e].name+"]",a,o).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],s=n.name.match(r);if(s&&s.length>1){const e=s[1];let t=i[e];t||(i[e]=t=[]),t.push(n)}}const s=[];for(const e in i)s.push(this.CreateFromMorphTargetSequence(e,i[e],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const s=[],a=[];al(n,s,a,i),0!==s.length&&r.push(new e(t,s,a))}},i=[],r=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const r=l[e].keys;if(r&&0!==r.length)if(r[0].morphTargets){const e={};let t;for(t=0;t<r.length;t++)if(r[t].morphTargets)for(let n=0;n<r[t].morphTargets.length;n++)e[r[t].morphTargets[n]]=-1;for(const n in e){const e=[],s=[];for(let i=0;i!==r[t].morphTargets.length;++i){const i=r[t];e.push(i.time),s.push(i.morphTarget===n?1:0)}i.push(new gl(".morphTargetInfluence["+n+"]",e,s))}o=e.length*s}else{const s=".bones["+t[e].name+"]";n(yl,s+".position",r,"pos",i),n(ml,s+".quaternion",r,"rot",i),n(yl,s+".scale",r,"scl",i)}}return 0===i.length?null:new this(r,o,i,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Sl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gl;case"vector":case"vector2":case"vector3":case"vector4":return yl;case"color":return fl;case"quaternion":return ml;case"bool":case"boolean":return pl;case"string":return vl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];al(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const bl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class xl{constructor(e,t,n){const i=this;let r,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===s&&void 0!==i.onStart&&i.onStart(e,a,o),s=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(s=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const wl=new xl;class Il{constructor(e){this.manager=void 0!==e?e:wl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Il.DEFAULT_MATERIAL_NAME="__DEFAULT";const Cl={};class Tl extends Error{constructor(e,t){super(e),this.response=t}}class Ml extends Il{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=bl.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==Cl[e])return void Cl[e].push({onLoad:t,onProgress:n,onError:i});Cl[e]=[],Cl[e].push({onLoad:t,onProgress:n,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(s).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Cl[e],i=t.body.getReader(),r=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),s=r?parseInt(r):0,a=0!==s;let o=0;const l=new ReadableStream({start(e){!function t(){i.read().then(({done:i,value:r})=>{if(i)e.close();else{o+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:s});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(r),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new Tl(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,a));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,i=new TextDecoder(n);return e.arrayBuffer().then(e=>i.decode(e))}}}).then(t=>{bl.add(e,t);const n=Cl[e];delete Cl[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{const n=Cl[e];if(void 0===n)throw this.manager.itemError(e),t;delete Cl[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Bl extends Il{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=bl.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const a=Qt("img");function o(){c(),bl.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class Rl extends pi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new _i(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class Pl extends Rl{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _i(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const _l=new Qn,Dl=new un,Nl=new un;class Ll{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Qn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ps,this._frameExtents=new Nt(1,1),this._viewportCount=1,this._viewports=[new rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Dl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Dl),Nl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Nl),t.updateMatrixWorld(),_l.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_l),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(_l)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ol extends Ll{constructor(){super(new Ir(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Ct*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class kl extends Rl{constructor(e,t,n=0,i=Math.PI/3,r=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pi.DEFAULT_UP),this.updateMatrix(),this.target=new pi,this.distance=n,this.angle=i,this.penumbra=r,this.decay=s,this.map=null,this.shadow=new Ol}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Ul=new Qn,Fl=new un,Ql=new un;class Vl extends Ll{constructor(){super(new Ir(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Nt(4,2),this._viewportCount=6,this._viewports=[new rn(2,1,1,1),new rn(0,1,1,1),new rn(3,1,1,1),new rn(1,1,1,1),new rn(3,0,1,1),new rn(1,0,1,1)],this._cubeDirections=[new un(1,0,0),new un(-1,0,0),new un(0,0,1),new un(0,0,-1),new un(0,1,0),new un(0,-1,0)],this._cubeUps=[new un(0,1,0),new un(0,1,0),new un(0,1,0),new un(0,1,0),new un(0,0,1),new un(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Fl.setFromMatrixPosition(e.matrixWorld),n.position.copy(Fl),Ql.copy(n.position),Ql.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Ql),n.updateMatrixWorld(),i.makeTranslation(-Fl.x,-Fl.y,-Fl.z),Ul.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ul)}}class Hl extends Rl{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Vl}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Gl extends Sr{constructor(e=-1,t=1,n=1,i=-1,r=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,s=n+e,a=i+t,o=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,s=r+e*this.view.width,a-=t*this.view.offsetY,o=a-t*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class zl extends Ll{constructor(){super(new Gl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Wl extends Rl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pi.DEFAULT_UP),this.updateMatrix(),this.target=new pi,this.shadow=new zl}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Xl extends Rl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class jl extends Rl{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class ql{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new un)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*r),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],n*i*1.092548),t.addScaledVector(s[5],i*r*1.092548),t.addScaledVector(s[6],.315392*(3*r*r-1)),t.addScaledVector(s[7],n*r*1.092548),t.addScaledVector(s[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*i),t.addScaledVector(s[2],1.023328*r),t.addScaledVector(s[3],1.023328*n),t.addScaledVector(s[4],.858086*n*i),t.addScaledVector(s[5],.858086*i*r),t.addScaledVector(s[6],.743125*r*r-.247708),t.addScaledVector(s[7],.858086*n*r),t.addScaledVector(s[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class Yl extends Rl{constructor(e=new ql,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Jl extends Il{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,s=new Ml(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new _i).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(i.dispersion=e.dispersion),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(i.depthFunc=e.depthFunc),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(i.blendSrc=e.blendSrc),void 0!==e.blendDst&&(i.blendDst=e.blendDst),void 0!==e.blendEquation&&(i.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(i.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(i.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(i.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(i.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),void 0!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const r=e.uniforms[t];switch(i.uniforms[t]={},r.type){case"t":i.uniforms[t].value=n(r.value);break;case"c":i.uniforms[t].value=(new _i).setHex(r.value);break;case"v2":i.uniforms[t].value=(new Nt).fromArray(r.value);break;case"v3":i.uniforms[t].value=(new un).fromArray(r.value);break;case"v4":i.uniforms[t].value=(new rn).fromArray(r.value);break;case"m3":i.uniforms[t].value=(new Lt).fromArray(r.value);break;case"m4":i.uniforms[t].value=(new Qn).fromArray(r.value);break;default:i.uniforms[t].value=r.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(const t in e.extensions)i.extensions[t]=e.extensions[t];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new Nt).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapRotation&&i.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Nt).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Jl.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:zo,SpriteMaterial:Or,RawShaderMaterial:Wo,ShaderMaterial:Er,PointsMaterial:ua,MeshPhysicalMaterial:jo,MeshStandardMaterial:Xo,MeshPhongMaterial:qo,MeshToonMaterial:Yo,MeshNormalMaterial:Jo,MeshLambertMaterial:Zo,MeshDepthMaterial:Ko,MeshDistanceMaterial:$o,MeshBasicMaterial:Oi,MeshMatcapMaterial:el,LineDashedMaterial:tl,LineBasicMaterial:Js,Material:Li}[e]}}class Zl{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Kl extends tr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $l extends Il{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new Ml(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(e,i){if(void 0!==t[i])return t[i];const r=e.interleavedBuffers[i],s=function(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers[t],r=new Uint32Array(i).buffer;return n[t]=r,r}(e,r.buffer),a=Ft(r.type,s),o=new Dr(a,r.stride);return o.uuid=r.uuid,t[i]=o,o}const r=e.isInstancedBufferGeometry?new Kl:new tr,s=e.data.index;if(void 0!==s){const e=Ft(s.type,s.array);r.setIndex(new zi(e,1))}const a=e.data.attributes;for(const t in a){const n=a[t];let s;if(n.isInterleavedBufferAttribute){const t=i(e.data,n.data);s=new Lr(t,n.itemSize,n.offset,n.normalized)}else{const e=Ft(n.type,n.array);s=new(n.isInstancedBufferAttribute?As:zi)(e,n.itemSize,n.normalized)}void 0!==n.name&&(s.name=n.name),void 0!==n.usage&&s.setUsage(n.usage),r.setAttribute(t,s)}const o=e.data.morphAttributes;if(o)for(const t in o){const n=o[t],s=[];for(let t=0,r=n.length;t<r;t++){const r=n[t];let a;if(r.isInterleavedBufferAttribute){const t=i(e.data,r.data);a=new Lr(t,r.itemSize,r.offset,r.normalized)}else{const e=Ft(r.type,r.array);a=new zi(e,r.itemSize,r.normalized)}void 0!==r.name&&(a.name=r.name),s.push(a)}r.morphAttributes[t]=s}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){const t=l[e];r.addGroup(t.start,t.count,t.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new un;void 0!==c.center&&e.fromArray(c.center),r.boundingSphere=new Pn(e,c.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}const ec={UVMapping:N,CubeReflectionMapping:L,CubeRefractionMapping:O,EquirectangularReflectionMapping:k,EquirectangularRefractionMapping:U,CubeUVReflectionMapping:F},tc={RepeatWrapping:Q,ClampToEdgeWrapping:V,MirroredRepeatWrapping:H},nc={NearestFilter:G,NearestMipmapNearestFilter:z,NearestMipmapLinearFilter:W,LinearFilter:X,LinearMipmapNearestFilter:j,LinearMipmapLinearFilter:q};let ic;class rc{static getContext(){return void 0===ic&&(ic=new(window.AudioContext||window.webkitAudioContext)),ic}static setContext(e){ic=e}}const sc=new Qn,ac=new Qn,oc=new Qn;class lc extends Ir{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class cc{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=uc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=uc();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function uc(){return performance.now()}const dc=new un,hc=new cn,pc=new un,fc=new un;class gc extends pi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ac=new un,mc=new cn,vc=new un,yc=new un;class Ec{constructor(e,t,n){let i,r,s;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==i;++e)n[r+e]=n[e];s=t}else{s+=t;const e=t/s;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let e=t,r=t+t;e!==r;++e)if(n[e]!==n[e+t]){a.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let e=n,r=i;e!==r;++e)t[e]=t[i+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)e[t+i]=e[n+i]}_slerp(e,t,n,i){cn.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const s=this._workIndex*r;cn.multiplyQuaternionsFlat(e,s,e,t,e,n),cn.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,n,i,r){const s=1-i;for(let a=0;a!==r;++a){const r=t+a;e[r]=e[r]*s+e[n+a]*i}}_lerpAdditive(e,t,n,i,r){for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]+e[n+s]*i}}}const Sc="\\[\\]\\.:\\/",bc=new RegExp("["+Sc+"]","g"),xc="[^"+Sc+"]",wc="[^"+Sc.replace("\\.","")+"]",Ic=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",xc)+/(WCOD+)?/.source.replace("WCOD",wc)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xc)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xc)+"$"),Cc=["material","materials","bones","map"];class Tc{constructor(e,t,n){this.path=t,this.parsedPath=n||Tc.parseTrackName(t),this.node=Tc.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Tc.Composite(e,t,n):new Tc(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bc,"")}static parseTrackName(e){const t=Ic.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==Cc.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const s=n(r.children);if(s)return s}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Tc.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const s=e[i];if(void 0===s){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?a=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tc.Composite=class{constructor(e,t,n){const i=n||Tc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Tc.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Tc.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Tc.prototype.GetterByBindingType=[Tc.prototype._getValue_direct,Tc.prototype._getValue_array,Tc.prototype._getValue_arrayElement,Tc.prototype._getValue_toArray],Tc.prototype.SetterByBindingTypeAndVersioning=[[Tc.prototype._setValue_direct,Tc.prototype._setValue_direct_setNeedsUpdate,Tc.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tc.prototype._setValue_array,Tc.prototype._setValue_array_setNeedsUpdate,Tc.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tc.prototype._setValue_arrayElement,Tc.prototype._setValue_arrayElement_setNeedsUpdate,Tc.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tc.prototype._setValue_fromArray,Tc.prototype._setValue_fromArray_setNeedsUpdate,Tc.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Mc{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,s=r.length,a=new Array(s),o={endingStart:et,endingEnd:et};for(let e=0;e!==s;++e){const t=r[e].createInterpolant(null);a[e]=t,t.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,s=n/i;e.warp(1,r,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,o[1]=r+n,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===it)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(s),t[n].accumulateAdditive(a);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(s),t[n].accumulate(i,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const s=2202===n;if(0===e)return-1===r||!s||1&~r?i:t-i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(s&&!(1&~r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=tt,i.endingEnd=tt):(i.endingStart=e?this.zeroSlopeAtStart?tt:et:nt,i.endingEnd=t?this.zeroSlopeAtEnd?tt:et:nt)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=r,o[0]=t,a[1]=r+e,o[1]=n,this}}const Bc=new Float32Array(1);class Rc{constructor(e){this.value=e}clone(){return new Rc(void 0===this.value.clone?this.value:this.value.clone())}}let Pc=0;const _c=new Qn;function Dc(e,t){return e.distance-t.distance}function Nc(e,t,n,i){let r=!0;if(e.layers.test(t.layers)&&!1===e.raycast(t,n)&&(r=!1),!0===r&&!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)Nc(i[e],t,n,!0)}}class Lc{constructor(e,t,n,i){Lc.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=i,this}}const Oc=new Nt,kc=new un,Uc=new un,Fc=new un,Qc=new un,Vc=new Qn,Hc=new Qn;function Gc(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Gc(e.children[n]));return t}const zc=new un,Wc=new _i,Xc=new _i,jc=new un,qc=new un,Yc=new un,Jc=new un,Zc=new Sr;function Kc(e,t,n,i,r,s,a){Jc.set(r,s,a).unproject(i);const o=t[e];if(void 0!==o){const e=n.getAttribute("position");for(let t=0,n=o.length;t<n;t++)e.setXYZ(o[t],Jc.x,Jc.y,Jc.z)}}const $c=new pn,eu=new un;let tu,nu;function iu(e,t,n,i){const r=function(e){switch(e){case Y:case J:return{byteLength:1,components:1};case K:case Z:case ne:return{byteLength:2,components:1};case ie:case re:return{byteLength:2,components:4};case ee:case $:case te:return{byteLength:4,components:1};case ae:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(i);switch(n){case oe:case ue:return e*t;case de:return e*t*2;case fe:case ge:return e*t/r.components*r.byteLength;case Ae:case me:return e*t*2/r.components*r.byteLength;case le:return e*t*3/r.components*r.byteLength;case ce:case ve:return e*t*4/r.components*r.byteLength;case ye:case Ee:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Se:case be:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case we:case Ce:return Math.max(e,16)*Math.max(t,8)/4;case xe:case Ie:return Math.max(e,8)*Math.max(t,8)/2;case Te:case Me:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Be:case Re:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Pe:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case _e:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case De:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Ne:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case Le:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Oe:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case ke:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Ue:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Fe:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Qe:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Ve:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case He:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Ge:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case ze:case We:case Xe:return Math.ceil(e/4)*Math.ceil(t/4)*16;case je:case qe:return Math.ceil(e/4)*Math.ceil(t/4)*8;case Ye:case Je:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}const ru={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:iu};function su(){let e=null,t=!1,n=null,i=null;function r(t,s){n(t,s),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function au(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const r=t.get(n);if(void 0===r)t.set(n,function(t,n){const i=t.array,r=t.usage,s=i.byteLength,a=e.createBuffer();let o;if(e.bindBuffer(n,a),e.bufferData(n,i,r),t.onUploadCallback(),i instanceof Float32Array)o=e.FLOAT;else if(i instanceof Uint16Array)o=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)o=e.SHORT;else if(i instanceof Uint32Array)o=e.UNSIGNED_INT;else if(i instanceof Int32Array)o=e.INT;else if(i instanceof Int8Array)o=e.BYTE;else if(i instanceof Uint8Array)o=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);o=e.UNSIGNED_BYTE}return{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:s}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,i){const r=n.array,s=n.updateRanges;if(e.bindBuffer(i,t),0===s.length)e.bufferSubData(i,0,r);else{s.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<s.length;e++){const n=s[t],i=s[e];i.start<=n.start+n.count+1?n.count=Math.max(n.count,i.start+i.count-n.start):(++t,s[t]=i)}s.length=t+1;for(let t=0,n=s.length;t<n;t++){const n=s[t];e.bufferSubData(i,n.start*r.BYTES_PER_ELEMENT,r,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:n}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=n);const ou={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},lu={common:{diffuse:{value:new _i(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Lt}},envmap:{envMap:{value:null},envMapRotation:{value:new Lt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Lt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Lt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Lt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Lt},normalScale:{value:new Nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Lt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Lt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Lt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Lt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _i(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _i(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0},uvTransform:{value:new Lt}},sprite:{diffuse:{value:new _i(16777215)},opacity:{value:1},center:{value:new Nt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}}},cu={basic:{uniforms:mr([lu.common,lu.specularmap,lu.envmap,lu.aomap,lu.lightmap,lu.fog]),vertexShader:ou.meshbasic_vert,fragmentShader:ou.meshbasic_frag},lambert:{uniforms:mr([lu.common,lu.specularmap,lu.envmap,lu.aomap,lu.lightmap,lu.emissivemap,lu.bumpmap,lu.normalmap,lu.displacementmap,lu.fog,lu.lights,{emissive:{value:new _i(0)}}]),vertexShader:ou.meshlambert_vert,fragmentShader:ou.meshlambert_frag},phong:{uniforms:mr([lu.common,lu.specularmap,lu.envmap,lu.aomap,lu.lightmap,lu.emissivemap,lu.bumpmap,lu.normalmap,lu.displacementmap,lu.fog,lu.lights,{emissive:{value:new _i(0)},specular:{value:new _i(1118481)},shininess:{value:30}}]),vertexShader:ou.meshphong_vert,fragmentShader:ou.meshphong_frag},standard:{uniforms:mr([lu.common,lu.envmap,lu.aomap,lu.lightmap,lu.emissivemap,lu.bumpmap,lu.normalmap,lu.displacementmap,lu.roughnessmap,lu.metalnessmap,lu.fog,lu.lights,{emissive:{value:new _i(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ou.meshphysical_vert,fragmentShader:ou.meshphysical_frag},toon:{uniforms:mr([lu.common,lu.aomap,lu.lightmap,lu.emissivemap,lu.bumpmap,lu.normalmap,lu.displacementmap,lu.gradientmap,lu.fog,lu.lights,{emissive:{value:new _i(0)}}]),vertexShader:ou.meshtoon_vert,fragmentShader:ou.meshtoon_frag},matcap:{uniforms:mr([lu.common,lu.bumpmap,lu.normalmap,lu.displacementmap,lu.fog,{matcap:{value:null}}]),vertexShader:ou.meshmatcap_vert,fragmentShader:ou.meshmatcap_frag},points:{uniforms:mr([lu.points,lu.fog]),vertexShader:ou.points_vert,fragmentShader:ou.points_frag},dashed:{uniforms:mr([lu.common,lu.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ou.linedashed_vert,fragmentShader:ou.linedashed_frag},depth:{uniforms:mr([lu.common,lu.displacementmap]),vertexShader:ou.depth_vert,fragmentShader:ou.depth_frag},normal:{uniforms:mr([lu.common,lu.bumpmap,lu.normalmap,lu.displacementmap,{opacity:{value:1}}]),vertexShader:ou.meshnormal_vert,fragmentShader:ou.meshnormal_frag},sprite:{uniforms:mr([lu.sprite,lu.fog]),vertexShader:ou.sprite_vert,fragmentShader:ou.sprite_frag},background:{uniforms:{uvTransform:{value:new Lt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ou.background_vert,fragmentShader:ou.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Lt}},vertexShader:ou.backgroundCube_vert,fragmentShader:ou.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ou.cube_vert,fragmentShader:ou.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ou.equirect_vert,fragmentShader:ou.equirect_frag},distanceRGBA:{uniforms:mr([lu.common,lu.displacementmap,{referencePosition:{value:new un},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ou.distanceRGBA_vert,fragmentShader:ou.distanceRGBA_frag},shadow:{uniforms:mr([lu.lights,lu.fog,{color:{value:new _i(0)},opacity:{value:1}}]),vertexShader:ou.shadow_vert,fragmentShader:ou.shadow_frag}};cu.physical={uniforms:mr([cu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Lt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Lt},clearcoatNormalScale:{value:new Nt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Lt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Lt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Lt},sheen:{value:0},sheenColor:{value:new _i(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Lt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Lt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Lt},transmissionSamplerSize:{value:new Nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Lt},attenuationDistance:{value:0},attenuationColor:{value:new _i(0)},specularColor:{value:new _i(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Lt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Lt},anisotropyVector:{value:new Nt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Lt}}]),vertexShader:ou.meshphysical_vert,fragmentShader:ou.meshphysical_frag};const uu={r:0,b:0,g:0},du=new Jn,hu=new Qn;function pu(e,t,n,i,r,s,a){const o=new _i(0);let l,c,u=!0===s?0:1,d=null,h=0,p=null;function f(e){let i=!0===e.isScene?e.background:null;return i&&i.isTexture&&(i=(e.backgroundBlurriness>0?n:t).get(i)),i}function g(t,n){t.getRGB(uu,vr(e)),i.buffers.color.setClear(uu.r,uu.g,uu.b,n,a)}return{getClearColor:function(){return o},setClearColor:function(e,t=1){o.set(e),u=t,g(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,g(o,u)},render:function(t){let n=!1;const r=f(t);null===r?g(o,u):r&&r.isColor&&(g(r,1),n=!0);const s=e.xr.getEnvironmentBlendMode();"additive"===s?i.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===s&&i.buffers.color.setClear(0,0,0,0,a),(e.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const i=f(n);i&&(i.isCubeTexture||i.mapping===F)?(void 0===c&&(c=new pr(new gr(1,1,1),new Er({name:"BackgroundCubeMaterial",uniforms:Ar(cu.backgroundCube.uniforms),vertexShader:cu.backgroundCube.vertexShader,fragmentShader:cu.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),du.copy(n.backgroundRotation),du.x*=-1,du.y*=-1,du.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(du.y*=-1,du.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(hu.makeRotationFromEuler(du)),c.material.toneMapped=jt.getTransfer(i.colorSpace)!==lt,d===i&&h===i.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new pr(new Do(2,2),new Er({name:"BackgroundMaterial",uniforms:Ar(cu.background.uniforms),vertexShader:cu.background.vertexShader,fragmentShader:cu.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=jt.getTransfer(i.colorSpace)!==lt,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&h===i.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=i,h=i.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose()),void 0!==l&&(l.geometry.dispose(),l.material.dispose())}}}function fu(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),i={},r=c(null);let s=r,a=!1;function o(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],i=[],r=[];for(let e=0;e<n;e++)t[e]=0,i[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:r,object:e,attributes:{},index:null}}function u(){const e=s.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const i=s.newAttributes,r=s.enabledAttributes,a=s.attributeDivisors;i[t]=1,0===r[t]&&(e.enableVertexAttribArray(t),r[t]=1),a[t]!==n&&(e.vertexAttribDivisor(t,n),a[t]=n)}function p(){const t=s.newAttributes,n=s.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function f(t,n,i,r,s,a,o){!0===o?e.vertexAttribIPointer(t,n,i,s,a):e.vertexAttribPointer(t,n,i,r,s,a)}function g(){A(),a=!0,s!==r&&(s=r,o(s.object))}function A(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,g,A){let m=!1;const v=function(t,n,r){const s=!0===r.wireframe;let a=i[t.id];void 0===a&&(a={},i[t.id]=a);let o=a[n.id];void 0===o&&(o={},a[n.id]=o);let l=o[s];return void 0===l&&(l=c(e.createVertexArray()),o[s]=l),l}(g,l,r);s!==v&&(s=v,o(s.object)),m=function(e,t,n,i){const r=s.attributes,a=t.attributes;let o=0;const l=n.getAttributes();for(const t in l)if(l[t].location>=0){const n=r[t];let i=a[t];if(void 0===i&&("instanceMatrix"===t&&e.instanceMatrix&&(i=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(i=e.instanceColor)),void 0===n)return!0;if(n.attribute!==i)return!0;if(i&&n.data!==i.data)return!0;o++}return s.attributesNum!==o||s.index!==i}(n,g,l,A),m&&function(e,t,n,i){const r={},a=t.attributes;let o=0;const l=n.getAttributes();for(const t in l)if(l[t].location>=0){let n=a[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const i={};i.attribute=n,n&&n.data&&(i.data=n.data),r[t]=i,o++}s.attributes=r,s.attributesNum=o,s.index=i}(n,g,l,A),null!==A&&t.update(A,e.ELEMENT_ARRAY_BUFFER),(m||a)&&(a=!1,function(n,i,r,s){u();const a=s.attributes,o=r.getAttributes(),l=i.defaultAttributeValues;for(const i in o){const r=o[i];if(r.location>=0){let o=a[i];if(void 0===o&&("instanceMatrix"===i&&n.instanceMatrix&&(o=n.instanceMatrix),"instanceColor"===i&&n.instanceColor&&(o=n.instanceColor)),void 0!==o){const i=o.normalized,a=o.itemSize,l=t.get(o);if(void 0===l)continue;const c=l.buffer,u=l.type,p=l.bytesPerElement,g=u===e.INT||u===e.UNSIGNED_INT||o.gpuType===$;if(o.isInterleavedBufferAttribute){const t=o.data,l=t.stride,A=o.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)h(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)f(r.location+e,a/r.locationSize,u,i,l*p,(A+a/r.locationSize*e)*p,g)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)h(r.location+e,o.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)f(r.location+e,a/r.locationSize,u,i,a*p,a/r.locationSize*e*p,g)}}else if(void 0!==l){const t=l[i];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}p()}(n,r,l,g),null!==A&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(A).buffer))},reset:g,resetDefaultState:A,dispose:function(){g();for(const e in i){const t=i[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e]}},releaseStatesOfGeometry:function(e){if(void 0===i[e.id])return;const t=i[e.id];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete i[e.id]},releaseStatesOfProgram:function(e){for(const t in i){const n=i[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)l(r[e].object),delete r[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:p}}function gu(e,t,n){let i;function r(t,r,s){0!==s&&(e.drawArraysInstanced(i,t,r,s),n.update(r,i,s))}this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(e,r,s){if(0===s)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,e,0,r,0,s);let a=0;for(let e=0;e<s;e++)a+=r[e];n.update(a,i,1)},this.renderMultiDrawInstances=function(e,s,a,o){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)r(e[t],s[t],o[t]);else{l.multiDrawArraysInstancedWEBGL(i,e,0,s,0,o,0,a);let t=0;for(let e=0;e<a;e++)t+=s[e]*o[e];n.update(t,i,1)}}}function Au(e,t,n,i){let r;function s(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a=void 0!==n.precision?n.precision:"highp";const o=s(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:s,textureFormatReadable:function(t){return t===ce||i.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const r=n===ne&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==Y&&i.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==te&&!r)},precision:a,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function mu(e){const t=this;let n=null,i=0,r=!1,s=!1;const a=new Ms,o=new Lt,l={value:null,needsUpdate:!1};function c(e,n,i,r){const s=null!==e?e.length:0;let c=null;if(0!==s){if(c=l.value,!0!==r||null===c){const t=i+4*s,r=n.matrixWorldInverse;o.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=i;t!==s;++t,n+=4)a.copy(e[t]).applyMatrix4(r,o),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=s,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,o,u){const d=a.clippingPlanes,h=a.clipIntersection,p=a.clipShadows,f=e.get(a);if(!r||null===d||0===d.length||s&&!p)s?c(null):(l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0);else{const e=s?0:i,t=4*e;let r=f.clippingState||null;l.value=r,r=c(d,o,t,u);for(let e=0;e!==t;++e)r[e]=n[e];f.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function vu(e){let t=new WeakMap;function n(e,t){return t===k?e.mapping=L:t===U&&(e.mapping=O),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const s=r.mapping;if(s===k||s===U){if(t.has(r))return n(t.get(r).texture,r.mapping);{const s=r.image;if(s&&s.height>0){const a=new Br(s.height);return a.fromEquirectangularTexture(e,r),t.set(r,a),r.addEventListener("dispose",i),n(a.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}const yu=[.125,.215,.35,.446,.526,.582],Eu=new Gl,Su=new _i;let bu=null,xu=0,wu=0,Iu=!1;const Cu=(1+Math.sqrt(5))/2,Tu=1/Cu,Mu=[new un(-Cu,Tu,0),new un(Cu,Tu,0),new un(-Tu,0,Cu),new un(Tu,0,Cu),new un(0,Cu,-Tu),new un(0,Cu,Tu),new un(-1,1,-1),new un(1,1,-1),new un(-1,1,1),new un(1,1,1)];class Bu{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){bu=this._renderer.getRenderTarget(),xu=this._renderer.getActiveCubeFace(),wu=this._renderer.getActiveMipmapLevel(),Iu=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Du(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=_u(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(bu,xu,wu),this._renderer.xr.enabled=Iu,e.scissorTest=!1,Pu(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===L||e.mapping===O?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bu=this._renderer.getRenderTarget(),xu=this._renderer.getActiveCubeFace(),wu=this._renderer.getActiveMipmapLevel(),Iu=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:X,minFilter:X,generateMipmaps:!1,type:ne,format:ce,colorSpace:at,depthBuffer:!1},i=Ru(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ru(e,t,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],i=[];let r=e;const s=e-4+1+yu.length;for(let a=0;a<s;a++){const s=Math.pow(2,r);n.push(s);let o=1/s;a>e-4?o=yu[a-e+4-1]:0===a&&(o=0),i.push(o);const l=1/(s-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,f=3,g=2,A=1,m=new Float32Array(f*p*h),v=new Float32Array(g*p*h),y=new Float32Array(A*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];m.set(i,f*p*e),v.set(d,g*p*e);const r=[e,e,e,e,e,e];y.set(r,A*p*e)}const E=new tr;E.setAttribute("position",new zi(m,f)),E.setAttribute("uv",new zi(v,g)),E.setAttribute("faceIndex",new zi(y,A)),t.push(E),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(i)),this._blurMaterial=function(e,t,n){const i=new Float32Array(20),r=new un(0,1,0);return new Er({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(i,e,t)}return i}_compileMaterial(e){const t=new pr(this._lodPlanes[0],e);this._renderer.compile(t,Eu)}_sceneToCubeUV(e,t,n,i){const r=new Ir(90,1,t,n),s=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,c=o.toneMapping;o.getClearColor(Su),o.toneMapping=0,o.autoClear=!1;const u=new Oi({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new pr(new gr,u);let h=!1;const p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,h=!0):(u.color.copy(Su),h=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(r.up.set(0,s[t],0),r.lookAt(a[t],0,0)):1===n?(r.up.set(0,0,s[t]),r.lookAt(0,a[t],0)):(r.up.set(0,s[t],0),r.lookAt(0,0,a[t]));const l=this._cubeSize;Pu(i,n*l,t>2?l:0,l,l),o.setRenderTarget(i),h&&o.render(d,r),o.render(e,r)}d.geometry.dispose(),d.material.dispose(),o.toneMapping=c,o.autoClear=l,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===L||e.mapping===O;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Du()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=_u());const r=i?this._cubemapMaterial:this._equirectMaterial,s=new pr(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const a=this._cubeSize;Pu(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(s,Eu)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let t=1;t<i;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=Mu[(i-t-1)%Mu.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,i,r){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",r),this._halfBlur(s,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,s,a){const o=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new pr(this._lodPlanes[i],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,f=isFinite(r)?1+Math.floor(3*p):20;f>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const g=[];let A=0;for(let e=0;e<20;++e){const t=e/p,n=Math.exp(-t*t/2);g.push(n),0===e?A+=n:e<f&&(A+=2*n)}for(let e=0;e<g.length;e++)g[e]=g[e]/A;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=g,u.latitudinal.value="latitudinal"===s,a&&(u.poleAxis.value=a);const{_lodMax:m}=this;u.dTheta.value=h,u.mipInt.value=m-n;const v=this._sizeLods[i];Pu(t,3*v*(i>m-4?i-m+4:0),4*(this._cubeSize-v),3*v,2*v),o.setRenderTarget(t),o.render(c,Eu)}}function Ru(e,t,n){const i=new an(e,t,n);return i.texture.mapping=F,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Pu(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function _u(){return new Er({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Du(){return new Er({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Nu(e){let t=new WeakMap,n=null;function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const s=r.mapping,a=s===k||s===U,o=s===L||s===O;if(a||o){let s=t.get(r);const l=void 0!==s?s.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new Bu(e)),s=a?n.fromEquirectangular(r,s):n.fromCubemap(r,s),s.texture.pmremVersion=r.pmremVersion,t.set(r,s),s.texture;if(void 0!==s)return s.texture;{const l=r.image;return a&&l&&l.height>0||o&&l&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(l)?(null===n&&(n=new Bu(e)),s=a?n.fromEquirectangular(r):n.fromCubemap(r),s.texture.pmremVersion=r.pmremVersion,t.set(r,s),r.addEventListener("dispose",i),s.texture):null}}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Lu(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&Gt("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ou(e,t,n,i){const r={},s=new WeakMap;function a(e){const o=e.target;null!==o.index&&t.remove(o.index);for(const e in o.attributes)t.remove(o.attributes[e]);o.removeEventListener("dispose",a),delete r[o.id];const l=s.get(o);l&&(t.remove(l),s.delete(o)),i.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(e){const n=[],i=e.index,r=e.attributes.position;let a=0;if(null!==i){const e=i.array;a=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],s=e[t+2];n.push(i,r,r,s,s,i)}}else{if(void 0===r)return;{const e=r.array;a=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}}const o=new(kt(n)?Xi:Wi)(n,1);o.version=a;const l=s.get(e);l&&t.remove(l),s.set(e,o)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",a),r[t.id]=!0,n.memory.geometries++),t},update:function(n){const i=n.attributes;for(const n in i)t.update(i[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=s.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return s.get(e)}}}function ku(e,t,n){let i,r,s;function a(t,a,o){0!==o&&(e.drawElementsInstanced(i,a,r,t*s,o),n.update(a,i,o))}this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,s=e.bytesPerElement},this.render=function(t,a){e.drawElements(i,a,r,t*s),n.update(a,i,1)},this.renderInstances=a,this.renderMultiDraw=function(e,s,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,s,0,r,e,0,a);let o=0;for(let e=0;e<a;e++)o+=s[e];n.update(o,i,1)},this.renderMultiDrawInstances=function(e,o,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)a(e[t]/s,o[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(i,o,0,r,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=o[e]*c[e];n.update(t,i,1)}}}function Uu(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function Fu(e,t,n){const i=new WeakMap,r=new rn;return{update:function(s,a,o){const l=s.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=void 0!==c?c.length:0;let d=i.get(a);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==a.morphAttributes.position,p=void 0!==a.morphAttributes.normal,f=void 0!==a.morphAttributes.color,g=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],m=a.morphAttributes.color||[];let v=0;!0===h&&(v=1),!0===p&&(v=2),!0===f&&(v=3);let y=a.attributes.position.count*v,E=1;y>t.maxTextureSize&&(E=Math.ceil(y/t.maxTextureSize),y=t.maxTextureSize);const S=new Float32Array(y*E*4*u),b=new on(S,y,E,u);b.type=te,b.needsUpdate=!0;const x=4*v;for(let I=0;I<u;I++){const C=g[I],T=A[I],M=m[I],B=y*E*4*I;for(let R=0;R<C.count;R++){const P=R*x;!0===h&&(r.fromBufferAttribute(C,R),S[B+P+0]=r.x,S[B+P+1]=r.y,S[B+P+2]=r.z,S[B+P+3]=0),!0===p&&(r.fromBufferAttribute(T,R),S[B+P+4]=r.x,S[B+P+5]=r.y,S[B+P+6]=r.z,S[B+P+7]=0),!0===f&&(r.fromBufferAttribute(M,R),S[B+P+8]=r.x,S[B+P+9]=r.y,S[B+P+10]=r.z,S[B+P+11]=4===M.itemSize?r.w:1)}}function w(){b.dispose(),i.delete(a),a.removeEventListener("dispose",w)}d={count:u,texture:b,size:new Nt(y,E)},i.set(a,d),a.addEventListener("dispose",w)}if(!0===s.isInstancedMesh&&null!==s.morphTexture)o.getUniforms().setValue(e,"morphTexture",s.morphTexture,n);else{let _=0;for(let N=0;N<l.length;N++)_+=l[N];const D=a.morphTargetsRelative?1:1-_;o.getUniforms().setValue(e,"morphTargetBaseInfluence",D),o.getUniforms().setValue(e,"morphTargetInfluences",l)}o.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),o.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function Qu(e,t,n,i){let r=new WeakMap;function s(e){const t=e.target;t.removeEventListener("dispose",s),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const o=i.render.frame,l=a.geometry,c=t.get(a,l);if(r.get(c)!==o&&(t.update(c),r.set(c,o)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",s)&&a.addEventListener("dispose",s),r.get(a)!==o&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),r.set(a,o))),a.isSkinnedMesh){const e=a.skeleton;r.get(e)!==o&&(e.update(),r.set(e,o))}return c},dispose:function(){r=new WeakMap}}}const Vu=new nn,Hu=new ya(1,1),Gu=new on,zu=new ln,Wu=new Mr,Xu=[],ju=[],qu=new Float32Array(16),Yu=new Float32Array(9),Ju=new Float32Array(4);function Zu(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let s=Xu[r];if(void 0===s&&(s=new Float32Array(r),Xu[r]=s),0!==t){i.toArray(s,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(s,r)}return s}function Ku(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function $u(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function ed(e,t){let n=ju[t];void 0===n&&(n=new Int32Array(t),ju[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function td(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function nd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ku(n,t))return;e.uniform2fv(this.addr,t),$u(n,t)}}function id(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ku(n,t))return;e.uniform3fv(this.addr,t),$u(n,t)}}function rd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ku(n,t))return;e.uniform4fv(this.addr,t),$u(n,t)}}function sd(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ku(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),$u(n,t)}else{if(Ku(n,i))return;Ju.set(i),e.uniformMatrix2fv(this.addr,!1,Ju),$u(n,i)}}function ad(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ku(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),$u(n,t)}else{if(Ku(n,i))return;Yu.set(i),e.uniformMatrix3fv(this.addr,!1,Yu),$u(n,i)}}function od(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ku(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),$u(n,t)}else{if(Ku(n,i))return;qu.set(i),e.uniformMatrix4fv(this.addr,!1,qu),$u(n,i)}}function ld(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function cd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ku(n,t))return;e.uniform2iv(this.addr,t),$u(n,t)}}function ud(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ku(n,t))return;e.uniform3iv(this.addr,t),$u(n,t)}}function dd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ku(n,t))return;e.uniform4iv(this.addr,t),$u(n,t)}}function hd(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function pd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ku(n,t))return;e.uniform2uiv(this.addr,t),$u(n,t)}}function fd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ku(n,t))return;e.uniform3uiv(this.addr,t),$u(n,t)}}function gd(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ku(n,t))return;e.uniform4uiv(this.addr,t),$u(n,t)}}function Ad(e,t,n){const i=this.cache,r=n.allocateTextureUnit();let s;i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),this.type===e.SAMPLER_2D_SHADOW?(Hu.compareFunction=515,s=Hu):s=Vu,n.setTexture2D(t||s,r)}function md(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||zu,r)}function vd(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||Wu,r)}function yd(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Gu,r)}function Ed(e,t){e.uniform1fv(this.addr,t)}function Sd(e,t){const n=Zu(t,this.size,2);e.uniform2fv(this.addr,n)}function bd(e,t){const n=Zu(t,this.size,3);e.uniform3fv(this.addr,n)}function xd(e,t){const n=Zu(t,this.size,4);e.uniform4fv(this.addr,n)}function wd(e,t){const n=Zu(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Id(e,t){const n=Zu(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Cd(e,t){const n=Zu(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Td(e,t){e.uniform1iv(this.addr,t)}function Md(e,t){e.uniform2iv(this.addr,t)}function Bd(e,t){e.uniform3iv(this.addr,t)}function Rd(e,t){e.uniform4iv(this.addr,t)}function Pd(e,t){e.uniform1uiv(this.addr,t)}function _d(e,t){e.uniform2uiv(this.addr,t)}function Dd(e,t){e.uniform3uiv(this.addr,t)}function Nd(e,t){e.uniform4uiv(this.addr,t)}function Ld(e,t,n){const i=this.cache,r=t.length,s=ed(n,r);Ku(i,s)||(e.uniform1iv(this.addr,s),$u(i,s));for(let e=0;e!==r;++e)n.setTexture2D(t[e]||Vu,s[e])}function Od(e,t,n){const i=this.cache,r=t.length,s=ed(n,r);Ku(i,s)||(e.uniform1iv(this.addr,s),$u(i,s));for(let e=0;e!==r;++e)n.setTexture3D(t[e]||zu,s[e])}function kd(e,t,n){const i=this.cache,r=t.length,s=ed(n,r);Ku(i,s)||(e.uniform1iv(this.addr,s),$u(i,s));for(let e=0;e!==r;++e)n.setTextureCube(t[e]||Wu,s[e])}function Ud(e,t,n){const i=this.cache,r=t.length,s=ed(n,r);Ku(i,s)||(e.uniform1iv(this.addr,s),$u(i,s));for(let e=0;e!==r;++e)n.setTexture2DArray(t[e]||Gu,s[e])}class Fd{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return td;case 35664:return nd;case 35665:return id;case 35666:return rd;case 35674:return sd;case 35675:return ad;case 35676:return od;case 5124:case 35670:return ld;case 35667:case 35671:return cd;case 35668:case 35672:return ud;case 35669:case 35673:return dd;case 5125:return hd;case 36294:return pd;case 36295:return fd;case 36296:return gd;case 35678:case 36198:case 36298:case 36306:case 35682:return Ad;case 35679:case 36299:case 36307:return md;case 35680:case 36300:case 36308:case 36293:return vd;case 36289:case 36303:case 36311:case 36292:return yd}}(t.type)}}class Qd{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ed;case 35664:return Sd;case 35665:return bd;case 35666:return xd;case 35674:return wd;case 35675:return Id;case 35676:return Cd;case 5124:case 35670:return Td;case 35667:case 35671:return Md;case 35668:case 35672:return Bd;case 35669:case 35673:return Rd;case 5125:return Pd;case 36294:return _d;case 36295:return Dd;case 36296:return Nd;case 35678:case 36198:case 36298:case 36306:case 35682:return Ld;case 35679:case 36299:case 36307:return Od;case 35680:case 36300:case 36308:case 36293:return kd;case 36289:case 36303:case 36311:case 36292:return Ud}}(t.type)}}class Vd{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const s=i[r];s.setValue(e,t[s.id],n)}}}const Hd=/(\w+)(\])?(\[|\.)?/g;function Gd(e,t){e.seq.push(t),e.map[t.id]=t}function zd(e,t,n){const i=e.name,r=i.length;for(Hd.lastIndex=0;;){const s=Hd.exec(i),a=Hd.lastIndex;let o=s[1];const l="]"===s[2],c=s[3];if(l&&(o|=0),void 0===c||"["===c&&a+2===r){Gd(n,void 0===c?new Fd(o,e,t):new Qd(o,e,t));break}{let e=n.map[o];void 0===e&&(e=new Vd(o),Gd(n,e)),n=e}}}class Wd{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);zd(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,s=t.length;r!==s;++r){const s=t[r],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function Xd(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let jd=0;const qd=new Lt;function Yd(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const i=parseInt(s[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),s=Math.min(t+6,n.length);for(let e=r;e<s;e++){const r=e+1;i.push(`${r===t?">":" "} ${r}: ${n[e]}`)}return i.join("\n")}(e.getShaderSource(t),i)}return r}function Jd(e,t){const n=function(e){jt._getMatrix(qd,jt.workingColorSpace,e);const t=`mat3( ${qd.elements.map(e=>e.toFixed(4))} )`;switch(jt.getTransfer(e)){case ot:return[t,"LinearTransferOETF"];case lt:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function Zd(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Kd=new un;function $d(e){return""!==e}function eh(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function th(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const nh=/^[ \t]*#include +<([\w\d./]+)>/gm;function ih(e){return e.replace(nh,sh)}const rh=new Map;function sh(e,t){let n=ou[t];if(void 0===n){const e=rh.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=ou[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return ih(n)}const ah=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oh(e){return e.replace(ah,lh)}function lh(e,t,n,i){let r="";for(let e=parseInt(t);e<parseInt(n);e++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return r}function ch(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function uh(e,t,n,i){const r=e.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case L:case O:t="ENVMAP_TYPE_CUBE";break;case F:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===O&&(t="ENVMAP_MODE_REFRACTION"),t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),p=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($d).join("\n")}(n),f=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(s),g=r.createProgram();let A,m,v=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(A=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter($d).join("\n"),A.length>0&&(A+="\n"),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter($d).join("\n"),m.length>0&&(m+="\n")):(A=[ch(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($d).join("\n"),m=[ch(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?ou.tonemapping_pars_fragment:"",0!==n.toneMapping?Zd("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ou.colorspace_pars_fragment,Jd("linearToOutputTexel",n.outputColorSpace),(jt.getLuminanceCoefficients(Kd),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${Kd.x.toFixed(4)}, ${Kd.y.toFixed(4)}, ${Kd.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter($d).join("\n")),a=ih(a),a=eh(a,n),a=th(a,n),o=ih(o),o=eh(o,n),o=th(o,n),a=oh(a),o=oh(o),!0!==n.isRawShaderMaterial&&(v="#version 300 es\n",A=[p,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+A,m=["#define varying in",n.glslVersion===yt?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===yt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const y=v+A+a,E=v+m+o,S=Xd(r,r.VERTEX_SHADER,y),b=Xd(r,r.FRAGMENT_SHADER,E);function x(t){if(e.debug.checkShaderErrors){const n=r.getProgramInfoLog(g).trim(),i=r.getShaderInfoLog(S).trim(),s=r.getShaderInfoLog(b).trim();let a=!0,o=!0;if(!1===r.getProgramParameter(g,r.LINK_STATUS))if(a=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(r,g,S,b);else{const e=Yd(r,S,"vertex"),i=Yd(r,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+i)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==i&&""!==s||(o=!1);o&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:i,prefix:A},fragmentShader:{log:s,prefix:m}})}r.deleteShader(S),r.deleteShader(b),w=new Wd(r,g),I=function(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),s=i.name;let a=1;i.type===e.FLOAT_MAT2&&(a=2),i.type===e.FLOAT_MAT3&&(a=3),i.type===e.FLOAT_MAT4&&(a=4),n[s]={type:i.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(r,g)}let w,I;r.attachShader(g,S),r.attachShader(g,b),void 0!==n.index0AttributeName?r.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),this.getUniforms=function(){return void 0===w&&x(this),w},this.getAttributes=function(){return void 0===I&&x(this),I};let C=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===C&&(C=r.getProgramParameter(g,37297)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=jd++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=b,this}let dh=0;class hh{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return!1===s.has(i)&&(s.add(i),i.usedTimes++),!1===s.has(r)&&(s.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new ph(e),t.set(e,n)),n}}class ph{constructor(e){this.id=dh++,this.code=e,this.usedTimes=0}}function fh(e,t,n,i,r,s,a){const o=new Zn,l=new hh,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(e){return c.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(s,o,u,A,m){const v=A.fog,y=m.geometry,E=s.isMeshStandardMaterial?A.environment:null,S=(s.isMeshStandardMaterial?n:t).get(s.envMap||E),b=S&&S.mapping===F?S.image.height:null,x=f[s.type];null!==s.precision&&(p=r.getMaxPrecision(s.precision),p!==s.precision&&console.warn("THREE.WebGLProgram.getParameters:",s.precision,"not supported, using",p,"instead."));const w=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,I=void 0!==w?w.length:0;let C,T,M,B,R=0;if(void 0!==y.morphAttributes.position&&(R=1),void 0!==y.morphAttributes.normal&&(R=2),void 0!==y.morphAttributes.color&&(R=3),x){const e=cu[x];C=e.vertexShader,T=e.fragmentShader}else C=s.vertexShader,T=s.fragmentShader,l.update(s),M=l.getVertexShaderID(s),B=l.getFragmentShaderID(s);const P=e.getRenderTarget(),_=e.state.buffers.depth.getReversed(),D=!0===m.isInstancedMesh,N=!0===m.isBatchedMesh,L=!!s.map,O=!!s.matcap,k=!!S,U=!!s.aoMap,Q=!!s.lightMap,V=!!s.bumpMap,H=!!s.normalMap,G=!!s.displacementMap,z=!!s.emissiveMap,W=!!s.metalnessMap,X=!!s.roughnessMap,j=s.anisotropy>0,q=s.clearcoat>0,Y=s.dispersion>0,J=s.iridescence>0,Z=s.sheen>0,K=s.transmission>0,$=j&&!!s.anisotropyMap,ee=q&&!!s.clearcoatMap,te=q&&!!s.clearcoatNormalMap,ne=q&&!!s.clearcoatRoughnessMap,ie=J&&!!s.iridescenceMap,re=J&&!!s.iridescenceThicknessMap,se=Z&&!!s.sheenColorMap,ae=Z&&!!s.sheenRoughnessMap,oe=!!s.specularMap,le=!!s.specularColorMap,ce=!!s.specularIntensityMap,ue=K&&!!s.transmissionMap,de=K&&!!s.thicknessMap,he=!!s.gradientMap,pe=!!s.alphaMap,fe=s.alphaTest>0,ge=!!s.alphaHash,Ae=!!s.extensions;let me=0;s.toneMapped&&(null!==P&&!0!==P.isXRRenderTarget||(me=e.toneMapping));const ve={shaderID:x,shaderType:s.type,shaderName:s.name,vertexShader:C,fragmentShader:T,defines:s.defines,customVertexShaderID:M,customFragmentShaderID:B,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:p,batching:N,batchingColor:N&&null!==m._colorsTexture,instancing:D,instancingColor:D&&null!==m.instanceColor,instancingMorph:D&&null!==m.morphTexture,supportsVertexTextures:h,outputColorSpace:null===P?e.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:at,alphaToCoverage:!!s.alphaToCoverage,map:L,matcap:O,envMap:k,envMapMode:k&&S.mapping,envMapCubeUVHeight:b,aoMap:U,lightMap:Q,bumpMap:V,normalMap:H,displacementMap:h&&G,emissiveMap:z,normalMapObjectSpace:H&&1===s.normalMapType,normalMapTangentSpace:H&&0===s.normalMapType,metalnessMap:W,roughnessMap:X,anisotropy:j,anisotropyMap:$,clearcoat:q,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,dispersion:Y,iridescence:J,iridescenceMap:ie,iridescenceThicknessMap:re,sheen:Z,sheenColorMap:se,sheenRoughnessMap:ae,specularMap:oe,specularColorMap:le,specularIntensityMap:ce,transmission:K,transmissionMap:ue,thicknessMap:de,gradientMap:he,opaque:!1===s.transparent&&1===s.blending&&!1===s.alphaToCoverage,alphaMap:pe,alphaTest:fe,alphaHash:ge,combine:s.combine,mapUv:L&&g(s.map.channel),aoMapUv:U&&g(s.aoMap.channel),lightMapUv:Q&&g(s.lightMap.channel),bumpMapUv:V&&g(s.bumpMap.channel),normalMapUv:H&&g(s.normalMap.channel),displacementMapUv:G&&g(s.displacementMap.channel),emissiveMapUv:z&&g(s.emissiveMap.channel),metalnessMapUv:W&&g(s.metalnessMap.channel),roughnessMapUv:X&&g(s.roughnessMap.channel),anisotropyMapUv:$&&g(s.anisotropyMap.channel),clearcoatMapUv:ee&&g(s.clearcoatMap.channel),clearcoatNormalMapUv:te&&g(s.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&g(s.clearcoatRoughnessMap.channel),iridescenceMapUv:ie&&g(s.iridescenceMap.channel),iridescenceThicknessMapUv:re&&g(s.iridescenceThicknessMap.channel),sheenColorMapUv:se&&g(s.sheenColorMap.channel),sheenRoughnessMapUv:ae&&g(s.sheenRoughnessMap.channel),specularMapUv:oe&&g(s.specularMap.channel),specularColorMapUv:le&&g(s.specularColorMap.channel),specularIntensityMapUv:ce&&g(s.specularIntensityMap.channel),transmissionMapUv:ue&&g(s.transmissionMap.channel),thicknessMapUv:de&&g(s.thicknessMap.channel),alphaMapUv:pe&&g(s.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(H||j),vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,pointsUvs:!0===m.isPoints&&!!y.attributes.uv&&(L||pe),fog:!!v,useFog:!0===s.fog,fogExp2:!!v&&v.isFogExp2,flatShading:!0===s.flatShading,sizeAttenuation:!0===s.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:_,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:I,morphTextureStride:R,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:s.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:me,decodeVideoTexture:L&&!0===s.map.isVideoTexture&&jt.getTransfer(s.map.colorSpace)===lt,decodeVideoTextureEmissive:z&&!0===s.emissiveMap.isVideoTexture&&jt.getTransfer(s.emissiveMap.colorSpace)===lt,premultipliedAlpha:s.premultipliedAlpha,doubleSided:2===s.side,flipSided:1===s.side,useDepthPacking:s.depthPacking>=0,depthPacking:s.depthPacking||0,index0AttributeName:s.index0AttributeName,extensionClipCullDistance:Ae&&!0===s.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ae&&!0===s.extensions.multiDraw||N)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:s.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){o.disableAll(),t.supportsVertexTextures&&o.enable(0),t.instancing&&o.enable(1),t.instancingColor&&o.enable(2),t.instancingMorph&&o.enable(3),t.matcap&&o.enable(4),t.envMap&&o.enable(5),t.normalMapObjectSpace&&o.enable(6),t.normalMapTangentSpace&&o.enable(7),t.clearcoat&&o.enable(8),t.iridescence&&o.enable(9),t.alphaTest&&o.enable(10),t.vertexColors&&o.enable(11),t.vertexAlphas&&o.enable(12),t.vertexUv1s&&o.enable(13),t.vertexUv2s&&o.enable(14),t.vertexUv3s&&o.enable(15),t.vertexTangents&&o.enable(16),t.anisotropy&&o.enable(17),t.alphaHash&&o.enable(18),t.batching&&o.enable(19),t.dispersion&&o.enable(20),t.batchingColor&&o.enable(21),e.push(o.mask),o.disableAll(),t.fog&&o.enable(0),t.useFog&&o.enable(1),t.flatShading&&o.enable(2),t.logarithmicDepthBuffer&&o.enable(3),t.reverseDepthBuffer&&o.enable(4),t.skinning&&o.enable(5),t.morphTargets&&o.enable(6),t.morphNormals&&o.enable(7),t.morphColors&&o.enable(8),t.premultipliedAlpha&&o.enable(9),t.shadowMapEnabled&&o.enable(10),t.doubleSided&&o.enable(11),t.flipSided&&o.enable(12),t.useDepthPacking&&o.enable(13),t.dithering&&o.enable(14),t.transmission&&o.enable(15),t.sheen&&o.enable(16),t.opaque&&o.enable(17),t.pointsUvs&&o.enable(18),t.decodeVideoTexture&&o.enable(19),t.decodeVideoTextureEmissive&&o.enable(20),t.alphaToCoverage&&o.enable(21),e.push(o.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=f[e.type];let n;if(t){const e=cu[t];n=yr.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new uh(e,n,t,s),u.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function gh(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Ah(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function mh(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function vh(){const e=[];let t=0;const n=[],i=[],r=[];function s(n,i,r,s,a,o){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:s,renderOrder:n.renderOrder,z:a,group:o},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=s,l.renderOrder=n.renderOrder,l.z=a,l.group=o),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,a,o,l,c){const u=s(e,t,a,o,l,c);a.transmission>0?i.push(u):!0===a.transparent?r.push(u):n.push(u)},unshift:function(e,t,a,o,l,c){const u=s(e,t,a,o,l,c);a.transmission>0?i.unshift(u):!0===a.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ah),i.length>1&&i.sort(t||mh),r.length>1&&r.sort(t||mh)}}}function yh(){let e=new WeakMap;return{get:function(t,n){const i=e.get(t);let r;return void 0===i?(r=new vh,e.set(t,[r])):n>=i.length?(r=new vh,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function Eh(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new un,color:new _i};break;case"SpotLight":n={position:new un,direction:new un,color:new _i,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new un,color:new _i,distance:0,decay:0};break;case"HemisphereLight":n={direction:new un,skyColor:new _i,groundColor:new _i};break;case"RectAreaLight":n={color:new _i,position:new un,halfWidth:new un,halfHeight:new un}}return e[t.id]=n,n}}}let Sh=0;function bh(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function xh(e){const t=new Eh,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)i.probe.push(new un);const r=new un,s=new Qn,a=new Qn;return{setup:function(r){let s=0,a=0,o=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,p=0,f=0,g=0,A=0,m=0,v=0;r.sort(bh);for(let e=0,y=r.length;e<y;e++){const y=r[e],E=y.color,S=y.intensity,b=y.distance,x=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)s+=E.r*S,a+=E.g*S,o+=E.b*S;else if(y.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(y.sh.coefficients[e],S);v++}else if(y.isDirectionalLight){const e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),y.castShadow){const e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,i.directionalShadow[l]=t,i.directionalShadowMap[l]=x,i.directionalShadowMatrix[l]=y.shadow.matrix,p++}i.directional[l]=e,l++}else if(y.isSpotLight){const e=t.get(y);e.position.setFromMatrixPosition(y.matrixWorld),e.color.copy(E).multiplyScalar(S),e.distance=b,e.coneCos=Math.cos(y.angle),e.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),e.decay=y.decay,i.spot[u]=e;const r=y.shadow;if(y.map&&(i.spotLightMap[A]=y.map,A++,r.updateMatrices(y),y.castShadow&&m++),i.spotLightMatrix[u]=r.matrix,y.castShadow){const e=n.get(y);e.shadowIntensity=r.intensity,e.shadowBias=r.bias,e.shadowNormalBias=r.normalBias,e.shadowRadius=r.radius,e.shadowMapSize=r.mapSize,i.spotShadow[u]=e,i.spotShadowMap[u]=x,g++}u++}else if(y.isRectAreaLight){const e=t.get(y);e.color.copy(E).multiplyScalar(S),e.halfWidth.set(.5*y.width,0,0),e.halfHeight.set(0,.5*y.height,0),i.rectArea[d]=e,d++}else if(y.isPointLight){const e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),e.distance=y.distance,e.decay=y.decay,y.castShadow){const e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,i.pointShadow[c]=t,i.pointShadowMap[c]=x,i.pointShadowMatrix[c]=y.shadow.matrix,f++}i.point[c]=e,c++}else if(y.isHemisphereLight){const e=t.get(y);e.skyColor.copy(y.color).multiplyScalar(S),e.groundColor.copy(y.groundColor).multiplyScalar(S),i.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=lu.LTC_FLOAT_1,i.rectAreaLTC2=lu.LTC_FLOAT_2):(i.rectAreaLTC1=lu.LTC_HALF_1,i.rectAreaLTC2=lu.LTC_HALF_2)),i.ambient[0]=s,i.ambient[1]=a,i.ambient[2]=o;const y=i.hash;y.directionalLength===l&&y.pointLength===c&&y.spotLength===u&&y.rectAreaLength===d&&y.hemiLength===h&&y.numDirectionalShadows===p&&y.numPointShadows===f&&y.numSpotShadows===g&&y.numSpotMaps===A&&y.numLightProbes===v||(i.directional.length=l,i.spot.length=u,i.rectArea.length=d,i.point.length=c,i.hemi.length=h,i.directionalShadow.length=p,i.directionalShadowMap.length=p,i.pointShadow.length=f,i.pointShadowMap.length=f,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=p,i.pointShadowMatrix.length=f,i.spotLightMatrix.length=g+A-m,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=m,i.numLightProbes=v,y.directionalLength=l,y.pointLength=c,y.spotLength=u,y.rectAreaLength=d,y.hemiLength=h,y.numDirectionalShadows=p,y.numPointShadows=f,y.numSpotShadows=g,y.numSpotMaps=A,y.numLightProbes=v,i.version=Sh++)},setupView:function(e,t){let n=0,o=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){const h=e[t];if(h.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),r.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),n++}else if(h.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),r.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(r),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),a.identity(),s.copy(h.matrixWorld),s.premultiply(d),a.extractRotation(s),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(h.isPointLight){const e=i.point[o];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),o++}else if(h.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function wh(e){const t=new xh(e),n=[],i=[],r={lightsArray:n,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){r.camera=e,n.length=0,i.length=0},state:r,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function Ih(e){let t=new WeakMap;return{get:function(n,i=0){const r=t.get(n);let s;return void 0===r?(s=new wh(e),t.set(n,[s])):i>=r.length?(s=new wh(e),r.push(s)):s=r[i],s},dispose:function(){t=new WeakMap}}}function Ch(e,t,n){let a=new Ps;const o=new Nt,l=new Nt,c=new rn,u=new Ko({depthPacking:3201}),d=new $o,h={},p=n.maxTextureSize,f={[i]:1,[r]:0,[s]:2},g=new Er({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Nt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),A=g.clone();A.defines.HORIZONTAL_PASS=1;const m=new tr;m.setAttribute("position",new zi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new pr(m,g),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let E=this.type;function S(n,i){const r=t.update(v);g.defines.VSM_SAMPLES!==n.blurSamples&&(g.defines.VSM_SAMPLES=n.blurSamples,A.defines.VSM_SAMPLES=n.blurSamples,g.needsUpdate=!0,A.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new an(o.x,o.y)),g.uniforms.shadow_pass.value=n.map.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,g,v,null),A.uniforms.shadow_pass.value=n.mapPass.texture,A.uniforms.resolution.value=n.mapSize,A.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,A,v,null)}function b(t,n,i,r){let s=null;const a=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)s=a;else if(s=!0===i.isPointLight?d:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=s.uuid,t=n.uuid;let i=h[e];void 0===i&&(i={},h[e]=i);let r=i[t];void 0===r&&(r=s.clone(),i[t]=r,n.addEventListener("dispose",w)),s=r}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=3===r?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===i.isPointLight&&!0===s.isMeshDistanceMaterial&&(e.properties.get(s).light=i),s}function x(n,i,r,s,o){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===o)&&(!n.frustumCulled||a.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,n.matrixWorld);const a=t.update(n),l=n.material;if(Array.isArray(l)){const t=a.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=b(n,d,s,o);n.onBeforeShadow(e,n,i,r,a,t,u),e.renderBufferDirect(r,null,a,t,n,u),n.onAfterShadow(e,n,i,r,a,t,u)}}}else if(l.visible){const t=b(n,l,s,o);n.onBeforeShadow(e,n,i,r,a,t,null),e.renderBufferDirect(r,null,a,t,n,null),n.onAfterShadow(e,n,i,r,a,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],i,r,s,o)}function w(e){e.target.removeEventListener("dispose",w);for(const t in h){const n=h[t],i=e.target.uuid;i in n&&(n[i].dispose(),delete n[i])}}this.render=function(t,n,i){if(!1===y.enabled)return;if(!1===y.autoUpdate&&!1===y.needsUpdate)return;if(0===t.length)return;const r=e.getRenderTarget(),s=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);const h=3!==E&&3===this.type,f=3===E&&3!==this.type;for(let r=0,s=t.length;r<s;r++){const s=t[r],u=s.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",s,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;o.copy(u.mapSize);const g=u.getFrameExtents();if(o.multiply(g),l.copy(u.mapSize),(o.x>p||o.y>p)&&(o.x>p&&(l.x=Math.floor(p/g.x),o.x=l.x*g.x,u.mapSize.x=l.x),o.y>p&&(l.y=Math.floor(p/g.y),o.y=l.y*g.y,u.mapSize.y=l.y)),null===u.map||!0===h||!0===f){const e=3!==this.type?{minFilter:G,magFilter:G}:{};null!==u.map&&u.map.dispose(),u.map=new an(o.x,o.y,e),u.map.texture.name=s.name+".shadowMap",u.camera.updateProjectionMatrix()}e.setRenderTarget(u.map),e.clear();const A=u.getViewportCount();for(let e=0;e<A;e++){const t=u.getViewport(e);c.set(l.x*t.x,l.y*t.y,l.x*t.z,l.y*t.w),d.viewport(c),u.updateMatrices(s,e),a=u.getFrustum(),x(n,i,u.camera,s,this.type)}!0!==u.isPointLightShadow&&3===this.type&&S(u,i),u.needsUpdate=!1}E=this.type,y.needsUpdate=!1,e.setRenderTarget(r,s,u)}}const Th={[w]:1,[C]:6,[M]:7,[T]:5,[I]:0,[R]:2,[P]:4,[B]:3};function Mh(e,t){const n=new function(){let t=!1;const n=new rn;let i=null;const r=new rn(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,s,a,o){!0===o&&(t*=a,i*=a,s*=a),n.set(t,i,s,a),!1===r.equals(n)&&(e.clearColor(t,i,s,a),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},i=new function(){let n=!1,i=!1,r=null,s=null,a=null;return{setReversed:function(e){if(i!==e){const e=t.get("EXT_clip_control");i?e.clipControlEXT(e.LOWER_LEFT_EXT,e.ZERO_TO_ONE_EXT):e.clipControlEXT(e.LOWER_LEFT_EXT,e.NEGATIVE_ONE_TO_ONE_EXT);const n=a;a=null,this.setClear(n)}i=e},getReversed:function(){return i},setTest:function(t){t?re(e.DEPTH_TEST):se(e.DEPTH_TEST)},setMask:function(t){r===t||n||(e.depthMask(t),r=t)},setFunc:function(t){if(i&&(t=Th[t]),s!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}s=t}},setLocked:function(e){n=e},setClear:function(t){a!==t&&(i&&(t=1-t),e.clearDepth(t),a=t)},reset:function(){n=!1,r=null,s=null,a=null,i=!1}}},r=new function(){let t=!1,n=null,i=null,r=null,s=null,a=null,o=null,l=null,c=null;return{setTest:function(n){t||(n?re(e.STENCIL_TEST):se(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&s===a||(e.stencilFunc(t,n,a),i=t,r=n,s=a)},setOp:function(t,n,i){a===t&&o===n&&l===i||(e.stencilOp(t,n,i),a=t,o=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,s=null,a=null,o=null,l=null,c=null}}},s=new WeakMap,w=new WeakMap;let I={},C={},T=new WeakMap,M=[],B=null,R=!1,P=null,_=null,D=null,N=null,L=null,O=null,k=null,U=new _i(0,0,0),F=0,Q=!1,V=null,H=null,G=null,z=null,W=null;const X=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let j=!1,q=0;const Y=e.getParameter(e.VERSION);-1!==Y.indexOf("WebGL")?(q=parseFloat(/^WebGL (\d)/.exec(Y)[1]),j=q>=1):-1!==Y.indexOf("OpenGL ES")&&(q=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),j=q>=2);let J=null,Z={};const K=e.getParameter(e.SCISSOR_BOX),$=e.getParameter(e.VIEWPORT),ee=(new rn).fromArray(K),te=(new rn).fromArray($);function ne(t,n,i,r){const s=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let a=0;a<i;a++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,r,0,e.RGBA,e.UNSIGNED_BYTE,s):e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,s);return a}const ie={};function re(t){!0!==I[t]&&(e.enable(t),I[t]=!0)}function se(t){!1!==I[t]&&(e.disable(t),I[t]=!1)}ie[e.TEXTURE_2D]=ne(e.TEXTURE_2D,e.TEXTURE_2D,1),ie[e.TEXTURE_CUBE_MAP]=ne(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[e.TEXTURE_2D_ARRAY]=ne(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),ie[e.TEXTURE_3D]=ne(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),i.setClear(1),r.setClear(0),re(e.DEPTH_TEST),i.setFunc(3),ce(!1),ue(1),re(e.CULL_FACE),le(0);const ae={[a]:e.FUNC_ADD,[o]:e.FUNC_SUBTRACT,[l]:e.FUNC_REVERSE_SUBTRACT};ae[103]=e.MIN,ae[104]=e.MAX;const oe={[c]:e.ZERO,[u]:e.ONE,[d]:e.SRC_COLOR,[p]:e.SRC_ALPHA,[y]:e.SRC_ALPHA_SATURATE,[m]:e.DST_COLOR,[g]:e.DST_ALPHA,[h]:e.ONE_MINUS_SRC_COLOR,[f]:e.ONE_MINUS_SRC_ALPHA,[v]:e.ONE_MINUS_DST_COLOR,[A]:e.ONE_MINUS_DST_ALPHA,[E]:e.CONSTANT_COLOR,[S]:e.ONE_MINUS_CONSTANT_COLOR,[b]:e.CONSTANT_ALPHA,[x]:e.ONE_MINUS_CONSTANT_ALPHA};function le(t,n,i,r,s,o,l,c,u,d){if(0!==t){if(!1===R&&(re(e.BLEND),R=!0),5===t)s=s||n,o=o||i,l=l||r,n===_&&s===L||(e.blendEquationSeparate(ae[n],ae[s]),_=n,L=s),i===D&&r===N&&o===O&&l===k||(e.blendFuncSeparate(oe[i],oe[r],oe[o],oe[l]),D=i,N=r,O=o,k=l),!1!==c.equals(U)&&u===F||(e.blendColor(c.r,c.g,c.b,u),U.copy(c),F=u),P=t,Q=!1;else if(t!==P||d!==Q){if(_===a&&L===a||(e.blendEquation(e.FUNC_ADD),_=a,L=a),d)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}D=null,N=null,O=null,k=null,U.set(0,0,0),F=0,P=t,Q=d}}else!0===R&&(se(e.BLEND),R=!1)}function ce(t){V!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),V=t)}function ue(t){0!==t?(re(e.CULL_FACE),t!==H&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):se(e.CULL_FACE),H=t}function de(t,n,i){t?(re(e.POLYGON_OFFSET_FILL),z===n&&W===i||(e.polygonOffset(n,i),z=n,W=i)):se(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:i,stencil:r},enable:re,disable:se,bindFramebuffer:function(t,n){return C[t]!==n&&(e.bindFramebuffer(t,n),C[t]=n,t===e.DRAW_FRAMEBUFFER&&(C[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(C[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let i=M,r=!1;if(t){i=T.get(n),void 0===i&&(i=[],T.set(n,i));const s=t.textures;if(i.length!==s.length||i[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=s.length;t<n;t++)i[t]=e.COLOR_ATTACHMENT0+t;i.length=s.length,r=!0}}else i[0]!==e.BACK&&(i[0]=e.BACK,r=!0);r&&e.drawBuffers(i)},useProgram:function(t){return B!==t&&(e.useProgram(t),B=t,!0)},setBlending:le,setMaterial:function(t,s){2===t.side?se(e.CULL_FACE):re(e.CULL_FACE);let a=1===t.side;s&&(a=!a),ce(a),1===t.blending&&!1===t.transparent?le(0):le(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),i.setFunc(t.depthFunc),i.setTest(t.depthTest),i.setMask(t.depthWrite),n.setMask(t.colorWrite);const o=t.stencilWrite;r.setTest(o),o&&(r.setMask(t.stencilWriteMask),r.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),r.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),de(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?re(e.SAMPLE_ALPHA_TO_COVERAGE):se(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ce,setCullFace:ue,setLineWidth:function(t){t!==G&&(j&&e.lineWidth(t),G=t)},setPolygonOffset:de,setScissorTest:function(t){t?re(e.SCISSOR_TEST):se(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+X-1),J!==t&&(e.activeTexture(t),J=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===J?e.TEXTURE0+X-1:J);let r=Z[i];void 0===r&&(r={type:void 0,texture:void 0},Z[i]=r),r.type===t&&r.texture===n||(J!==i&&(e.activeTexture(i),J=i),e.bindTexture(t,n||ie[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=Z[J];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let i=w.get(n);void 0===i&&(i=new WeakMap,w.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){const i=w.get(n).get(t);s.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),s.set(n,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===ee.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ee.copy(t))},viewport:function(t){!1===te.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),te.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),i.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),I={},J=null,Z={},C={},T=new WeakMap,M=[],B=null,R=!1,P=null,_=null,D=null,N=null,L=null,O=null,k=null,U=new _i(0,0,0),F=0,Q=!1,V=null,H=null,G=null,z=null,W=null,ee.set(0,0,e.canvas.width,e.canvas.height),te.set(0,0,e.canvas.width,e.canvas.height),n.reset(),i.reset(),r.reset()}}}function Bh(e,t,n,i,r,s,a){const o=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Nt,u=new WeakMap;let d;const h=new WeakMap;let p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function f(e,t){return p?new OffscreenCanvas(e,t):Qt("canvas")}function g(e,t,n){let i=1;const r=Z(e);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(i*r.width),s=Math.floor(i*r.height);void 0===d&&(d=f(n,s));const a=t?f(n,s):d;return a.width=n,a.height=s,a.getContext("2d").drawImage(e,0,0,n,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),e}return e}function A(e){return e.generateMipmaps}function m(t){e.generateMipmap(t)}function v(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function y(n,i,r,s,a=!1){if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;if(i===e.RED&&(r===e.FLOAT&&(o=e.R32F),r===e.HALF_FLOAT&&(o=e.R16F),r===e.UNSIGNED_BYTE&&(o=e.R8)),i===e.RED_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.R8UI),r===e.UNSIGNED_SHORT&&(o=e.R16UI),r===e.UNSIGNED_INT&&(o=e.R32UI),r===e.BYTE&&(o=e.R8I),r===e.SHORT&&(o=e.R16I),r===e.INT&&(o=e.R32I)),i===e.RG&&(r===e.FLOAT&&(o=e.RG32F),r===e.HALF_FLOAT&&(o=e.RG16F),r===e.UNSIGNED_BYTE&&(o=e.RG8)),i===e.RG_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.RG8UI),r===e.UNSIGNED_SHORT&&(o=e.RG16UI),r===e.UNSIGNED_INT&&(o=e.RG32UI),r===e.BYTE&&(o=e.RG8I),r===e.SHORT&&(o=e.RG16I),r===e.INT&&(o=e.RG32I)),i===e.RGB_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.RGB8UI),r===e.UNSIGNED_SHORT&&(o=e.RGB16UI),r===e.UNSIGNED_INT&&(o=e.RGB32UI),r===e.BYTE&&(o=e.RGB8I),r===e.SHORT&&(o=e.RGB16I),r===e.INT&&(o=e.RGB32I)),i===e.RGBA_INTEGER&&(r===e.UNSIGNED_BYTE&&(o=e.RGBA8UI),r===e.UNSIGNED_SHORT&&(o=e.RGBA16UI),r===e.UNSIGNED_INT&&(o=e.RGBA32UI),r===e.BYTE&&(o=e.RGBA8I),r===e.SHORT&&(o=e.RGBA16I),r===e.INT&&(o=e.RGBA32I)),i===e.RGB&&r===e.UNSIGNED_INT_5_9_9_9_REV&&(o=e.RGB9_E5),i===e.RGBA){const t=a?ot:jt.getTransfer(s);r===e.FLOAT&&(o=e.RGBA32F),r===e.HALF_FLOAT&&(o=e.RGBA16F),r===e.UNSIGNED_BYTE&&(o=t===lt?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(o=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(o=e.RGB5_A1)}return o!==e.R16F&&o!==e.R32F&&o!==e.RG16F&&o!==e.RG32F&&o!==e.RGBA16F&&o!==e.RGBA32F||t.get("EXT_color_buffer_float"),o}function E(t,n){let i;return t?null===n||n===ee||n===se?i=e.DEPTH24_STENCIL8:n===te?i=e.DEPTH32F_STENCIL8:n===K&&(i=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===ee||n===se?i=e.DEPTH_COMPONENT24:n===te?i=e.DEPTH_COMPONENT32F:n===K&&(i=e.DEPTH_COMPONENT16),i}function S(e,t){return!0===A(e)||e.isFramebufferTexture&&e.minFilter!==G&&e.minFilter!==X?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function b(e){const t=e.target;t.removeEventListener("dispose",b),function(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=h.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&w(e),0===Object.keys(r).length&&h.delete(n)}i.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function x(t){const n=t.target;n.removeEventListener("dispose",x),function(t){const n=i.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),i.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let i=0;i<n.__webglFramebuffer[t].length;i++)e.deleteFramebuffer(n.__webglFramebuffer[t][i]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const r=t.textures;for(let t=0,n=r.length;t<n;t++){const n=i.get(r[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),a.memory.textures--),i.remove(r[t])}i.remove(t)}(n)}function w(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source;delete h.get(r)[n.__cacheKey],a.memory.textures--}let I=0;function C(t,r){const s=i.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&s.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void _(s,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,s.__webglTexture,e.TEXTURE0+r)}const T={[Q]:e.REPEAT,[V]:e.CLAMP_TO_EDGE,[H]:e.MIRRORED_REPEAT},M={[G]:e.NEAREST,[z]:e.NEAREST_MIPMAP_NEAREST,[W]:e.NEAREST_MIPMAP_LINEAR,[X]:e.LINEAR,[j]:e.LINEAR_MIPMAP_NEAREST,[q]:e.LINEAR_MIPMAP_LINEAR},B={[ut]:e.NEVER,[mt]:e.ALWAYS,[dt]:e.LESS,[pt]:e.LEQUAL,[ht]:e.EQUAL,[At]:e.GEQUAL,[ft]:e.GREATER,[gt]:e.NOTEQUAL};function R(n,s){if(s.type!==te||!1!==t.has("OES_texture_float_linear")||s.magFilter!==X&&s.magFilter!==j&&s.magFilter!==W&&s.magFilter!==q&&s.minFilter!==X&&s.minFilter!==j&&s.minFilter!==W&&s.minFilter!==q||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,T[s.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,T[s.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,T[s.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M[s.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M[s.minFilter]),s.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,B[s.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(s.magFilter===G)return;if(s.minFilter!==W&&s.minFilter!==q)return;if(s.type===te&&!1===t.has("OES_texture_float_linear"))return;if(s.anisotropy>1||i.get(s).__currentAnisotropy){const a=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),i.get(s).__currentAnisotropy=s.anisotropy}}}function P(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",b));const r=n.source;let s=h.get(r);void 0===s&&(s={},h.set(r,s));const o=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(o!==t.__cacheKey){void 0===s[o]&&(s[o]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,i=!0),s[o].usedTimes++;const r=s[t.__cacheKey];void 0!==r&&(s[t.__cacheKey].usedTimes--,0===r.usedTimes&&w(n)),t.__cacheKey=o,t.__webglTexture=s[o].texture}return i}function _(t,a,o){let l=e.TEXTURE_2D;(a.isDataArrayTexture||a.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),a.isData3DTexture&&(l=e.TEXTURE_3D);const c=P(t,a),u=a.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+o);const d=i.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+o);const t=jt.getPrimaries(jt.workingColorSpace),i=a.colorSpace===rt?null:jt.getPrimaries(a.colorSpace),h=a.colorSpace===rt||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let p=g(a.image,!1,r.maxTextureSize);p=J(a,p);const f=s.convert(a.format,a.colorSpace),v=s.convert(a.type);let b,x=y(a.internalFormat,f,v,a.colorSpace,a.isVideoTexture);R(l,a);const w=a.mipmaps,I=!0!==a.isVideoTexture,C=void 0===d.__version||!0===c,T=u.dataReady,M=S(a,p);if(a.isDepthTexture)x=E(a.format===pe,a.type),C&&(I?n.texStorage2D(e.TEXTURE_2D,1,x,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,x,p.width,p.height,0,f,v,null));else if(a.isDataTexture)if(w.length>0){I&&C&&n.texStorage2D(e.TEXTURE_2D,M,x,w[0].width,w[0].height);for(let t=0,i=w.length;t<i;t++)b=w[t],I?T&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,f,v,b.data):n.texImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,f,v,b.data);a.generateMipmaps=!1}else I?(C&&n.texStorage2D(e.TEXTURE_2D,M,x,p.width,p.height),T&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,f,v,p.data)):n.texImage2D(e.TEXTURE_2D,0,x,p.width,p.height,0,f,v,p.data);else if(a.isCompressedTexture)if(a.isCompressedArrayTexture){I&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,M,x,w[0].width,w[0].height,p.depth);for(let t=0,i=w.length;t<i;t++)if(b=w[t],a.format!==ce)if(null!==f)if(I){if(T)if(a.layerUpdates.size>0){const i=iu(b.width,b.height,a.format,a.type);for(const r of a.layerUpdates){const s=b.data.subarray(r*i/b.data.BYTES_PER_ELEMENT,(r+1)*i/b.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,r,b.width,b.height,1,f,s)}a.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,b.width,b.height,p.depth,f,b.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,x,b.width,b.height,p.depth,0,b.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else I?T&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,b.width,b.height,p.depth,f,v,b.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,x,b.width,b.height,p.depth,0,f,v,b.data)}else{I&&C&&n.texStorage2D(e.TEXTURE_2D,M,x,w[0].width,w[0].height);for(let t=0,i=w.length;t<i;t++)b=w[t],a.format!==ce?null!==f?I?T&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,f,b.data):n.compressedTexImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):I?T&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,f,v,b.data):n.texImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,f,v,b.data)}else if(a.isDataArrayTexture)if(I){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,M,x,p.width,p.height,p.depth),T)if(a.layerUpdates.size>0){const t=iu(p.width,p.height,a.format,a.type);for(const i of a.layerUpdates){const r=p.data.subarray(i*t/p.data.BYTES_PER_ELEMENT,(i+1)*t/p.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,i,p.width,p.height,1,f,v,r)}a.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,f,v,p.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,x,p.width,p.height,p.depth,0,f,v,p.data);else if(a.isData3DTexture)I?(C&&n.texStorage3D(e.TEXTURE_3D,M,x,p.width,p.height,p.depth),T&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,f,v,p.data)):n.texImage3D(e.TEXTURE_3D,0,x,p.width,p.height,p.depth,0,f,v,p.data);else if(a.isFramebufferTexture){if(C)if(I)n.texStorage2D(e.TEXTURE_2D,M,x,p.width,p.height);else{let t=p.width,i=p.height;for(let r=0;r<M;r++)n.texImage2D(e.TEXTURE_2D,r,x,t,i,0,f,v,null),t>>=1,i>>=1}}else if(w.length>0){if(I&&C){const t=Z(w[0]);n.texStorage2D(e.TEXTURE_2D,M,x,t.width,t.height)}for(let t=0,i=w.length;t<i;t++)b=w[t],I?T&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,f,v,b):n.texImage2D(e.TEXTURE_2D,t,x,f,v,b);a.generateMipmaps=!1}else if(I){if(C){const t=Z(p);n.texStorage2D(e.TEXTURE_2D,M,x,t.width,t.height)}T&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,f,v,p)}else n.texImage2D(e.TEXTURE_2D,0,x,f,v,p);A(a)&&m(l),d.__version=u.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}function D(t,r,a,l,c,u){const d=s.convert(a.format,a.colorSpace),h=s.convert(a.type),p=y(a.internalFormat,d,h,a.colorSpace),f=i.get(r),g=i.get(a);if(g.__renderTarget=r,!f.__hasExternalTextures){const t=Math.max(1,r.width>>u),i=Math.max(1,r.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,i,r.depth,0,d,h,null):n.texImage2D(c,u,p,t,i,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),F(r)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,g.__webglTexture,0,U(r)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,g.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function N(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const r=n.depthTexture,s=r&&r.isDepthTexture?r.type:null,a=E(n.stencilBuffer,s),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=U(n);F(n)?o.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,a,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,a,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let r=0;r<t.length;r++){const a=t[r],l=s.convert(a.format,a.colorSpace),c=s.convert(a.type),u=y(a.internalFormat,l,c,a.colorSpace),d=U(n);i&&!1===F(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):F(n)?o.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function L(t){const r=i.get(t),s=!0===t.isWebGLCubeRenderTarget;if(r.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(r.__depthDisposeCallback&&r.__depthDisposeCallback(),e){const t=()=>{delete r.__boundDepthTexture,delete r.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),r.__depthDisposeCallback=t}r.__boundDepthTexture=e}if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(s)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const s=i.get(r.depthTexture);s.__renderTarget=r,s.__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),C(r.depthTexture,0);const a=s.__webglTexture,l=U(r);if(r.depthTexture.format===he)F(r)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(r.depthTexture.format!==pe)throw new Error("Unknown depthTexture format");F(r)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(r.__webglFramebuffer,t)}else if(s){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)if(n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),void 0===r.__webglDepthbuffer[i])r.__webglDepthbuffer[i]=e.createRenderbuffer(),N(r.__webglDepthbuffer[i],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,s=r.__webglDepthbuffer[i];e.bindRenderbuffer(e.RENDERBUFFER,s),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,s)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),void 0===r.__webglDepthbuffer)r.__webglDepthbuffer=e.createRenderbuffer(),N(r.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,i=r.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,i),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,i)}n.bindFramebuffer(e.FRAMEBUFFER,null)}const O=[],k=[];function U(e){return Math.min(r.maxSamples,e.samples)}function F(e){const n=i.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function J(e,t){const n=e.colorSpace,i=e.format,r=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==at&&n!==rt&&(jt.getTransfer(n)===lt?i===ce&&r===Y||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function Z(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=I;return e>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+r.maxTextures),I+=1,e},this.resetTextureUnits=function(){I=0},this.setTexture2D=C,this.setTexture2DArray=function(t,r){const s=i.get(t);t.version>0&&s.__version!==t.version?_(s,t,r):n.bindTexture(e.TEXTURE_2D_ARRAY,s.__webglTexture,e.TEXTURE0+r)},this.setTexture3D=function(t,r){const s=i.get(t);t.version>0&&s.__version!==t.version?_(s,t,r):n.bindTexture(e.TEXTURE_3D,s.__webglTexture,e.TEXTURE0+r)},this.setTextureCube=function(t,a){const o=i.get(t);t.version>0&&o.__version!==t.version?function(t,a,o){if(6!==a.image.length)return;const l=P(t,a),c=a.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);const u=i.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+o);const t=jt.getPrimaries(jt.workingColorSpace),i=a.colorSpace===rt?null:jt.getPrimaries(a.colorSpace),d=a.colorSpace===rt||t===i?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=a.isCompressedTexture||a.image[0].isCompressedTexture,p=a.image[0]&&a.image[0].isDataTexture,f=[];for(let e=0;e<6;e++)f[e]=h||p?p?a.image[e].image:a.image[e]:g(a.image[e],!0,r.maxCubemapSize),f[e]=J(a,f[e]);const v=f[0],E=s.convert(a.format,a.colorSpace),b=s.convert(a.type),x=y(a.internalFormat,E,b,a.colorSpace),w=!0!==a.isVideoTexture,I=void 0===u.__version||!0===l,C=c.dataReady;let T,M=S(a,v);if(R(e.TEXTURE_CUBE_MAP,a),h){w&&I&&n.texStorage2D(e.TEXTURE_CUBE_MAP,M,x,v.width,v.height);for(let t=0;t<6;t++){T=f[t].mipmaps;for(let i=0;i<T.length;i++){const r=T[i];a.format!==ce?null!==E?w?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,E,r.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,x,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):w?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,r.width,r.height,E,b,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,x,r.width,r.height,0,E,b,r.data)}}}else{if(T=a.mipmaps,w&&I){T.length>0&&M++;const t=Z(f[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,M,x,t.width,t.height)}for(let t=0;t<6;t++)if(p){w?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,f[t].width,f[t].height,E,b,f[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,f[t].width,f[t].height,0,E,b,f[t].data);for(let i=0;i<T.length;i++){const r=T[i].image[t].image;w?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,r.width,r.height,E,b,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,x,r.width,r.height,0,E,b,r.data)}}else{w?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,E,b,f[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,E,b,f[t]);for(let i=0;i<T.length;i++){const r=T[i];w?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,E,b,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,x,E,b,r.image[t])}}}A(a)&&m(e.TEXTURE_CUBE_MAP),u.__version=c.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}(o,t,a):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+a)},this.rebindTextures=function(t,n,r){const s=i.get(t);void 0!==n&&D(s.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==r&&L(t)},this.setupRenderTarget=function(t){const r=t.texture,o=i.get(t),l=i.get(r);t.addEventListener("dispose",x);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=r.version,a.memory.textures++),u){o.__webglFramebuffer=[];for(let t=0;t<6;t++)if(r.mipmaps&&r.mipmaps.length>0){o.__webglFramebuffer[t]=[];for(let n=0;n<r.mipmaps.length;n++)o.__webglFramebuffer[t][n]=e.createFramebuffer()}else o.__webglFramebuffer[t]=e.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){o.__webglFramebuffer=[];for(let t=0;t<r.mipmaps.length;t++)o.__webglFramebuffer[t]=e.createFramebuffer()}else o.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=i.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),a.memory.textures++)}if(t.samples>0&&!1===F(t)){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,o.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const i=c[n];o.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,o.__webglColorRenderbuffer[n]);const r=s.convert(i.format,i.colorSpace),a=s.convert(i.type),l=y(i.internalFormat,r,a,i.colorSpace,!0===t.isXRRenderTarget),u=U(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,o.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),N(o.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),R(e.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)D(o.__webglFramebuffer[n][i],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else D(o.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);A(r)&&m(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,s=c.length;r<s;r++){const s=c[r],a=i.get(s);n.bindTexture(e.TEXTURE_2D,a.__webglTexture),R(e.TEXTURE_2D,s),D(o.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0+r,e.TEXTURE_2D,0),A(s)&&m(e.TEXTURE_2D)}n.unbindTexture()}else{let i=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(i,l.__webglTexture),R(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)D(o.__webglFramebuffer[n],t,r,e.COLOR_ATTACHMENT0,i,n);else D(o.__webglFramebuffer,t,r,e.COLOR_ATTACHMENT0,i,0);A(r)&&m(i),n.unbindTexture()}t.depthBuffer&&L(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let r=0,s=t.length;r<s;r++){const s=t[r];if(A(s)){const t=v(e),r=i.get(s).__webglTexture;n.bindTexture(t,r),m(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===F(t)){const r=t.textures,s=t.width,a=t.height;let o=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=i.get(t),d=r.length>1;if(d)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,s,a,0,0,s,a,o,e.NEAREST),!0===l&&(O.length=0,k.length=0,O.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(O.push(c),k.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,k)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,O))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const s=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,s,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=L,this.setupFrameBufferTexture=D,this.useMultisampledRTT=F}function Rh(e,t){return{convert:function(n,i=""){let r;const s=jt.getTransfer(i);if(n===Y)return e.UNSIGNED_BYTE;if(n===ie)return e.UNSIGNED_SHORT_4_4_4_4;if(n===re)return e.UNSIGNED_SHORT_5_5_5_1;if(n===ae)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===J)return e.BYTE;if(n===Z)return e.SHORT;if(n===K)return e.UNSIGNED_SHORT;if(n===$)return e.INT;if(n===ee)return e.UNSIGNED_INT;if(n===te)return e.FLOAT;if(n===ne)return e.HALF_FLOAT;if(n===oe)return e.ALPHA;if(n===le)return e.RGB;if(n===ce)return e.RGBA;if(n===ue)return e.LUMINANCE;if(n===de)return e.LUMINANCE_ALPHA;if(n===he)return e.DEPTH_COMPONENT;if(n===pe)return e.DEPTH_STENCIL;if(n===fe)return e.RED;if(n===ge)return e.RED_INTEGER;if(n===Ae)return e.RG;if(n===me)return e.RG_INTEGER;if(n===ve)return e.RGBA_INTEGER;if(n===ye||n===Ee||n===Se||n===be)if(s===lt){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===ye)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ee)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Se)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===be)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===ye)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ee)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Se)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===be)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===xe||n===we||n===Ie||n===Ce){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===xe)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===we)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Ie)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ce)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Te||n===Me||n===Be){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===Te||n===Me)return s===lt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===Be)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===Re||n===Pe||n===_e||n===De||n===Ne||n===Le||n===Oe||n===ke||n===Ue||n===Fe||n===Qe||n===Ve||n===He||n===Ge){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===Re)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Pe)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===_e)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===De)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ne)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Le)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Oe)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ke)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Ue)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Fe)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Qe)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ve)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===He)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Ge)return s===lt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===ze||n===We||n===Xe){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===ze)return s===lt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===We)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Xe)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===je||n===qe||n===Ye||n===Je){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===ze)return r.COMPRESSED_RED_RGTC1_EXT;if(n===qe)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ye)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Je)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===se?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}const Ph={type:"move"};class _h{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ma,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ma,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new un,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new un),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ma,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new un,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new un),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){s=!0;for(const i of e.hand.values()){const e=t.getJointPose(i,n),r=this._getHandJoint(l,i);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],a=i.position.distanceTo(r.position),o=.02,c=.005;l.inputState.pinching&&a>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ph)))}return null!==a&&(a.visible=null!==i),null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new ma;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Dh{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const i=new nn;e.properties.get(i).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Er({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new pr(new Do(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Nh extends bt{constructor(e,t){super();const n=this;let i=null,r=1,s=null,a="local-floor",o=1,l=null,c=null,u=null,d=null,h=null,p=null;const f=new Dh,g=t.getContextAttributes();let A=null,m=null;const v=[],y=[],E=new Nt;let S=null;const b=new Ir;b.viewport=new rn;const x=new Ir;x.viewport=new rn;const w=[b,x],I=new lc;let C=null,T=null;function M(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||s),n.dispatchEvent({type:e.type,data:e.inputSource}))}function B(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",R);for(let e=0;e<v.length;e++){const t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}C=null,T=null,f.reset(),e.setRenderTarget(A),h=null,d=null,u=null,i=null,m=null,L.stop(),n.isPresenting=!1,e.setPixelRatio(S),e.setSize(E.width,E.height,!1),n.dispatchEvent({type:"sessionend"})}function R(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=y.indexOf(n);i>=0&&(y[i]=null,v[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=y.indexOf(n);if(-1===i){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),i=e;break}if(null===y[e]){y[e]=n,i=e;break}}if(-1===i)break}const r=v[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new _h,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new _h,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new _h,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){if(A=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",B),i.addEventListener("inputsourceschange",R),!0!==g.xrCompatible&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(E),void 0!==i.enabledFeatures&&i.enabledFeatures.includes("layers")){let n=null,s=null,a=null;g.depth&&(a=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=g.stencil?pe:he,s=g.stencil?se:ee);const o={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:r};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(o),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),m=new an(d.textureWidth,d.textureHeight,{format:ce,type:Y,depthTexture:new ya(d.textureWidth,d.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),m=new an(h.framebufferWidth,h.framebufferHeight,{format:ce,type:Y,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}m.isXRRenderTarget=!0,this.setFoveation(o),l=null,s=await i.requestReferenceSpace(a),L.setContext(i),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return f.getDepthTexture()};const P=new un,_=new un;function D(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;let t=e.near,n=e.far;null!==f.texture&&(f.depthNear>0&&(t=f.depthNear),f.depthFar>0&&(n=f.depthFar)),I.near=x.near=b.near=t,I.far=x.far=b.far=n,C===I.near&&T===I.far||(i.updateRenderState({depthNear:I.near,depthFar:I.far}),C=I.near,T=I.far),b.layers.mask=2|e.layers.mask,x.layers.mask=4|e.layers.mask,I.layers.mask=b.layers.mask|x.layers.mask;const r=e.parent,s=I.cameras;D(I,r);for(let e=0;e<s.length;e++)D(s[e],r);2===s.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);const i=P.distanceTo(_),r=t.projectionMatrix.elements,s=n.projectionMatrix.elements,a=r[14]/(r[10]-1),o=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(s[8]+1)/s[0],h=a*u,p=a*d,f=i/(-u+d),g=f*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===r[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=a+f,n=o+f,r=h-g,s=p+(i-g),u=l*o/n*t,d=c*o/n*t;e.projectionMatrix.makePerspective(r,s,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(I,b,x):I.projectionMatrix.copy(b.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Ct*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,I,r)},this.getCamera=function(){return I},this.getFoveation=function(){if(null!==d||null!==h)return o},this.setFoveation=function(e){o=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==f.texture},this.getDepthSensingMesh=function(){return f.getMesh(I)};let N=null;const L=new su;L.setAnimationLoop(function(t,r){if(c=r.getViewerPose(l||s),p=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==I.cameras.length&&(I.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let s=null;if(null!==h)s=h.getViewport(r);else{const t=u.getViewSubImage(d,r);s=t.viewport,0===i&&(e.setRenderTargetTextures(m,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let a=w[i];void 0===a&&(a=new Ir,a.layers.enable(i),a.viewport=new rn,w[i]=a),a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(r.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(s.x,s.y,s.width,s.height),0===i&&(I.matrix.copy(a.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),!0===n&&I.cameras.push(a)}const r=i.enabledFeatures;if(r&&r.includes("depth-sensing")){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&f.init(e,n,i.renderState)}}for(let e=0;e<v.length;e++){const t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||s)}N&&N(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),p=null}),this.setAnimationLoop=function(e){N=e},this.dispose=function(){}}}const Lh=new Jn,Oh=new Qn;function kh(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function i(e,i){e.opacity.value=i.opacity,i.color&&e.diffuse.value.copy(i.color),i.emissive&&e.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(e.map.value=i.map,n(i.map,e.mapTransform)),i.alphaMap&&(e.alphaMap.value=i.alphaMap,n(i.alphaMap,e.alphaMapTransform)),i.bumpMap&&(e.bumpMap.value=i.bumpMap,n(i.bumpMap,e.bumpMapTransform),e.bumpScale.value=i.bumpScale,1===i.side&&(e.bumpScale.value*=-1)),i.normalMap&&(e.normalMap.value=i.normalMap,n(i.normalMap,e.normalMapTransform),e.normalScale.value.copy(i.normalScale),1===i.side&&e.normalScale.value.negate()),i.displacementMap&&(e.displacementMap.value=i.displacementMap,n(i.displacementMap,e.displacementMapTransform),e.displacementScale.value=i.displacementScale,e.displacementBias.value=i.displacementBias),i.emissiveMap&&(e.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,e.emissiveMapTransform)),i.specularMap&&(e.specularMap.value=i.specularMap,n(i.specularMap,e.specularMapTransform)),i.alphaTest>0&&(e.alphaTest.value=i.alphaTest);const r=t.get(i),s=r.envMap,a=r.envMapRotation;s&&(e.envMap.value=s,Lh.copy(a),Lh.x*=-1,Lh.y*=-1,Lh.z*=-1,s.isCubeTexture&&!1===s.isRenderTargetTexture&&(Lh.y*=-1,Lh.z*=-1),e.envMapRotation.value.setFromMatrix4(Oh.makeRotationFromEuler(Lh)),e.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1,e.reflectivity.value=i.reflectivity,e.ior.value=i.ior,e.refractionRatio.value=i.refractionRatio),i.lightMap&&(e.lightMap.value=i.lightMap,e.lightMapIntensity.value=i.lightMapIntensity,n(i.lightMap,e.lightMapTransform)),i.aoMap&&(e.aoMap.value=i.aoMap,e.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,vr(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,s,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(e,r):r.isMeshToonMaterial?(i(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(i(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(i(e,r),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,i){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=i.texture,e.transmissionSamplerSize.value.set(i.width,i.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,r,o)):r.isMeshMatcapMaterial?(i(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?i(e,r):r.isMeshDistanceMaterial?(i(e,r),function(e,n){const i=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(i.matrixWorld),e.nearDistance.value=i.shadow.camera.near,e.farDistance.value=i.shadow.camera.far}(e,r)):r.isMeshNormalMaterial?i(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,i,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*r,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r,s,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Uh(e,t,n,i){let r={},s={},a=[];const o=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,i){const r=e.value,s=t+"_"+n;if(void 0===i[s])return i[s]="number"==typeof r||"boolean"==typeof r?r:r.clone(),!0;{const e=i[s];if("number"==typeof r||"boolean"==typeof r){if(e!==r)return i[s]=r,!0}else if(!1===e.equals(r))return e.copy(r),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const i=a.indexOf(n.__bindingPointIndex);a.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete s[n.id]}return{bind:function(e,t){const n=t.program;i.uniformBlockBinding(e,n)},update:function(n,d){let h=r[n.id];void 0===h&&(function(e){const t=e.uniforms;let n=0;for(let e=0,i=t.length;e<i;e++){const i=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=i.length;e<t;e++){const t=i[e],r=Array.isArray(t.value)?t.value:[t.value];for(let e=0,i=r.length;e<i;e++){const i=c(r[e]),s=n%16,a=s%i.boundary,o=s+a;n+=a,0!==o&&16-o<i.storage&&(n+=16-o),t.__data=new Float32Array(i.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=i.storage}}}const i=n%16;i>0&&(n+=16-i),e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<o;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,s=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,s),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const p=d.program;i.updateUBOMapping(n,p);const f=t.render.frame;s[n.id]!==f&&(function(t){const n=r[t.id],i=t.uniforms,s=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=i.length;t<n;t++){const n=Array.isArray(i[t])?i[t]:[i[t]];for(let i=0,r=n.length;i<r;i++){const r=n[i];if(!0===l(r,t,i,s)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let s=0;s<n.length;s++){const a=n[s],o=c(a);"number"==typeof a||"boolean"==typeof a?(r.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):a.isMatrix3?(r.__data[0]=a.elements[0],r.__data[1]=a.elements[1],r.__data[2]=a.elements[2],r.__data[3]=0,r.__data[4]=a.elements[3],r.__data[5]=a.elements[4],r.__data[6]=a.elements[5],r.__data[7]=0,r.__data[8]=a.elements[6],r.__data[9]=a.elements[7],r.__data[10]=a.elements[8],r.__data[11]=0):(a.toArray(r.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),s[n.id]=f)},dispose:function(){for(const t in r)e.deleteBuffer(r[t]);a=[],r={},s={}}}}t.ACESFilmicToneMapping=4,t.AddEquation=a,t.AddOperation=2,t.AdditiveAnimationBlendMode=it,t.AdditiveBlending=2,t.AgXToneMapping=6,t.AlphaFormat=oe,t.AlwaysCompare=519,t.AlwaysDepth=1,t.AlwaysStencilFunc=519,t.AmbientLight=Xl,t.AnimationAction=Mc,t.AnimationClip=El,t.AnimationLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new Ml(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=El.parse(e[n]);t.push(i)}return t}},t.AnimationMixer=class extends bt{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,a=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let e=0;e!==r;++e){const r=i[e],l=r.name;let u=c[l];if(void 0!==u)++u.referenceCount,s[e]=u;else{if(u=s[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,o,l));continue}const i=t&&t._propertyBindings[e].binding.parsedPath;u=new Ec(Tc.create(n,l,i),r.ValueTypeName,r.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,o,l),s[e]=u}a[e].resultBuffer=u.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,a=s[r],o=a.knownActions,l=o[o.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete s[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[t];void 0===s&&(s={},i[t]=s),s[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,a=s[i],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[r],0===Object.keys(a).length&&delete s[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new ul(new Float32Array(2),new Float32Array(2),1,Bc),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let s="string"==typeof e?El.findByName(i,e):e;const a=null!==s?s.uuid:e,o=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==s?s.blendMode:2500),void 0!==o){const e=o.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new Mc(this,s,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r="string"==typeof e?El.findByName(n,e):e,s=r?r.uuid:e,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let a=0;a!==n;++a)t[a]._update(i,e,r,s);const a=this._bindings,o=this._nActiveBindings;for(let e=0;e!==o;++e)a[e].apply(s);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,s=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=r,t[r]=s,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const i=n[e].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[t];if(void 0!==i)for(const e in i){const t=i[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},t.AnimationObjectGroup=class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Tt(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let a,o=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=o++,t[d]=h,e.push(u);for(let e=0,t=s;e!==t;++e)r[e].push(new Tc(u,n[e],i[e]))}else if(h<l){a=e[h];const o=--l,c=e[o];t[c.uuid]=h,e[h]=c,t[d]=o,e[o]=u;for(let e=0,t=s;e!==t;++e){const t=r[e],s=t[o];let a=t[h];t[h]=s,void 0===a&&(a=new Tc(u,n[e],i[e])),t[o]=a}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],o=a.uuid,l=t[o];if(void 0!==l&&l>=r){const s=r++,c=e[s];t[c.uuid]=l,e[l]=c,t[o]=s,e[s]=a;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[s],r=t[l];t[l]=i,t[s]=r}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a].uuid,l=t[o];if(void 0!==l)if(delete t[o],l<r){const a=--r,o=e[a],c=--s,u=e[c];t[o.uuid]=l,e[l]=o,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[a],r=t[c];t[l]=i,t[a]=r,t.pop()}}else{const r=--s,a=e[r];r>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[l]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),a.push(t),r.push(u);for(let n=c,i=o.length;n!==i;++n){const i=o[n];u[n]=new Tc(i,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a];t[e[a]]=n,s[n]=o,s.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}},t.AnimationUtils=ol,t.ArcCurve=ba,t.ArrayCamera=lc,t.ArrowHelper=class extends pi{constructor(e=new un(0,0,1),t=new un(0,0,0),n=1,i=16776960,r=.2*n,s=.2*r){super(),this.type="ArrowHelper",void 0===tu&&(tu=new tr,tu.setAttribute("position",new ji([0,0,0,0,1,0],3)),nu=new Wa(0,.5,1,5,1),nu.translate(0,-.5,0)),this.position.copy(t),this.line=new ra(tu,new Js({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pr(nu,new Oi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eu.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(eu,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},t.AttachedBindMode=_,t.Audio=gc,t.AudioAnalyser=class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},t.AudioContext=rc,t.AudioListener=class extends pi{constructor(){super(),this.type="AudioListener",this.context=rc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new cc}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dc,hc,pc),fc.set(0,0,-1).applyQuaternion(hc),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(dc.x,e),t.positionY.linearRampToValueAtTime(dc.y,e),t.positionZ.linearRampToValueAtTime(dc.z,e),t.forwardX.linearRampToValueAtTime(fc.x,e),t.forwardY.linearRampToValueAtTime(fc.y,e),t.forwardZ.linearRampToValueAtTime(fc.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(dc.x,dc.y,dc.z),t.setOrientation(fc.x,fc.y,fc.z,n.x,n.y,n.z)}},t.AudioLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new Ml(this.manager);function a(t){i?i(t):console.error(t),r.manager.itemError(e)}s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(e){try{const n=e.slice(0);rc.getContext().decodeAudioData(n,function(e){t(e)}).catch(a)}catch(e){a(e)}},n,i)}},t.AxesHelper=class extends la{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new tr;n.setAttribute("position",new ji(t,3)),n.setAttribute("color",new ji([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new Js({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const i=new _i,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BatchedMesh=Ys,t.Bone=ds,t.BooleanKeyframeTrack=pl,t.Box2=class{constructor(e=new Nt(1/0,1/0),t=new Nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Oc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Oc).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},t.Box3=pn,t.Box3Helper=class extends la{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new tr;i.setIndex(new zi(n,1)),i.setAttribute("position",new ji([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new Js({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},t.BoxGeometry=gr,t.BoxHelper=class extends la{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new tr;r.setIndex(new zi(n,1)),r.setAttribute("position",new zi(i,3)),super(r,new Js({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&$c.setFromObject(this.object),$c.isEmpty())return;const t=$c.min,n=$c.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},t.BufferAttribute=zi,t.BufferGeometry=tr,t.BufferGeometryLoader=$l,t.ByteType=J,t.Cache=bl,t.Camera=Sr,t.CameraHelper=class extends la{constructor(e){const t=new tr,n=new Js({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],s={};function a(e,t){o(e),o(t)}function o(e){i.push(0,0,0),r.push(0,0,0),void 0===s[e]&&(s[e]=[]),s[e].push(i.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new ji(i,3)),t.setAttribute("color",new ji(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const l=new _i(16755200),c=new _i(16711680),u=new _i(43775),d=new _i(16777215),h=new _i(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,i,r){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,r.r,r.g,r.b),s.setXYZ(41,r.r,r.g,r.b),s.setXYZ(42,r.r,r.g,r.b),s.setXYZ(43,r.r,r.g,r.b),s.setXYZ(44,r.r,r.g,r.b),s.setXYZ(45,r.r,r.g,r.b),s.setXYZ(46,r.r,r.g,r.b),s.setXYZ(47,r.r,r.g,r.b),s.setXYZ(48,r.r,r.g,r.b),s.setXYZ(49,r.r,r.g,r.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Zc.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===Et?-1:0;Kc("c",t,e,Zc,0,0,n),Kc("t",t,e,Zc,0,0,1),Kc("n1",t,e,Zc,-1,-1,n),Kc("n2",t,e,Zc,1,-1,n),Kc("n3",t,e,Zc,-1,1,n),Kc("n4",t,e,Zc,1,1,n),Kc("f1",t,e,Zc,-1,-1,1),Kc("f2",t,e,Zc,1,-1,1),Kc("f3",t,e,Zc,-1,1,1),Kc("f4",t,e,Zc,1,1,1),Kc("u1",t,e,Zc,.7,1.1,n),Kc("u2",t,e,Zc,-.7,1.1,n),Kc("u3",t,e,Zc,0,2,n),Kc("cf1",t,e,Zc,-1,0,1),Kc("cf2",t,e,Zc,1,0,1),Kc("cf3",t,e,Zc,0,-1,1),Kc("cf4",t,e,Zc,0,1,1),Kc("cn1",t,e,Zc,-1,0,n),Kc("cn2",t,e,Zc,1,0,n),Kc("cn3",t,e,Zc,0,-1,n),Kc("cn4",t,e,Zc,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},t.CanvasTexture=class extends nn{constructor(e,t,n,i,r,s,a,o,l){super(e,t,n,i,r,s,a,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},t.CapsuleGeometry=Ga,t.CatmullRomCurve3=Ma,t.CineonToneMapping=3,t.CircleGeometry=za,t.ClampToEdgeWrapping=V,t.Clock=cc,t.Color=_i,t.ColorKeyframeTrack=fl,t.ColorManagement=jt,t.CompressedArrayTexture=class extends va{constructor(e,t,n,i,r,s){super(e,t,n,r,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=V,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},t.CompressedCubeTexture=class extends va{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,L),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},t.CompressedTexture=va,t.CompressedTextureLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=this,s=[],a=new va,o=new Ml(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials);let l=0;function c(c){o.load(e[c],function(e){const n=r.parse(e,!0);s[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=X),a.image=s,a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)c(t);else o.load(e,function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){s[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)s[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),s[t].format=n.format,s[t].width=n.width,s[t].height=n.height}a.image=s}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=X),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}},t.ConeGeometry=Xa,t.ConstantAlphaFactor=213,t.ConstantColorFactor=211,t.Controls=class extends bt{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}},t.CubeCamera=Tr,t.CubeReflectionMapping=L,t.CubeRefractionMapping=O,t.CubeTexture=Mr,t.CubeTextureLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=new Mr;r.colorSpace=st;const s=new Bl(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(n){s.load(e[n],function(e){r.images[n]=e,a++,6===a&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let t=0;t<e.length;++t)o(t);return r}},t.CubeUVReflectionMapping=F,t.CubicBezierCurve=_a,t.CubicBezierCurve3=Da,t.CubicInterpolant=cl,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=Ea,t.CurvePath=Qa,t.CustomBlending=5,t.CustomToneMapping=5,t.CylinderGeometry=Wa,t.Cylindrical=class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},t.Data3DTexture=ln,t.DataArrayTexture=on,t.DataTexture=hs,t.DataTextureLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new hs,a=new Ml(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(e){let n;try{n=r.parse(e)}catch(e){if(void 0===i)return void console.error(e);i(e)}void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:V,s.wrapT=void 0!==n.wrapT?n.wrapT:V,s.magFilter=void 0!==n.magFilter?n.magFilter:X,s.minFilter=void 0!==n.minFilter?n.minFilter:X,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(s.colorSpace=n.colorSpace),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=q),1===n.mipmapCount&&(s.minFilter=X),void 0!==n.generateMipmaps&&(s.generateMipmaps=n.generateMipmaps),s.needsUpdate=!0,t&&t(s,n)},n,i),s}},t.DataUtils=Vi,t.DecrementStencilOp=7683,t.DecrementWrapStencilOp=34056,t.DefaultLoadingManager=wl,t.DepthFormat=he,t.DepthStencilFormat=pe,t.DepthTexture=ya,t.DetachedBindMode=D,t.DirectionalLight=Wl,t.DirectionalLightHelper=class extends pi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new tr;i.setAttribute("position",new ji([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Js({fog:!1,toneMapped:!1});this.lightPlane=new ra(i,r),this.add(this.lightPlane),i=new tr,i.setAttribute("position",new ji([0,0,0,0,0,1],3)),this.targetLine=new ra(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),jc.setFromMatrixPosition(this.light.matrixWorld),qc.setFromMatrixPosition(this.light.target.matrixWorld),Yc.subVectors(qc,jc),this.lightPlane.lookAt(qc),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qc),this.targetLine.scale.z=Yc.length()}},t.DiscreteInterpolant=dl,t.DodecahedronGeometry=qa,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicCopyUsage=35050,t.DynamicDrawUsage=35048,t.DynamicReadUsage=35049,t.EdgesGeometry=$a,t.EllipseCurve=Sa,t.EqualCompare=514,t.EqualDepth=4,t.EqualStencilFunc=514,t.EquirectangularReflectionMapping=k,t.EquirectangularRefractionMapping=U,t.Euler=Jn,t.EventDispatcher=bt,t.ExtrudeGeometry=Bo,t.FileLoader=Ml,t.Float16BufferAttribute=class extends zi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Qi(this.array[e*this.itemSize]);return this.normalized&&(t=Pt(t,this.array)),t}setX(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize]=Fi(t),this}getY(e){let t=Qi(this.array[e*this.itemSize+1]);return this.normalized&&(t=Pt(t,this.array)),t}setY(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+1]=Fi(t),this}getZ(e){let t=Qi(this.array[e*this.itemSize+2]);return this.normalized&&(t=Pt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+2]=Fi(t),this}getW(e){let t=Qi(this.array[e*this.itemSize+3]);return this.normalized&&(t=Pt(t,this.array)),t}setW(e,t){return this.normalized&&(t=_t(t,this.array)),this.array[e*this.itemSize+3]=Fi(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array)),this.array[e+0]=Fi(t),this.array[e+1]=Fi(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array),i=_t(i,this.array)),this.array[e+0]=Fi(t),this.array[e+1]=Fi(n),this.array[e+2]=Fi(i),this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=_t(t,this.array),n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=Fi(t),this.array[e+1]=Fi(n),this.array[e+2]=Fi(i),this.array[e+3]=Fi(r),this}},t.Float32BufferAttribute=ji,t.FloatType=te,t.Fog=Pr,t.FogExp2=Rr,t.FramebufferTexture=class extends nn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=G,this.minFilter=G,this.generateMipmaps=!1,this.needsUpdate=!0}},t.FrontSide=0,t.Frustum=Ps,t.GLBufferAttribute=class{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},t.GLSL1="100",t.GLSL3=yt,t.GreaterCompare=516,t.GreaterDepth=6,t.GreaterEqualCompare=518,t.GreaterEqualDepth=5,t.GreaterEqualStencilFunc=518,t.GreaterStencilFunc=516,t.GridHelper=class extends la{constructor(e=10,t=10,n=4473924,i=8947848){n=new _i(n),i=new _i(i);const r=t/2,s=e/t,a=e/2,o=[],l=[];for(let e=0,c=0,u=-a;e<=t;e++,u+=s){o.push(-a,0,u,a,0,u),o.push(u,0,-a,u,0,a);const t=e===r?n:i;t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3}const c=new tr;c.setAttribute("position",new ji(o,3)),c.setAttribute("color",new ji(l,3)),super(c,new Js({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},t.Group=ma,t.HalfFloatType=ne,t.HemisphereLight=Pl,t.HemisphereLightHelper=class extends pi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new _o(t);i.rotateY(.5*Math.PI),this.material=new Oi({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),s=new Float32Array(3*r.count);i.setAttribute("color",new zi(s,3)),this.add(new pr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Wc.copy(this.light.color),Xc.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?Wc:Xc;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zc.setFromMatrixPosition(this.light.matrixWorld).negate())}},t.IcosahedronGeometry=Po,t.ImageBitmapLoader=class extends Il{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=bl.get(e);if(void 0!==s)return r.manager.itemStart(e),s.then?void s.then(n=>{t&&t(n),r.manager.itemEnd(e)}).catch(e=>{i&&i(e)}):(setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const o=fetch(e,a).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){return bl.add(e,n),t&&t(n),r.manager.itemEnd(e),n}).catch(function(t){i&&i(t),bl.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});bl.add(e,o),r.manager.itemStart(e)}},t.ImageLoader=Bl,t.ImageUtils=Zt,t.IncrementStencilOp=7682,t.IncrementWrapStencilOp=34055,t.InstancedBufferAttribute=As,t.InstancedBufferGeometry=Kl,t.InstancedInterleavedBuffer=class extends Dr{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},t.InstancedMesh=ws,t.Int16BufferAttribute=class extends zi{constructor(e,t,n){super(new Int16Array(e),t,n)}},t.Int32BufferAttribute=class extends zi{constructor(e,t,n){super(new Int32Array(e),t,n)}},t.Int8BufferAttribute=class extends zi{constructor(e,t,n){super(new Int8Array(e),t,n)}},t.IntType=$,t.InterleavedBuffer=Dr,t.InterleavedBufferAttribute=Lr,t.Interpolant=ll,t.InterpolateDiscrete=Ze,t.InterpolateLinear=Ke,t.InterpolateSmooth=$e,t.InvertStencilOp=5386,t.KeepStencilOp=ct,t.KeyframeTrack=hl,t.LOD=es,t.LatheGeometry=Ha,t.Layers=Zn,t.LessCompare=513,t.LessDepth=2,t.LessEqualCompare=515,t.LessEqualDepth=3,t.LessEqualStencilFunc=515,t.LessStencilFunc=513,t.Light=Rl,t.LightProbe=Yl,t.Line=ra,t.Line3=class{constructor(e=new un,t=new un){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){kc.subVectors(e,this.start),Uc.subVectors(this.end,this.start);const n=Uc.dot(Uc);let i=Uc.dot(kc)/n;return t&&(i=Mt(i,0,1)),i}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},t.LineBasicMaterial=Js,t.LineCurve=Na,t.LineCurve3=La,t.LineDashedMaterial=tl,t.LineLoop=ca,t.LineSegments=la,t.LinearFilter=X,t.LinearInterpolant=ul,t.LinearMipMapLinearFilter=1008,t.LinearMipMapNearestFilter=1007,t.LinearMipmapLinearFilter=q,t.LinearMipmapNearestFilter=j,t.LinearSRGBColorSpace=at,t.LinearToneMapping=1,t.LinearTransfer=ot,t.Loader=Il,t.LoaderUtils=Zl,t.LoadingManager=xl,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=de,t.LuminanceFormat=ue,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},t.Material=Li,t.MaterialLoader=Jl,t.MathUtils=Dt,t.Matrix2=Lc,t.Matrix3=Lt,t.Matrix4=Qn,t.MaxEquation=104,t.Mesh=pr,t.MeshBasicMaterial=Oi,t.MeshDepthMaterial=Ko,t.MeshDistanceMaterial=$o,t.MeshLambertMaterial=Zo,t.MeshMatcapMaterial=el,t.MeshNormalMaterial=Jo,t.MeshPhongMaterial=qo,t.MeshPhysicalMaterial=jo,t.MeshStandardMaterial=Xo,t.MeshToonMaterial=Yo,t.MinEquation=103,t.MirroredRepeatWrapping=H,t.MixOperation=1,t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=G,t.NearestMipMapLinearFilter=1005,t.NearestMipMapNearestFilter=1004,t.NearestMipmapLinearFilter=W,t.NearestMipmapNearestFilter=z,t.NeutralToneMapping=7,t.NeverCompare=512,t.NeverDepth=0,t.NeverStencilFunc=512,t.NoBlending=0,t.NoColorSpace=rt,t.NoToneMapping=0,t.NormalAnimationBlendMode=2500,t.NormalBlending=1,t.NotEqualCompare=517,t.NotEqualDepth=7,t.NotEqualStencilFunc=517,t.NumberKeyframeTrack=gl,t.Object3D=pi,t.ObjectLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=this,s=""===this.path?Zl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Ml(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){let s=null;try{s=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(s,t)},n,i)}async loadAsync(e,t){const n=""===this.path?Zl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const i=new Ml(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const r=await i.loadAsync(e,t),s=JSON.parse(r),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){void 0!==t&&t(l)}),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in s)if(s[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,i,a,s,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),this.bindLightTargets(o),o}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new eo).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(e){e.isBone&&(i[e.uuid]=e)}),void 0!==e)for(let t=0,r=e.length;t<r;t++){const r=(new gs).fromJSON(e[t],i);n[r.uuid]=r}return n}parseGeometries(e,t){const n={};if(void 0!==e){const i=new $l;for(let r=0,s=e.length;r<s;r++){let s;const a=e[r];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(a);break;default:a.type in Go?s=Go[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new Jl;r.setTextures(t);for(let t=0,s=e.length;t<s;t++){const s=e[t];void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=El.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function s(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),r.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:Ft(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new xl(t);r=new Bl(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n.url;if(Array.isArray(r)){const e=[];for(let t=0,n=r.length;t<n;t++){const n=s(r[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new hs(n.data,n.width,n.height)))}i[n.uuid]=new $t(e)}else{const e=s(n.url);i[n.uuid]=new $t(e)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(e){if("string"==typeof e){const n=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await i.loadAsync(r)}return e.data?{data:Ft(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){i=new Bl(this.manager),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],s=i.url;if(Array.isArray(s)){const e=[];for(let t=0,n=s.length;t<n;t++){const n=s[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new hs(i.data,i.width,i.height)))}n[i.uuid]=new $t(e)}else{const e=await r(i.url);n[i.uuid]=new $t(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,s=e.length;r<s;r++){const s=e[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const a=t[s.image],o=a.data;let l;Array.isArray(o)?(l=new Mr,6===o.length&&(l.needsUpdate=!0)):(l=o&&o.data?new hs:new nn,o&&(l.needsUpdate=!0)),l.source=a,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=n(s.mapping,ec)),void 0!==s.channel&&(l.channel=s.channel),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.center&&l.center.fromArray(s.center),void 0!==s.rotation&&(l.rotation=s.rotation),void 0!==s.wrap&&(l.wrapS=n(s.wrap[0],tc),l.wrapT=n(s.wrap[1],tc)),void 0!==s.format&&(l.format=s.format),void 0!==s.internalFormat&&(l.internalFormat=s.internalFormat),void 0!==s.type&&(l.type=s.type),void 0!==s.colorSpace&&(l.colorSpace=s.colorSpace),void 0!==s.minFilter&&(l.minFilter=n(s.minFilter,nc)),void 0!==s.magFilter&&(l.magFilter=n(s.magFilter,nc)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),void 0!==s.generateMipmaps&&(l.generateMipmaps=s.generateMipmaps),void 0!==s.premultiplyAlpha&&(l.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(l.unpackAlignment=s.unpackAlignment),void 0!==s.compareFunction&&(l.compareFunction=s.compareFunction),void 0!==s.userData&&(l.userData=s.userData),i[s.uuid]=l}return i}parseObject(e,t,n,i,r){let s,a,o;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":s=new _r,void 0!==e.background&&(Number.isInteger(e.background)?s.background=new _i(e.background):s.background=u(e.background)),void 0!==e.environment&&(s.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new Pr(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new Rr(e.fog.color,e.fog.density)),""!==e.fog.name&&(s.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(s.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(s.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&s.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(s.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Ir(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Gl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Xl(e.color,e.intensity);break;case"DirectionalLight":s=new Wl(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new Hl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new jl(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new kl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Pl(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=(new Yl).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),o=c(e.material),s=new us(a,o),void 0!==e.bindMode&&(s.bindMode=e.bindMode),void 0!==e.bindMatrix&&s.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(s.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),o=c(e.material),s=new pr(a,o);break;case"InstancedMesh":a=l(e.geometry),o=c(e.material);const t=e.count,n=e.instanceMatrix,i=e.instanceColor;s=new ws(a,o,t),s.instanceMatrix=new As(new Float32Array(n.array),16),void 0!==i&&(s.instanceColor=new As(new Float32Array(i.array),i.itemSize));break;case"BatchedMesh":a=l(e.geometry),o=c(e.material),s=new Ys(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,o),s.geometry=a,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(e=>{const t=new pn;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new Pn;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=u(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(s._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":s=new es;break;case"Line":s=new ra(l(e.geometry),c(e.material));break;case"LineLoop":s=new ca(l(e.geometry),c(e.material));break;case"LineSegments":s=new la(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new ga(l(e.geometry),c(e.material));break;case"Sprite":s=new Jr(c(e.material));break;case"Group":s=new ma;break;case"Bone":s=new ds;break;default:s=new pi}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(s.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.up&&s.up.fromArray(e.up),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(s.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(s.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.frustumCulled&&(s.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(s.renderOrder=e.renderOrder),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.layers&&(s.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)s.add(this.parseObject(a[e],t,n,i,r))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];s.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(s.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=s.getObjectByProperty("uuid",n.object);void 0!==i&&s.addLevel(i,n.distance,n.hysteresis)}}return s}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);t.target=void 0!==i?i:new pi}})}},t.ObjectSpaceNormalMap=1,t.OctahedronGeometry=_o,t.OneFactor=201,t.OneMinusConstantAlphaFactor=214,t.OneMinusConstantColorFactor=212,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=f,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=Gl,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.PMREMGenerator=Bu,t.Path=Va,t.PerspectiveCamera=Ir,t.Plane=Ms,t.PlaneGeometry=Do,t.PlaneHelper=class extends ra{constructor(e,t=1,n=16776960){const i=n,r=new tr;r.setAttribute("position",new ji([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new Js({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=new tr;s.setAttribute("position",new ji([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),s.computeBoundingSphere(),this.add(new pr(s,new Oi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},t.PointLight=Hl,t.PointLightHelper=class extends pr{constructor(e,t,n){super(new Oo(t,4,2),new Oi({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},t.Points=ga,t.PointsMaterial=ua,t.PolarGridHelper=class extends la{constructor(e=10,t=16,n=8,i=64,r=4473924,s=8947848){r=new _i(r),s=new _i(s);const a=[],o=[];if(t>1)for(let n=0;n<t;n++){const i=n/t*(2*Math.PI),l=Math.sin(i)*e,c=Math.cos(i)*e;a.push(0,0,0),a.push(l,0,c);const u=1&n?r:s;o.push(u.r,u.g,u.b),o.push(u.r,u.g,u.b)}for(let t=0;t<n;t++){const l=1&t?r:s,c=e-e/n*t;for(let e=0;e<i;e++){let t=e/i*(2*Math.PI),n=Math.sin(t)*c,r=Math.cos(t)*c;a.push(n,0,r),o.push(l.r,l.g,l.b),t=(e+1)/i*(2*Math.PI),n=Math.sin(t)*c,r=Math.cos(t)*c,a.push(n,0,r),o.push(l.r,l.g,l.b)}}const l=new tr;l.setAttribute("position",new ji(a,3)),l.setAttribute("color",new ji(o,3)),super(l,new Js({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},t.PolyhedronGeometry=ja,t.PositionalAudio=class extends gc{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Ac,mc,vc),yc.set(0,0,1).applyQuaternion(mc);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ac.x,e),t.positionY.linearRampToValueAtTime(Ac.y,e),t.positionZ.linearRampToValueAtTime(Ac.z,e),t.orientationX.linearRampToValueAtTime(yc.x,e),t.orientationY.linearRampToValueAtTime(yc.y,e),t.orientationZ.linearRampToValueAtTime(yc.z,e)}else t.setPosition(Ac.x,Ac.y,Ac.z),t.setOrientation(yc.x,yc.y,yc.z)}},t.PropertyBinding=Tc,t.PropertyMixer=Ec,t.QuadraticBezierCurve=Oa,t.QuadraticBezierCurve3=ka,t.Quaternion=cn,t.QuaternionKeyframeTrack=ml,t.QuaternionLinearInterpolant=Al,t.RED_GREEN_RGTC2_Format=Ye,t.RED_RGTC1_Format=je,t.REVISION=n,t.RGBADepthPacking=3201,t.RGBAFormat=ce,t.RGBAIntegerFormat=ve,t.RGBA_ASTC_10x10_Format=Ve,t.RGBA_ASTC_10x5_Format=Ue,t.RGBA_ASTC_10x6_Format=Fe,t.RGBA_ASTC_10x8_Format=Qe,t.RGBA_ASTC_12x10_Format=He,t.RGBA_ASTC_12x12_Format=Ge,t.RGBA_ASTC_4x4_Format=Re,t.RGBA_ASTC_5x4_Format=Pe,t.RGBA_ASTC_5x5_Format=_e,t.RGBA_ASTC_6x5_Format=De,t.RGBA_ASTC_6x6_Format=Ne,t.RGBA_ASTC_8x5_Format=Le,t.RGBA_ASTC_8x6_Format=Oe,t.RGBA_ASTC_8x8_Format=ke,t.RGBA_BPTC_Format=ze,t.RGBA_ETC2_EAC_Format=Be,t.RGBA_PVRTC_2BPPV1_Format=Ce,t.RGBA_PVRTC_4BPPV1_Format=Ie,t.RGBA_S3TC_DXT1_Format=Ee,t.RGBA_S3TC_DXT3_Format=Se,t.RGBA_S3TC_DXT5_Format=be,t.RGBDepthPacking=3202,t.RGBFormat=le,t.RGBIntegerFormat=1032,t.RGB_BPTC_SIGNED_Format=We,t.RGB_BPTC_UNSIGNED_Format=Xe,t.RGB_ETC1_Format=Te,t.RGB_ETC2_Format=Me,t.RGB_PVRTC_2BPPV1_Format=we,t.RGB_PVRTC_4BPPV1_Format=xe,t.RGB_S3TC_DXT1_Format=ye,t.RGDepthPacking=3203,t.RGFormat=Ae,t.RGIntegerFormat=me,t.RawShaderMaterial=Wo,t.Ray=Fn,t.Raycaster=class{constructor(e,t,n=0,i=1/0){this.ray=new Fn(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Zn,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return _c.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_c),this}intersectObject(e,t=!0,n=[]){return Nc(e,this,n,t),n.sort(Dc),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)Nc(e[i],this,n,t);return n.sort(Dc),n}},t.RectAreaLight=jl,t.RedFormat=fe,t.RedIntegerFormat=ge,t.ReinhardToneMapping=2,t.RenderTarget=sn,t.RenderTarget3D=class extends sn{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new ln(null,e,t,n),this.texture.isRenderTargetTexture=!0}},t.RenderTargetArray=class extends sn{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=n,this.texture=new on(null,e,t,n),this.texture.isRenderTargetTexture=!0}},t.RepeatWrapping=Q,t.ReplaceStencilOp=7681,t.ReverseSubtractEquation=102,t.RingGeometry=No,t.SIGNED_RED_GREEN_RGTC2_Format=Je,t.SIGNED_RED_RGTC1_Format=qe,t.SRGBColorSpace=st,t.SRGBTransfer=lt,t.Scene=_r,t.ShaderChunk=ou,t.ShaderLib=cu,t.ShaderMaterial=Er,t.ShadowMaterial=zo,t.Shape=eo,t.ShapeGeometry=Lo,t.ShapePath=class{constructor(){this.type="ShapePath",this.color=new _i,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Va,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,s){return this.currentPath.bezierCurveTo(e,t,n,i,r,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let i=!1;for(let r=n-1,s=0;s<n;r=s++){let n=t[r],a=t[s],o=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[s],o=-o,a=t[r],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-o*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return i}const n=Co.isClockWise,i=this.subPaths;if(0===i.length)return[];let r,s,a;const o=[];if(1===i.length)return s=i[0],a=new eo,a.curves=s.curves,o.push(a),o;let l=!n(i[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,p=[],f=0;u[f]=void 0,p[f]=[];for(let t=0,a=i.length;t<a;t++)s=i[t],d=s.getPoints(),r=n(d),r=e?!r:r,r?(!l&&u[f]&&f++,u[f]={s:new eo,p:d},u[f].s.curves=s.curves,l&&f++,p[f]=[]):p[f].push({h:s,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new eo;r.curves=i.curves,t.push(r)}return t}(i);if(u.length>1){let e=!1,n=0;for(let e=0,t=u.length;e<t;e++)c[e]=[];for(let i=0,r=u.length;i<r;i++){const r=p[i];for(let s=0;s<r.length;s++){const a=r[s];let o=!0;for(let r=0;r<u.length;r++)t(a.p,u[r].p)&&(i!==r&&n++,o?(o=!1,c[r].push(a)):e=!0);o&&c[i].push(a)}}n>0&&!1===e&&(p=c)}for(let e=0,t=u.length;e<t;e++){a=u[e].s,o.push(a),h=p[e];for(let e=0,t=h.length;e<t;e++)a.holes.push(h[e].h)}return o}},t.ShapeUtils=Co,t.ShortType=Z,t.Skeleton=gs,t.SkeletonHelper=class extends la{constructor(e){const t=Gc(e),n=new tr,i=[],r=[],s=new _i(0,0,1),a=new _i(0,1,0);for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(a.r,a.g,a.b))}n.setAttribute("position",new ji(i,3)),n.setAttribute("color",new ji(r,3)),super(n,new Js({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");Hc.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){const r=t[e];r.parent&&r.parent.isBone&&(Vc.multiplyMatrices(Hc,r.matrixWorld),Qc.setFromMatrixPosition(Vc),i.setXYZ(n,Qc.x,Qc.y,Qc.z),Vc.multiplyMatrices(Hc,r.parent.matrixWorld),Qc.setFromMatrixPosition(Vc),i.setXYZ(n+1,Qc.x,Qc.y,Qc.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},t.SkinnedMesh=us,t.Source=$t,t.Sphere=Pn,t.SphereGeometry=Oo,t.Spherical=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Mt(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Mt(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},t.SphericalHarmonics3=ql,t.SplineCurve=Ua,t.SpotLight=kl,t.SpotLightHelper=class extends pi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new tr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){const r=e/n*Math.PI*2,s=t/n*Math.PI*2;i.push(Math.cos(r),Math.sin(r),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new ji(i,3));const r=new Js({fog:!1,toneMapped:!1});this.cone=new la(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Fc.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Fc),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},t.Sprite=Jr,t.SpriteMaterial=Or,t.SrcAlphaFactor=p,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StaticCopyUsage=35046,t.StaticDrawUsage=vt,t.StaticReadUsage=35045,t.StereoCamera=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ir,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ir,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,oc.copy(e.projectionMatrix);const n=t.eyeSep/2,i=n*t.near/t.focus,r=t.near*Math.tan(It*t.fov*.5)/t.zoom;let s,a;ac.elements[12]=-n,sc.elements[12]=n,s=-r*t.aspect+i,a=r*t.aspect+i,oc.elements[0]=2*t.near/(a-s),oc.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(oc),s=-r*t.aspect-i,a=r*t.aspect-i,oc.elements[0]=2*t.near/(a-s),oc.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(oc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ac),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sc)}},t.StreamCopyUsage=35042,t.StreamDrawUsage=35040,t.StreamReadUsage=35041,t.StringKeyframeTrack=vl,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},t.TangentSpaceNormalMap=0,t.TetrahedronGeometry=ko,t.Texture=nn,t.TextureLoader=class extends Il{constructor(e){super(e)}load(e,t,n,i){const r=new nn,s=new Bl(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}},t.TextureUtils=ru,t.TorusGeometry=Uo,t.TorusKnotGeometry=Fo,t.Triangle=Ti,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeGeometry=Qo,t.UVMapping=N,t.Uint16BufferAttribute=Wi,t.Uint32BufferAttribute=Xi,t.Uint8BufferAttribute=class extends zi{constructor(e,t,n){super(new Uint8Array(e),t,n)}},t.Uint8ClampedBufferAttribute=class extends zi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},t.Uniform=Rc,t.UniformsGroup=class extends bt{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Pc++}),this.name="",this.usage=vt,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let e=0,n=t.length;e<n;e++){const n=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0;e<n.length;e++)this.uniforms.push(n[e].clone())}return this}clone(){return(new this.constructor).copy(this)}},t.UniformsLib=lu,t.UniformsUtils=yr,t.UnsignedByteType=Y,t.UnsignedInt248Type=se,t.UnsignedInt5999Type=ae,t.UnsignedIntType=ee,t.UnsignedShort4444Type=ie,t.UnsignedShort5551Type=re,t.UnsignedShortType=K,t.VSMShadowMap=3,t.Vector2=Nt,t.Vector3=un,t.Vector4=rn,t.VectorKeyframeTrack=yl,t.VideoTexture=class extends nn{constructor(e,t,n,i,r,s,a,o,l){super(e,t,n,i,r,s,a,o,l),this.isVideoTexture=!0,this.minFilter=void 0!==s?s:X,this.magFilter=void 0!==r?r:X,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},t.WebGL3DRenderTarget=class extends an{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new ln(null,e,t,n),this.texture.isRenderTargetTexture=!0}},t.WebGLArrayRenderTarget=class extends an{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new on(null,e,t,n),this.texture.isRenderTargetTexture=!0}},t.WebGLCoordinateSystem=Et,t.WebGLCubeRenderTarget=Br,t.WebGLRenderTarget=an,t.WebGLRenderer=class{constructor(e={}){const{canvas:t=Vt(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:h=!1}=e;let p;if(this.isWebGLRenderer=!0,null!==i){if("undefined"!=typeof WebGLRenderingContext&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=a;const f=new Uint32Array(4),g=new Int32Array(4);let A=null,m=null;const v=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=st,this.toneMapping=0,this.toneMappingExposure=1;const E=this;let S=!1,b=0,x=0,w=null,I=-1,C=null;const T=new rn,M=new rn;let B=null;const R=new _i(0);let P=0,_=t.width,D=t.height,N=1,L=null,O=null;const k=new rn(0,0,_,D),U=new rn(0,0,_,D);let F=!1;const Q=new Ps;let V=!1,H=!1;this.transmissionResolutionScale=1;const G=new Qn,z=new Qn,W=new un,X=new rn,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let J=!1;function Z(){return null===w?N:1}let $,te,ae,oe,le,ce,ue,de,he,pe,fe,Ae,ye,Ee,Se,be,xe,we,Ie,Ce,Te,Me,Be,Re,Pe=i;function _e(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${n}`),t.addEventListener("webglcontextlost",Le,!1),t.addEventListener("webglcontextrestored",Oe,!1),t.addEventListener("webglcontextcreationerror",ke,!1),null===Pe){const t="webgl2";if(Pe=_e(t,e),null===Pe)throw _e(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function De(){$=new Lu(Pe),$.init(),Me=new Rh(Pe,$),te=new Au(Pe,$,e,Me),ae=new Mh(Pe,$),te.reverseDepthBuffer&&h&&ae.buffers.depth.setReversed(!0),oe=new Uu(Pe),le=new gh,ce=new Bh(Pe,$,ae,le,te,Me,oe),ue=new vu(E),de=new Nu(E),he=new au(Pe),Be=new fu(Pe,he),pe=new Ou(Pe,he,oe,Be),fe=new Qu(Pe,pe,he,oe),Ie=new Fu(Pe,te,ce),be=new mu(le),Ae=new fh(E,ue,de,$,te,Be,be),ye=new kh(E,le),Ee=new yh,Se=new Ih($),we=new pu(E,ue,de,ae,fe,p,l),xe=new Ch(E,fe,te),Re=new Uh(Pe,oe,te,ae),Ce=new gu(Pe,$,oe),Te=new ku(Pe,$,oe),oe.programs=Ae.programs,E.capabilities=te,E.extensions=$,E.properties=le,E.renderLists=Ee,E.shadowMap=xe,E.state=ae,E.info=oe}De();const Ne=new Nh(E,Pe);function Le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const e=oe.autoReset,t=xe.enabled,n=xe.autoUpdate,i=xe.needsUpdate,r=xe.type;De(),oe.autoReset=e,xe.enabled=t,xe.autoUpdate=n,xe.needsUpdate=i,xe.type=r}function ke(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ue(e){const t=e.target;t.removeEventListener("dispose",Ue),function(e){(function(e){const t=le.get(e).programs;void 0!==t&&(t.forEach(function(e){Ae.releaseProgram(e)}),e.isShaderMaterial&&Ae.releaseShaderCache(e))})(e),le.remove(e)}(t)}function Fe(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,Ye(e,t,n),e.side=0,e.needsUpdate=!0,Ye(e,t,n),e.side=2):Ye(e,t,n)}this.xr=Ne,this.getContext=function(){return Pe},this.getContextAttributes=function(){return Pe.getContextAttributes()},this.forceContextLoss=function(){const e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(e){void 0!==e&&(N=e,this.setSize(_,D,!1))},this.getSize=function(e){return e.set(_,D)},this.setSize=function(e,n,i=!0){Ne.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(_=e,D=n,t.width=Math.floor(e*N),t.height=Math.floor(n*N),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(_*N,D*N).floor()},this.setDrawingBufferSize=function(e,n,i){_=e,D=n,N=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(k)},this.setViewport=function(e,t,n,i){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,i),ae.viewport(T.copy(k).multiplyScalar(N).round())},this.getScissor=function(e){return e.copy(U)},this.setScissor=function(e,t,n,i){e.isVector4?U.set(e.x,e.y,e.z,e.w):U.set(e,t,n,i),ae.scissor(M.copy(U).multiplyScalar(N).round())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){ae.setScissorTest(F=e)},this.setOpaqueSort=function(e){L=e},this.setTransparentSort=function(e){O=e},this.getClearColor=function(e){return e.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(e=!0,t=!0,n=!0){let i=0;if(e){let e=!1;if(null!==w){const t=w.texture.format;e=t===ve||t===me||t===ge}if(e){const e=w.texture.type,t=e===Y||e===ee||e===K||e===se||e===ie||e===re,n=we.getClearColor(),i=we.getClearAlpha(),r=n.r,s=n.g,a=n.b;t?(f[0]=r,f[1]=s,f[2]=a,f[3]=i,Pe.clearBufferuiv(Pe.COLOR,0,f)):(g[0]=r,g[1]=s,g[2]=a,g[3]=i,Pe.clearBufferiv(Pe.COLOR,0,g))}else i|=Pe.COLOR_BUFFER_BIT}t&&(i|=Pe.DEPTH_BUFFER_BIT),n&&(i|=Pe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Pe.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Le,!1),t.removeEventListener("webglcontextrestored",Oe,!1),t.removeEventListener("webglcontextcreationerror",ke,!1),we.dispose(),Ee.dispose(),Se.dispose(),le.dispose(),ue.dispose(),de.dispose(),fe.dispose(),Be.dispose(),Re.dispose(),Ae.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Ve),Ne.removeEventListener("sessionend",He),Ge.stop()},this.renderBufferDirect=function(e,t,n,i,r,s){null===t&&(t=j);const a=r.isMesh&&r.matrixWorld.determinant()<0,o=function(e,t,n,i,r){!0!==t.isScene&&(t=j),ce.resetTextureUnits();const s=t.fog,a=i.isMeshStandardMaterial?t.environment:null,o=null===w?E.outputColorSpace:!0===w.isXRRenderTarget?w.texture.colorSpace:at,l=(i.isMeshStandardMaterial?de:ue).get(i.envMap||a),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color;let f=0;i.toneMapped&&(null!==w&&!0!==w.isXRRenderTarget||(f=E.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,A=void 0!==g?g.length:0,v=le.get(i),y=m.state.lights;if(!0===V&&(!0===H||e!==C)){const t=e===C&&i.id===I;be.setState(i,e,t)}let S=!1;i.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==o||r.isBatchedMesh&&!1===v.batching?S=!0:r.isBatchedMesh||!0!==v.batching?r.isBatchedMesh&&!0===v.batchingColor&&null===r.colorTexture||r.isBatchedMesh&&!1===v.batchingColor&&null!==r.colorTexture||r.isInstancedMesh&&!1===v.instancing?S=!0:r.isInstancedMesh||!0!==v.instancing?r.isSkinnedMesh&&!1===v.skinning?S=!0:r.isSkinnedMesh||!0!==v.skinning?r.isInstancedMesh&&!0===v.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===v.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===v.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===v.instancingMorph&&null!==r.morphTexture||v.envMap!==l||!0===i.fog&&v.fog!==s?S=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===be.numPlanes&&v.numIntersection===be.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==d||v.morphNormals!==h||v.morphColors!==p||v.toneMapping!==f||v.morphTargetsCount!==A)&&(S=!0):S=!0:S=!0:S=!0:S=!0:(S=!0,v.__version=i.version);let b=v.currentProgram;!0===S&&(b=Ye(i,t,r));let x=!1,T=!1,M=!1;const B=b.getUniforms(),R=v.uniforms;if(ae.useProgram(b.program)&&(x=!0,T=!0,M=!0),i.id!==I&&(I=i.id,T=!0),x||C!==e){ae.buffers.depth.getReversed()?(G.copy(e.projectionMatrix),function(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(G),function(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(G),B.setValue(Pe,"projectionMatrix",G)):B.setValue(Pe,"projectionMatrix",e.projectionMatrix),B.setValue(Pe,"viewMatrix",e.matrixWorldInverse);const t=B.map.cameraPosition;void 0!==t&&t.setValue(Pe,W.setFromMatrixPosition(e.matrixWorld)),te.logarithmicDepthBuffer&&B.setValue(Pe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&B.setValue(Pe,"isOrthographic",!0===e.isOrthographicCamera),C!==e&&(C=e,T=!0,M=!0)}if(r.isSkinnedMesh){B.setOptional(Pe,r,"bindMatrix"),B.setOptional(Pe,r,"bindMatrixInverse");const e=r.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),B.setValue(Pe,"boneTexture",e.boneTexture,ce))}r.isBatchedMesh&&(B.setOptional(Pe,r,"batchingTexture"),B.setValue(Pe,"batchingTexture",r._matricesTexture,ce),B.setOptional(Pe,r,"batchingIdTexture"),B.setValue(Pe,"batchingIdTexture",r._indirectTexture,ce),B.setOptional(Pe,r,"batchingColorTexture"),null!==r._colorsTexture&&B.setValue(Pe,"batchingColorTexture",r._colorsTexture,ce));const P=n.morphAttributes;var _,L;if(void 0===P.position&&void 0===P.normal&&void 0===P.color||Ie.update(r,n,b),(T||v.receiveShadow!==r.receiveShadow)&&(v.receiveShadow=r.receiveShadow,B.setValue(Pe,"receiveShadow",r.receiveShadow)),i.isMeshGouraudMaterial&&null!==i.envMap&&(R.envMap.value=l,R.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),i.isMeshStandardMaterial&&null===i.envMap&&null!==t.environment&&(R.envMapIntensity.value=t.environmentIntensity),T&&(B.setValue(Pe,"toneMappingExposure",E.toneMappingExposure),v.needsLights&&(L=M,(_=R).ambientLightColor.needsUpdate=L,_.lightProbe.needsUpdate=L,_.directionalLights.needsUpdate=L,_.directionalLightShadows.needsUpdate=L,_.pointLights.needsUpdate=L,_.pointLightShadows.needsUpdate=L,_.spotLights.needsUpdate=L,_.spotLightShadows.needsUpdate=L,_.rectAreaLights.needsUpdate=L,_.hemisphereLights.needsUpdate=L),s&&!0===i.fog&&ye.refreshFogUniforms(R,s),ye.refreshMaterialUniforms(R,i,N,D,m.state.transmissionRenderTarget[e.id]),Wd.upload(Pe,Je(v),R,ce)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Wd.upload(Pe,Je(v),R,ce),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&B.setValue(Pe,"center",r.center),B.setValue(Pe,"modelViewMatrix",r.modelViewMatrix),B.setValue(Pe,"normalMatrix",r.normalMatrix),B.setValue(Pe,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];Re.update(n,b),Re.bind(n,b)}}return b}(e,t,n,i,r);ae.setMaterial(i,a);let l=n.index,c=1;if(!0===i.wireframe){if(l=pe.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==s&&(h=Math.max(h,s.start*c),p=Math.min(p,(s.start+s.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):null!=d&&(h=Math.max(h,0),p=Math.min(p,d.count));const f=p-h;if(f<0||f===1/0)return;let g;Be.setup(r,i,o,n,l);let A=Ce;if(null!==l&&(g=he.get(l),A=Te,A.setIndex(g)),r.isMesh)!0===i.wireframe?(ae.setLineWidth(i.wireframeLinewidth*Z()),A.setMode(Pe.LINES)):A.setMode(Pe.TRIANGLES);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),ae.setLineWidth(e*Z()),r.isLineSegments?A.setMode(Pe.LINES):r.isLineLoop?A.setMode(Pe.LINE_LOOP):A.setMode(Pe.LINE_STRIP)}else r.isPoints?A.setMode(Pe.POINTS):r.isSprite&&A.setMode(Pe.TRIANGLES);if(r.isBatchedMesh)if(null!==r._multiDrawInstances)A.renderMultiDrawInstances(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount,r._multiDrawInstances);else if($.get("WEBGL_multi_draw"))A.renderMultiDraw(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount);else{const e=r._multiDrawStarts,t=r._multiDrawCounts,n=r._multiDrawCount,s=l?he.get(l).bytesPerElement:1,a=le.get(i).currentProgram.getUniforms();for(let i=0;i<n;i++)a.setValue(Pe,"_gl_DrawID",i),A.render(e[i]/s,t[i])}else if(r.isInstancedMesh)A.renderInstances(h,f,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);A.renderInstances(h,f,t)}else A.render(h,f)},this.compile=function(e,t,n=null){null===n&&(n=e),m=Se.get(n),m.init(t),y.push(m),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))}),m.setupLights();const i=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let r=0;r<t.length;r++){const s=t[r];Fe(s,n,e),i.add(s)}else Fe(t,n,e),i.add(t)}),y.pop(),m=null,i},this.compileAsync=function(e,t,n=null){const i=this.compile(e,t,n);return new Promise(t=>{function n(){i.forEach(function(e){le.get(e).currentProgram.isReady()&&i.delete(e)}),0!==i.size?setTimeout(n,10):t(e)}null!==$.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Qe=null;function Ve(){Ge.stop()}function He(){Ge.start()}const Ge=new su;function ze(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Q.intersectsSprite(e)){i&&X.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=fe.update(e),r=e.material;r.visible&&A.push(e,t,r,n,X.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||Q.intersectsObject(e))){const t=fe.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),X.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),X.copy(t.boundingSphere.center)),X.applyMatrix4(e.matrixWorld).applyMatrix4(z)),Array.isArray(r)){const i=t.groups;for(let s=0,a=i.length;s<a;s++){const a=i[s],o=r[a.materialIndex];o&&o.visible&&A.push(e,t,o,n,X.z,a)}}else r.visible&&A.push(e,t,r,n,X.z,null)}const r=e.children;for(let e=0,s=r.length;e<s;e++)ze(r[e],t,n,i)}function We(e,t,n,i){const r=e.opaque,s=e.transmissive,a=e.transparent;m.setupLightsView(n),!0===V&&be.setGlobalState(E.clippingPlanes,n),i&&ae.viewport(T.copy(i)),r.length>0&&je(r,t,n),s.length>0&&je(s,t,n),a.length>0&&je(a,t,n),ae.buffers.depth.setTest(!0),ae.buffers.depth.setMask(!0),ae.buffers.color.setMask(!0),ae.setPolygonOffset(!1)}function Xe(e,t,n,i){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===m.state.transmissionRenderTarget[i.id]&&(m.state.transmissionRenderTarget[i.id]=new an(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float")?ne:Y,minFilter:q,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:jt.workingColorSpace}));const r=m.state.transmissionRenderTarget[i.id],a=i.viewport||T;r.setSize(a.z*E.transmissionResolutionScale,a.w*E.transmissionResolutionScale);const o=E.getRenderTarget();E.setRenderTarget(r),E.getClearColor(R),P=E.getClearAlpha(),P<1&&E.setClearColor(16777215,.5),E.clear(),J&&we.render(n);const l=E.toneMapping;E.toneMapping=0;const c=i.viewport;if(void 0!==i.viewport&&(i.viewport=void 0),m.setupLightsView(i),!0===V&&be.setGlobalState(E.clippingPlanes,i),je(e,n,i),ce.updateMultisampleRenderTarget(r),ce.updateRenderTargetMipmap(r),!1===$.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let r=0,s=t.length;r<s;r++){const s=t[r],a=s.object,o=s.geometry,l=s.material,c=s.group;if(2===l.side&&a.layers.test(i.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,qe(a,n,i,o,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(ce.updateMultisampleRenderTarget(r),ce.updateRenderTargetMipmap(r))}E.setRenderTarget(o),E.setClearColor(R,P),void 0!==c&&(i.viewport=c),E.toneMapping=l}function je(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,s=e.length;r<s;r++){const s=e[r],a=s.object,o=s.geometry,l=null===i?s.material:i,c=s.group;a.layers.test(n.layers)&&qe(a,t,n,o,l,c)}}function qe(e,t,n,i,r,s){e.onBeforeRender(E,t,n,i,r,s),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(E,t,n,i,e,s),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,E.renderBufferDirect(n,t,i,r,e,s),r.side=0,r.needsUpdate=!0,E.renderBufferDirect(n,t,i,r,e,s),r.side=2):E.renderBufferDirect(n,t,i,r,e,s),e.onAfterRender(E,t,n,i,r,s)}function Ye(e,t,n){!0!==t.isScene&&(t=j);const i=le.get(e),r=m.state.lights,s=m.state.shadowsArray,a=r.state.version,o=Ae.getParameters(e,r.state,s,t,n),l=Ae.getProgramCacheKey(o);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?de:ue).get(e.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Ue),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===a)return Ze(e,o),u}else o.uniforms=Ae.getUniforms(e),e.onBeforeCompile(o,E),u=Ae.acquireProgram(o,l),c.set(l,u),i.uniforms=o.uniforms;const d=i.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=be.uniform),Ze(e,o),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=a,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function Je(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Wd.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Ze(e,t){const n=le.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ge.setAnimationLoop(function(e){Qe&&Qe(e)}),"undefined"!=typeof self&&Ge.setContext(self),this.setAnimationLoop=function(e){Qe=e,Ne.setAnimationLoop(e),null===e?Ge.stop():Ge.start()},Ne.addEventListener("sessionstart",Ve),Ne.addEventListener("sessionend",He),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===S)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ne.enabled&&!0===Ne.isPresenting&&(!0===Ne.cameraAutoUpdate&&Ne.updateCamera(t),t=Ne.getCamera()),!0===e.isScene&&e.onBeforeRender(E,e,t,w),m=Se.get(e,y.length),m.init(t),y.push(m),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Q.setFromProjectionMatrix(z),H=this.localClippingEnabled,V=be.init(this.clippingPlanes,H),A=Ee.get(e,v.length),A.init(),v.push(A),!0===Ne.enabled&&!0===Ne.isPresenting){const e=E.xr.getDepthSensingMesh();null!==e&&ze(e,t,-1/0,E.sortObjects)}ze(e,t,0,E.sortObjects),A.finish(),!0===E.sortObjects&&A.sort(L,O),J=!1===Ne.enabled||!1===Ne.isPresenting||!1===Ne.hasDepthSensing(),J&&we.addToRenderList(A,e),this.info.render.frame++,!0===V&&be.beginShadows();const n=m.state.shadowsArray;xe.render(n,e,t),!0===V&&be.endShadows(),!0===this.info.autoReset&&this.info.reset();const i=A.opaque,r=A.transmissive;if(m.setupLights(),t.isArrayCamera){const n=t.cameras;if(r.length>0)for(let t=0,s=n.length;t<s;t++)Xe(i,r,e,n[t]);J&&we.render(e);for(let t=0,i=n.length;t<i;t++){const i=n[t];We(A,e,i,i.viewport)}}else r.length>0&&Xe(i,r,e,t),J&&we.render(e),We(A,e,t);null!==w&&0===x&&(ce.updateMultisampleRenderTarget(w),ce.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(E,e,t),Be.resetDefaultState(),I=-1,C=null,y.pop(),y.length>0?(m=y[y.length-1],!0===V&&be.setGlobalState(E.clippingPlanes,m.state.camera)):m=null,v.pop(),A=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){le.get(e.texture).__webglTexture=t,le.get(e.depthTexture).__webglTexture=n;const i=le.get(e);i.__hasExternalTextures=!0,i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=le.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const Ke=Pe.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){w=e,b=t,x=n;let i=!0,r=null,s=!1,a=!1;if(e){const o=le.get(e);if(void 0!==o.__useDefaultFramebuffer)ae.bindFramebuffer(Pe.FRAMEBUFFER,null),i=!1;else if(void 0===o.__webglFramebuffer)ce.setupRenderTarget(e);else if(o.__hasExternalTextures)ce.rebindTextures(e,le.get(e.texture).__webglTexture,le.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&le.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ce.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=le.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(c[t])?c[t][n]:c[t],s=!0):r=e.samples>0&&!1===ce.useMultisampledRTT(e)?le.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,T.copy(e.viewport),M.copy(e.scissor),B=e.scissorTest}else T.copy(k).multiplyScalar(N).floor(),M.copy(U).multiplyScalar(N).floor(),B=F;if(0!==n&&(r=Ke),ae.bindFramebuffer(Pe.FRAMEBUFFER,r)&&i&&ae.drawBuffers(e,r),ae.viewport(T),ae.scissor(M),ae.setScissorTest(B),s){const i=le.get(e.texture);Pe.framebufferTexture2D(Pe.FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Pe.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(a){const i=le.get(e.texture),r=t;Pe.framebufferTextureLayer(Pe.FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,i.__webglTexture,n,r)}else if(null!==e&&0!==n){const t=le.get(e.texture);Pe.framebufferTexture2D(Pe.FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Pe.TEXTURE_2D,t.__webglTexture,n)}I=-1},this.readRenderTargetPixels=function(e,t,n,i,r,s,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=le.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){ae.bindFramebuffer(Pe.FRAMEBUFFER,o);try{const a=e.texture,o=a.format,l=a.type;if(!te.textureFormatReadable(o))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!te.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&Pe.readPixels(t,n,i,r,Me.convert(o),Me.convert(l),s)}finally{const e=null!==w?le.get(w).__webglFramebuffer:null;ae.bindFramebuffer(Pe.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,i,r,s,a){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=le.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){const a=e.texture,l=a.format,c=a.type;if(!te.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!te.textureTypeReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r){ae.bindFramebuffer(Pe.FRAMEBUFFER,o);const e=Pe.createBuffer();Pe.bindBuffer(Pe.PIXEL_PACK_BUFFER,e),Pe.bufferData(Pe.PIXEL_PACK_BUFFER,s.byteLength,Pe.STREAM_READ),Pe.readPixels(t,n,i,r,Me.convert(l),Me.convert(c),0);const a=null!==w?le.get(w).__webglFramebuffer:null;ae.bindFramebuffer(Pe.FRAMEBUFFER,a);const u=Pe.fenceSync(Pe.SYNC_GPU_COMMANDS_COMPLETE,0);return Pe.flush(),await function(e,t){return new Promise(function(n,i){setTimeout(function r(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(r,4);break;default:n()}},4)})}(Pe,u),Pe.bindBuffer(Pe.PIXEL_PACK_BUFFER,e),Pe.getBufferSubData(Pe.PIXEL_PACK_BUFFER,0,s),Pe.deleteBuffer(e),Pe.deleteSync(u),s}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e,t=null,n=0){!0!==e.isTexture&&(Gt("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),s=Math.floor(e.image.height*i),a=null!==t?t.x:0,o=null!==t?t.y:0;ce.setTexture2D(e,0),Pe.copyTexSubImage2D(Pe.TEXTURE_2D,n,0,0,a,o,r,s),ae.unbindTexture()};const $e=Pe.createFramebuffer(),et=Pe.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,i=null,r=0,s=null){let a,o,l,c,u,d,h,p,f;!0!==e.isTexture&&(Gt("WebGLRenderer: copyTextureToTexture function signature has changed."),i=arguments[0]||null,e=arguments[1],t=arguments[2],s=arguments[3]||0,n=null),null===s&&(0!==r?(Gt("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),s=r,r=0):s=0);const g=e.isCompressedTexture?e.mipmaps[s]:e.image;if(null!==n)a=n.max.x-n.min.x,o=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,c=n.min.x,u=n.min.y,d=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-r);a=Math.floor(g.width*t),o=Math.floor(g.height*t),l=e.isDataArrayTexture?g.depth:e.isData3DTexture?Math.floor(g.depth*t):1,c=0,u=0,d=0}null!==i?(h=i.x,p=i.y,f=i.z):(h=0,p=0,f=0);const A=Me.convert(t.format),m=Me.convert(t.type);let v;t.isData3DTexture?(ce.setTexture3D(t,0),v=Pe.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(ce.setTexture2DArray(t,0),v=Pe.TEXTURE_2D_ARRAY):(ce.setTexture2D(t,0),v=Pe.TEXTURE_2D),Pe.pixelStorei(Pe.UNPACK_FLIP_Y_WEBGL,t.flipY),Pe.pixelStorei(Pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Pe.pixelStorei(Pe.UNPACK_ALIGNMENT,t.unpackAlignment);const y=Pe.getParameter(Pe.UNPACK_ROW_LENGTH),E=Pe.getParameter(Pe.UNPACK_IMAGE_HEIGHT),S=Pe.getParameter(Pe.UNPACK_SKIP_PIXELS),b=Pe.getParameter(Pe.UNPACK_SKIP_ROWS),x=Pe.getParameter(Pe.UNPACK_SKIP_IMAGES);Pe.pixelStorei(Pe.UNPACK_ROW_LENGTH,g.width),Pe.pixelStorei(Pe.UNPACK_IMAGE_HEIGHT,g.height),Pe.pixelStorei(Pe.UNPACK_SKIP_PIXELS,c),Pe.pixelStorei(Pe.UNPACK_SKIP_ROWS,u),Pe.pixelStorei(Pe.UNPACK_SKIP_IMAGES,d);const w=e.isDataArrayTexture||e.isData3DTexture,I=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=le.get(e),i=le.get(t),g=le.get(n.__renderTarget),A=le.get(i.__renderTarget);ae.bindFramebuffer(Pe.READ_FRAMEBUFFER,g.__webglFramebuffer),ae.bindFramebuffer(Pe.DRAW_FRAMEBUFFER,A.__webglFramebuffer);for(let n=0;n<l;n++)w&&(Pe.framebufferTextureLayer(Pe.READ_FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,le.get(e).__webglTexture,r,d+n),Pe.framebufferTextureLayer(Pe.DRAW_FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,le.get(t).__webglTexture,s,f+n)),Pe.blitFramebuffer(c,u,a,o,h,p,a,o,Pe.DEPTH_BUFFER_BIT,Pe.NEAREST);ae.bindFramebuffer(Pe.READ_FRAMEBUFFER,null),ae.bindFramebuffer(Pe.DRAW_FRAMEBUFFER,null)}else if(0!==r||e.isRenderTargetTexture||le.has(e)){const n=le.get(e),i=le.get(t);ae.bindFramebuffer(Pe.READ_FRAMEBUFFER,$e),ae.bindFramebuffer(Pe.DRAW_FRAMEBUFFER,et);for(let e=0;e<l;e++)w?Pe.framebufferTextureLayer(Pe.READ_FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,n.__webglTexture,r,d+e):Pe.framebufferTexture2D(Pe.READ_FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Pe.TEXTURE_2D,n.__webglTexture,r),I?Pe.framebufferTextureLayer(Pe.DRAW_FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,i.__webglTexture,s,f+e):Pe.framebufferTexture2D(Pe.DRAW_FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Pe.TEXTURE_2D,i.__webglTexture,s),0!==r?Pe.blitFramebuffer(c,u,a,o,h,p,a,o,Pe.COLOR_BUFFER_BIT,Pe.NEAREST):I?Pe.copyTexSubImage3D(v,s,h,p,f+e,c,u,a,o):Pe.copyTexSubImage2D(v,s,h,p,c,u,a,o);ae.bindFramebuffer(Pe.READ_FRAMEBUFFER,null),ae.bindFramebuffer(Pe.DRAW_FRAMEBUFFER,null)}else I?e.isDataTexture||e.isData3DTexture?Pe.texSubImage3D(v,s,h,p,f,a,o,l,A,m,g.data):t.isCompressedArrayTexture?Pe.compressedTexSubImage3D(v,s,h,p,f,a,o,l,A,g.data):Pe.texSubImage3D(v,s,h,p,f,a,o,l,A,m,g):e.isDataTexture?Pe.texSubImage2D(Pe.TEXTURE_2D,s,h,p,a,o,A,m,g.data):e.isCompressedTexture?Pe.compressedTexSubImage2D(Pe.TEXTURE_2D,s,h,p,g.width,g.height,A,g.data):Pe.texSubImage2D(Pe.TEXTURE_2D,s,h,p,a,o,A,m,g);Pe.pixelStorei(Pe.UNPACK_ROW_LENGTH,y),Pe.pixelStorei(Pe.UNPACK_IMAGE_HEIGHT,E),Pe.pixelStorei(Pe.UNPACK_SKIP_PIXELS,S),Pe.pixelStorei(Pe.UNPACK_SKIP_ROWS,b),Pe.pixelStorei(Pe.UNPACK_SKIP_IMAGES,x),0===s&&t.generateMipmaps&&Pe.generateMipmap(v),ae.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,i=null,r=0){return!0!==e.isTexture&&(Gt("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,i=arguments[1]||null,e=arguments[2],t=arguments[3],r=arguments[4]||0),Gt('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,i,r)},this.initRenderTarget=function(e){void 0===le.get(e).__webglFramebuffer&&ce.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),ae.unbindTexture()},this.resetState=function(){b=0,x=0,w=null,ae.reset(),Be.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Et}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=jt._getDrawingBufferColorSpace(e),t.unpackColorSpace=jt._getUnpackColorSpace()}},t.WebGLUtils=Rh,t.WebGPUCoordinateSystem=St,t.WireframeGeometry=Vo,t.WrapAroundEnding=nt,t.ZeroCurvatureEnding=et,t.ZeroFactor=200,t.ZeroSlopeEnding=tt,t.ZeroStencilOp=0,t.createCanvasElement=Vt},6493(e,t,n){"use strict";n.d(t,{Ww:()=>me,ZL:()=>Ie,Ts:()=>Ee,YV:()=>bn,al:()=>yn,hk:()=>Qe,t6:()=>Tt,kl:()=>ot,EN:()=>Jt,QU:()=>Pt,SE:()=>Ke,Se:()=>qt,z1:()=>jt,h7:()=>Xt,Yi:()=>ye,cD:()=>Sn,Ms:()=>mn,l3:()=>Lt,QI:()=>wn,xd:()=>xn});var i=n(4922),r=n(8823);const s=new i.kn4,a=new i.kn4,o={x:"XYZ",y:"YXZ",z:"ZXY"};function l(e,t,n,r,l,c){s.copy(n),null!=l&&s.premultiply(a.copy(l).invert());const u=new i.Pq0,d=new i.PTz,h=new i.Pq0;let p;s.decompose(u,d,h),y(u,r.initialTargetPosition,c.translate??!0);const f=c.rotate??!0;if(!1===f)d.copy(r.initialTargetQuaternion),p=r.initialTargetRotation.clone();else if(Array.isArray(f)||!0===f||"string"!=typeof f&&!Array.isArray(f)&&!0===f.x&&!0===f.y&&!0===f.z)p=(new i.O9p).setFromQuaternion(d,r.initialTargetRotation.order);else if("string"==typeof f){const e=o[f];p=(new i.O9p).setFromQuaternion(d,e);for(const t of e){const e=t.toLowerCase();e!==f&&(p[e]=0)}p.order=r.initialTargetRotation.order,d.setFromEuler(p)}else p=function(e,t,n){let r="",s="";for(const e of t.order)!1===n[e.toLowerCase()]?s+=e:r+=e;const a=r+s,o=(new i.O9p).setFromQuaternion(e,a);for(const e of a){const i=e.toLowerCase();o[i]=E(i,o[i],t[i],n)}return e.setFromEuler(o),o}(d,r.initialTargetRotation,f);return"object"==typeof c.scale&&c.scale.uniform||y(h,r.initialTargetScale,c.scale??!0),{pointerAmount:t,position:u,quaternion:d,rotation:p,scale:h,time:e}}const c=new i.Zcv,u=new i.Pq0,d=new i.Pq0,h=new i.Pq0,p=new i.PTz;function f(e,t,n){return c.normal.copy(e),c.constant=0,function(e,t){0!==t.x?0!==t.y?0!==t.z?e.set(-t.y,t.x,0):e.set(0,0,1):e.set(0,1,0):e.set(1,0,0)}(u,c.normal),d.copy(u),d.applyQuaternion(p.copy(t).invert().premultiply(n)),c.projectPoint(u,u).normalize(),c.projectPoint(d,d).normalize(),(h.crossVectors(u,c.normal).dot(d)<0?1:-1)*u.angleTo(d)}const g=new i.Pq0,A=new i.Zcv,m=new i.Pq0,v=new i.Pq0;function y(e,t,n){if(Array.isArray(n))switch(n.length){case 0:return void e.copy(t);case 1:return e.sub(t),O(e,n[0]instanceof i.Pq0?n[0]:g.fromArray(n[0])),void e.add(t);case 2:return g.crossVectors(n[0]instanceof i.Pq0?n[0]:m.fromArray(n[0]),n[1]instanceof i.Pq0?n[1]:v.fromArray(n[1])),A.setFromNormalAndCoplanarPoint(g,t),void A.projectPoint(e,e)}else e.x=E("x",e.x,t.x,n),e.y=E("y",e.y,t.y,n),e.z=E("z",e.z,t.z,n)}function E(e,t,n,i){if("boolean"==typeof i)return i?t:n;if("string"==typeof i)return i===e?t:n;const s=i[e];return!1===s?n:Array.isArray(s)?(0,r.clamp)(t,...s):t}function S(e=!0,t,n,i,r,s){if(e){switch(t.length){case 0:case 3:return;case 1:return void function(e,t,n,i,r){const s=null==r?0:1-Math.abs(t.dot(r));if(null==r||s<.001)return void L(i,e,t);N.subVectors(n,e);const a=t.dot(r),o=t.dot(N),l=r.dot(N),c=1-a*a,u=(o-a*l)/c;(a*o-l)/c<0?L(i,e,t):(N.copy(i),i.copy(e).addScaledVector(t,u))}(n,...t,i,r,s);case 2:return void function(e,t,n,i,r,s){D.crossVectors(e,t).normalize(),_.setFromNormalAndCoplanarPoint(D,n);const a=null==s?0:Math.abs(D.dot(s));if(null==s||a<.01)return void _.projectPoint(r,r);const o=-_.distanceToPoint(i)/s.dot(_.normal);o<0?_.projectPoint(r,r):(N.copy(r),r.copy(i).addScaledVector(s,o))}(...t,n,i,r,s)}throw new Error(`space cannot be ${t.length}D but received (${t.map(e=>e.toArray().join("/")).join("; ")})`)}}const b={x:new i.Pq0(1,0,0),y:new i.Pq0(0,1,0),z:new i.Pq0(0,0,1)};function x(e,t,n,i,r){if(!1!==i){if(!0===i)return e[0]=b.x,e[1]=b.y,void(e[2]=b.z);if("string"!=typeof i)if(Array.isArray(i))for(const s of i)B(e,t,n,s,r);else!1!==i.x&&B(e,t,n,"x",r),!1!==i.y&&B(e,t,n,"y",r),!1!==i.z&&B(e,t,n,"z",r);else B(e,t,n,i,r)}}const w=new i.PTz,I=new i.O9p,C=new i.Pq0,T=new i.Pq0,M=new i.Pq0;function B(e,t,n,r,s){if(Array.isArray(r)?C.set(...r):r instanceof i.Pq0?C.copy(r):C.copy(b[r]),"translate"===s)return C.applyQuaternion(t),void P(e,C);if("scale"===s)return Array.isArray(r)?w.identity():w.setFromEuler(n),w.premultiply(t),C.applyQuaternion(w),void P(e,C);if(Array.isArray(r))I.set(0,0,0);else{I.copy(n);for(let e=2;e>=0;e--){const t=n.order[e].toLowerCase();if(I[t]=0,t===r)break}}w.setFromEuler(I).premultiply(t),C.normalize(),T.set(0,1,0),C.dot(T)>.99&&T.set(0,0,1),M.crossVectors(C,T).normalize(),T.copy(M),M.applyQuaternion(w),P(e,M),M.crossVectors(C,T).normalize(),M.applyQuaternion(w),P(e,M)}const R=new i.Pq0;function P(e,t){3!==e.length&&(0!==e.length?1!==e.length?(R.crossVectors(e[0],e[1]),Math.abs(R.dot(t))<.001||e.push(t.clone())):Math.abs(e[0].dot(t))<.999&&e.push(t.clone()):e.push(t.clone()))}const _=new i.Zcv,D=new i.Pq0,N=new i.Pq0;function L(e,t,n){e.sub(t),O(e,n),e.add(t)}function O(e,t){const n=e.dot(t);e.copy(t).multiplyScalar(n)}const k=new i.kn4,U=new i.kn4,F=new i.Pq0,Q=new i.Pq0,V=new i.PTz,H=new i.Pq0(1,1,1),G=[],z=new i.Pq0,W=new i.Pq0,X=new i.Pq0,j=new i.Pq0,q=new i.Pq0,Y=new i.Pq0,J=new i.Pq0,Z=new i.kn4,K=new i.kn4,$=new i.kn4,ee=new i.PTz,te=new i.PTz,ne=[],ie=new i.Pq0,re=new i.Pq0,se=new i.Pq0,ae=new i.Pq0,oe=new i.Pq0,le=new i.PTz,ce=new i.PTz,ue=new i.kn4,de=new i.Pq0,he=[];class pe{t1;t2;_position;_quaternion;_rotation;_scale;constructor(e,t){this.t1=e,this.t2=t}get time(){return this.t1.time-this.t2.time}get position(){return this._position??=this.t1.position.clone().sub(this.t2.position)}get quaternion(){return this._quaternion??=this.t2.quaternion.clone().invert().premultiply(this.t1.quaternion)}get rotation(){return this._rotation??=(new i.O9p).setFromQuaternion(this.quaternion)}get scale(){return this._scale??=this.t1.scale.clone().sub(this.t2.scale)}}class fe{cancel;previous;memo;event;initial;current;first;last;_delta;_offset;constructor(e){this.cancel=e}start(e,t){this.event=e,this.previous=void 0,this.current=t,this.initial=t,this.first=!0,this.last=!1,this.memo=void 0,this._delta=void 0,this._offset=void 0}update(e,t){this.event=e,this.previous=this.current,this.current=t,this.first=!1,this.last=!1,this._delta=void 0,this._offset=void 0}end(e){this.event=e,this.first=!1,this.last=!0,this._delta=void 0,this._offset=void 0}get delta(){if(null!=this.previous)return this._delta??=new pe(this.current,this.previous)}get offset(){return this._offset??=new pe(this.current,this.initial)}}function ge(e,t){if("sphere"===e.details.type)return!1;if("lines"===e.details.type){const{line:n}=e.details;return t.copy(n.end).sub(n.start).normalize(),!0}return"screen-ray"===e.details.type?(t.copy(e.details.direction),!0):(t.set(0,0,-1).applyQuaternion(e.pointerQuaternion),!0)}const Ae=new i.Pq0;class me{target;getOptions;outputState;latestMoveEvent;inputState=new Map;capturedObjects=new Map;initialTargetPosition=new i.Pq0;initialTargetQuaternion=new i.PTz;initialTargetRotation=new i.O9p;initialTargetScale=new i.Pq0;initialTargetParentWorldMatrix;prevTwoPointerDeltaRotation;prevTranslateAsDeltaRotation;prevAngle;handlers={onPointerDown:this.onPointerDown.bind(this),onPointerMove:this.onPointerMove.bind(this),onPointerUp:this.onPointerUp.bind(this)};constructor(e,t=()=>({})){this.target=e,this.getOptions=t,this.outputState=new fe(this.cancel.bind(this))}firstOnPointer(e){const t=this.getTarget();if(null==t)return;const n=ge(e,Ae)?Ae.clone():void 0;e.intersection.details.type,this.inputState.set(e.pointerId,{pointerWorldDirection:n,pointerWorldPoint:e.point,pointerWorldOrigin:e.pointerPosition,pointerWorldQuaternion:e.pointerQuaternion,initialPointerWorldPoint:e.point.clone(),initialPointerWorldDirection:n?.clone(),initialPointerWorldQuaternion:e.pointerQuaternion.clone(),prevPointerWorldQuaternion:e.pointerQuaternion}),this.save(),1===this.inputState.size&&this.outputState.start(e,{pointerAmount:1,time:e.timeStamp,position:this.initialTargetPosition.clone(),quaternion:this.initialTargetQuaternion.clone(),rotation:this.initialTargetRotation.clone(),scale:this.initialTargetScale.clone()}),this.outputState.memo=this.apply(t)}onPointerDown(e){!1!==this.getOptions().filter?.(e)&&(this.stopPropagation(e),this.capturePointer(e.pointerId,e.object)&&this.firstOnPointer(e))}onPointerMove(e){if(!this.capturedObjects.has(e.pointerId))return;this.stopPropagation(e);const t=this.inputState.get(e.pointerId);null!=t?(this.latestMoveEvent=e,t.pointerWorldPoint=e.point,t.prevPointerWorldQuaternion=t.pointerWorldQuaternion,t.pointerWorldQuaternion=e.pointerQuaternion,t.pointerWorldOrigin=e.pointerPosition,null!=t.pointerWorldDirection&&ge(e,t.pointerWorldDirection)):this.firstOnPointer(e)}cancel(){if(0===this.capturedObjects.size)return;for(const[e,t]of this.capturedObjects)t.releasePointerCapture(e);this.capturedObjects.clear(),this.inputState.clear(),this.outputState.end(void 0);const e=this.getTarget();null!=e&&this.apply(e)}onPointerUp(e){this.capturedObjects.has(e.pointerId)&&(this.stopPropagation(e),this.releasePointer(e.pointerId,e.object,e))}update(e){const t=this.getTarget();if(null==t||0===this.inputState.size||null==this.latestMoveEvent&&!1===(this.getOptions().alwaysUpdate??!1))return;const n=this.getOptions();let r;if("as-rotate"===n.translate||"as-rotate-and-scale"===n.translate||"as-scale"===n.translate){n.translate,this.prevTwoPointerDeltaRotation=void 0,this.prevAngle=void 0;const[s]=this.inputState.values(),a=t.matrixWorld,o=t.parent?.matrixWorld;r=function(e,t,n,r,s,a){if(null==s?le.identity():s.decompose(ie,le,re),he.length=0,"as-scale"===a.translate&&x(he,le,n.initialTargetRotation,a.scale??!0,"scale"),"as-scale"!=a.translate&&x(he,le,n.initialTargetRotation,a.rotate??!0,"rotate"),ue.makeTranslation(n.initialTargetPosition),null!=n.initialTargetParentWorldMatrix&&ue.premultiply(n.initialTargetParentWorldMatrix),ae.setFromMatrixPosition(ue),S(a.projectRays,he,t.initialPointerWorldPoint,t.pointerWorldOrigin,ae,void 0),ae.negate().add(t.initialPointerWorldPoint),oe.setFromMatrixPosition(r),S(a.projectRays,he,t.initialPointerWorldPoint,t.pointerWorldOrigin,oe,void 0),S(a.projectRays,he,t.initialPointerWorldPoint,t.pointerWorldOrigin,re.copy(t.pointerWorldPoint),t.pointerWorldDirection),oe.negate().add(re),"as-scale"===a.translate?le.copy(n.initialTargetQuaternion):(ie.copy(ae),null!=n.prevTranslateAsDeltaRotation&&ie.applyQuaternion(n.prevTranslateAsDeltaRotation),ie.normalize(),re.copy(oe).normalize(),le.setFromUnitVectors(ie,re),null==n.prevTranslateAsDeltaRotation?n.prevTranslateAsDeltaRotation=new i.PTz:le.multiply(n.prevTranslateAsDeltaRotation),n.prevTranslateAsDeltaRotation.copy(le),null!=n.initialTargetParentWorldMatrix&&(ce.setFromRotationMatrix(n.initialTargetParentWorldMatrix),le.multiply(ce.normalize()),le.premultiply(ce.invert())),le.multiply(n.initialTargetQuaternion)),"as-rotate"===a.translate)de.set(1,1,1);else if("object"==typeof a.scale&&a.scale.uniform)de.setScalar(oe.length()/ae.length());else if("as-rotate-and-scale"===a.translate){ue.compose(n.initialTargetPosition,n.initialTargetQuaternion,n.initialTargetScale),null!=n.initialTargetParentWorldMatrix&&ue.premultiply(n.initialTargetParentWorldMatrix),ue.decompose(re,ce,se),ie.copy(ae).applyQuaternion(ce.invert()).divide(se),ie.x=Math.abs(ie.x),ie.y=Math.abs(ie.y),ie.z=Math.abs(ie.z);const e=Math.max(...ie.toArray());ie.divideScalar(e),de.set(1,1,1),de.addScaledVector(ie,oe.length()/ae.length()-1)}else null!=n.initialTargetParentWorldMatrix?(n.initialTargetParentWorldMatrix.decompose(ie,ce,re),ce.multiply(n.initialTargetQuaternion)):ce.copy(n.initialTargetQuaternion),ie.copy(ae).applyQuaternion(ce.invert()),null!=s?(s.decompose(re,ce,se),ce.multiply(n.initialTargetQuaternion)):ce.copy(n.initialTargetQuaternion),re.copy(oe).applyQuaternion(ce.invert()),de.x=Math.abs(ie.x)<.001?1:Math.abs(re.x/ie.x),de.y=Math.abs(ie.y)<.001?1:Math.abs(re.y/ie.y),de.z=Math.abs(ie.z)<.001?1:Math.abs(re.z/ie.z);return de.multiply(n.initialTargetScale),ue.compose(n.initialTargetPosition,le,de),l(e,1,ue,n,void 0,a)}(e,s,this,a,o,n)}else if(1===this.inputState.size){this.prevTwoPointerDeltaRotation=void 0,this.prevAngle=void 0,this.prevTranslateAsDeltaRotation=void 0;const[i]=this.inputState.values();r=function(e,t,n,i,r){return null==i?V.identity():i.decompose(F,V,Q),G.length=0,x(G,V,n.initialTargetRotation,r.translate??!0,"translate"),U.makeRotationFromQuaternion(V.copy(t.initialPointerWorldQuaternion).invert()).multiply(k.makeTranslation(F.copy(t.initialPointerWorldPoint).negate())),null!=n.initialTargetParentWorldMatrix&&U.multiply(n.initialTargetParentWorldMatrix),S(r.projectRays,G,t.initialPointerWorldPoint,t.pointerWorldOrigin,F.copy(t.pointerWorldPoint),t.pointerWorldDirection),V.copy(t.pointerWorldQuaternion),!1===(r.rotate??!0)&&V.copy(t.initialPointerWorldQuaternion),k.compose(F,V,H).multiply(U).multiply(U.compose(n.initialTargetPosition,n.initialTargetQuaternion,n.initialTargetScale)),l(e,1,k,n,i,r)}(e,i,this,t.parent?.matrixWorld,n)}else{this.prevTranslateAsDeltaRotation=void 0;const[s,a]=this.inputState.values();r=function(e,t,n,r,s,a){null==s?ee.identity():s.decompose(X,ee,j),ne.length=0,x(ne,ee,r.initialTargetRotation,a.translate??!0,"translate"),x(ne,ee,r.initialTargetRotation,a.rotate??!0,"rotate"),x(ne,ee,r.initialTargetRotation,a.scale??!0,"scale"),S(a.projectRays,ne,t.initialPointerWorldPoint,t.pointerWorldOrigin,X.copy(t.pointerWorldPoint),t.pointerWorldDirection),S(a.projectRays,ne,n.initialPointerWorldPoint,n.pointerWorldOrigin,j.copy(n.pointerWorldPoint),n.pointerWorldDirection),z.copy(n.initialPointerWorldPoint).sub(t.initialPointerWorldPoint),W.copy(j).sub(X),X.copy(z),null!=r.prevTwoPointerDeltaRotation&&X.applyQuaternion(r.prevTwoPointerDeltaRotation),X.normalize(),j.copy(W).normalize(),ee.setFromUnitVectors(X,j),null==r.prevTwoPointerDeltaRotation?r.prevTwoPointerDeltaRotation=new i.PTz:ee.multiply(r.prevTwoPointerDeltaRotation),r.prevTwoPointerDeltaRotation.copy(ee);const o=.5*(f(j,t.prevPointerWorldQuaternion,t.pointerWorldQuaternion)+f(j,n.prevPointerWorldQuaternion,n.pointerWorldQuaternion))+(r.prevAngle??0);if(r.prevAngle=o,ee.premultiply(te.setFromAxisAngle(j,o)),$.compose(r.initialTargetPosition,r.initialTargetQuaternion,r.initialTargetScale),null!=r.initialTargetParentWorldMatrix&&$.premultiply(r.initialTargetParentWorldMatrix),"object"==typeof a.scale&&a.scale.uniform)J.setScalar(W.length()/z.length());else{$.decompose(q,te,Y),X.copy(z).applyQuaternion(te.invert()).divide(Y),X.x=Math.abs(X.x),X.y=Math.abs(X.y),X.z=Math.abs(X.z);const e=Math.max(...X.toArray());X.divideScalar(e),J.set(1,1,1),J.addScaledVector(X,W.length()/z.length()-1)}return Z.makeTranslation(X.copy(W).multiplyScalar(.5).add(t.pointerWorldPoint)).multiply(K.makeRotationFromQuaternion(ee)).multiply(K.makeRotationFromQuaternion(te.invert())).multiply(K.makeScale(J.x,J.y,J.z)).multiply(K.makeRotationFromQuaternion(te.invert())).multiply(K.makeTranslation(X.copy(z).multiplyScalar(.5).add(t.initialPointerWorldPoint).negate())).multiply($),l(e,2,Z,r,s,a)}(e,s,a,this,t.parent?.matrixWorld,n)}this.outputState.update(this.latestMoveEvent,r),this.outputState.memo=this.apply(t),this.latestMoveEvent=void 0}getTarget(){return this.target instanceof i.B69?this.target:this.target?.current}capturePointer(e,t){if(this.capturedObjects.has(e))return!1;const{multitouch:n,translate:i}=this.getOptions();return(!1!==(n??!0)&&"string"!=typeof i||1!==this.capturedObjects.size)&&(this.capturedObjects.set(e,t),t.setPointerCapture(e),!0)}releasePointer(e,t,n){const i=this.getTarget();null!=i&&this.capturedObjects.delete(e)&&(this.inputState.delete(e),t.releasePointerCapture(e),this.inputState.size>0?this.save():(this.outputState.end(n),this.apply(i)))}stopPropagation(e){null!=e&&(this.getOptions()?.stopPropagation??1)&&e.stopPropagation()}apply(e){return(this.getOptions().apply??ye)(this.outputState,e)}getState(){return 0===this.inputState.size?void 0:this.outputState}save(){const e=this.getTarget();if(null!=e){e.updateWorldMatrix(!0,!1),this.prevAngle=void 0,this.prevTwoPointerDeltaRotation=void 0,this.prevTranslateAsDeltaRotation=void 0,this.initialTargetParentWorldMatrix=e.parent?.matrixWorld.clone(),e.matrixAutoUpdate?(this.initialTargetPosition.copy(e.position),this.initialTargetQuaternion.copy(e.quaternion),this.initialTargetRotation.copy(e.rotation),this.initialTargetScale.copy(e.scale)):(e.matrix.decompose(this.initialTargetPosition,this.initialTargetQuaternion,this.initialTargetScale),this.initialTargetRotation.setFromQuaternion(this.initialTargetQuaternion,e.rotation.order));for(const e of this.inputState.values())null!=e.pointerWorldDirection&&e.initialPointerWorldDirection?.copy(e.pointerWorldDirection),e.initialPointerWorldPoint.copy(e.pointerWorldPoint),e.initialPointerWorldQuaternion.copy(e.pointerWorldQuaternion)}}bind(e){const{onPointerDown:t,onPointerMove:n,onPointerUp:i}=this.handlers;return e.addEventListener("pointerdown",t),e.addEventListener("pointermove",n),e.addEventListener("pointerup",i),()=>{e.removeEventListener("pointerdown",t),e.removeEventListener("pointermove",n),e.removeEventListener("pointerup",i),this.cancel()}}capture(e,t){return this.capturePointer(e,t)?()=>this.releasePointer(e,t,void 0):ve}}function ve(){}function ye(e,t){t.position.copy(e.current.position),t.rotation.order=e.current.rotation.order,t.quaternion.copy(e.current.quaternion),t.scale.copy(e.current.scale)}class Ee{target;getOptions;handles=[];hoveredTagMap=new Map;hoverSubscriptions=[];applySubscriptions=[];space;constructor(e,t){this.target=e,this.getOptions=t}getSpace(){return this.space??"world"}getTarget(){return this.target instanceof i.B69?this.target:this.target.current}getHandleOptions(e,t){const n=this.getOptions?.(),i=t?.();return{...n,...i,apply:(t,r)=>(this.onApply(e,t,r),(i?.apply??n?.apply??ye)?.(t,r))}}registerHandle(e,t,n){const i={object:t,store:e,tag:n};this.handles.push(i);const r=e.bind(t),s=this.onPointerEnter.bind(this,n),a=this.onPointerLeave.bind(this);return t.addEventListener("pointerenter",s),t.addEventListener("pointerleave",a),()=>{const t=this.handles.indexOf(i);-1!=t&&this.handles.splice(t,1),r(),e.cancel()}}subscribeHover(e){return this.hoverSubscriptions.push(e),e(Array.from(this.hoveredTagMap.values())),()=>{const t=this.hoverSubscriptions.indexOf(e);-1!==t&&this.hoverSubscriptions.splice(t,1)}}subscribeApply(e){return this.applySubscriptions.push(e),()=>{const t=this.applySubscriptions.indexOf(e);-1!==t&&this.applySubscriptions.splice(t,1)}}update(e){for(const{store:t}of this.handles)t.update(e)}onPointerEnter(e,t){this.hoveredTagMap.set(t.pointerId,e),this.updateHover()}onPointerLeave(e){this.hoveredTagMap.delete(e.pointerId),this.updateHover()}updateHover(){const e=Array.from(this.hoveredTagMap.values());for(const t of this.hoverSubscriptions)t(e)}onApply(e,t,n){for(const i of this.applySubscriptions)i(e,t,n)}}const Se={depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0};function be(e,t,n,{color:r,hoverColor:s,hoverOpacity:a,opacity:o,disabled:l=!1}){return null==s&&null==a||l?(t.color.set(r),t.opacity=o??1,void(l&&(t.opacity*=.5,t.color.lerp(new i.Q1f(1,1,1),.5)))):(s??=r,e.subscribeHover(e=>{const i=e.some(e=>e.includes(n));t.color.set(i?s:r),t.opacity=(i?a:o)??1}))}const xe=new i.PTz,we=new i.LoY;we.setAttribute("position",new i.qtW([-1e3,0,0,1e3,0,0],3));class Ie extends i.DXC{context;rotationOffset;constructor(e,t){super(we),this.context=e,this.rotationOffset=t,this.renderOrder=1/0}update(){this.quaternion.setFromEuler(this.rotationOffset);const e=this.context.getTarget();"world"===this.context.getSpace()&&null!=e&&(e.getWorldQuaternion(xe).invert(),this.quaternion.premultiply(xe))}bind(e){this.material=new i.mrM({...Se,color:this.material.color??"white",opacity:this.material.opacity??1});const t=this.context.subscribeHover(t=>{const n=t.some(t=>t.includes(e));this.visible=n}),n=this.context.subscribeApply((e,t)=>{if(t.last)return void this.position.set(0,0,0);this.position.copy(t.initial.position).sub(t.current.position);const n=this.context.getTarget();null!=n&&(xe.copy(n.quaternion).invert(),this.position.applyQuaternion(xe))});return()=>{this.material.dispose(),t(),n()}}}class Ce extends i.YJl{context;axis;store;options;tag;constructor(e,t,n,i){super(),this.context=e,this.axis=t,this.tag=(n??"")+t,this.store=new me(e.target,()=>e.getHandleOptions(this.tag,i))}}function Te(e,t=!0){if(!1===t)return{options:!1,disabled:!0};if(!0===t){const t={x:!1,y:!1,z:!1,e:!1};for(const n of e)t[n]=!0;return{options:t,disabled:!1}}if("disabled"===t)return{options:{x:!0,y:!0,z:!0,e:!0},disabled:!0};if("string"==typeof t)return{options:t===e&&{x:!1,y:!1,z:!1,e:!1,[e]:!0},disabled:!1};const n={x:!1,y:!1,z:!1,e:!1};let i=!1;for(const r of e){let e=t[r]??!0;if(!1===e)return{options:!1,disabled:!0};"disabled"===e&&(i=!0,e=!0),n[r]=e}return{options:n,disabled:i}}const Me=new i.Pq0,Be=new i.Pq0;function Re(e,t,n,r){if(!n)return r;let s;return t instanceof i.qUd?s=(t.top-t.bottom)/t.zoom:(t.getWorldPosition(Me),e.getWorldPosition(Be),s=Me.distanceTo(Be)*Math.min(1.9*Math.tan(Math.PI*t.fov/360)/t.zoom,7)),s*r/4}class Pe extends Ce{constructor(e,t,n){super(e,t,n,()=>({scale:this.options,rotate:!1,translate:"as-scale",multitouch:!1}))}bind(e,t){const{options:n,disabled:r}=Te(this.axis,t);if(!1===n)return;this.options=n;const s=new i.V9B(Se),a=be(this.context,s,this.tag,{color:e,hoverColor:16777024,disabled:r}),o=new i.eaF(new i.Gu$(.04),s);o.renderOrder=1/0,o.pointerEventsOrder=1/0,o.position.x=.68;const l=r?void 0:this.context.registerHandle(this.store,o,this.tag);return this.add(o),()=>{s.dispose(),o.geometry.dispose(),l?.(),a?.(),this.remove(o)}}}class _e extends Ce{constructor(e,t,n,i){super(e,t,n,()=>({scale:!1,translate:"as-rotate",rotate:null!=i?[i]:this.options,multitouch:!1}))}bind(e,t){const{options:n,disabled:r}=Te(this.axis,t);if(!1===n)return;this.options=n;const s=new i.V9B(Se),a=be(this.context,s,this.tag,{color:e,hoverColor:16777024,disabled:r}),o=new i.eaF(new i.O3Y(.45,.0075,3,64,Math.PI/2),s);o.renderOrder=1/0,o.rotation.set(0,Math.PI/2,Math.PI/2),this.add(o);const l=new i.eaF(new i.O3Y(.45,.05,4,24,Math.PI/2));l.pointerEventsOrder=1/0,l.visible=!1,l.rotation.set(0,Math.PI/2,Math.PI/2),this.add(l);const c=r?void 0:this.context.registerHandle(this.store,l,this.tag);return()=>{s.dispose(),l.geometry.dispose(),o.geometry.dispose(),c?.(),a?.(),this.remove(o),this.remove(l)}}}const De=new i.Ho_(0,.04,.1,12);De.translate(0,.05,0);const Ne=new i.Ho_(.0075,.0075,.5,3);Ne.translate(0,.25,0);const Le=new i.O9p(0,0,-Math.PI/2),Oe=new i.O9p(0,0,Math.PI/2);class ke extends Ce{invert;showArrowBody;constructor(e,t,n="",i,r=!1,s=!0){super(e,t,n,()=>({scale:!1,rotate:!1,translate:null!=i?[i]:this.options,multitouch:!1})),this.invert=r,this.showArrowBody=s}bind(e,t,n){const{options:r,disabled:s}=Te(this.axis,n);if(!1===r)return;this.options=r;const a=this.invert?Oe:Le,o=new i.V9B(Se),l=be(this.context,o,this.tag,{color:e,hoverColor:t,disabled:s}),c=new i.eaF(De,o);let u,d;if(c.renderOrder=1/0,c.position.x=this.invert?-.5:.5,c.rotation.copy(a),this.add(c),this.showArrowBody){const t=new i.V9B(Se);u=be(this.context,t,this.tag,{color:e,hoverColor:16777024,disabled:s}),d=new i.eaF(Ne,t),d.renderOrder=1/0,d.rotation.copy(a),this.add(d)}const h=new i.eaF(new i.Ho_(.13,0,.6,4));h.pointerEventsOrder=1/0,h.position.x=this.invert?-.3:.3,h.rotation.copy(a),h.visible=!1,this.add(h);const p=s?void 0:this.context.registerHandle(this.store,h,this.tag);return()=>{o.dispose(),p?.(),l?.(),u?.(),this.remove(c),null!=d&&this.remove(d),this.remove(h)}}}class Ue extends Ce{constructor(e,t,n="",i){super(e,t,n,()=>({translate:i??this.options,scale:!1,rotate:!1,multitouch:!1}))}bind(e,t,n){const{options:r,disabled:s}=Te(this.axis,n);if(!1===r)return;this.options=r;const a=new i.V9B(Se),o=be(this.context,a,this.tag,{opacity:.5,hoverOpacity:1,color:e,hoverColor:t,disabled:s}),l=new i.eaF(new i.iNn(.2,.2,.01),a);l.renderOrder=1/0,l.pointerEventsOrder=1/0,l.position.set(.15,.15,0);const c=s?void 0:this.context.registerHandle(this.store,l,this.tag);return this.add(l),()=>{a.dispose(),l.geometry.dispose(),c?.(),o?.(),this.remove(l)}}}const Fe=new i.Pq0;class Qe extends i.YJl{context;size;fixed;scaleX;scaleY;scaleZ;rotationX;rotationY;rotationZ;translationX;translationY;translationZ;translationXY;translationYZ;translationXZ;xAxis=new i.Pq0;yAxis=new i.Pq0;zAxis=new i.Pq0;xRotationAxis=new i.Pq0;yRotationAxis=new i.Pq0;zRotationAxis=new i.Pq0;constructor(e,t,n){super(),this.context=e,this.size=t,this.fixed=n,this.scaleX=new Pe(e,"x","s"),this.add(this.scaleX),this.scaleY=new Pe(e,"y","s"),this.scaleY.rotation.z=Math.PI/2,this.add(this.scaleY),this.scaleZ=new Pe(e,"z","s"),this.scaleZ.rotation.y=-Math.PI/2,this.add(this.scaleZ),this.rotationX=new _e(e,"x","r",this.xRotationAxis),this.add(this.rotationX),this.rotationY=new _e(e,"y","r",this.yRotationAxis),this.rotationY.rotation.z=-Math.PI/2,this.add(this.rotationY),this.rotationZ=new _e(e,"z","r",this.zRotationAxis),this.rotationZ.rotation.y=Math.PI/2,this.add(this.rotationZ),this.translationX=new ke(e,"x","ta",this.xAxis),this.add(this.translationX),this.translationY=new ke(e,"y","ta",this.yAxis),this.translationY.rotation.z=Math.PI/2,this.add(this.translationY),this.translationZ=new ke(e,"z","ta",this.zAxis),this.translationZ.rotation.y=-Math.PI/2,this.add(this.translationZ),this.translationXY=new Ue(e,"xy","tp",[this.xAxis,this.yAxis]),this.add(this.translationXY),this.translationYZ=new Ue(e,"yz","tp",[this.yAxis,this.zAxis]),this.translationYZ.rotation.y=-Math.PI/2,this.add(this.translationYZ),this.translationXZ=new Ue(e,"xz","tp",[this.xAxis,this.zAxis]),this.translationXZ.rotation.x=Math.PI/2,this.add(this.translationXZ)}update(e){this.updateWorldMatrix(!0,!1);const t=this.context.getTarget();null!=t&&(Ve(this.xAxis,t,void 0,1,0,0),Ve(this.yAxis,t,void 0,0,1,0),Ve(this.zAxis,t,void 0,0,0,1),Ve(this.xRotationAxis,t,this.rotationX.store,1,0,0),Ve(this.yRotationAxis,t,this.rotationY.store,0,1,0),Ve(this.zRotationAxis,t,this.rotationZ.store,0,0,1)),this.scale.setScalar(1),null!=t&&(t.getWorldScale(Fe),this.scale.divide(Fe)),this.scale.multiplyScalar(Re(this,e,this.fixed??!0,this.size??1))}bind(e,t,n){const i=this.scaleX.bind(16719968,n),r=this.scaleY.bind(2154368,n),s=this.scaleZ.bind(2130175,n),a=this.rotationX.bind(16719968,t),o=this.rotationY.bind(2154368,t),l=this.rotationZ.bind(2130175,t),c=this.translationX.bind(16719968,16777024,e),u=this.translationY.bind(2154368,16777024,e),d=this.translationZ.bind(2130175,16777024,e),h=this.translationXY.bind(16719968,16777024,e),p=this.translationYZ.bind(2130175,16777024,e),f=this.translationXZ.bind(2154368,16777024,e);return()=>{i?.(),r?.(),s?.(),a?.(),o?.(),l?.(),c?.(),u?.(),d?.(),h?.(),p?.(),f?.()}}}function Ve(e,t,n,...[i,r,s]){null==n?.getState()&&(e.set(i,r,s),e.applyQuaternion(t.quaternion))}i.YJl;const He=new i.PTz;class Ge extends Ce{constructor(e){super(e,"xyz","",()=>({translate:this.options,scale:!1,rotate:!1,multitouch:!1}))}bind(e){const{options:t,disabled:n}=Te(this.axis,e);if(!1===t)return;this.options=t;const r=new i.V9B(Se),s=be(this.context,r,this.tag,{color:16777215,hoverColor:16776960,opacity:.25,hoverOpacity:1,disabled:n}),a=new i.eaF(new i.Ufg(.1,0),r);a.renderOrder=1/0,this.add(a);const o=new i.eaF(new i.Ufg(.2,0));o.pointerEventsOrder=1/0,o.visible=!1,this.add(o);const l=n?void 0:this.context.registerHandle(this.store,o,this.tag);return()=>{r.dispose(),a.geometry.dispose(),o.geometry.dispose(),l?.(),s?.(),this.remove(a),this.remove(o)}}}const ze=new i.Pq0,We=new i.PTz,Xe=new i.PTz,je=(new i.PTz).setFromEuler(new i.O9p(0,0,Math.PI/2)),qe=(new i.PTz).setFromEuler(new i.O9p(0,-Math.PI/2,0)),Ye=new i.PTz,Je=(new i.PTz).setFromEuler(new i.O9p(0,-Math.PI/2,0)),Ze=(new i.PTz).setFromEuler(new i.O9p(Math.PI/2,0,0));class Ke extends i.YJl{context;size;fixed;free;translationX;translationY;translationZ;translationNegX;translationNegY;translationNegZ;translationXY;translationYZ;translationXZ;scaleGroup=new i.YJl;xAxis=new i.Pq0;yAxis=new i.Pq0;zAxis=new i.Pq0;negXAxis=new i.Pq0;negYAxis=new i.Pq0;negZAxis=new i.Pq0;constructor(e,t,n){super(),this.context=e,this.size=t,this.fixed=n,this.add(this.scaleGroup),this.free=new Ge(this.context),this.scaleGroup.add(this.free),this.translationX=new ke(this.context,"x",void 0,this.xAxis),this.scaleGroup.add(this.translationX),this.translationY=new ke(this.context,"y",void 0,this.yAxis),this.scaleGroup.add(this.translationY),this.translationZ=new ke(this.context,"z",void 0,this.zAxis),this.scaleGroup.add(this.translationZ),this.translationNegX=new ke(this.context,"x",void 0,this.negXAxis,!0,!1),this.scaleGroup.add(this.translationNegX),this.translationNegY=new ke(this.context,"y",void 0,this.negYAxis,!0,!1),this.scaleGroup.add(this.translationNegY),this.translationNegZ=new ke(this.context,"z",void 0,this.negZAxis,!0,!1),this.scaleGroup.add(this.translationNegZ),this.translationXY=new Ue(this.context,"xy",void 0,[this.xAxis,this.yAxis]),this.scaleGroup.add(this.translationXY),this.translationXZ=new Ue(this.context,"xz",void 0,[this.xAxis,this.zAxis]),this.scaleGroup.add(this.translationXZ),this.translationYZ=new Ue(this.context,"yz",void 0,[this.yAxis,this.zAxis]),this.scaleGroup.add(this.translationYZ)}update(e){this.updateWorldMatrix(!0,!1),this.xAxis.set(1,0,0),this.yAxis.set(0,1,0),this.zAxis.set(0,0,1),this.free.quaternion.identity(),this.translationX.quaternion.copy(Xe),this.translationY.quaternion.copy(je),this.translationZ.quaternion.copy(qe),this.translationNegX.quaternion.copy(Xe),this.translationNegY.quaternion.copy(je),this.translationNegZ.quaternion.copy(qe),this.translationXY.quaternion.copy(Ye),this.translationYZ.quaternion.copy(Je),this.translationXZ.quaternion.copy(Ze);const t=this.context.getSpace(),n=this.context.getTarget();"world"==t&&null!=n?(n.getWorldQuaternion(We).invert(),this.free.quaternion.premultiply(We),this.translationX.quaternion.premultiply(We),this.translationY.quaternion.premultiply(We),this.translationZ.quaternion.premultiply(We),this.translationNegX.quaternion.premultiply(We),this.translationNegY.quaternion.premultiply(We),this.translationNegZ.quaternion.premultiply(We),this.translationXY.quaternion.premultiply(We),this.translationYZ.quaternion.premultiply(We),this.translationXZ.quaternion.premultiply(We),null!=n.parent&&(n.parent.getWorldQuaternion(We).invert(),this.xAxis.applyQuaternion(We),this.yAxis.applyQuaternion(We),this.zAxis.applyQuaternion(We))):null!=n&&(this.xAxis.applyQuaternion(n.quaternion),this.yAxis.applyQuaternion(n.quaternion),this.zAxis.applyQuaternion(n.quaternion)),this.negXAxis.copy(this.xAxis).negate(),this.negYAxis.copy(this.yAxis).negate(),this.negZAxis.copy(this.zAxis).negate(),this.scaleGroup.scale.setScalar(1),null!=n&&(n.getWorldScale(ze),this.scaleGroup.scale.divide(ze)),this.scaleGroup.scale.multiplyScalar(Re(this,e,this.fixed??!0,this.size??1))}bind(e){const t=function(e,t){const n=new i.eaF(new i.Ufg(.01,2),new i.V9B(Se));n.renderOrder=1/0,n.visible=!1,e.add(n);const r=new i.eaF(new i.Ufg(.01,2),new i.V9B(Se));r.renderOrder=1/0,r.visible=!1,e.add(r);const s=new i.LoY;s.setAttribute("position",new i.qtW([0,0,0,1,1,1],3));const a=new i.DXC(s,new i.mrM(Se));a.renderOrder=1/0,a.visible=!1,e.add(a);const o=t.subscribeApply((e,i)=>{r.position.set(0,0,0),n.position.copy(i.initial.position).sub(i.current.position);const s=t.getTarget();null!=s&&(He.copy(s.quaternion).invert(),n.position.applyQuaternion(He)),a.position.set(0,0,0),a.scale.copy(n.position),n.visible=!i.last,a.visible=!i.last,r.visible=!i.last});return()=>{n.geometry.dispose(),n.material.dispose(),r.geometry.dispose(),r.material.dispose(),a.geometry.dispose(),a.material.dispose(),e.remove(n),e.remove(r),e.remove(a),o()}}(this,this.context),n=this.translationX.bind(16711680,16776960,e),r=this.translationY.bind(65280,16776960,e),s=this.translationZ.bind(255,16776960,e),a=this.translationNegX.bind(16711680,16776960,e),o=this.translationNegY.bind(65280,16776960,e),l=this.translationNegZ.bind(255,16776960,e),c=this.translationXY.bind(255,16776960,e),u=this.translationYZ.bind(16711680,16776960,e),d=this.translationXZ.bind(65280,16776960,e),h=this.free.bind(e);return()=>{t(),n?.(),r?.(),s?.(),a?.(),o?.(),l?.(),c?.(),u?.(),d?.(),h?.()}}}const $e=new i.O9p(0,0,-Math.PI/2),et=new i.O9p(0,0,Math.PI/2);class tt extends Ce{invert;showHandleLine;constructor(e,t,n="",i=!1,r=!0){super(e,t,n,()=>({scale:this.options,rotate:!1,translate:"as-scale",multitouch:!1})),this.invert=i,this.showHandleLine=r}bind(e,t,n){const{options:r,disabled:s}=Te(this.axis,n);if(!1===r)return;this.options=r;const a=this.invert?et:$e,o=new i.YJl;o.position.x=this.invert?-.5:.5,o.rotation.copy(a),this.add(o);const l=new i.V9B(Se),c=be(this.context,l,this.tag,{color:e,hoverColor:t,disabled:s}),u=new i.eaF(new i.iNn(.08,.08,.08),l);let d,h,p;if(u.renderOrder=1/0,u.rotation.copy(a),o.add(u),this.showHandleLine){p=new i.YJl,p.rotation.copy(a),this.add(p);const n=new i.V9B(Se);d=be(this.context,n,this.tag,{color:e,hoverColor:t,disabled:s}),h=new i.eaF(new i.Ho_(.0075,.0075,.5,3),n),h.renderOrder=1/0,h.position.y=.25,p.add(h)}const f=new i.YJl;f.visible=!1,f.rotation.copy(a),f.position.x=this.invert?-.3:.3,this.add(f);const g=new i.eaF(new i.Ho_(.2,0,.5,4));g.pointerEventsOrder=1/0,g.position.y=.04,f.add(g);const A=s?void 0:this.context.registerHandle(this.store,g,this.tag);return()=>{l.dispose(),g.geometry.dispose(),u.geometry.dispose(),h?.geometry.dispose(),A?.(),c?.(),d?.(),null!=p&&this.remove(p),this.remove(f),this.remove(o)}}}class nt extends Ce{constructor(e,t,n=""){super(e,t,n,()=>({translate:"as-scale",scale:this.options,rotate:!1,multitouch:!1}))}bind(e,t,n){const{options:r,disabled:s}=Te(this.axis,n);if(!1===r)return;this.options=r;const a=new i.V9B(Se),o=be(this.context,a,this.tag,{opacity:.5,hoverOpacity:1,color:e,hoverColor:t,disabled:s}),l=new i.eaF(new i.iNn(.2,.2,.01),a);l.renderOrder=1/0,l.pointerEventsOrder=1/0,l.position.set(.15,.15,0);const c=s?void 0:this.context.registerHandle(this.store,l,this.tag);return this.add(l),()=>{a.dispose(),l.geometry.dispose(),c?.(),o?.(),this.remove(l)}}}const it=new i.O9p(0,0,-Math.PI/2),rt=new i.O9p(0,0,Math.PI/2);class st extends Ce{actualAxis;invert;constructor(e,t="",n,i=!1){super(e,"xyz",t,()=>({scale:{uniform:!0,...this.options},rotate:!1,translate:"as-scale",multitouch:!1})),this.actualAxis=n,this.invert=i}bind(e,t,n){const{options:r,disabled:s}=Te(this.actualAxis,n);if(!1===r)return;this.options=r;const a=this.invert?rt:it,o=new i.YJl;o.position.x=this.invert?-.7:.7,o.rotation.copy(a),this.add(o);const l=new i.V9B(Se),c=be(this.context,l,this.tag,{color:e,hoverColor:t,opacity:.5,hoverOpacity:1,disabled:s}),u=new i.eaF(new i.iNn(.08,.08,.08),l);u.renderOrder=1/0,u.rotation.copy(a),o.add(u);const d=new i.eaF(new i.iNn(.15,.15,.15),l);d.visible=!1,d.pointerEventsOrder=1/0,d.rotation.copy(a),o.add(d);const h=s?void 0:this.context.registerHandle(this.store,d,this.tag);return()=>{l.dispose(),u.geometry.dispose(),h?.(),c?.(),this.remove(o)}}}const at=new i.Pq0;class ot extends i.YJl{context;size;fixed;scaleX;scaleY;scaleZ;scaleNegX;scaleNegY;scaleNegZ;translationX;translationY;translationZ;translationNegX;translationNegY;translationNegZ;translationXY;translationYZ;translationXZ;constructor(e,t,n){super(),this.context=e,this.size=t,this.fixed=n,this.scaleX=new st(this.context,void 0,"x"),this.add(this.scaleX),this.scaleY=new st(this.context,void 0,"y"),this.scaleY.rotation.z=Math.PI/2,this.add(this.scaleY),this.scaleZ=new st(this.context,void 0,"z"),this.scaleZ.rotation.y=-Math.PI/2,this.add(this.scaleZ),this.scaleNegX=new st(this.context,void 0,"x",!0),this.add(this.scaleNegX),this.scaleNegY=new st(this.context,void 0,"y",!0),this.scaleNegY.rotation.z=Math.PI/2,this.add(this.scaleNegY),this.scaleNegZ=new st(this.context,void 0,"z",!0),this.scaleNegZ.rotation.y=-Math.PI/2,this.add(this.scaleNegZ),this.translationX=new tt(this.context,"x"),this.add(this.translationX),this.translationY=new tt(this.context,"y"),this.translationY.rotation.z=Math.PI/2,this.add(this.translationY),this.translationZ=new tt(this.context,"z"),this.translationZ.rotation.y=-Math.PI/2,this.add(this.translationZ),this.translationNegX=new tt(this.context,"x",void 0,!0,!1),this.add(this.translationNegX),this.translationNegY=new tt(this.context,"y",void 0,!0,!1),this.translationNegY.rotation.z=Math.PI/2,this.add(this.translationNegY),this.translationNegZ=new tt(this.context,"z",void 0,!0,!1),this.translationNegZ.rotation.y=-Math.PI/2,this.add(this.translationNegZ),this.translationXY=new nt(this.context,"xy"),this.add(this.translationXY),this.translationXZ=new nt(this.context,"xz"),this.translationXZ.rotation.x=Math.PI/2,this.add(this.translationXZ),this.translationYZ=new nt(this.context,"yz"),this.translationYZ.rotation.y=-Math.PI/2,this.add(this.translationYZ)}update(e){this.updateWorldMatrix(!0,!1),this.scale.setScalar(1);const t=this.context.getTarget();null!=t&&(t.getWorldScale(at),this.scale.divide(at)),this.scale.multiplyScalar(Re(this,e,this.fixed??!0,this.size??1))}bind(e){const t=this.scaleX.bind(16777215,16776960,e),n=this.scaleY.bind(16777215,16776960,e),i=this.scaleZ.bind(16777215,16776960,e),r=this.scaleNegX.bind(16777215,16776960,e),s=this.scaleNegY.bind(16777215,16776960,e),a=this.scaleNegZ.bind(16777215,16776960,e),o=this.translationX.bind(16711680,16776960,e),l=this.translationY.bind(65280,16776960,e),c=this.translationZ.bind(255,16776960,e),u=this.translationNegX.bind(16711680,16776960,e),d=this.translationNegY.bind(65280,16776960,e),h=this.translationNegZ.bind(255,16776960,e),p=this.translationXY.bind(255,16776960,e),f=this.translationYZ.bind(16711680,16776960,e),g=this.translationXZ.bind(65280,16776960,e);return()=>{o?.(),l?.(),c?.(),u?.(),d?.(),h?.(),p?.(),f?.(),g?.(),t?.(),n?.(),i?.(),r?.(),s?.(),a?.()}}}const lt={x:{vector1:new i.Pq0(0,0,-1),vector2:new i.Pq0(0,-1,0),rotationOffset:new i.PTz,axis:[1,0,0]},y:{vector1:new i.Pq0(0,0,-1),vector2:new i.Pq0(-1,0,-1),rotationOffset:(new i.PTz).setFromEuler(new i.O9p(0,0,Math.PI/2)),axis:[0,1,0]},z:{vector1:new i.Pq0(-1,0,0),vector2:new i.Pq0(0,-1,0),rotationOffset:(new i.PTz).setFromEuler(new i.O9p(0,Math.PI/2,0)),axis:[0,0,1]}},ct=new i.Pq0,ut=new i.Pq0,dt=new i.Pq0,ht=new i.Pq0,pt=new i.PTz;class ft extends Ce{direction=new i.Pq0(1,0,0);constructor(e,t,n=""){super(e,t,n,()=>({scale:!1,translate:"as-rotate",rotate:[this.direction],multitouch:!1}))}update(e){const{rotationOffset:t,vector1:n,vector2:i}=lt[this.axis];e.getWorldPosition(ct),this.getWorldPosition(ut).sub(ct),dt.copy(n),ht.copy(i);const r=this.context.getTarget(),s=this.context.getSpace();"local"===s&&null!=r&&(r.getWorldQuaternion(pt),dt.applyQuaternion(pt),ht.applyQuaternion(pt)),ht.crossVectors(dt,ht);const a=ut.dot(ht);ht.multiplyScalar(a),ut.sub(ht),this.quaternion.setFromUnitVectors(dt,ut.normalize()),"local"===s&&null!=r&&(r.getWorldQuaternion(pt),this.quaternion.multiply(pt)),this.quaternion.multiply(t),null!=r?.parent?(r.parent.matrixWorld.decompose(ct,pt,ut),pt.invert(),this.quaternion.premultiply(pt)):pt.identity(),null==this.store.getState()&&(this.direction.fromArray(lt[this.axis].axis),this.direction.applyQuaternion("local"===s&&null!=r?r?.quaternion:pt)),null!=r&&this.quaternion.premultiply(pt.copy(r.quaternion).invert())}bind(e,t){const{options:n,disabled:r}=Te(this.axis,t);if(!1===n)return;this.options=n;const s=new i.V9B(Se),a=be(this.context,s,this.tag,{color:e,hoverColor:16776960,disabled:r}),o=new i.eaF(It(.5,.5),s);o.renderOrder=1/0,this.add(o);const l=new i.eaF(new i.O3Y(.5,.1,4,24));l.visible=!1,l.pointerEventsOrder=1/0,l.rotation.set(0,-Math.PI/2,-Math.PI/2),this.add(l);const c=r?void 0:this.context.registerHandle(this.store,l,this.tag);return()=>{s.dispose(),l.geometry.dispose(),o.geometry.dispose(),c?.(),a?.(),this.remove(l),this.remove(o)}}}const gt=new i.Pq0,At=new i.Pq0,mt=new i.Pq0(1,0,0),vt=new i.PTz;class yt extends Ce{constructor(e,t=""){super(e,"xyz",t,()=>({scale:!1,translate:"as-rotate",rotate:this.options,multitouch:!1}))}update(e){e.getWorldPosition(gt),this.getWorldPosition(At).sub(gt),this.quaternion.setFromUnitVectors(mt,At.normalize());const t=this.context.getTarget();null!=t?.parent&&(t.parent.matrixWorld.decompose(gt,vt,At),vt.invert(),this.quaternion.premultiply(vt)),null!=t&&(vt.copy(t.quaternion).invert(),this.quaternion.premultiply(vt))}bind(e){const{options:t,disabled:n}=Te(this.axis,e);if(!1===t)return;this.options=t;const r=new i.V9B(Se),s=be(this.context,r,this.tag,{color:16777215,hoverColor:16776960,opacity:.25,disabled:n}),a=new i.eaF(It(.5,1),r);a.renderOrder=1/0,this.add(a);const o=new i.eaF(new i.Gu$(.25,10,8));o.visible=!1,o.pointerEventsOrder=1/0,this.add(o);const l=n?void 0:this.context.registerHandle(this.store,o,this.tag);return()=>{this.pointerEvents="none",r.dispose(),o.geometry.dispose(),a.geometry.dispose(),l?.(),s?.(),this.remove(o),this.remove(a)}}}const Et=new i.Pq0,St=new i.Pq0,bt=new i.Pq0(1,0,0),xt=new i.PTz;class wt extends Ce{direction=new i.Pq0(1,0,0);constructor(e,t=""){super(e,"e",t,()=>({scale:!1,translate:"as-rotate",rotate:[this.direction],multitouch:!1}))}update(e){e.getWorldPosition(Et),this.getWorldPosition(this.direction).sub(Et).normalize(),this.quaternion.setFromUnitVectors(bt,this.direction);const t=this.context.getTarget();null!=t?.parent&&(t.parent.matrixWorld.decompose(Et,xt,St),xt.invert(),this.quaternion.premultiply(xt),this.direction.applyQuaternion(xt)),null!=t&&(xt.copy(t.quaternion).invert(),this.quaternion.premultiply(xt)),this.direction.negate()}bind(e){const{options:t,disabled:n}=Te(this.axis,e);if(!1===t)return;this.options=t;const r=new i.V9B(Se),s=be(this.context,r,this.tag,{color:16776960,hoverColor:16776960,opacity:.5,disabled:n}),a=new i.eaF(It(.75,1),r);a.renderOrder=1/0,this.add(a);const o=new i.eaF(new i.O3Y(.75,.1,2,24),new i.V9B({color:"white"}));o.visible=!1,o.rotation.y=Math.PI/2,o.pointerEventsOrder=1/0,this.add(o);const l=n?void 0:this.context.registerHandle(this.store,o,this.tag);return()=>{r.dispose(),o.geometry.dispose(),a.geometry.dispose(),l?.(),s?.(),this.remove(o),this.remove(a)}}}function It(e,t){const n=new i.O3Y(e,.0075,3,64,t*Math.PI*2);return n.rotateY(Math.PI/2),n.rotateX(Math.PI/2),n}const Ct=new i.Pq0;class Tt extends i.YJl{context;fixed;size;rotationX;rotationY;rotationZ;free;screen;constructor(e,t,n){super(),this.context=e,this.fixed=t,this.size=n,this.rotationX=new ft(this.context,"x"),this.add(this.rotationX),this.rotationY=new ft(this.context,"y"),this.add(this.rotationY),this.rotationZ=new ft(this.context,"z"),this.add(this.rotationZ),this.free=new yt(this.context),this.add(this.free),this.screen=new wt(this.context),this.add(this.screen)}update(e){this.updateWorldMatrix(!0,!1),this.rotationX.update(e),this.rotationY.update(e),this.rotationZ.update(e),this.free.update(e),this.screen.update(e),this.scale.setScalar(1);const t=this.context.getTarget();null!=t&&(t.getWorldScale(Ct),this.scale.divide(Ct)),this.scale.multiplyScalar(Re(this,e,this.fixed??!0,this.size??1))}bind(e){const t=this.rotationX.bind(16711680,e),n=this.rotationY.bind(65280,e),i=this.rotationZ.bind(255,e),r=this.screen.bind(e),s=this.free.bind(e);return()=>{t?.(),n?.(),i?.(),r?.(),s?.()}}}const Mt=new i.O9p,Bt=new i.O9p(0,0,Math.PI/2),Rt=new i.O9p(0,-Math.PI/2,0);class Pt extends i.YJl{xAxisHighlight;yAxisHighlight;zAxisHighlight;handles;context;constructor(e){super(),this.context=new Ee(this,e),this.xAxisHighlight=new Ie(this.context,Mt),this.add(this.xAxisHighlight),this.yAxisHighlight=new Ie(this.context,Bt),this.add(this.yAxisHighlight),this.zAxisHighlight=new Ie(this.context,Rt),this.add(this.zAxisHighlight)}set space(e){this.context.space=e}get space(){return this.context.space}update(e,t){this.context.update(e),this.xAxisHighlight.update(),this.yAxisHighlight.update(),this.zAxisHighlight.update(),this.handles?.update(t)}bind(e,t){const n=this.xAxisHighlight.bind("x"),i=this.yAxisHighlight.bind("y"),r=this.zAxisHighlight.bind("z");switch(e){case"rotate":this.handles=new Tt(this.context);break;case"scale":this.handles=new ot(this.context);break;case"translate":this.handles=new Ke(this.context)}this.add(this.handles);const s=this.handles.bind(t);return()=>{null!=this.handles&&this.remove(this.handles),this.handles=void 0,s(),n(),i(),r()}}}const _t=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,s={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(i,r,s);return s},Dt=new i.Pq0(0,0,1),Nt=new i.Pq0(0,1,0);function Lt(e,t){t.setState(e)}const Ot=new i.Pq0,kt=new i.Pq0,Ut=new i.O9p,Ft=new i.PTz;function Qt(e,t,n,i){e.copy(Dt).applyEuler(n).applyQuaternion(i).multiplyScalar(t)}function Vt(e,t,n,i,r,s){Ot.set(t,n,i),kt.set(...r),Ot.sub(kt),Ot.applyQuaternion(s);const a=Ot.length();Ot.divideScalar(a),Ft.setFromUnitVectors(Dt,Ot),Ut.setFromQuaternion(Ft,"YXZ"),e.distance=a,e.pitch=Ut.x,e.yaw=Ut.y}const Ht=new i.Pq0,Gt=new i.PTz,zt=new i.PTz;function Wt(e,t,n,r,s,a,o=i.B69.DEFAULT_UP){if(Gt.setFromUnitVectors(Nt,o),Ut.set(e,t,0,"YXZ"),null!=s){Qt(s,n,Ut,Gt);const[e,t,i]=r;s.x+=e,s.y+=t,s.z+=i}null!=a&&a.setFromEuler(Ut).premultiply(Gt)}function Xt({distance:e=5,origin:t=[0,0,0],pitch:n=0,yaw:r=0}={},s=i.B69.DEFAULT_UP){return a=(i,a)=>({distance:e,origin:t,pitch:n,yaw:r,activeHandle:void 0,getCameraTransformation(e,t){const{pitch:n,distance:i,yaw:r,origin:o}=a();Wt(n,r,i,o,e,t,s)},setCameraPosition(e,t,n,r=!1){const o={};if(zt.setFromUnitVectors(s,Nt),Vt(o,e,t,n,a().origin,zt),!0===r){const i=a();Ut.set(i.pitch,i.yaw,0,"YXZ"),Gt.setFromUnitVectors(Nt,s),Qt(Ht,i.distance,Ut,Gt),Ht.x-=e,Ht.y-=t,Ht.z-=n,o.origin=Ht.toArray()}i(o)},setOriginPosition(e,t,n,r=!1){const o=[e,t,n],l={origin:o};if(!1===r){const{pitch:e,distance:t,origin:n,yaw:i}=a();Wt(e,i,t,n,Ht,void 0,s),zt.setFromUnitVectors(s,Nt),Vt(l,Ht.x,Ht.y,Ht.z,o,zt)}i(l)}}),a?_t(a):_t;var a}function jt(e,t){const n=e=>{const n=t();null!=n&&e.getCameraTransformation(n.position,n.quaternion)};return n(e.getState()),e.subscribe(n)}function qt(e,t,n,s=i.B69.DEFAULT_UP){let{distance:a,yaw:o,origin:[l,c,u],pitch:d}=e.getState();return h=>{const p=t();if(null==p||p instanceof i.nZQ)return;let f=n();if(!1===f)return;!0===f&&(f=.01);const{distance:g,yaw:A,origin:[m,v,y],pitch:E}=e.getState();let S;for(a=(0,r.damp)(a,g,f,h);Math.abs(S=A-o)>Math.PI;)o+=(S>0?2:-2)*Math.PI;o=(0,r.damp)(o,A,f,h),d=(0,r.damp)(d,E,f,h),l=(0,r.damp)(l,m,f,h),c=(0,r.damp)(c,v,f,h),u=(0,r.damp)(u,y,f,h),Wt(d,o,a,[l,c,u],p.position,p.quaternion,s)}}var Yt=n(2412);class Jt{apply;getInitial;map=new Map;initial;constructor(e,t){this.apply=e,this.getInitial=t,this.initial=t()}bind(e){const t=this.onPointerDown.bind(this),n=this.onPointerUp.bind(this),i=this.onPointerMove.bind(this),r=(0,Yt.Wt)(e);return r.addEventListener("pointermove",i),r.addEventListener("pointerdown",t),r.addEventListener("pointerup",n),()=>{r.removeEventListener("pointermove",i),r.removeEventListener("pointerdown",t),r.removeEventListener("pointerup",n)}}onPointerDown(e){"screen-ray"==e.intersection.details.type&&(e.target.setPointerCapture(e.pointerId),this.map.set(e.pointerId,{initialScreenPosition:new i.I9Y,currentScreenPosition:e.intersection.details.screenPoint.clone(),initialEvent:e,latestEvent:e}),this.save())}onPointerUp(e){this.map.delete(e.pointerId)&&this.save()}onPointerMove(e){if("screen-ray"!=e.intersection.details.type)return;const t=this.map.get(e.pointerId);null!=t&&(t.latestEvent=e,t.currentScreenPosition.copy(e.intersection.details.screenPoint))}save(){for(const e of this.map.values())e.initialScreenPosition.copy(e.currentScreenPosition);this.initial=this.getInitial()}update(){0!==this.map.size&&this.apply(this.initial,this.map)}}function Zt(e,t,n){e.set(0,0);let i=0;for(const r of t.values())e.add(r[n]),i++;0!==i&&e.divideScalar(i)}const Kt=new i.I9Y,$t=new i.PTz,en=new i.Pq0,tn=new i.Pq0,nn=new i.Pq0;function rn(e,t,n,r,s,a){r.set(0,0,0);const o=t instanceof i.ubm?2*e.distance*Math.tan(t.fov/2*Math.PI/180):(t.top-t.bottom)/t.zoom;Kt.copy(n).multiplyScalar(-.5*s*o),e.getCameraTransformation(void 0,$t);const l=t instanceof i.ubm?t.aspect:(t.right-t.left)/(t.top-t.bottom);"screen"===a?(en.set(1,0,0).applyQuaternion($t).multiplyScalar(Kt.x*l),r.add(en),en.set(0,1,0).applyQuaternion($t).multiplyScalar(Kt.y),r.add(en)):(tn.set(0,0,-1).applyQuaternion($t),nn.set(0,1,0).applyQuaternion($t),en.copy(Math.abs(tn.y)<Math.abs(nn.y)?tn:nn).setComponent(1,0).normalize(),r.addScaledVector(en,Kt.y),en.set(1,0,0).applyQuaternion($t).setComponent(1,0).normalize().multiplyScalar(Kt.x*l),r.add(en))}const sn=new i.I9Y,an=new i.I9Y,on=new i.Pq0;class ln extends Jt{canvas;filter;customApply;speed;space;constructor(e,t,n,i,r,s,a){super((e,i)=>{if(!this.filter(i))return;Zt(sn,i,"currentScreenPosition"),Zt(an,i,"initialScreenPosition"),sn.sub(an),rn(t.getState(),n(),sn,on,this.speed??1,this.space??"screen");const[r,s,a]=e;on.x+=r,on.y+=s,on.z+=a,(this.customApply??Lt)({origin:on.toArray()},t)},()=>t.getState().origin),this.canvas=e,this.filter=i,this.customApply=r,this.speed=s,this.space=a}bind(e){const t=e=>e.preventDefault();this.canvas.addEventListener("contextmenu",t);const n=super.bind(e);return()=>{n(),this.canvas.removeEventListener("contextmenu",t)}}}const cn=new i.Pq0,un=new i.I9Y;class dn extends Jt{store;getCamera;filter;customApply;speed;zoomToPointer;constructor(e,t,n,i,r,s){super(({distance:n,origin:i},r)=>{if(r.size<2||null!=this.filter&&!this.filter(r))return;const[s,a]=r.values(),o=s.initialScreenPosition.distanceTo(a.initialScreenPosition),l=s.currentScreenPosition.distanceTo(a.currentScreenPosition)/o,c={distance:n/l};this.zoomToPointer&&(un.copy(s.currentScreenPosition).add(a.currentScreenPosition).multiplyScalar(.5),c.origin=pn(un,e.getState(),i,t(),l)),(this.customApply??Lt)(c,e)},()=>({distance:e.getState().distance,origin:e.getState().origin})),this.store=e,this.getCamera=t,this.filter=n,this.customApply=i,this.speed=r,this.zoomToPointer=s}onWheel(e){const t=Math.pow(.95,(this.speed??1)*e.deltaY*.01),n={distance:this.store.getState().distance/t};if("screen-ray"===e.intersection.details.type&&this.zoomToPointer){const i=this.store.getState();n.origin=pn(e.intersection.details.screenPoint,i,i.origin,this.getCamera(),t)}(this.customApply??Lt)(n,this.store)}bind(e){const t=(0,Yt.Wt)(e),n=this.onWheel.bind(this);t.addEventListener("wheel",n);const i=super.bind(e);return()=>{i(),t.removeEventListener("wheel",n)}}}const hn=new i.I9Y;function pn(e,t,n,i,r){hn.copy(e).multiplyScalar(-(r-1)/r),rn(t,i,hn,cn,1,"screen");const[s,a,o]=n;return cn.x+=s,cn.y+=a,cn.z+=o,cn.toArray()}const fn=new i.I9Y,gn=new i.I9Y;class An extends Jt{filter;customApply;speed;constructor(e,t,n,r,s){super(([n,r],s)=>{if(!this.filter(s))return;Zt(fn,s,"currentScreenPosition"),Zt(gn,s,"initialScreenPosition"),fn.sub(gn).multiplyScalar(-Math.PI*(this.speed??1));const a=t(),o=a instanceof i.ubm?a.aspect:(a.right-a.left)/(a.top-a.bottom);(this.customApply??Lt)({pitch:n-fn.y,yaw:r+fn.x*o},e)},()=>[e.getState().pitch,e.getState().yaw]),this.filter=n,this.customApply=r,this.speed=s}}function mn(e,t){null!=e.pitch&&(e.pitch=(0,r.clamp)(e.pitch,-Math.PI/2,Math.PI/2)),t.setState(e)}const vn=new i.Pq0;class yn{rotate;pan;zoom;store;getCamera;updateDamping;damping=!1;constructor(e,t,n){if(null==n){n=Xt();const e="function"==typeof t?t():t;n.getState().setCameraPosition(...e.getWorldPosition(vn).toArray())}this.store=n,this.getCamera="function"==typeof t?t:()=>t,this.updateDamping=qt(n,this.getCamera,()=>this.damping),this.rotate=new An(n,this.getCamera,wn,mn),this.pan=new ln(e,n,this.getCamera,xn,mn),this.zoom=new dn(n,this.getCamera,void 0,mn)}getStore(){return this.store}update(e){this.rotate.update(),this.pan.update(),this.zoom.update(),this.updateDamping(e)}bind(e,t=!1){const n=this.rotate.bind(e),i=this.pan.bind(e),r=this.zoom.bind(e);let s;return!1===t&&(s=jt(this.store,this.getCamera)),this.damping=t,()=>{n(),i(),r(),s?.()}}}const En=new i.Pq0;function Sn(e,t){null!=e.pitch&&(e.pitch=(0,r.clamp)(e.pitch,-Math.PI/2,0)),t.setState(e)}class bn{rotate;pan;zoom;store;getCamera;updateDamping;damping=!1;constructor(e,t,n){if(null==n){n=Xt();const e="function"==typeof t?t():t;n.getState().setCameraPosition(...e.getWorldPosition(En).toArray())}this.store=n,this.getCamera="function"==typeof t?t:()=>t,this.updateDamping=qt(n,this.getCamera,()=>this.damping),this.rotate=new An(n,this.getCamera,xn,Sn),this.pan=new ln(e,n,this.getCamera,wn,Sn,1,"xz"),this.zoom=new dn(n,this.getCamera,void 0,Sn)}getStore(){return this.store}update(e){this.rotate.update(),this.pan.update(),this.zoom.update(),this.updateDamping(e)}bind(e,t=!1){const n=this.rotate.bind(e),i=this.pan.bind(e),r=this.zoom.bind(e);let s;return!1===t&&(s=jt(this.store,this.getCamera)),this.damping=t,()=>{n(),i(),r(),s?.()}}}function xn(e){if(1!=e.size)return 2===e.size;const[t]=e.values();return 2===t.initialEvent.button}function wn(e){if(1!=e.size)return!1;const[t]=e.values();return 0===t.initialEvent.button}},2412(e,t,n){"use strict";n.d(t,{XO:()=>Me,gm:()=>T,Ox:()=>a,qc:()=>Ae,t2:()=>ve,Ke:()=>me,bd:()=>ye,ar:()=>xe,GS:()=>Ie,Wt:()=>f});var i=n(4922);class r{nativeEvent;NONE=0;CAPTURING_PHASE=1;AT_TARGET=2;BUBBLING_PHASE=3;relatedTarget=null;get altKey(){return this.getFromNative("altKey",!1)}get button(){return this.getFromNative("button",0)}get buttons(){return this.getFromNative("buttons",0)}get clientX(){return this.getFromNative("clientX",0)}get clientY(){return this.getFromNative("clientY",0)}get ctrlKey(){return this.getFromNative("ctrlKey",!1)}get layerX(){return this.getFromNative("layerX",0)}get layerY(){return this.getFromNative("layerY",0)}get metaKey(){return this.getFromNative("metaKey",!1)}get movementX(){return this.getFromNative("movementX",0)}get movementY(){return this.getFromNative("movementY",0)}get offsetX(){return this.getFromNative("offsetX",0)}get offsetY(){return this.getFromNative("offsetY",0)}get pageX(){return this.getFromNative("pageX",0)}get pageY(){return this.getFromNative("pageY",0)}get screenX(){return this.getFromNative("screenX",0)}get screenY(){return this.getFromNative("screenY",0)}get shiftKey(){return this.getFromNative("shiftKey",!1)}get x(){return this.getFromNative("x",0)}get y(){return this.getFromNative("y",0)}get detail(){return this.getFromNative("detail",0)}get view(){return this.getFromNative("view",null)}get which(){return this.getFromNative("which",0)}get cancelBubble(){return this.getFromNative("cancelBubble",!1)}get composed(){return this.getFromNative("composed",!1)}get eventPhase(){return this.getFromNative("eventPhase",0)}get isTrusted(){return this.getFromNative("isTrusted",!1)}get returnValue(){return this.getFromNative("returnValue",!1)}get timeStamp(){return this.getFromNative("timeStamp",0)}get cancelable(){return this.getFromNative("cancelable",!1)}get defaultPrevented(){return this.getFromNative("defaultPrevented",!1)}constructor(e){this.nativeEvent=e}getFromNative(e,t){return e in this.nativeEvent?this.nativeEvent[e]:t}}const s=new i.Pq0;class a extends r{type;bubbles;internalPointer;intersection;camera;currentObject;object;propagationState;get pointerId(){return this.internalPointer.id}get pointerType(){return this.internalPointer.type}get pointerState(){return this.internalPointer.state}get distance(){return this.intersection.distance}get distanceToRay(){return this.intersection.distanceToRay}get point(){return this.intersection.point}get index(){return this.intersection.index}get face(){return this.intersection.face}get faceIndex(){return this.intersection.faceIndex}get uv(){return this.intersection.uv}get uv1(){return this.intersection.uv1}get normal(){return this.intersection.normal}get instanceId(){return this.intersection.instanceId}get pointOnLine(){return this.intersection.pointOnLine}get batchId(){return this.intersection.batchId}get pointerPosition(){return this.intersection.pointerPosition}get pointerQuaternion(){return this.intersection.pointerQuaternion}get pointOnFace(){return this.intersection.pointOnFace}get localPoint(){return this.intersection.localPoint}get details(){return this.intersection.details}get target(){return this.object}get currentTarget(){return this.currentObject}get eventObject(){return this.currentObject}get srcElement(){return this.currentObject}_pointer;get pointer(){return null==this._pointer&&(s.copy(this.intersection.point).project(this.camera),this._pointer=new i.I9Y(s.x,s.y)),this._pointer}_ray;get ray(){if(null!=this._ray)return this._ray;switch(this.intersection.details.type){case"screen-ray":case"ray":case"sphere":return this._ray=new i.RlV(this.intersection.pointerPosition,new i.Pq0(0,0,-1).applyQuaternion(this.intersection.pointerQuaternion));case"lines":return this._ray=new i.RlV(this.intersection.details.line.start,this.intersection.details.line.end.clone().sub(this.intersection.details.line.start).normalize())}}_intersections=[];get intersections(){return null==this._intersections&&(this._intersections=[{...this.intersection,eventObject:this.currentObject}]),this._intersections}_unprojectedPoint;get unprojectedPoint(){if(null==this._unprojectedPoint){const e=this.pointer;this._unprojectedPoint=new i.Pq0(e.x,e.y,0).unproject(this.camera)}return this._unprojectedPoint}get stopped(){return this.propagationState.stoppedImmediate||this.propagationState.stopped}get stoppedImmediate(){return this.propagationState.stoppedImmediate}get delta(){throw new Error("not supported")}constructor(e,t,n,i,r,s,a=r.object,o=a,l={stopped:!t,stoppedImmediate:!1}){super(n),this.type=e,this.bubbles=t,this.internalPointer=i,this.intersection=r,this.camera=s,this.currentObject=a,this.object=o,this.propagationState=l}stopPropagation(){this.propagationState.stopped=!0}stopImmediatePropagation(){this.propagationState.stoppedImmediate=!0}retarget(e){return new a(this.type,this.bubbles,this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target,this.propagationState)}}class o extends a{get deltaX(){return this.nativeEvent.deltaX}get deltaY(){return this.nativeEvent.deltaY}get deltaZ(){return this.nativeEvent.deltaZ}constructor(e,t,n,i,r,s){super("wheel",!0,e,t,n,i,r,s)}retarget(e){return new o(this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target)}}function l(e){c(e,e.currentObject)}function c(e,t){if(null==t)return;const n=function(e,t){if(null!=e._listeners&&t in e._listeners)return e._listeners[t];let n;return e.isVoidObject&&"click"===t&&null!=e.parent?.__r3f&&(n=e.parent.__r3f.root.getState().onPointerMissed),null!=e.__r3f&&(n=e.__r3f.handlers[u[t]]),null!=n?[n]:void 0}(t,e.type);if(null!=n&&n.length>0){const i=e.retarget(t),r=n.length;for(let e=0;e<r&&!i.stoppedImmediate;e++)n[e](i)}e.stopped||c(e,t.parent)}const u={click:"onClick",contextmenu:"onContextMenu",dblclick:"onDoubleClick",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",pointerup:"onPointerUp",wheel:"onWheel"},d=Object.keys(u),h=new i.Gu$(1e10),p=new Map;function f(e){let t=p.get(e);return null==t&&(t=new i.eaF(h),t.isVoidObject=!0,t.parent=e,t.pointerEventsOrder=-1/0,p.set(e,t)),t}function g(e,t,n){const i=t.normal??t.face?.normal;return null!=i&&(e.setFromNormalAndCoplanarPoint(i,t.localPoint),e.applyMatrix4(n),!0)}function A(e,t){return t?!e:e}function m(e,t,n,i=!1,r,s,a){const o=i||function(e,t){if(t.ancestorsHaveListeners)return!0;if("pointer"===e&&t.ancestorsHavePointerListeners)return!0;if("wheel"===e&&t.ancestorsHaveWheelListeners)return!0;if(null!=t.__r3f&&t.__r3f?.eventCount>0){if("wheel"===e&&null!=t.__r3f.handlers.onWheel)return!0;if("pointer"===e&&Object.keys(t.__r3f.handlers).some(e=>"onWheel"!=e))return!0}if(null==t._listeners)return!1;if("wheel"===e){const e=t._listeners.wheel;return null!=e&&e.length>0}const n=Object.entries(t._listeners),i=n.length;for(let e=0;e<i;e++){const t=n[e];if("wheel"!==t[0]&&d.includes(t[0])&&null!=t[1]&&t[1].length>0)return!0}return!1}(e,t),l=t.pointerEvents??r,c=l??t.defaultPointerEvents??"listener",u=t.pointerEventsType??s??"all",h=t.pointerEventsOrder??a??0,p=function(e,t,n){if("none"===t)return!1;if("listener"===t&&!e)return!1;if("all"===n)return!0;if("function"==typeof n)return({id:e,type:t,state:i})=>n(e,t,i);let i,r;return"deny"in n?(r=!0,i=n.deny):(r=!1,i=n.allow),Array.isArray(i)?e=>A(i.includes(e.type),r):e=>A(i===e.type,r)}(o,c,u),f=n.length;if(1===f)(!0===p||"function"==typeof p&&p(n[0]))&&v(n[0],t,c,u,h);else if(!0===p)for(let e=0;e<f;e++)v(n[e],t,c,u,h);else if("function"==typeof p)for(let e=0;e<f;e++){const i=n[e];p(i)&&v(i,t,c,u,h)}if(0===t.children.length||!1===t.intersectChildren)return;const g=t.interactableDescendants??t.children,y=g.length;for(let t=0;t<y;t++)m(e,g[t],n,o,l,u,h)}function v({intersector:e,options:t},n,i,r,s){!1!==t.filter?.(n,i,r,s)&&e.executeIntersection(n,s)}function y(e,t,{customSort:n=E}={},i){let r,s,a;const o=e.length;for(let l=0;l<o;l++){const o=e[l];if(!1===i?.(o))continue;const c=t?.[l];(null==r||n(o,c,r,s)<0)&&(a=l,r=o,s=c)}return a}function E(e,t=0,n,i=0){return t!=i?i-t:e.distance-n.distance}const S=1e7;function b(e,t,n,i,r,s=0){const a=t.direction.clone().multiplyScalar(S),o=S;return{distance:o+s,object:f(e),point:a,normal:t.origin.clone().sub(a).normalize(),details:n(a,o),pointerPosition:i,pointerQuaternion:r,pointOnFace:a,localPoint:a}}function x(e,t,n){for(;n>0;)e.push(t),--n}const w=Symbol("buttonsDownTime"),I=Symbol("buttonsClickTime");function C(e){return globalThis.pointerEventspointerMap?.get(e)}globalThis.pointerEventspointerMap??=new Map,i.B69.prototype.setPointerCapture=function(e){C(e)?.setCapture(this)},i.B69.prototype.releasePointerCapture=function(e){const t=C(e);null!=t&&t.hasCaptured(this)&&t.setCapture(void 0)},i.B69.prototype.hasPointerCapture=function(e){return C(e)?.hasCaptured(this)??!1};class T{id;type;state;intersector;getCamera;onMoveCommited;parentSetPointerCapture;parentReleasePointerCapture;options;prevIntersection;intersection;prevEnabled=!0;enabled=!0;wheelIntersection;pointerEntered=[];pointerEnteredHelper=[];pointerCapture;buttonsDownTime=new Map;buttonsDown=new Set;wasMoved=!1;onFirstMove=[];constructor(e,t,n,i,r,s,a,o,l={}){this.id=e,this.type=t,this.state=n,this.intersector=i,this.getCamera=r,this.onMoveCommited=s,this.parentSetPointerCapture=a,this.parentReleasePointerCapture=o,this.options=l,globalThis.pointerEventspointerMap?.set(e,this)}getPointerCapture(){return this.pointerCapture}hasCaptured(e){return this.pointerCapture?.object===e}setCapture(e){this.pointerCapture?.object!==e&&(null!=this.pointerCapture&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),null!=e&&null!=this.intersection&&(this.pointerCapture={object:e,intersection:this.intersection},this.parentSetPointerCapture?.()))}getButtonsDown(){return this.buttonsDown}getIntersection(){return this.intersection}getEnabled(){return this.enabled}setEnabled(e,t,n=!0){this.enabled!==e&&(e||null==this.pointerCapture||(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),this.enabled=e,n&&this.commit(t,!1))}computeIntersection(e,t,n){return null!=this.pointerCapture?this.intersector.intersectPointerCapture(this.pointerCapture,n):(this.intersector.startIntersection(n),m(e,t,[this]),this.intersector.finalizeIntersection(t))}setIntersection(e){this.intersection=e}commit(e,t){const n=this.getCamera(),i=this.prevEnabled?this.prevIntersection:void 0,r=this.enabled?this.intersection:void 0;null!=i&&i.object!=r?.object&&l(new a("pointerout",!0,e,this,i,n));const s=this.pointerEntered;this.pointerEntered=[],this.pointerEnteredHelper.length=0,M(r?.object,this.pointerEntered,s,this.pointerEnteredHelper);const o=s.length;for(let t=0;t<o;t++){const r=s[t];l(new a("pointerleave",!1,e,this,i,n,r))}null!=r&&i?.object!=r.object&&l(new a("pointerover",!0,e,this,r,n));for(let t=this.pointerEnteredHelper.length-1;t>=0;t--){const i=this.pointerEnteredHelper[t];l(new a("pointerenter",!1,e,this,r,n,i))}if(t&&null!=r&&l(new a("pointermove",!0,e,this,r,n)),this.prevIntersection=this.intersection,this.prevEnabled=this.enabled,!this.wasMoved&&this.intersector.isReady()){this.wasMoved=!0;const e=this.onFirstMove.length;for(let t=0;t<e;t++)this.onFirstMove[t](n);this.onFirstMove.length=0}this.onMoveCommited?.(this)}move(e,t){this.intersection=this.computeIntersection("pointer",e,t),this.commit(t,!0)}over(e,t){this.wasMoved||(this.intersection=this.computeIntersection("pointer",e,t),this.commit(t,!1))}emitMove(e){null!=this.intersection&&l(new a("pointermove",!0,e,this,this.intersection,this.getCamera()))}down(e){if(this.buttonsDown.add(e.button),!this.enabled)return;if(!this.wasMoved)return void this.onFirstMove.push(this.down.bind(this,e));if(null==this.intersection)return;l(new a("pointerdown",!0,e,this,this.intersection,this.getCamera()));const{object:t}=this.intersection;t[w]??=new Map,t[w].set(e.button,e.timeStamp),this.buttonsDownTime.set(e.button,e.timeStamp)}up(e){if(this.buttonsDown.delete(e.button),!this.enabled)return;if(!this.wasMoved)return void this.onFirstMove.push(this.up.bind(this,e));if(null==this.intersection)return;const{clickThesholdMs:t,contextMenuButton:n=2,dblClickThresholdMs:i=500,clickThresholdMs:r=t??300}=this.options;this.pointerCapture=void 0;const s=function(e,t,n,i,r){if(null==t)return!1;const s=t.get(n);return null!=s&&(!(i-s>r)&&s==e.get(n))}(this.buttonsDownTime,this.intersection.object[w],e.button,e.timeStamp,r),o=this.getCamera();if(s&&e.button===n&&l(new a("contextmenu",!0,e,this,this.intersection,o)),l(new a("pointerup",!0,e,this,this.intersection,o)),!s||e.button===n)return;l(new a("click",!0,e,this,this.intersection,o));const{object:c}=this.intersection,u=c[I]??=new Map,d=u.get(e.button);null==d||e.timeStamp-d>i?u.set(e.button,e.timeStamp):(l(new a("dblclick",!0,e,this,this.intersection,o)),u.delete(e.button))}cancel(e){this.enabled&&(this.wasMoved?null!=this.intersection&&l(new a("pointercancel",!0,e,this,this.intersection,this.getCamera())):this.onFirstMove.push(this.cancel.bind(this,e)))}wheel(e,t,n=!1){if(!this.enabled)return;if(!this.wasMoved&&n)return void this.onFirstMove.push(this.wheel.bind(this,e,t,n));n||(this.wheelIntersection=this.computeIntersection("wheel",e,t));const i=n?this.intersection:this.wheelIntersection;null!=i&&l(new o(t,this,i,this.getCamera()))}emitWheel(e,t=!1){if(!this.enabled)return;if(!this.wasMoved&&t)return void this.onFirstMove.push(this.emitWheel.bind(this,e,t));const n=t?this.intersection:this.wheelIntersection;null!=n&&l(new o(e,this,n,this.getCamera()))}exit(e){this.wasMoved&&(null!=this.pointerCapture&&(this.parentReleasePointerCapture?.(),this.pointerCapture=void 0),this.intersection=void 0,this.commit(e,!1)),this.onFirstMove.length=0,this.wasMoved=!1}}function M(e,t,n,i){if(null==e)return;const r=n.indexOf(e);-1!=r?n.splice(r,1):i.push(e),t.push(e),M(e.parent,t,n,i)}function B(e){return!1!==e.transformReady&&(null==e.parent?(e.matrixWorld.copy(e.matrix),!0):!!B(e.parent)&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorld,e.matrix),!0))}const R=new i.lMl,P=new i.lMl,_=new i.I9Y,D=new i.I9Y,N=new i.I9Y,L=new i.Pq0,O=new i.kn4,k=new i.Pq0;function U(e,t,n){k.copy(t).applyMatrix4(O.copy(n.matrixWorld).invert());const r=n.geometry.attributes.uv;if(null==r||!(r instanceof i.THS))return!1;let s;return function(e,t){const n=e.geometry.drawRange;if(null!=e.geometry.index){const i=e.geometry.index,r=Math.max(0,n.start),s=Math.min(i.count,n.start+n.count);for(let e=r;e<s;e+=3)t(i.getX(e),i.getX(e+1),i.getX(e+2));return}const i=e.geometry.attributes.position;if(null==i)return;const r=Math.max(0,n.start),s=Math.min(i.count,n.start+n.count);for(let e=r;e<s;e+=3)t(e,e+1,e+2)}(n,(e,t,i)=>{n.getVertexPosition(e,R.a),n.getVertexPosition(t,R.b),n.getVertexPosition(i,R.c);const a=R.closestPointToPoint(k,L).distanceTo(k);null!=s&&a>=s||(s=a,P.copy(R),_.fromBufferAttribute(r,e),D.fromBufferAttribute(r,t),N.fromBufferAttribute(r,i))}),null!=s&&(P.closestPointToPoint(k,L),P.getInterpolation(L,_,D,N,e),!0)}const F=new i.kn4,Q=new i.cZY,V=new i.Pq0,H=new i.Zcv,G=new i.RlV,z=new i.I9Y,W=[new i.Pq0(0,0,0),new i.Pq0(0,0,1)];class X{space;options;raycasters=[];fromMatrixWorld=new i.kn4;ready;intersects=[];pointerEventsOrders=[];raycasterIndices=[];constructor(e,t){this.space=e,this.options=t}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return null==e?this.ready=!1:(this.ready=B(e),!!this.ready&&(this.fromMatrixWorld.copy(e.matrixWorld),!0))}intersectPointerCapture({intersection:e,object:t}){const n=e.details;if("lines"!=n.type)throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a lines intersector`);if(!this.prepareTransformation())return e;const r=this.options.linePoints??W;Q.set(r[n.lineIndex],r[n.lineIndex+1]).applyMatrix4(this.fromMatrixWorld);const s=Q.at(n.distanceOnLine/Q.distance(),new i.Pq0);e.object.updateWorldMatrix(!0,!1),g(H,e,e.object.matrixWorld);const a=G.intersectPlane(H,new i.Pq0)??s,o=new i.Pq0,l=new i.PTz;this.fromMatrixWorld.decompose(o,l,V);let c=e.uv;return e.object instanceof i.eaF&&U(z,s,e.object)&&(c=z.clone()),{...e,object:t,uv:c,pointOnFace:a,point:s,pointerPosition:o,pointerQuaternion:l}}startIntersection(){if(!this.prepareTransformation())return;const e=this.options.linePoints??W,t=e.length-1;for(let n=0;n<t;n++){const t=e[n],r=e[n+1],s=this.raycasters[n]??(this.raycasters[n]=new i.tBo);s.ray.origin.copy(t).applyMatrix4(this.fromMatrixWorld),s.ray.direction.copy(r).applyMatrix4(this.fromMatrixWorld),s.ray.direction.sub(s.ray.origin);const a=s.ray.direction.length();s.ray.direction.divideScalar(a),s.far=a}this.raycasters.length=t}executeIntersection(e,t){if(!this.isReady())return;const n=this.intersects.length,i=this.raycasters.length;for(let t=0;t<i;t++){const n=this.raycasters[t],i=this.intersects.length;e.raycast(n,this.intersects),x(this.raycasterIndices,t,this.intersects.length-i)}x(this.pointerEventsOrders,t,this.intersects.length-n)}finalizeIntersection(e){const t=(new i.Pq0).setFromMatrixPosition(this.fromMatrixWorld),n=(new i.PTz).setFromRotationMatrix(this.fromMatrixWorld),r=y(this.intersects,this.pointerEventsOrders,this.options),s=null==r?void 0:this.intersects[r],a=null==r?void 0:this.raycasterIndices[r];if(this.intersects.length=0,this.raycasterIndices.length=0,this.pointerEventsOrders.length=0,null==s||null==a){const r=this.raycasters.length-1,s=this.raycasters.reduce((e,t,n)=>n===r?e:e+t.far,0),a=this.raycasters[r];return b(e,a.ray,(e,t)=>({line:new i.cZY(a.ray.origin.clone(),e),lineIndex:this.raycasters.length-1,distanceOnLine:t,type:"lines"}),t,n,s)}let o=s.distance;for(let e=0;e<a;e++)o+=this.raycasters[e].far;s.object.updateWorldMatrix(!0,!1);const l=this.raycasters[a];return Object.assign(s,{details:{lineIndex:a,distanceOnLine:s.distance,type:"lines",line:new i.cZY(l.ray.origin.clone(),l.ray.direction.clone().multiplyScalar(l.far).add(l.ray.origin))},distance:o,pointerPosition:t,pointerQuaternion:n,pointOnFace:s.point,localPoint:s.point.clone().applyMatrix4(F.copy(s.object.matrixWorld).invert())})}}const j=new i.kn4,q=new i.Pq0,Y=new i.Pq0(0,0,-1),J=new i.Zcv,Z=new i.I9Y;class K{space;options;raycaster=new i.tBo;raycasterQuaternion=new i.PTz;worldScale=0;ready;intersects=[];pointerEventsOrders=[];constructor(e,t){this.space=e,this.options=t}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return null==e?this.ready=!1:(this.ready=B(e),!!this.ready&&(e.matrixWorld.decompose(this.raycaster.ray.origin,this.raycasterQuaternion,q),this.worldScale=q.x,this.raycaster.ray.direction.copy(this.options?.direction??Y).applyQuaternion(this.raycasterQuaternion),!0))}intersectPointerCapture({intersection:e,object:t}){if("ray"!=e.details.type)throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a ray intersector`);if(!this.prepareTransformation())return e;e.object.updateWorldMatrix(!0,!1),g(J,e,e.object.matrixWorld);const{ray:n}=this.raycaster,r=n.intersectPlane(J,new i.Pq0)??e.point,s=n.direction.clone().multiplyScalar(e.pointerPosition.distanceTo(e.point)).add(n.origin);let a=e.uv;return e.object instanceof i.eaF&&U(Z,s,e.object)&&(a=Z.clone()),{...e,uv:a,object:t,pointOnFace:r,point:s,pointerPosition:n.origin.clone(),pointerQuaternion:this.raycasterQuaternion.clone()}}startIntersection(){this.prepareTransformation()}executeIntersection(e,t){if(!this.isReady())return;const n=this.intersects.length;e.raycast(this.raycaster,this.intersects),x(this.pointerEventsOrders,t,this.intersects.length-n)}finalizeIntersection(e){const t=this.raycaster.ray.origin.clone(),n=this.raycasterQuaternion.clone();let i;if(null!=this.options.minDistance){const e=this.options.minDistance/this.worldScale;i=t=>t.distance>=e}const r=y(this.intersects,this.pointerEventsOrders,this.options,i),s=null==r?void 0:this.intersects[r];return this.intersects.length=0,this.pointerEventsOrders.length=0,null==s?b(e,this.raycaster.ray,()=>({type:"ray"}),t,n):(s.object.updateWorldMatrix(!0,!1),Object.assign(s,{details:{type:"ray"},pointerPosition:t,pointerQuaternion:n,pointOnFace:s.point,localPoint:s.point.clone().applyMatrix4(j.copy(s.object.matrixWorld).invert())}))}}const $=new i.Pq0;class ee{prepareTransformation;options;raycaster=new i.tBo;cameraQuaternion=new i.PTz;fromPosition=new i.Pq0;fromQuaternion=new i.PTz;coords=new i.I9Y;viewPlane=new i.Zcv;intersects=[];pointerEventsOrders=[];constructor(e,t){this.prepareTransformation=e,this.options=t}isReady(){return!0}intersectPointerCapture({intersection:e,object:t},n){const r=e.details;if("screen-ray"!=r.type)throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a camera ray intersector`);if(!this.startIntersection(n))return e;this.viewPlane.constant-=r.distanceViewPlane;const s=this.raycaster.ray.intersectPlane(this.viewPlane,new i.Pq0);if(null==s)return e;e.object.updateWorldMatrix(!0,!1),g(this.viewPlane,e,e.object.matrixWorld);let a=e.uv;return e.object instanceof i.eaF&&U(Z,s,e.object)&&(a=Z.clone()),{...e,details:{...r,direction:this.raycaster.ray.direction.clone(),screenPoint:this.coords.clone()},uv:a,object:t,point:s,pointOnFace:s,pointerPosition:this.raycaster.ray.origin.clone(),pointerQuaternion:this.cameraQuaternion.clone()}}startIntersection(e){const t=this.prepareTransformation(e,this.coords);return null!=t&&(t.updateWorldMatrix(!0,!1),t.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,q),this.raycaster.setFromCamera(this.coords,t),this.viewPlane.setFromNormalAndCoplanarPoint(t.getWorldDirection($),this.raycaster.ray.origin),!0)}executeIntersection(e,t){const n=this.intersects.length;e.raycast(this.raycaster,this.intersects),x(this.pointerEventsOrders,t,this.intersects.length-n)}finalizeIntersection(e){const t=this.fromPosition.clone(),n=this.cameraQuaternion.clone(),i=this.raycaster.ray.direction.clone(),r=y(this.intersects,this.pointerEventsOrders,this.options),s=null==r?void 0:this.intersects[r];return this.intersects.length=0,this.pointerEventsOrders.length=0,null==s?b(e,this.raycaster.ray,(e,t)=>({type:"screen-ray",distanceViewPlane:t,screenPoint:this.coords.clone(),direction:i}),t,n):(s.object.updateWorldMatrix(!0,!1),j.copy(s.object.matrixWorld).invert(),Object.assign(s,{details:{type:"screen-ray",distanceViewPlane:this.viewPlane.distanceToPoint(s.point),screenPoint:this.coords.clone(),direction:i},pointOnFace:s.point,pointerPosition:t,pointerQuaternion:n,localPoint:s.point.clone().applyMatrix4(j)}))}}const te=new i.Pq0,ne=new i.I9Y;class ie{space;getSphereRadius;options;fromPosition=new i.Pq0;fromQuaternion=new i.PTz;collisionSphere=new i.iyt;ready;intersects=[];constructor(e,t,n){this.space=e,this.getSphereRadius=t,this.options=n}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return null==e?this.ready=!1:(this.ready=B(e),!!this.ready&&(e.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,te),!0))}intersectPointerCapture({intersection:e,object:t}){if("sphere"!=e.details.type)throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a sphere intersector`);if(!this.prepareTransformation())return e;se.copy(e.point).sub(e.pointerPosition),ae.copy(e.pointerQuaternion).invert().multiply(this.fromQuaternion);const n=se.clone().applyQuaternion(ae).add(this.fromPosition);e.object.updateWorldMatrix(!0,!1),g(oe,e,e.object.matrixWorld);const r=oe.projectPoint(this.fromPosition,new i.Pq0);let s=e.uv;return e.object instanceof i.eaF&&U(ne,n,e.object)&&(s=ne.clone()),{details:{type:"sphere"},uv:s,distance:n.distanceTo(r),pointerPosition:this.fromPosition.clone(),pointerQuaternion:this.fromQuaternion.clone(),object:t,point:n,pointOnFace:r,face:e.face,localPoint:e.localPoint}}startIntersection(){this.prepareTransformation()&&(this.collisionSphere.center.copy(this.fromPosition),this.collisionSphere.radius=this.getSphereRadius())}executeIntersection(e){this.isReady()&&function(e,t,n){if(t.updateWorldMatrix(!0,!1),null!=t.spherecast)return void t.spherecast(e,n);if(t instanceof i.ZLX){null==t.geometry.boundingSphere&&t.geometry.computeBoundingSphere(),null==t.geometry.boundingBox&&t.geometry.computeBoundingBox();for(let i=0;i<t.count;i++){if(t.getMatrixAt(i,re),re.premultiply(t.matrixWorld),!ce(e,t,re))continue;const r=ge(e,t,re,i);null!=r&&n.push(r)}}if(!(t instanceof i.eaF))return;if(!ce(e,t,t.matrixWorld))return;fe.copy(t.matrixWorld).invert();const r=ge(e,t,t.matrixWorld);null!=r&&n.push(r)}(this.collisionSphere,e,this.intersects)}finalizeIntersection(e){const t=this.fromPosition.clone(),n=this.fromQuaternion.clone(),i=y(this.intersects,void 0,this.options),r=null==i?void 0:this.intersects[i];return this.intersects.length=0,null==r?{details:{type:"sphere"},distance:0,point:t,object:f(e),pointerPosition:t,pointerQuaternion:n,pointOnFace:t,localPoint:t}:(r.object.updateWorldMatrix(!0,!1),Object.assign(r,{details:{type:"sphere"},pointOnFace:r.point,pointerPosition:this.fromPosition.clone(),pointerQuaternion:this.fromQuaternion.clone(),localPoint:r.point.clone().applyMatrix4(fe.copy(r.object.matrixWorld).invert())}))}}const re=new i.kn4,se=new i.Pq0,ae=new i.PTz,oe=new i.Zcv,le=new i.iyt;function ce(e,{geometry:t},n){return null==t.boundingSphere&&t.computeBoundingSphere(),le.copy(t.boundingSphere).applyMatrix4(n),le.center.distanceToSquared(e.center)<(e.radius+le.radius)**2}const ue=new i.Pq0,de=new i.Pq0,he=new i.Pq0,pe=new i.Pq0(1e-4,1e-4,1e-4),fe=new i.kn4;function ge(e,t,n,i){fe.copy(n).invert(),le.copy(e).applyMatrix4(fe);const{geometry:r}=t;null==r.boundingBox&&r.computeBoundingBox(),r.boundingBox.getSize(de),r.boundingBox.getCenter(he),r.boundingBox.clampPoint(le.center,ue),ue.applyMatrix4(n);const s=ue.distanceToSquared(e.center);if(s>e.radius*e.radius)return;de.max(pe);const a=le.center.clone().sub(he);a.divide(de),function(e){const t=Math.abs(e.x),n=Math.abs(e.y),i=Math.abs(e.z);t>=n&&t>=i?e.set(e.x<0?-1:1,0,0):n>=t&&n>=i?e.set(0,e.y<0?-1:1,0):e.set(0,0,e.z<0?-1:1)}(a);const o=ue.clone();let l;return U(ne,o,t)&&(l=ne.clone()),{distance:Math.sqrt(s),face:{a:0,b:0,c:0,materialIndex:0,normal:a},uv:l,normal:a,point:o,instanceId:i,object:t}}function Ae(e,t,n,i={},r="grab"){return new T(Se(),r,n,new ie(t,()=>i.radius??.07,i),e,void 0,void 0,void 0,i)}function me(e,t,n,i={},r="ray"){return new T(Se(),r,n,new K(t,i),e,void 0,void 0,void 0,i)}function ve(e,t,n,i={},r="lines"){return new T(Se(),r,n,new X(t,i),e,void 0,void 0,void 0,i)}function ye(e,t,n,i={},r="touch"){return new T(Se(),r,n,new ie(t,()=>i.hoverRadius??.1,i),e,function(e){let t=!1;return n=>{if(!n.getEnabled())return;const i=(r=n.getIntersection(),s=e.downRadius??.03,null!=r&&r.distance<=s);var r,s;if(i===t)return;const a={timeStamp:performance.now(),button:e.button??0};i?n.down(a):n.up(a),t=i}}(i),void 0,void 0,i)}let Ee=23412;function Se(){return Ee++}function be(e,t,n){if(!(t instanceof globalThis.MouseEvent))return n.set(0,0);const{width:i,height:r,top:s,left:a}=e.getBoundingClientRect(),o=t.clientX-a,l=t.clientY-s;return n.set(o/i*2-1,-l/r*2+1)}function xe(e,t,n,i){return Ce(e,"function"==typeof t?t:()=>t,n,be.bind(null,e),e.setPointerCapture.bind(e),t=>{e.hasPointerCapture(t)&&e.releasePointerCapture(t)},{pointerTypePrefix:"screen-",...i})}function we(e,t){return e instanceof a?null==e.uv?t.set(0,0):t.copy(e.uv).multiplyScalar(2).addScalar(-1):t.set(0,0)}function Ie(e,t,n,i){return Ce(e,t,n,we,e.setPointerCapture.bind(e),e.releasePointerCapture.bind(e),i)}function Ce(e,t,n,i,r,s,a={}){const o=a?.forwardPointerCapture??!0,l=new Map,c=a.pointerTypePrefix??"forward-",u=(e,u)=>{let d=l.get(e.pointerId);return null!=d||(d=new T(Se(),`${c}${e.pointerType}`,e.pointerState,new ee((e,n)=>(i(e,n),t()),a),t,void 0,o?r.bind(null,e.pointerId):void 0,o?s.bind(null,e.pointerId):void 0,a),"move"!=u&&"wheel"!=u&&(d.setIntersection(d.computeIntersection("pointer",n,e)),d.commit(e,!1)),l.set(e.pointerId,d)),d},d=new Map,h=new Map,p=[],f=[],g=(e,t,i)=>{switch(e){case"move":case"over":return void i.move(n,t);case"wheel":return void i.wheel(n,t);case"cancel":return void i.cancel(t);case"down":if(!Te(t))return;return void i.down(t);case"up":if(!Te(t))return;return void i.up(t);case"exit":return h.delete(i),d.delete(i),void i.exit(t)}},A=(e,t)=>{const n=u(t,e);"move"===e&&h.set(n,t),"wheel"===e&&d.set(n,t),a.batchEvents??1?f.push({type:e,event:t}):g(e,t,n)},m=A.bind(null,"move"),v=A.bind(null,"over"),y=A.bind(null,"cancel"),E=A.bind(null,"down"),S=A.bind(null,"up"),b=A.bind(null,"wheel"),x=A.bind(null,"exit");return e.addEventListener("pointermove",m),e.addEventListener("pointerover",v),e.addEventListener("pointercancel",y),e.addEventListener("pointerdown",E),e.addEventListener("pointerup",S),e.addEventListener("wheel",b),e.addEventListener("pointerleave",x),{destroy(){e.removeEventListener("pointermove",m),e.removeEventListener("pointerover",v),e.removeEventListener("pointercancel",y),e.removeEventListener("pointerdown",E),e.removeEventListener("pointerup",S),e.removeEventListener("wheel",b),e.removeEventListener("pointerleave",x),h.clear(),d.clear()},update(){const e=f.length;for(let t=0;t<e;t++){const{type:e,event:n}=f[t],i=u(n,e);"move"!==e||(p.push(i),h.get(i)==n)?"wheel"!==e||d.get(i)==n?g(e,n,i):i.emitWheel(n):i.emitMove(n)}if(f.length=0,a.intersectEveryFrame)for(const[e,t]of h.entries())p.includes(e)||e.move(n,t);p.length=0}}}function Te(e){return null!=e.button}class Me{enableMultiplePointers;pointers=[];isDefaults=[];enabled=!0;activePointer;nonCapturedPointers=[];constructor(e){this.enableMultiplePointers=e}register(e,t=!1){return this.pointers.push(e),this.isDefaults.push(t),this.unregister.bind(this,e)}unregister(e){const t=this.pointers.indexOf(e);-1!==t&&(this.isDefaults.splice(t,1),this.pointers.splice(t,1))}startIntersection(e,t){const n=this.pointers.length;let i=!1;for(let r=0;r<n;r++){const n=this.pointers[r];if(n instanceof Me){n.startIntersection(e,t);continue}const s=n.getPointerCapture();null==s?(e.push(n),n.intersector.startIntersection(t)):(i=!0,n.setIntersection(n.intersector.intersectPointerCapture(s,t)))}return i}getIntersection(){return this.activePointer?.getIntersection()}getPointerCapture(){return this.activePointer?.getPointerCapture()}computeActivePointer(){let e;this.activePointer=void 0;const t=this.pointers.length;for(let n=0;n<t;n++){const t=this.pointers[n];t instanceof Me&&t.computeActivePointer();const i=t.getIntersection(),r=null!=t.getPointerCapture()?-1/0:i?.object.isVoidObject?1/0:i?.distance??1/0,s=this.isDefaults[n];(null==e||s&&r===e||r<e)&&(this.activePointer=t,e=r)}}commit(e,t,n=!0){if(this.enableMultiplePointers){const n=this.pointers.length;for(let i=0;i<n;i++)this.pointers[i].commit(e,t);return}n&&this.computeActivePointer();const i=this.pointers.length;for(let n=0;n<i;n++){const i=this.pointers[n];i.setEnabled(i===this.activePointer,e,!1),i.commit(e,t,!1)}}move(e,t){if(this.enabled){if(this.nonCapturedPointers.length=0,!this.startIntersection(this.nonCapturedPointers,t)||this.enableMultiplePointers){m("pointer",e,this.nonCapturedPointers);const t=this.nonCapturedPointers.length;for(let n=0;n<t;n++){const t=this.nonCapturedPointers[n];t.setIntersection(t.intersector.finalizeIntersection(e))}}this.commit(t,!0)}}setEnabled(e,t){this.enabled=e;const n=this.pointers.length;for(let i=0;i<n;i++){const n=this.pointers[i];n.setEnabled(e&&(this.enableMultiplePointers||n==this.activePointer),t)}}}},5015(e,t,n){"use strict";n.d(t,{uA:()=>xn,mc:()=>oi,UC:()=>_i,Sv:()=>tr,gl:()=>ir,_V:()=>ci,pd:()=>Zi,BS:()=>Ui,Mc:()=>lr,EY:()=>Si,TM:()=>er,Ce:()=>rr,_k:()=>Rn,ok:()=>ut,RP:()=>Yi,mZ:()=>It,MP:()=>bi,Oy:()=>ct,wL:()=>li,V0:()=>Ji,ud:()=>ot,w8:()=>Nn,X2:()=>Qn,GU:()=>In,s7:()=>lt,Oe:()=>Ai,jT:()=>ar,O1:()=>On});var i=n(4576);const r=[],s=[];function a(e){const t=r.indexOf(e);-1!=t&&(r.splice(t,1),s.splice(t,1),document.body.style.cursor=s[s.length-1]??"default")}var o=n(4922),l=n(8823);function c(){const e=new o.bdM,t=e.getAttribute("position"),n=new Float32Array(4*t.count),i=[1,0,0,1];for(let e=0;e<n.length;e++)n[e]=i[e%4];return e.setAttribute("tangent",new o.THS(n,4)),e}const u=c();const d=new o.Zcv,h=new o.Pq0,p=new o.iyt,f=new o.kn4,g=new o.kn4;function A(e,t,n,i,r){return(s,a)=>{const o=a.length,l=t.call(e,s,a);if(o===a.length)return l;const c=r.peek();if(null==c)return l;const u=i.peek()?.clippingRect?.peek()?.planes;n.peek().component.updateMatrix(),kn(n.peek(),g);e:for(let e=a.length-1;e>=o;e--){const t=a[e];if(t.distance-=.01*c.majorIndex+1e-4*c.minorIndex+1e-5*c.elementType+1e-7*c.patchIndex,null!=u)for(let n=0;n<4;n++)if(d.copy(u[n]).applyMatrix4(g),d.distanceToPoint(t.point)<0){a.splice(e,1);continue e}}return l}}function m(e,t,n,i){return((null==i?0:e.getKerning(i,n.id))+n.xoffset)*t}new o.kn4;const v=["dvh","svh","lvh","vh"],y=["dvw","svw","lvw","vw"];function E(e,t,n){if("number"==typeof e)return e;const i=parseFloat(e);if(isNaN(i))throw new Error(`Invalid number: ${e}`);return null!=t&&e.endsWith("%")?t()*i/100:null!=n&&v.some(t=>e.endsWith(t))||null!=n&&y.some(t=>e.endsWith(t))?(n.component.size.value?.[1]??0)*i/100:i}function S(e,t,n){return(n?.yoffset??0)*e+(t-e)/2}function b(e,t,n){return t.xadvance*e+n}function x(e){return e}function w(e,t){return Math.max(e,1)*t}const I={backgroundColor:"transparent",borderColor:"transparent",borderBottomLeftRadius:0,borderTopLeftRadius:0,borderBottomRightRadius:0,borderTopRightRadius:0,borderBend:0};let C;function T(){if(null==C){const e={};for(const t in I)e[t]=t;C=B(e)}return C}const M=[0,0,0,0];function B(e,t){const n={...I,...t},r={};for(const t in e){const i=R[t],s=n[t];r[e[t]]=(e,t,n,r,a,o)=>i(e,t,n??s,r,a,o)}const s=new Float32Array(16);return N(s,4,n.backgroundColor,1,void 0),N(s,9,n.borderColor,1,void 0),s[13]=n.borderBend,{hasProperty:e=>e in r,defaultData:s,setters:r,computedIsVisibile:(t,r,s,a)=>(0,i.EW)(()=>{if(null==r.value||null==s.value)return!1;const i=null==e.backgroundColor?n.backgroundColor:t.value[e.backgroundColor]??n.backgroundColor,o=null==e.borderColor?n.borderColor:t.value[e.borderColor]??n.borderColor,l=E(t.value.opacity??1,()=>1);N(M,0,i??n.backgroundColor,l);const[c,u]=s.value,d=c>0&&u>0&&M[3]>0;N(M,0,o??n.borderColor,l);const h=r.value.some(e=>e>0)&&M[3]>0;return!(!d&&!h)&&a.value})}}const R={backgroundColor:(e,t,n,i,r,s)=>N(e,t+4,n,E(r.value,()=>1),s),borderBottomLeftRadius:(e,t,n,{value:i},r,s)=>{null!=i&&P(e,t+8,0,n,i[1],s)},borderBottomRightRadius:(e,t,n,{value:i},r,s)=>null!=i&&P(e,t+8,1,n,i[1],s),borderTopRightRadius:(e,t,n,{value:i},r,s)=>null!=i&&P(e,t+8,2,n,i[1],s),borderTopLeftRadius:(e,t,n,{value:i},r,s)=>null!=i&&P(e,t+8,3,n,i[1],s),borderColor:(e,t,n,i,r,s)=>N(e,t+9,n,E(r.value,()=>1),s),borderBend:(e,t,n,i,r,s)=>{return a=e,o=t+13,l=E(n,()=>1),c=s,a[o]=l,void c?.(o,1);var a,o,l,c}};function P(e,t,n,i,r,s){(function(e,t,n,i,r){e[t]=function(e,t,n){const i=Math.pow(50,t);return e+(n-Math.floor(e/i)%50)*i}(e[t],n,0===r?0:(0,l.clamp)(Math.ceil((i??0)/r*100),0,49))})(e,t,n,Number(i),r),s?.(t,1)}const _=new o.Q1f,D=/rgba\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/;function N(e,t,n,i,r){let s;if(Array.isArray(n)){for(let i=0;i<n.length;i++)e[i+t]=n[i];e[t+3]=(3===n.length?1:e[t+3])*i}else if("transparent"===n)e.fill(0,t,t+4);else if("string"==typeof n&&null!=(s=n.match(D))){for(let n=0;n<3;n++)e[n+t]=parseFloat(s[n+1])/255;e[3+t]=parseFloat(s[4])*i}else _.set(n).toArray(e,t),e[t+3]=i;r?.(t,4)}function L(e,t){const n=new e;null==n.defines&&(n.defines={}),n.side=o.hB5,n.clipShadows=!0,n.transparent=!0,n.toneMapped=!1,n.shadowSide=o.hB5,n.defines.USE_UV="",n.defines.USE_TANGENT="";const i=n.onBeforeCompile;return n.onBeforeCompile=(e,r)=>{i.call(n,e,r),"normal"===t.type&&(e.uniforms.data={value:t.data}),function(e,t){V(e,t),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>",` #include <color_fragment>\n      ${H(t,"diffuseColor.a")}\n      \n      vec3 mainColor = diffuseColor.rgb * backgroundColor;\n      float borderMix = borderOpacity / max(fullBorderOpacity, 0.001);\n      diffuseColor.rgb = mix(mix(mainColor, borderColor, borderMix), mainColor, transition);\n      diffuseColor.a = outOpacity;\n      `),e.fragmentShader=e.fragmentShader.replace("#include <normal_fragment_maps>"," #include <normal_fragment_maps>\n      \n      vec3 bitangent = normalize(vBitangent);\n      vec3 tangent = normalize(vTangent);\n      \n      mat4 directions = mat4(\n        vec4(bitangent, 1.0), \n        vec4(tangent, 1.0), \n        vec4(-bitangent, 1.0), \n        vec4(-tangent, 1.0)\n      );\n      \n      float currentBorderSize = distance.x - distance.y;\n      float outsideNormalWeight = currentBorderSize < 1e-5 ? 0.0 : \n        max(0.0, -distance.y / currentBorderSize) * -borderBend;\n      \n      vec3 outsideNormal = (borderWeight * transpose(directions)).xyz;\n      normal = normalize(mix(normal, outsideNormal, outsideNormalWeight));\n    ")}(e,"instanced"===t.type)},n}class O extends o.aVO{info;constructor(e){super(),this.info=e,null==this.defines&&(this.defines={}),this.defines.USE_UV="",this.clipShadows=!0}onBeforeCompile(e,t){super.onBeforeCompile(e,t),"normal"===this.info.type&&(e.uniforms.data={value:this.info.data}),Q(e,"instanced"===this.info.type)}}class k extends o.CSG{info;constructor(e){super({depthPacking:o.N5j}),this.info=e,null==this.defines&&(this.defines={}),this.defines.USE_UV="",this.clipShadows=!0}onBeforeCompile(e,t){super.onBeforeCompile(e,t),"normal"===this.info.type&&(e.uniforms.data={value:this.info.data}),Q(e,"instanced"===this.info.type)}}const U=new k({type:"instanced"}),F=new O({type:"instanced"});function Q(e,t){V(e,t),e.fragmentShader=e.fragmentShader.replace("#include <clipping_planes_fragment>",`#include <clipping_planes_fragment>\n    ${H(t,void 0)}\n    `)}function V(e,t){e.vertexShader=e.vertexShader.replace("#include <common>"," #include <common>\n      out vec4 borderRadius;\n      "+(t?"":"uniform highp mat4 data;")),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>"," #include <uv_vertex>\n      highp int packedBorderRadius = int(data[2].x);\n      borderRadius = vec4(\n        float(packedBorderRadius / 125000 % 50),\n        float(packedBorderRadius / 2500 % 50),\n        float(packedBorderRadius / 50 % 50),\n        float(packedBorderRadius % 50)\n      ) * 0.01;"),t&&(e.vertexShader=e.vertexShader.replace("#include <common>"," #include <common>\n        attribute highp mat4 aData;\n        attribute mat4 aClipping;\n        out mat4 data;\n        out mat4 clipping;\n        out vec3 localPosition;"),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>"," #include <uv_vertex>\n        data = aData;\n        clipping = aClipping;\n        localPosition = (instanceMatrix * vec4(position, 1.0)).xyz;")),e.fragmentShader=function(e){return`${e?"in":"uniform"} highp mat4 data;\n    in vec4 borderRadius;\n    ${e?"\n    in vec3 localPosition;\n    in mat4 clipping;":""}\n\n    float min4(vec4 v) {\n        vec2 tmp = min(v.xy, v.zw);\n        return min(tmp.x, tmp.y);\n    }\n    \n    float max4(vec4 v) {\n        vec2 tmp = max(v.xy, v.zw);\n        return max(tmp.x, tmp.y);\n    }\n    \n    vec2 radiusDistance(float radius, vec2 outside, vec2 border, vec2 borderSize) {\n        vec2 outerRadius = vec2(radius);\n        vec2 innerRadius = outerRadius - borderSize;\n        \n        vec2 radiusWeightUnnorm = abs(innerRadius - border);\n        float sum = radiusWeightUnnorm.x + radiusWeightUnnorm.y;\n        vec2 radiusWeight = sum > 0.0 ? radiusWeightUnnorm / sum : vec2(0.5);\n        \n        return vec2(\n            radius - distance(outside, outerRadius),\n            dot(radiusWeight, innerRadius) - distance(border, innerRadius)\n        );\n    }\n    \n    vec2 calculateCornerIntersection(float cornerRadius, vec2 borderSizes, float aspectRatio) {\n        float tmp1 = cornerRadius - borderSizes.y;\n        vec2 xIntersection = vec2(tmp1, tmp1 / aspectRatio);\n        \n        float tmp2 = cornerRadius - borderSizes.x;\n        vec2 yIntersection = vec2(tmp2 * aspectRatio, tmp2);\n        \n        return min(xIntersection, yIntersection);\n    }\n    `}(t)+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <clipping_planes_fragment>",function(e){return` ${e?"\n        vec4 plane;\n        float distanceToPlane, planeDistanceGradient;\n        float clipOpacity = 1.0;\n\n        for(int i = 0; i < 4; i++) {\n          plane = clipping[i];\n          distanceToPlane = dot(localPosition, plane.xyz) + plane.w;\n          planeDistanceGradient = fwidth(distanceToPlane) * 0.5;\n          clipOpacity *= smoothstep(-planeDistanceGradient, planeDistanceGradient, distanceToPlane);\n    \n          if (clipOpacity < 0.01) discard;\n        }":""}\n        \n        vec4 absoluteBorderSize = data[0];\n        vec3 backgroundColor = data[1].xyz;\n        float backgroundOpacity = data[1].w;\n        vec3 borderColor = data[2].yzw;\n        float borderOpacity = data[3].x;\n        float borderBend = data[3].y;\n        vec2 dimensions = data[3].zw;\n        \n        float aspectRatio = dimensions.x / dimensions.y;\n        vec4 borderSize = absoluteBorderSize / dimensions.yyyy;\n        \n        vec2 uvFlipped = vec2(vUv.x, 1.0 - vUv.y);\n        vec4 v_outsideDistance = vec4(\n            uvFlipped.y,\n            (1.0 - uvFlipped.x) * aspectRatio,\n            1.0 - uvFlipped.y,\n            uvFlipped.x * aspectRatio\n        );\n        vec4 v_borderDistance = v_outsideDistance - borderSize;\n  \n        vec2 distance = vec2(min4(v_outsideDistance), min4(v_borderDistance));\n        \n        vec4 negateBorderDistance = vec4(1.0) - v_borderDistance;\n        float maxWeight = max4(negateBorderDistance);\n        vec4 borderWeight = step(maxWeight, negateBorderDistance);\n  \n        vec4 insideBorder = vec4(0.0);\n        \n        vec2 cornerPos;\n        float cornerRadius;\n        vec2 cornerBorderSizes;\n        \n        if (all(lessThan(v_outsideDistance.wx, borderRadius.xx))) {\n            cornerPos = v_outsideDistance.wx;\n            cornerRadius = borderRadius.x;\n            cornerBorderSizes = borderSize.wx;\n            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.wx, cornerBorderSizes);\n            \n            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);\n            insideBorder.wx = max(vec2(0.0), lineIntersection - v_borderDistance.wx);\n        }\n        else if (all(lessThan(v_outsideDistance.yx, borderRadius.yy))) {\n            cornerPos = v_outsideDistance.yx;\n            cornerRadius = borderRadius.y;\n            cornerBorderSizes = borderSize.yx;\n            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.yx, cornerBorderSizes);\n            \n            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);\n            insideBorder.yx = max(vec2(0.0), lineIntersection - v_borderDistance.yx);\n        }\n        else if (all(lessThan(v_outsideDistance.yz, borderRadius.zz))) {\n            cornerPos = v_outsideDistance.yz;\n            cornerRadius = borderRadius.z;\n            cornerBorderSizes = borderSize.yz;\n            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.yz, cornerBorderSizes);\n            \n            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);\n            insideBorder.yz = max(vec2(0.0), lineIntersection - v_borderDistance.yz);\n        }\n        else if (all(lessThan(v_outsideDistance.zw, borderRadius.ww))) {\n            cornerPos = v_outsideDistance.zw;\n            cornerRadius = borderRadius.w;\n            cornerBorderSizes = borderSize.zw;\n            distance = radiusDistance(cornerRadius, cornerPos, v_borderDistance.zw, cornerBorderSizes);\n            \n            vec2 lineIntersection = calculateCornerIntersection(cornerRadius, cornerBorderSizes, aspectRatio);\n            insideBorder.zw = max(vec2(0.0), lineIntersection - v_borderDistance.zw);\n        }\n  \n        float insideBorderSum = dot(insideBorder, vec4(1.0));\n        if (insideBorderSum > 0.0) {\n          borderWeight = insideBorder / insideBorderSum;\n        }\n  \n        #include <clipping_planes_fragment>`}(t))}function H(e,t){return`vec2 distanceGradient = fwidth(distance);\n  float outer = smoothstep(-distanceGradient.x, distanceGradient.x, distance.x);\n  float inner = smoothstep(-distanceGradient.y, distanceGradient.y, distance.y);\n\n  float transition = 1.0 - step(0.1, outer - inner) * (1.0 - inner);\n\n  float fullBackgroundOpacity = ${null==t?"":`${t} * `}backgroundOpacity;\n  float fullBorderOpacity = min(1.0, borderOpacity + fullBackgroundOpacity);\n\n  float outOpacity = ${e?"clipOpacity * ":""}outer * mix(fullBorderOpacity, fullBackgroundOpacity, transition);\n\n  if (outOpacity < 0.01) {\n    discard;\n  }`}class G extends o.eaF{root;instanceMatrix;count=0;isInstancedMesh=!0;instanceColor=null;morphTexture=null;boundingBox=new o.NRn;boundingSphere=new o.iyt;customUpdateMatrixWorld=()=>kn(this.root,this.matrixWorld);constructor(e,t,n,i){const r=c();super(r),this.root=e,this.instanceMatrix=t,this.pointerEvents="none",r.attributes.aData=n,r.attributes.aClipping=i,this.customDepthMaterial=U,this.customDistanceMaterial=F,this.frustumCulled=!1,e.onUpdateMatrixWorldSet.add(this.customUpdateMatrixWorld)}dispose(){this.root.onUpdateMatrixWorldSet.delete(this.customUpdateMatrixWorld),this.dispatchEvent({type:"dispose"}),this.geometry.dispose()}copy(){throw new Error("copy not implemented")}computeBoundingBox(){}computeBoundingSphere(){}updateMorphTargets(){}raycast(){}spherecast(){}}function z(e,t){for(;t>=e.length;){let t=0,n=0;if(e.length>0){const i=e[e.length-1];t+=i.offset+i.elements.length,n=Math.min(0,i.missingSpace),i.missingSpace-=n}e.push({add:[],missingSpace:n,offset:t,elements:[]})}}function W(e,t,n){let i=e.length,r=-1;for(let t=0;t<i;t++){const s=e[t];s.elements.length+s.add.length>0&&(r=t);const a=t===i-1;if(!a&&0===s.missingSpace)continue;const o=s.missingSpace<0;for(let i=t-1;i>=0;i--){const r=e[i];if(0===r.missingSpace)continue;const l=r.missingSpace<0;if(l&&(a||o)){X(e,n,i,t,Math.abs(r.missingSpace));continue}if(!o&&!l)continue;const c=Math.min(Math.abs(r.missingSpace),Math.abs(s.missingSpace));o?j(e,n,i,t,c):X(e,n,i,t,c)}}const s=e[r];for(let t=r+1;t<i;t++)s.missingSpace+=e[t].missingSpace;i=e.length=r+1;for(let n=0;n<i;n++){const i=e[n],{elements:r,add:s}=i,a=s.length;for(let e=0;e<a;e++){const n=s[e];t(n,i,r.length),r.push(n)}s.length=0}}function X(e,t,n,i,r){const s=e[i],a=e[n+1].offset;t(a-r,a,s.offset+s.elements.length),e[n].missingSpace+=r,s.missingSpace-=r;for(let t=n+1;t<=i;t++)e[t].offset-=r}function j(e,t,n,i,r){const s=e[i],a=e[n+1].offset;t(a+r,a,s.offset+s.elements.length),e[n].missingSpace-=r,s.missingSpace+=r;for(let t=n+1;t<=i;t++)e[t].offset+=r}class q extends o.tXL{constructor(){super({specular:"#111",shininess:100})}}class Y extends o.uSd{constructor(){super({roughness:.1,reflectivity:.5,iridescence:.001,thickness:.05,metalness:.3,ior:2})}}class J extends o.uSd{constructor(){super({iridescence:.001,metalness:.8,roughness:.1})}}const Z={glass:Y,metal:J,plastic:q};function K(e){return"string"!=typeof e?e:Z[e]}function $(e){return(0,i.EW)(()=>({panelMaterialClass:K(e.value.panelMaterialClass),castShadow:e.value.castShadow,receiveShadow:e.value.receiveShadow,depthWrite:e.value.depthWrite??!1,depthTest:e.value.depthTest,renderOrder:e.value.renderOrder}))}class ee{root;object;map=new Map;constructor(e,t){this.root=e,this.object=t}init(e){const t=()=>this.traverse(e=>e.onFrame());this.root.onFrameSet.add(t),e.addEventListener("abort",()=>{this.root.onFrameSet.delete(t),this.traverse(e=>e.destroy())})}traverse(e){for(const t of this.map.values())for(const n of t.values())e(n)}getGroup({majorIndex:e,minorIndex:t},n){const i=K(n.panelMaterialClass);let r=this.map.get(i);null==r&&this.map.set(i,r=new Map);const s=[e,t,n.renderOrder,n.depthTest,n.depthWrite,n.receiveShadow,n.castShadow].join(",");let a=r.get(s);return null==a&&r.set(s,a=new ne(this.object,this.root,{elementType:Vn.Panel,minorIndex:t,majorIndex:e,patchIndex:0},n)),a}}const te=Symbol("nextFrame");class ne{object;root;orderInfo;panelGroupProperties;mesh;instanceMatrix;instanceData;instanceClipping;instanceMaterial;buckets=[];elementCount=0;bufferElementSize=0;instanceDataOnUpdate;nextUpdateTime;nextUpdateTimeoutRef;activateElement=(e,t,n)=>{const i=t.offset+n;this.instanceData.set(e.materialConfig.defaultData,16*i),this.instanceData.addUpdateRange(16*i,16),this.instanceData.needsUpdate=!0,e.activate(t,n)};setElementIndex=(e,t)=>{e.setIndexInBucket(t)};bufferCopyWithin=(e,t,n)=>{ie(this.instanceMatrix,e,t,n),ie(this.instanceData,e,t,n),ie(this.instanceClipping,e,t,n)};clearBufferAt=e=>{const t=16*e;this.instanceMatrix.array.fill(0,t,t+16),this.instanceMatrix.addUpdateRange(t,16),this.instanceMatrix.needsUpdate=!0};constructor(e,t,n,i){this.object=e,this.root=t,this.orderInfo=n,this.panelGroupProperties=i;const r=K(i.panelMaterialClass);this.instanceMaterial=L(r,{type:"instanced"}),this.instanceMaterial.depthTest=i.depthTest,this.instanceMaterial.depthWrite=i.depthWrite}updateCount(){const e=this.buckets[this.buckets.length-1],t=e.offset+e.elements.length;null!=this.mesh&&(this.mesh.count=t,this.mesh.visible=t>0,this.root.requestRender?.())}requestUpdate(e){if(this.nextUpdateTime==te)return;const t=performance.now()+e;null!=this.nextUpdateTime&&this.nextUpdateTime<t||(this.nextUpdateTime=t,clearTimeout(this.nextUpdateTimeoutRef),this.nextUpdateTimeoutRef=setTimeout(this.requestUpdateNextFrame.bind(this),e))}requestUpdateNextFrame(){this.nextUpdateTime=te,clearTimeout(this.nextUpdateTimeoutRef),this.nextUpdateTimeoutRef=void 0,this.root.requestFrame?.()}insert(e,t){this.elementCount+=1,function(e,t,n,i){z(e,t);const r=e[t];return r.missingSpace+=1,r.missingSpace<=0?(i(n,r,r.elements.length),r.elements.push(n),!1):(r.add.push(n),!0)}(this.buckets,e,t,this.activateElement)?this.requestUpdateNextFrame():this.updateCount()}delete(e,t,n){this.elementCount-=1,function(e,t,n,i,r,s,a,o){if(t>=e.length)throw new Error(`no bucket at index ${t}`);const l=e[t];l.missingSpace-=1;const c=l.add.indexOf(n);if(-1!=c)return l.add.splice(c,1),!1;if(null==i||i>=l.elements.length)throw new Error(`no element at index ${i}`);if(l.add.length>0){const e=l.add.shift();return l.elements[i]=e,r(e,l,i),!1}const u=l.offset,d=l.elements.length-1;if(d!=i){const e=u+d;o(u+i,e,e+1);const t=l.elements[d];l.elements[i]=t,a(t,i)}if(s(u+d),l.elements.length-=1,t<e.length-1)return!0;let h=l;for(;0===h.elements.length&&0==h.add.length&&t>0;)e[t-1].missingSpace+=h.missingSpace,h=e[--t];return e.length=t+1,!1}(this.buckets,e,n,t,this.activateElement,this.clearBufferAt,this.setElementIndex,this.bufferCopyWithin)?(this.root.requestRender?.(),this.requestUpdate(1e3)):this.updateCount()}onFrame(){this.nextUpdateTime==te&&(this.nextUpdateTime=void 0,this.update())}update(){0!==this.elementCount?(this.elementCount>this.bufferElementSize?(this.resize(),W(this.buckets,this.activateElement,this.bufferCopyWithin)):this.elementCount<=this.bufferElementSize/3?(W(this.buckets,this.activateElement,this.bufferCopyWithin),this.resize()):W(this.buckets,this.activateElement,this.bufferCopyWithin),this.mesh.count=this.elementCount,this.mesh.visible=!0):null!=this.mesh&&(this.mesh.visible=!1)}resize(){const e=this.bufferElementSize;var t,n,i;this.bufferElementSize=Math.ceil(1.5*this.elementCount),null!=this.mesh&&(this.mesh.dispose(),this.object.remove(this.mesh)),t=this.buckets,n=e,i=this.bufferElementSize,z(t,0),t[t.length-1].missingSpace+=n-i;const r=new Float32Array(16*this.bufferElementSize);null!=this.instanceMatrix&&r.set(this.instanceMatrix.array.subarray(0,r.length)),this.instanceMatrix=new o.uWO(r,16,!1),this.instanceMatrix.setUsage(o.Vnu);const s=new Float32Array(16*this.bufferElementSize);null!=this.instanceData&&s.set(this.instanceData.array.subarray(0,s.length)),this.instanceData=new o.uWO(s,16,!1),this.instanceDataOnUpdate=(e,t)=>{this.instanceData.addUpdateRange(e,t),this.instanceData.needsUpdate=!0},this.instanceData.setUsage(o.Vnu);const a=new Float32Array(16*this.bufferElementSize);null!=this.instanceClipping&&a.set(this.instanceClipping.array.subarray(0,a.length)),this.instanceClipping=new o.uWO(a,16,!1),this.instanceClipping.setUsage(o.Vnu),this.mesh=new G(this.root,this.instanceMatrix,this.instanceData,this.instanceClipping),this.mesh.renderOrder=this.panelGroupProperties.renderOrder,Gn(this.mesh,{peek:()=>this.root},{value:this.orderInfo}),this.mesh.material=this.instanceMaterial,this.mesh.receiveShadow=this.panelGroupProperties.receiveShadow,this.mesh.castShadow=this.panelGroupProperties.castShadow,this.object.addUnsafe(this.mesh)}destroy(){clearTimeout(this.nextUpdateTimeoutRef),null!=this.mesh&&(this.object.remove(this.mesh),this.mesh?.dispose(),this.instanceMaterial.dispose())}}function ie(e,t,n,i){const r=e.itemSize,s=n*r,a=i*r,o=t*r;e.array.copyWithin(o,s,a);const l=a-s;e.addUpdateRange(s,l),e.addUpdateRange(o,l),e.needsUpdate=!0}var re,se=(re="file:///home/runner/work/IsaacTeleop/IsaacTeleop/deps/cloudxr/webxr_client/node_modules/yoga-layout/dist/binaries/yoga-wasm-base64-esm.js",function(e){var t,n,i;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise(function(e,t){n=e,i=t});var r=Object.assign({},t),s="";"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),re&&(s=re),s=0!==s.indexOf("blob:")?s.substr(0,s.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var a,o=t.print||console.log.bind(console),l=t.printErr||console.warn.bind(console);Object.assign(t,r),r=null,t.wasmBinary&&(a=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var c,u,d,h,p,f,g,A,m,v,y=!1;function E(e,t,n){n=t+n;for(var i="";!(t>=n);){var r=e[t++];if(!r)break;if(128&r){var s=63&e[t++];if(192==(224&r))i+=String.fromCharCode((31&r)<<6|s);else{var a=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|s<<6|a:(7&r)<<18|s<<12|a<<6|63&e[t++])?i+=String.fromCharCode(r):(r-=65536,i+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else i+=String.fromCharCode(r)}return i}function S(){var e=c.buffer;u=e,t.HEAP8=d=new Int8Array(e),t.HEAP16=p=new Int16Array(e),t.HEAP32=g=new Int32Array(e),t.HEAPU8=h=new Uint8Array(e),t.HEAPU16=f=new Uint16Array(e),t.HEAPU32=A=new Uint32Array(e),t.HEAPF32=m=new Float32Array(e),t.HEAPF64=v=new Float64Array(e)}var b,x=[],w=[],I=[];function C(){var e=t.preRun.shift();x.unshift(e)}var T,M=0,B=null,R=null;function P(e){throw t.onAbort&&t.onAbort(e),l(e="Aborted("+e+")"),y=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),i(e),e}function _(e){return e.startsWith("data:application/octet-stream;base64,")}if(!_(T="data:application/octet-stream;base64,AGFzbQEAAAABugM3YAF/AGACf38AYAF/AX9gA39/fwBgAn98AGACf38Bf2ADf39/AX9gBH9/f30BfWADf398AGAAAGAEf39/fwBgAX8BfGACf38BfGAFf39/f38Bf2AAAX9gA39/fwF9YAZ/f31/fX8AYAV/f39/fwBgAn9/AX1gBX9/f319AX1gAX8BfWADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn9/f319fQF9YAR/f31/AGADf399AX1gBn98f39/fwF/YAR/fHx/AGACf30AYAh/f39/f39/fwBgDX9/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/f38BfGAEfHx/fwF9YA1/fX1/f399fX9/f39/AX9gB39/f319f38AYAJ+fwF/YAN/fX0BfWABfAF8YAN/fHwAYAR/f319AGAHf39/fX19fQF9YA1/fX99f31/fX19fX1/AX9gC39/f39/f399fX19AX9gCH9/f39/f319AGAEf39+fgBgB39/f39/f38Bf2ACfH8BfGAFf398fH8AYAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/ArUBHgFhAWEAHwFhAWIAAwFhAWMACQFhAWQAFgFhAWUAEQFhAWYAIAFhAWcAAAFhAWgAIQFhAWkAAwFhAWoAAAFhAWsAFwFhAWwACgFhAW0ABQFhAW4AAwFhAW8AAQFhAXAAFwFhAXEABgFhAXIAAAFhAXMAIgFhAXQACgFhAXUADQFhAXYAFgFhAXcAAgFhAXgAAwFhAXkAGAFhAXoAAgFhAUEAAQFhAUIAEQFhAUMAAQFhAUQAAAOiAqACAgMSBwcACRkDAAoRBgYKEwAPDxMBBiMTCgcHGgMUASQFJRQHAwMKCgMmAQYYDxobFAAKBw8KBwMDAgkCAAAFGwACBwIHBgIDAQMIDAABKAkHBQURACkZASoAAAIrLAIALQcHBy4HLwkFCgMCMA0xAgMJAgACAQYKAQIBBQEACQIFAQEABQAODQ0GFQIBHBUGAgkCEAAAAAUyDzMMBQYINAUCAwUODg41AgMCAgIDBgICNgIBDAwMAQsLCwsLCx0CAAIAAAABABABBQICAQMCEgMMCwEBAQEBAQsLAQICAwICAgICAgIDAgIICAEICAgEBAQEBAQEBAQABAQABAQEBAAE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GiABQQA2AvADIAFCADcC6AMgAigC7AMiAyACKALoAyIERwRAIAMgBGsiBEEASA0FIAEgBBAeIgM2AuwDIAEgAzYC6AMgASADIARqNgLwAyACKALoAyIEIAIoAuwDIghHBEADQCADIAQoAgA2AgAgA0EEaiEDIARBBGoiBCAIRw0ACwsgASADNgLsAwsgASACKQL0AzcC9AMgASACKAKEBDYChAQgASACKQL8AzcC/AMgAUEANgLkAwsgBSABNgIAIAEgADYC5AMLIAZBAWohBiAFQQRqIgUgB0cNAAsLDwsQAgALUAACQAJAAkACQAJAIAIOBAQAAQIDCyAAIAEgAUEwahBDDwsgACABIAFBMGogAxBEDwsgACABIAFBMGoQQg8LECQACyAAIAEgAUEwaiADEEULcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt5AgF/AX0jAEEQayIDJAAgA0EIaiAAIAFBAnRB7CVqKAIAIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC1QAAkACQAJAAkACQCACDgQEAAECAwsgACABIAFBwgBqEEMPCyAAIAEgAUHCAGogAxBEDwsgACABIAFBwgBqEEIPCxAkAAsgACABIAFBwgBqIAMQRQsvACAAIAJFQQF0IgIgASADEGAgACACIAEQS5IgACACIAEgAxB/IAAgAiABEFKSkgvOAQIDfwJ9IwBBEGsiAyQAQQEhBCADQQhqIABB/ABqIgUgACABQQF0akH2AGoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALzgECA38CfSMAQRBrIgMk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AWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwscACAAIAFBCCACpyACQiCIpyADpyADQiCIpxAVCwUAEFgACzkAIABFBEBBAA8LAn8gAUGAf3FBgL8DRiABQf8ATXJFBEBB/DtBGTYCAEF/DAELIAAgAToAAEEBCwvEAgACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACgsMCgsCAwQFDAsMDAoLBwgJCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCwALIAIgAigCACIBQQRqNgIAIAAgATIBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATMBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATAAADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATEAADcDAA8LAAsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAQALDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQegAaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAtdAQR/IAAoAgAhAgNAIAIsAAAiAxBXBEBBfyEEIAAgAkEBaiICNgIAIAFBzJmz5gBNBH9BfyADQTBrIgMgAUEKbCIEaiADIARB/////wdzShsFIAQLIQEMAQsLIAELrhQCEn8BfiMAQdAAayIIJAAgCCABNgJMIAhBN2ohFyAIQThqIRQCQAJAAkACQANAIAEhDSAHIA5B/////wdzSg0BIAcgDmohDgJAAkACQCANIgctAAAiCQRAA0ACQAJAIAlB/wFxIgFFBEAgByEBDAELIAFBJUcNASAH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IQEgAEIANwIEIAAgATYCACABIAA2AgQgAkEQaiQAIAALGwEBfyAABEAgACgCACIBBEAgARAjCyAAECMLC0kBAn9BBBAeIQFBIBAeIgBBADYCHCAAQoCAgICAgIDAPzcCFCAAQgA3AgwgAEEAOgAIIABBAzYCBCAAQQA2AgAgASAANgIAIAELIAAgAkEFR0EAIAIbRQRAQbgwIAMgBBBJDwsgAyAEEHALIgEBfiABIAKtIAOtQiCGhCAEIAARFQAiBUIgiKckASAFpwuoAQEFfyAAKAJUIgMoAgAhBSADKAIEIgQgACgCFCAAKAIcIgdrIgYgBCAGSRsiBgRAIAUgByAGECsaIAMgAygCACAGaiIFNgIAIAMgAygCBCAGayIENgIECyAEIAIgAiAESxsiBARAIAUgASAEECsaIAMgAygCACAEaiIFNgIAIAMgAygCBCAEazYCBAsgBUEAOgAAIAAgACgCLCIBNgIcIAAgATYCFCACCwQAQgALBABBAAuKBQIGfgJ/IAEgASgCAEEHakF4cSIBQRBqNgIAIAAhCSABKQMAIQMgASkDCCEGIwBBIGsiCCQAAkAgBkL///////////8AgyIEQoCAgICAgMCAPH0gBEKAgICAgIDA/8MAfVQEQCAGQgSGIANCPIiEIQQgA0L//////////w+DIgNCgYCAgICAgIAIWgRAIARCgYCAgICAgIDAAHwhAgwCCyAEQoCAgICAgICAQH0hAiADQoCAgICAgICACFINASACIARCAYN8IQIMAQsgA1AgBEKAgICAgIDA//8AVCAEQoCAgICAgMD//wBRG0UEQCAGQgSGIANCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiAEQv///////7//wwBWDQBCACECIARCMIinIgBBkfcASQ0AIAMhAiAGQv///////z+DQoCAgICAgMAAhCIFIQcCQCAAQYH3AGsiAUHAAHEEQCACIAFBQGqthiEHQgAhAgwBCyABRQ0AIAcgAa0iBIYgAkHAACABa62IhCEHIAIgBIYhAgsgCCACNwMQIAggBzcDGAJAQYH4ACAAayIAQcAAcQRAIAUgAEFAaq2IIQNCACEFDAELIABFDQAgBUHAACAAa62GIAMgAK0iAoiEIQMgBSACiCEFCyAIIAM3AwAgCCAF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ASAAKAIAIQAgASACQQFxBH8gASgCACAAaigCAAUgAAsRCwALYQECfyMAQRBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEQEB4iACACKQMINwMIIAAgAikDADcDACACQRBqJAAgAAtjAQJ/IwBBEGsiAyQAIAEgACgCBCIEQQF1aiEBIAAoAgAhACADIAEgAiAEQQFxBH8gASgCACAAaigCAAUgAAsRAwBBEBAeIgAgAykDCDcDCCAAIAMpAwA3AwAgA0EQaiQAIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEEAAs5AQF/IAEgACgCBCIEQQF1aiEBIAAoAgAhACABIAIgAyAEQQFxBH8gASgCACAAaigCAAUgAAsRCAALCQAgASAAEQIACwUAQcM7Cw8AIAEgACgCAGogAjYCAAsNACABIAAoAgBqKAIACxgBAX9BEBAeIgBCADcDCCAAQQA2AgAgAAsYAQF/QRAQHiIAQgA3AwAgAEIANwMIIAALDABBMBAeQQBBMBAqCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRHgALBQBBvjsLIQAgACABKAIAIAEgASwAC0EASBtBuzsgAigCABAQNgIACyoBAX9BDBAeIgFBADoABCABIAAoAgA2AgggAEEANgIAIAFB2Cc2AgAgAQsFAEG7OwsFAEG4OwshACAAIAEoAgAgASABLAALQQBIG0GkOyACKAIAEBA2AgAL2AEBBH8jAEEgayIDJAAgASgCACIEQfD///8HSQRAAkACQCAEQQtPBEAgBEEPckEBaiIFEB4hBiADIAVBgICAgHhyNgIQIAMgBjYCCCADIAQ2AgwgBCAGaiEFDAELIAMgBDoAEyADQQhqIgYgBGohBSAERQ0BCyAGIAFBBGogBBArGgsgBUEAOgAAIAMgAjYCACADQRhqIANBCGogAyAAEQMAIAMoAhgQHSADKAIYIgAQBiADKAIAEAYgAywAE0EASARAIAMoAggQIwsgA0EgaiQAIAAPCxACAAsqAQF/QQwQHiIBQQA6AAQgASAAKAIANgIIIABBADYCACABQeAmNgIA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AkEIaiAIIAYQHyACIAcgAC8AABAfQQEhAyACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSADC0UNAiACLQAMIAItAARHDQILIABBAmohAEEBIQMgBCEGQQEhBCAGRQ0ACyABLwB6IgBBB3FFBEAgBS0AekEHcUUNAgsgCCAAECAiCiAHIAUvAHoQICILWw0BIAogClsNACALIAtcDQELIAFBFGogBUEUakHoABArGiABQfwAaiAFQfwAahCgAQNAIAEtAAAiAEEEcQ0BIAEgAEEEcjoAACABKAIQIgAEQCABIAARAAALIAFBgICA/gc2ApwBIAEoAuQDIgENAAsLIAJBEGokAAvGAwEEfyMAQaAEayICJAAgACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALAkAgACgCACIAKALoAyAAKALsA0YEQCAAKALkAw0BIAAgAkEYaiAAKAL0AxBcIgEpAgA3AgAgACABKAIQNgIQIAAgASkCCDcCCCAAQRRqIAFBFGpB6AAQKxogACABKQKMATcCjAEgACABKQKEATcChAEgACABKQJ8NwJ8IAEoApQBIQQgAUEANgKUASAAKAKUASEDIAAgBDYClAEgAwRAIAMQWwsgAEGYAWogAUGYAWpB0AIQKxogACgC6AMiAwRAIAAgAzYC7AMgAxAjCyAAIAEoAugDNgLoAyAAIAEoAuwDNgLsAyAAIAEoAvADNgLwAyABQQA2AvADIAFCADcC6AMgACABKQL8AzcC/AMgACABKQL0AzcC9AMgACABKAKEBDYChAQgASgClAEhACABQQA2ApQBIAAEQCAAEFsLIAJBoARqJAAPCyACQfAcNgIQIABBBUHYJSACQRBqECwQJAALIAJB5hE2AgAgAEEFQdglIAIQLBAkAAsLAEEMEB4gABCiAQsLAEEMEB5BABCiAQsNACAAKAIALQAIQQFxCwoAIAAoAgAoAhQLGQAgAUH/AXEEQBACAAsgACgCACgCEEEBcQsYACAAKAIAIgAgAC0ACEH+AXEgAXI6AAgLJgAgASAAKAIAIgAoAhRHBEAgACABNgIUIAAgACgCDEEBajYCDAsLkgEBAn8jAEEQayICJAAgACgCACEAIAFDAAAAAGAEQCABIAAqAhhcBEAgACABOAIYIAAgACgCDEEBajYCDAsgAkEQaiQADwsgAkGIFDYCACMAQRBrIgMkACADIAI2AgwCQCAARQRAQbgwQdglIAIQSRoMAQsgAEEAQQVB2CUgAiAAKAIEEQ0AGgsgA0EQaiQAECQACz8AIAFB/wFxRQRAIAIgACgCACIAKAIQIgFBAXFHBEAgACABQX5xIAJyNgIQIAAgACgCDEEBajYCDAsPCxACAAsL4CYjAEGACAuBHk9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9ucyBzaG91bGQgbWFudWFsbHkgbWFyayB0aGVtc2VsdmVzIGFzIGRpcnR5AGlzRGlydHkAbWFya0RpcnR5AGRlc3Ryb3kAc2V0RGlzcGxheQBnZXREaXNwbGF5AHNldEZsZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABzZXRGbGV4R3JvdwBnZXRGbGV4R3JvdwBzZXRPdmVyZmxvdwBnZXRPdmVyZmxvdwBoYXNOZXdMYXlvdXQAY2FsY3VsYXRlTGF5b3V0AGdldENvbXB1dGVkTGF5b3V0AHVuc2lnbmVkIHNob3J0AGdldENoaWxkQ291bnQAdW5zaWduZWQgaW50AHNldEp1c3RpZnlDb250ZW50AGdldEp1c3RpZnlDb250ZW50AGF2YWlsYWJsZUhlaWdodCBpcyBpbmRlZmluaXRlIHNvIGhlaWdodFNpemluZ01vZGUgbXVzdCBiZSBTaXppbmdNb2RlOjpNYXhDb250ZW50AGF2YWlsYWJsZVdpZHRoIGlzIGluZGVmaW5pdGUgc28gd2lkdGhTaXppbmdNb2RlIG11c3QgYmUgU2l6aW5nTW9kZTo6TWF4Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRHYXBQZXJjZW50AHNldFBvc2l0aW9uUGVyY2VudABzZXRNYXJnaW5QZXJjZW50AHNldE1heFdpZHRoUGVyY2VudABzZXRXaWR0aFBlcmNlbnQAc2V0TWluV2lkdGhQZXJjZW50AHNldFBhZGRpbmdQZXJjZW50AGhhbmRsZS50eXBlKCkgPT0gU3R5bGVWYWx1ZUhhbmRsZTo6VHlwZTo6UG9pbnQgfHwgaGFuZGxlLnR5cGUoKSA9PSBTdHlsZVZhbHVlSGFuZGxlOjpUeXBlOjpQZXJjZW50AGNyZWF0ZURlZmF1bHQAdW5pdAByaWdodABoZWlnaHQAc2V0TWF4SGVpZ2h0AGdldE1heEhlaWdodABzZXRIZWlnaHQAZ2V0SGVpZ2h0AHNldE1pbkhlaWdodABnZXRNaW5IZWlnaHQAZ2V0Q29tcHV0ZWRIZWlnaHQAZ2V0Q29tcHV0ZWRSaWdodABsZWZ0AGdldENvbXB1dGVkTGVmdAByZXNldABfX2Rlc3RydWN0AGZsb2F0AHVpbnQ2NF90AHVzZVdlYkRlZmF1bHRzAHNldFVzZVdlYkRlZmF1bHRzAHNldEFsaWduSXRlbXMAZ2V0QWxpZ25JdGVtcwBzZXRGbGV4QmFzaXMAZ2V0RmxleEJhc2lzAENhbm5vdCBnZXQgbGF5b3V0IHByb3BlcnRpZXMgb2YgbXVsdGktZWRnZSBzaG9ydGhhbmRzAHNldFBvaW50U2NhbGVGYWN0b3IATWVhc3VyZUNhbGxiYWNrV3JhcHBlcgBEaXJ0aWVkQ2FsbGJhY2tXcmFwcGVyAENhbm5vdCByZXNldCBhIG5vZGUgc3RpbGwgYXR0YWNoZWQgdG8gYSBvd25lcgBzZXRCb3JkZXIAZ2V0Qm9yZGVyAGdldENvbXB1dGVkQm9yZGVyAGdldE51bWJlcgBoYW5kbGUudHlwZSgpID09IFN0eWxlVmFsdWVIYW5kbGU6OlR5cGU6Ok51bWJlcgB1bnNpZ25lZCBjaGFyAHRvcABnZXRDb21wdXRlZFRvcABzZXRGbGV4V3JhcABnZXRGbGV4V3JhcABzZXRHYXAAZ2V0R2FwACVwAHNldEhlaWdodEF1dG8Ac2V0RmxleEJhc2lzQXV0bwBzZXRQb3NpdGlvbkF1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0RGlyZWN0aW9uAGdldERpcmVjdGlvbgBzZXRNYXJnaW4AZ2V0TWFyZ2luAGdldENvbXB1dGVkTWFyZ2luAG1hcmtMYXlvdXRTZWVuAG5hbgBib3R0b20AZ2V0Q29tcHV0ZWRCb3R0b20AYm9vbABlbXNjcmlwdGVuOjp2YWwAc2V0RmxleFNocmluawBnZXRGbGV4U2hyaW5rAHNldEFsd2F5c0Zvcm1zQ29udGFpbmluZ0Jsb2NrAE1lYXN1cmVDYWxsYmFjawBEaXJ0aWVkQ2FsbGJhY2sAZ2V0TGVuZ3RoAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAcHVzaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1NtYWxsVmFsdWVCdWZmZXIuaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1N0eWxlVmFsdWVQb29sLmgAdW5zaWduZWQgbG9uZwBzZXRCb3hTaXppbmcAZ2V0Qm94U2l6aW5nAHN0ZDo6d3N0cmluZwBzdGQ6OnN0cmluZwBzdGQ6OnUxNnN0cmluZwBzdGQ6OnUzMnN0cmluZwBzZXRQYWRkaW5nAGdldFBhZGRpbmcAZ2V0Q29tcHV0ZWRQYWRkaW5nAFRyaWVkIHRvIGNvbnN0cnVjdCBZR05vZGUgd2l0aCBudWxsIGNvbmZpZwBBdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAHNldEVycmF0YQBnZXRFcnJhdGEATWVhc3VyZSBmdW5jdGlvbiByZXR1cm5lZCBhbiBpbnZhbGlkIGRpbWVuc2lvbiB0byBZb2dhOiBbd2lkdGg9JWYsIGhlaWdodD0lZl0ARXhwZWN0IGN1c3RvbSBiYXNlbGluZSBmdW5jdGlvbiB0byBub3QgcmV0dXJuIE5hTgBOQU4ASU5GAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVk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")){var D=T;T=t.locateFile?t.locateFile(D,s):s+D}function N(){var e=T;try{if(e==T&&a)return new Uint8Array(a);if(_(e))try{var t=Ze(e.slice(37)),n=new Uint8Array(t.length);for(e=0;e<t.length;++e)n[e]=t.charCodeAt(e);var i=n}catch(e){throw Error("Converting base64 string to bytes failed.")}else i=void 0;if(i)return i;throw"both async and sync fetching of the wasm failed"}catch(e){P(e)}}function L(e){for(;0<e.length;)e.shift()(t)}function O(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function k(e,t){return e=O(e),function(){return t.apply(this,arguments)}}var U=[{},{value:void 0},{value:null},{value:!0},{value:!1}],F=[];function Q(e){var t=Error,n=k(e,function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var V=void 0;function H(e){throw new V(e)}var G=e=>(e||H("Cannot use deleted val. handle = "+e),U[e].value),z=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=F.length?F.pop():U.length;return U[t]={ga:1,value:e},t}},W=void 0,X=void 0;function j(e){for(var t="";h[e];)t+=X[h[e++]];return t}var q=[];function Y(){for(;q.length;){var e=q.pop();e.M.$=!1,e.delete()}}var J=void 0,Z={};function K(e,t){for(void 0===t&&H("ptr should not be undefined");e.R;)t=e.ba(t),e=e.R;return t}var $={};function ee(e){var t=j(e=$e(e));return nt(e),t}function te(e,t){var n=$[e];return void 0===n&&H(t+" has unknown type "+ee(e)),n}function ne(){}var ie=!1;function se(e){--e.count.value,0===e.count.value&&(e.T?e.U.W(e.T):e.P.N.W(e.O))}function ae(e,t,n){return t===n?e:void 0===n.R||null===(e=ae(e,t,n.R))?null:n.na(e)}var oe={},le=void 0;function ce(e){throw new le(e)}function ue(e,t){return t.P&&t.O||ce("makeClassHandle requires ptr and ptrType"),!!t.U!=!!t.T&&ce("Both smartPtrType and smartPtr must be specified"),t.count={value:1},de(Object.create(e,{M:{value:t}}))}function de(e){return"undefined"==typeof FinalizationRegistry?(de=e=>e,e):(ie=new FinalizationRegistry(e=>{se(e.M)}),ne=e=>{ie.unregister(e)},(de=e=>{var t=e.M;return t.T&&ie.register(e,{M:t},e),e})(e))}var he={};function pe(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function fe(e){return this.fromWireType(g[e>>2])}var ge={},Ae={};function me(e,t,n){function i(t){(t=n(t)).length!==e.length&&ce("Mismatched type converter count");for(var i=0;i<e.length;++i)ye(e[i],t[i])}e.forEach(function(e){Ae[e]=t});var r=Array(t.length),s=[],a=0;t.forEach((e,t)=>{$.hasOwnProperty(e)?r[t]=$[e]:(s.push(e),ge.hasOwnProperty(e)||(ge[e]=[]),ge[e].push(()=>{r[t]=$[e],++a===s.length&&i(r)}))}),0===s.length&&i(r)}function ve(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ye(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=t.name;if(e||H('type "'+i+'" must have a positive integer typeid pointer'),$.hasOwnProperty(e)){if(n.ua)return;H("Cannot register type '"+i+"' twice")}$[e]=t,delete Ae[e],ge.hasOwnProperty(e)&&(t=ge[e],delete ge[e],t.forEach(e=>e()))}function Ee(e){H(e.M.P.N.name+" instance already deleted")}function Se(){}function be(e,t,n){if(void 0===e[t].S){var i=e[t];e[t]=function(){return e[t].S.hasOwnProperty(arguments.length)||H("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].S+")!"),e[t].S[arguments.length].apply(this,arguments)},e[t].S=[],e[t].S[i.Z]=i}}function xe(e,t,n,i,r,s,a,o){this.name=e,this.constructor=t,this.X=n,this.W=i,this.R=r,this.pa=s,this.ba=a,this.na=o,this.ja=[]}function we(e,t,n){for(;t!==n;)t.ba||H("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.ba(e),t=t.R;return e}function Ie(e,t){return null===t?(this.ea&&H("null is not a valid "+this.name),0):(t.M||H('Cannot pass "'+Le(t)+'" as a '+this.name),t.M.O||H("Cannot pass deleted object as a pointer of type "+this.name),we(t.M.O,t.M.P.N,this.N))}function Ce(e,t){if(null===t){if(this.ea&&H("null is not a valid "+this.name),this.da){var n=this.fa();return null!==e&&e.push(this.W,n),n}return 0}if(t.M||H('Cannot pass "'+Le(t)+'" as a '+this.name),t.M.O||H("Cannot pass deleted object as a pointer of type "+this.name),!this.ca&&t.M.P.ca&&H("Cannot convert argument of type "+(t.M.U?t.M.U.name:t.M.P.name)+" to parameter type "+this.name),n=we(t.M.O,t.M.P.N,this.N),this.da)switch(void 0===t.M.T&&H("Passing raw pointer to smart pointer is illegal"),this.Ba){case 0:t.M.U===this?n=t.M.T:H("Cannot convert argument of type "+(t.M.U?t.M.U.name:t.M.P.name)+" to parameter type "+this.name);break;case 1:n=t.M.T;break;case 2:if(t.M.U===this)n=t.M.T;else{var i=t.clone();n=this.xa(n,z(function(){i.delete()})),null!==e&&e.push(this.W,n)}break;default:H("Unsupporting sharing policy")}return n}function Te(e,t){return null===t?(this.ea&&H("null is not a valid "+this.name),0):(t.M||H('Cannot pass "'+Le(t)+'" as a '+this.name),t.M.O||H("Cannot pass deleted object as a pointer of type "+this.name),t.M.P.ca&&H("Cannot convert argument of type "+t.M.P.name+" to parameter type "+this.name),we(t.M.O,t.M.P.N,this.N))}function Me(e,t,n,i){this.name=e,this.N=t,this.ea=n,this.ca=i,this.da=!1,this.W=this.xa=this.fa=this.ka=this.Ba=this.wa=void 0,void 0!==t.R?this.toWireType=Ce:(this.toWireType=i?Ie:Te,this.V=null)}function Be(e,n){var i=(e=j(e)).includes("j")?function(e,n){var i=[];return function(){if(i.length=0,Object.assign(i,arguments),e.includes("j")){var r=t["dynCall_"+e];r=i&&i.length?r.apply(null,[n].concat(i)):r.call(null,n)}else r=b.get(n).apply(null,i);return r}}(e,n):b.get(n);return"function"!=typeof i&&H("unknown function pointer with signature "+e+": "+n),i}var Re=void 0;function Pe(e,t){var n=[],i={};throw t.forEach(function e(t){i[t]||$[t]||(Ae[t]?Ae[t].forEach(e):(n.push(t),i[t]=!0))}),new Re(e+": "+n.map(ee).join([", "]))}function _e(e,t,n,i,r){var s=t.length;2>s&&H("argTypes array size mismatch! Must at least get return value and 'this' types!");var a=null!==t[1]&&null!==n,o=!1;for(n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].V){o=!0;break}var l="void"!==t[0].name,c=s-2,u=Array(c),d=[],h=[];return function(){if(arguments.length!==c&&H("function "+e+" called with "+arguments.length+" arguments, expected "+c+" args!"),h.length=0,d.length=a?2:1,d[0]=r,a){var n=t[1].toWireType(h,this);d[1]=n}for(var s=0;s<c;++s)u[s]=t[s+2].toWireType(h,arguments[s]),d.push(u[s]);if(s=i.apply(null,d),o)pe(h);else for(var p=a?1:2;p<t.length;p++){var f=1===p?n:u[p-2];null!==t[p].V&&t[p].V(f)}return l?t[0].fromWireType(s):void 0}}function De(e,t){for(var n=[],i=0;i<e;i++)n.push(A[t+4*i>>2]);return n}function Ne(e){4<e&&0===--U[e].ga&&(U[e]=void 0,F.push(e))}function Le(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Oe(e,t){switch(t){case 2:return function(e){return this.fromWireType(m[e>>2])};case 3:return function(e){return this.fromWireType(v[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function ke(e,t,n){switch(t){case 0:return n?function(e){return d[e]}:function(e){return h[e]};case 1:return n?function(e){return p[e>>1]}:function(e){return f[e>>1]};case 2:return n?function(e){return g[e>>2]}:function(e){return A[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Ue(e,t){for(var n="",i=0;!(i>=t/2);++i){var r=p[e+2*i>>1];if(0==r)break;n+=String.fromCharCode(r)}return n}function Fe(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var i=t;n=(n-=2)<2*e.length?n/2:e.length;for(var r=0;r<n;++r)p[t>>1]=e.charCodeAt(r),t+=2;return p[t>>1]=0,t-i}function Qe(e){return 2*e.length}function Ve(e,t){for(var n=0,i="";!(n>=t/4);){var r=g[e+4*n>>2];if(0==r)break;++n,65536<=r?(r-=65536,i+=String.fromCharCode(55296|r>>10,56320|1023&r)):i+=String.fromCharCode(r)}return i}function He(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var i=t;n=i+n-4;for(var r=0;r<e.length;++r){var s=e.charCodeAt(r);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++r)),g[t>>2]=s,(t+=4)+4>n)break}return g[t>>2]=0,t-i}function Ge(e){for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);55296<=i&&57343>=i&&++n,t+=4}return t}var ze={};function We(e){var t=ze[e];return void 0===t?j(e):t}var Xe=[],je=[],qe=[null,[],[]];V=t.BindingError=Q("BindingError"),t.count_emval_handles=function(){for(var e=0,t=5;t<U.length;++t)void 0!==U[t]&&++e;return e},t.get_first_emval=function(){for(var e=5;e<U.length;++e)if(void 0!==U[e])return U[e];return null},W=t.PureVirtualError=Q("PureVirtualError");for(var Ye=Array(256),Je=0;256>Je;++Je)Ye[Je]=String.fromCharCode(Je);X=Ye,t.getInheritedInstanceCount=function(){return Object.keys(Z).length},t.getLiveInheritedInstances=function(){var e,t=[];for(e in Z)Z.hasOwnProperty(e)&&t.push(Z[e]);return t},t.flushPendingDeletes=Y,t.setDelayFunction=function(e){J=e,q.length&&J&&J(Y)},le=t.InternalError=Q("InternalError"),Se.prototype.isAliasOf=function(e){if(!(this instanceof Se&&e instanceof Se))return!1;var t=this.M.P.N,n=this.M.O,i=e.M.P.N;for(e=e.M.O;t.R;)n=t.ba(n),t=t.R;for(;i.R;)e=i.ba(e),i=i.R;return t===i&&n===e},Se.prototype.clone=function(){if(this.M.O||Ee(this),this.M.aa)return this.M.count.value+=1,this;var e=de,t=Object,n=t.create,i=Object.getPrototypeOf(this),r=this.M;return(e=e(n.call(t,i,{M:{value:{count:r.count,$:r.$,aa:r.aa,O:r.O,P:r.P,T:r.T,U:r.U}}}))).M.count.value+=1,e.M.$=!1,e},Se.prototype.delete=function(){this.M.O||Ee(this),this.M.$&&!this.M.aa&&H("Object already scheduled for deletion"),ne(this),se(this.M),this.M.aa||(this.M.T=void 0,this.M.O=void 0)},Se.prototype.isDeleted=function(){return!this.M.O},Se.prototype.deleteLater=function(){return this.M.O||Ee(this),this.M.$&&!this.M.aa&&H("Object already scheduled for deletion"),q.push(this),1===q.length&&J&&J(Y),this.M.$=!0,this},Me.prototype.qa=function(e){return this.ka&&(e=this.ka(e)),e},Me.prototype.ha=function(e){this.W&&this.W(e)},Me.prototype.argPackAdvance=8,Me.prototype.readValueFromPointer=fe,Me.prototype.deleteObject=function(e){null!==e&&e.delete()},Me.prototype.fromWireType=function(e){function t(){return this.da?ue(this.N.X,{P:this.wa,O:n,U:this,T:e}):ue(this.N.X,{P:this,O:e})}var n=this.qa(e);if(!n)return this.ha(e),null;var i=function(e,t){return t=K(e,t),Z[t]}(this.N,n);if(void 0!==i)return 0===i.M.count.value?(i.M.O=n,i.M.T=e,i.clone()):(i=i.clone(),this.ha(e),i);if(i=this.N.pa(n),!(i=oe[i]))return t.call(this);i=this.ca?i.la:i.pointerType;var r=ae(n,this.N,i.N);return null===r?t.call(this):this.da?ue(i.N.X,{P:i,O:r,U:this,T:e}):ue(i.N.X,{P:i,O:r})},Re=t.UnboundTypeError=Q("UnboundTypeError");var Ze="function"==typeof atob?atob:function(e){var t="",n=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));i=i<<2|r>>4,r=(15&r)<<4|s>>2;var o=(3&s)<<6|a;t+=String.fromCharCode(i),64!==s&&(t+=String.fromCharCode(r)),64!==a&&(t+=String.fromCharCode(o))}while(n<e.length);return t},Ke={l:function(e,t,n,i){P("Assertion failed: "+(e?E(h,e):"")+", at: "+[t?t?E(h,t):"":"unknown filename",n,i?i?E(h,i):"":"unknown function"])},q:function(e,t,n){e=j(e),t=te(t,"wrapper"),n=G(n);var i=[].slice,r=t.N,s=r.X,a=r.R.X,o=r.R.constructor;for(var l in e=k(e,function(){r.R.ja.forEach(function(e){if(this[e]===a[e])throw new W("Pure virtual function "+e+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:s}),this.__construct.apply(this,i.call(arguments))}),s.__construct=function(){this===s&&H("Pass correct 'this' to __construct");var e=o.implement.apply(void 0,[this].concat(i.call(arguments)));ne(e);var t=e.M;e.notifyOnDestruction(),t.aa=!0,Object.defineProperties(this,{M:{value:t}}),de(this),e=t.O,e=K(r,e),Z.hasOwnProperty(e)?H("Tried to register registered instance: "+e):Z[e]=this},s.__destruct=function(){this===s&&H("Pass correct 'this' to __destruct"),ne(this);var e=this.M.O;e=K(r,e),Z.hasOwnProperty(e)?delete Z[e]:H("Tried to unregister unregistered instance: "+e)},e.prototype=Object.create(s),n)e.prototype[l]=n[l];return z(e)},j:function(e){var t=he[e];delete he[e];var n=t.fa,i=t.W,r=t.ia;me([e],r.map(e=>e.ta).concat(r.map(e=>e.za)),e=>{var s={};return r.forEach((t,n)=>{var i=e[n],a=t.ra,o=t.sa,l=e[n+r.length],c=t.ya,u=t.Aa;s[t.oa]={read:e=>i.fromWireType(a(o,e)),write:(e,t)=>{var n=[];c(u,e,l.toWireType(n,t)),pe(n)}}}),[{name:t.name,fromWireType:function(e){var t,n={};for(t in s)n[t]=s[t].read(e);return i(e),n},toWireType:function(e,t){for(var r in s)if(!(r in t))throw new TypeError('Missing field:  "'+r+'"');var a=n();for(r in s)s[r].write(a,t[r]);return null!==e&&e.push(i,a),a},argPackAdvance:8,readValueFromPointer:fe,V:i}]})},v:function(){},B:function(e,t,n,i,r){var s=ve(n);ye(e,{name:t=j(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?i:r},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var i=d;else if(2===n)i=p;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);i=g}return this.fromWireType(i[e>>s])},V:null})},f:function(e,n,i,r,s,a,o,l,c,u,d,h,p){d=j(d),a=Be(s,a),l&&(l=Be(o,l)),u&&(u=Be(c,u)),p=Be(h,p);var f=O(d);!function(e,n){t.hasOwnProperty(e)?(H("Cannot register public name '"+e+"' twice"),be(t,e,e),t.hasOwnProperty(void 0)&&H("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),t[e].S[void 0]=n):t[e]=n}(f,function(){Pe("Cannot construct "+d+" due to unbound types",[r])}),me([e,n,i],r?[r]:[],function(n){if(n=n[0],r)var i=n.N,s=i.X;else s=Se.prototype;n=k(f,function(){if(Object.getPrototypeOf(this)!==o)throw new V("Use 'new' to construct "+d);if(void 0===c.Y)throw new V(d+" has no accessible constructor");var e=c.Y[arguments.length];if(void 0===e)throw new V("Tried to invoke ctor of "+d+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(c.Y).toString()+") parameters instead!");return e.apply(this,arguments)});var o=Object.create(s,{constructor:{value:n}});n.prototype=o;var c=new xe(d,n,o,p,i,a,l,u);i=new Me(d,c,!0,!1),s=new Me(d+"*",c,!1,!1);var h=new Me(d+" const*",c,!1,!0);return oe[e]={pointerType:s,la:h},function(e,n){t.hasOwnProperty(e)||ce("Replacing nonexistant public symbol"),t[e]=n,t[e].Z=void 0}(f,n),[i,s,h]})},d:function(e,t,n,i,r,s,a){var o=De(n,i);t=j(t),s=Be(r,s),me([],[e],function(e){function i(){Pe("Cannot call "+r+" due to unbound types",o)}var r=(e=e[0]).name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var l=e.N.constructor;return void 0===l[t]?(i.Z=n-1,l[t]=i):(be(l,t,r),l[t].S[n-1]=i),me([],o,function(e){return e=_e(r,[e[0],null].concat(e.slice(1)),null,s,a),void 0===l[t].S?(e.Z=n-1,l[t]=e):l[t].S[n-1]=e,[]}),[]})},p:function(e,t,n,i,r,s){0<t||P();var a=De(t,n);r=Be(i,r),me([],[e],function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.N.Y&&(e.N.Y=[]),void 0!==e.N.Y[t-1])throw new V("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.N.Y[t-1]=()=>{Pe("Cannot construct "+e.name+" due to unbound types",a)},me([],a,function(i){return i.splice(1,0,null),e.N.Y[t-1]=_e(n,i,null,r,s),[]}),[]})},a:function(e,t,n,i,r,s,a,o){var l=De(n,i);t=j(t),s=Be(r,s),me([],[e],function(e){function i(){Pe("Cannot call "+r+" due to unbound types",l)}var r=(e=e[0]).name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),o&&e.N.ja.push(t);var c=e.N.X,u=c[t];return void 0===u||void 0===u.S&&u.className!==e.name&&u.Z===n-2?(i.Z=n-2,i.className=e.name,c[t]=i):(be(c,t,r),c[t].S[n-2]=i),me([],l,function(i){return i=_e(r,i,e,s,a),void 0===c[t].S?(i.Z=n-2,c[t]=i):c[t].S[n-2]=i,[]}),[]})},A:function(e,t){ye(e,{name:t=j(t),fromWireType:function(e){var t=G(e);return Ne(e),t},toWireType:function(e,t){return z(t)},argPackAdvance:8,readValueFromPointer:fe,V:null})},n:function(e,t,n){n=ve(n),ye(e,{name:t=j(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Oe(t,n),V:null})},e:function(e,t,n,i,r){t=j(t),-1===r&&(r=4294967295),r=ve(n);var s=e=>e;if(0===i){var a=32-8*n;s=e=>e<<a>>>a}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},ye(e,{name:t,fromWireType:s,toWireType:n,argPackAdvance:8,readValueFromPointer:ke(t,r,0!==i),V:null})},b:function(e,t,n){function i(e){var t=A;return new r(u,t[1+(e>>=2)],t[e])}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];ye(e,{name:n=j(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ua:!0})},o:function(e,t){var n="std::string"===(t=j(t));ye(e,{name:t,fromWireType:function(e){var t=A[e>>2],i=e+4;if(n)for(var r=i,s=0;s<=t;++s){var a=i+s;if(s==t||0==h[a]){if(r=r?E(h,r,a-r):"",void 0===o)var o=r;else o+=String.fromCharCode(0),o+=r;r=a+1}}else{for(o=Array(t),s=0;s<t;++s)o[s]=String.fromCharCode(h[i+s]);o=o.join("")}return nt(e),o},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i,r="string"==typeof t;if(r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||H("Cannot pass non-string to std::string"),n&&r){var s=0;for(i=0;i<t.length;++i){var a=t.charCodeAt(i);127>=a?s++:2047>=a?s+=2:55296<=a&&57343>=a?(s+=4,++i):s+=3}i=s}else i=t.length;if(a=(s=tt(4+i+1))+4,A[s>>2]=i,n&&r){if(r=a,a=i+1,i=h,0<a){a=r+a-1;for(var o=0;o<t.length;++o){var l=t.charCodeAt(o);if(55296<=l&&57343>=l&&(l=65536+((1023&l)<<10)|1023&t.charCodeAt(++o)),127>=l){if(r>=a)break;i[r++]=l}else{if(2047>=l){if(r+1>=a)break;i[r++]=192|l>>6}else{if(65535>=l){if(r+2>=a)break;i[r++]=224|l>>12}else{if(r+3>=a)break;i[r++]=240|l>>18,i[r++]=128|l>>12&63}i[r++]=128|l>>6&63}i[r++]=128|63&l}}i[r]=0}}else if(r)for(r=0;r<i;++r)255<(o=t.charCodeAt(r))&&(nt(a),H("String has UTF-16 code units that do not fit in 8 bits")),h[a+r]=o;else for(r=0;r<i;++r)h[a+r]=t[r];return null!==e&&e.push(nt,s),s},argPackAdvance:8,readValueFromPointer:fe,V:function(e){nt(e)}})},i:function(e,t,n){if(n=j(n),2===t)var i=Ue,r=Fe,s=Qe,a=()=>f,o=1;else 4===t&&(i=Ve,r=He,s=Ge,a=()=>A,o=2);ye(e,{name:n,fromWireType:function(e){for(var n,r=A[e>>2],s=a(),l=e+4,c=0;c<=r;++c){var u=e+4+c*t;c!=r&&0!=s[u>>o]||(l=i(l,u-l),void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),l=u+t)}return nt(e),n},toWireType:function(e,i){"string"!=typeof i&&H("Cannot pass non-string to C++ string type "+n);var a=s(i),l=tt(4+a+t);return A[l>>2]=a>>o,r(i,l+4,a+t),null!==e&&e.push(nt,l),l},argPackAdvance:8,readValueFromPointer:fe,V:function(e){nt(e)}})},k:function(e,t,n,i,r,s){he[e]={name:j(t),fa:Be(n,i),W:Be(r,s),ia:[]}},h:function(e,t,n,i,r,s,a,o,l,c){he[e].ia.push({oa:j(t),ta:n,ra:Be(i,r),sa:s,za:a,ya:Be(o,l),Aa:c})},C:function(e,t){ye(e,{va:!0,name:t=j(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},s:function(e,t,n,i,r){e=Xe[e],t=G(t),n=We(n);var s=[];return A[i>>2]=z(s),e(t,n,s,r)},t:function(e,t,n,i){(e=Xe[e])(t=G(t),n=We(n),null,i)},g:Ne,m:function(e,t){var n=function(e,t){for(var n=Array(e),i=0;i<e;++i)n[i]=te(A[t+4*i>>2],"parameter "+i);return n}(e,t),i=n[0];t=i.name+"_$"+n.slice(1).map(function(e){return e.name}).join("_")+"$";var r=je[t];if(void 0!==r)return r;var s=Array(e-1);return r=function(e){var t=Xe.length;return Xe.push(e),t}((t,r,a,o)=>{for(var l=0,c=0;c<e-1;++c)s[c]=n[c+1].readValueFromPointer(o+l),l+=n[c+1].argPackAdvance;for(t=t[r].apply(t,s),c=0;c<e-1;++c)n[c+1].ma&&n[c+1].ma(s[c]);if(!i.va)return i.toWireType(a,t)}),je[t]=r},D:function(e){4<e&&(U[e].ga+=1)},r:function(e){pe(G(e)),Ne(e)},c:function(){P("")},x:function(e,t,n){h.copyWithin(e,t,t+n)},w:function(e){var t=h.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var i=t*(1+.2/n);i=Math.min(i,e+100663296);var r=Math;i=Math.max(e,i),r=r.min.call(r,2147483648,i+(65536-i%65536)%65536);e:{try{c.grow(r-u.byteLength+65535>>>16),S();var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1},z:function(){return 52},u:function(){return 70},y:function(e,t,n,i){for(var r=0,s=0;s<n;s++){var a=A[t>>2],c=A[t+4>>2];t+=8;for(var u=0;u<c;u++){var d=h[a+u],p=qe[e];0===d||10===d?((1===e?o:l)(E(p,0)),p.length=0):p.push(d)}r+=c}return A[i>>2]=r,0}};!function(){function e(e){t.asm=e.exports,c=t.asm.E,S(),b=t.asm.J,w.unshift(t.asm.F),M--,t.monitorRunDependencies&&t.monitorRunDependencies(M),0==M&&(null!==B&&(clearInterval(B),B=null),R&&(e=R,R=null,e()))}function n(t){e(t.instance)}function r(e){return(a||"function"!=typeof fetch?Promise.resolve().then(function(){return N()}):fetch(T,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+T+"'";return e.arrayBuffer()}).catch(function(){return N()})).then(function(e){return WebAssembly.instantiate(e,s)}).then(function(e){return e}).then(e,function(e){l("failed to asynchronously prepare wasm: "+e),P(e)})}var s={a:Ke};if(M++,t.monitorRunDependencies&&t.monitorRunDependencies(M),t.instantiateWasm)try{return t.instantiateWasm(s,e)}catch(e){l("Module.instantiateWasm callback failed with error: "+e),i(e)}(a||"function"!=typeof WebAssembly.instantiateStreaming||_(T)||"function"!=typeof fetch?r(n):fetch(T,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,s).then(n,function(e){return l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),r(n)})})).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.F).apply(null,arguments)};var $e=t.___getTypeName=function(){return($e=t.___getTypeName=t.asm.G).apply(null,arguments)};t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.H).apply(null,arguments)};var et,tt=t._malloc=function(){return(tt=t._malloc=t.asm.I).apply(null,arguments)},nt=t._free=function(){return(nt=t._free=t.asm.K).apply(null,arguments)};function it(){function e(){if(!et&&(et=!0,t.calledRun=!0,!y)){if(L(w),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();I.unshift(e)}L(I)}}if(!(0<M)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)C();L(x),0<M||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.L).apply(null,arguments)},R=function e(){et||it(),et||(R=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return it(),e.ready});const ae=se;let oe=function(e){return e[e.Auto=0]="Auto",e[e.FlexStart=1]="FlexStart",e[e.Center=2]="Center",e[e.FlexEnd=3]="FlexEnd",e[e.Stretch=4]="Stretch",e[e.Baseline=5]="Baseline",e[e.SpaceBetween=6]="SpaceBetween",e[e.SpaceAround=7]="SpaceAround",e[e.SpaceEvenly=8]="SpaceEvenly",e}({}),le=function(e){return e[e.BorderBox=0]="BorderBox",e[e.ContentBox=1]="ContentBox",e}({}),ce=function(e){return e[e.Width=0]="Width",e[e.Height=1]="Height",e}({}),ue=function(e){return e[e.Inherit=0]="Inherit",e[e.LTR=1]="LTR",e[e.RTL=2]="RTL",e}({}),de=function(e){return e[e.Flex=0]="Flex",e[e.None=1]="None",e[e.Contents=2]="Contents",e}({}),he=function(e){return e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom",e[e.Start=4]="Start",e[e.End=5]="End",e[e.Horizontal=6]="Horizontal",e[e.Vertical=7]="Vertical",e[e.All=8]="All",e}({}),pe=function(e){return e[e.None=0]="None",e[e.StretchFlexBasis=1]="StretchFlexBasis",e[e.AbsolutePositionWithoutInsetsExcludesPadding=2]="AbsolutePositionWithoutInsetsExcludesPadding",e[e.AbsolutePercentAgainstInnerSize=4]="AbsolutePercentAgainstInnerSize",e[e.All=2147483647]="All",e[e.Classic=2147483646]="Classic",e}({}),fe=function(e){return e[e.WebFlexBasis=0]="WebFlexBasis",e}({}),ge=function(e){return e[e.Column=0]="Column",e[e.ColumnReverse=1]="ColumnReverse",e[e.Row=2]="Row",e[e.RowReverse=3]="RowReverse",e}({}),Ae=function(e){return e[e.Column=0]="Column",e[e.Row=1]="Row",e[e.All=2]="All",e}({}),me=function(e){return e[e.FlexStart=0]="FlexStart",e[e.Center=1]="Center",e[e.FlexEnd=2]="FlexEnd",e[e.SpaceBetween=3]="SpaceBetween",e[e.SpaceAround=4]="SpaceAround",e[e.SpaceEvenly=5]="SpaceEvenly",e}({}),ve=function(e){return e[e.Error=0]="Error",e[e.Warn=1]="Warn",e[e.Info=2]="Info",e[e.Debug=3]="Debug",e[e.Verbose=4]="Verbose",e[e.Fatal=5]="Fatal",e}({}),ye=function(e){return e[e.Undefined=0]="Undefined",e[e.Exactly=1]="Exactly",e[e.AtMost=2]="AtMost",e}({}),Ee=function(e){return e[e.Default=0]="Default",e[e.Text=1]="Text",e}({}),Se=function(e){return e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.Scroll=2]="Scroll",e}({}),be=function(e){return e[e.Static=0]="Static",e[e.Relative=1]="Relative",e[e.Absolute=2]="Absolute",e}({}),xe=function(e){return e[e.Undefined=0]="Undefined",e[e.Point=1]="Point",e[e.Percent=2]="Percent",e[e.Auto=3]="Auto",e}({}),we=function(e){return e[e.NoWrap=0]="NoWrap",e[e.Wrap=1]="Wrap",e[e.WrapReverse=2]="WrapReverse",e}({});const Ie={ALIGN_AUTO:oe.Auto,ALIGN_FLEX_START:oe.FlexStart,ALIGN_CENTER:oe.Center,ALIGN_FLEX_END:oe.FlexEnd,ALIGN_STRETCH:oe.Stretch,ALIGN_BASELINE:oe.Baseline,ALIGN_SPACE_BETWEEN:oe.SpaceBetween,ALIGN_SPACE_AROUND:oe.SpaceAround,ALIGN_SPACE_EVENLY:oe.SpaceEvenly,BOX_SIZING_BORDER_BOX:le.BorderBox,BOX_SIZING_CONTENT_BOX:le.ContentBox,DIMENSION_WIDTH:ce.Width,DIMENSION_HEIGHT:ce.Height,DIRECTION_INHERIT:ue.Inherit,DIRECTION_LTR:ue.LTR,DIRECTION_RTL:ue.RTL,DISPLAY_FLEX:de.Flex,DISPLAY_NONE:de.None,DISPLAY_CONTENTS:de.Contents,EDGE_LEFT:he.Left,EDGE_TOP:he.Top,EDGE_RIGHT:he.Right,EDGE_BOTTOM:he.Bottom,EDGE_START:he.Start,EDGE_END:he.End,EDGE_HORIZONTAL:he.Horizontal,EDGE_VERTICAL:he.Vertical,EDGE_ALL:he.All,ERRATA_NONE:pe.None,ERRATA_STRETCH_FLEX_BASIS:pe.StretchFlexBasis,ERRATA_ABSOLUTE_POSITION_WITHOUT_INSETS_EXCLUDES_PADDING:pe.AbsolutePositionWithoutInsetsExcludesPadding,ERRATA_ABSOLUTE_PERCENT_AGAINST_INNER_SIZE:pe.AbsolutePercentAgainstInnerSize,ERRATA_ALL:pe.All,ERRATA_CLASSIC:pe.Classic,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:fe.WebFlexBasis,FLEX_DIRECTION_COLUMN:ge.Column,FLEX_DIRECTION_COLUMN_REVERSE:ge.ColumnReverse,FLEX_DIRECTION_ROW:ge.Row,FLEX_DIRECTION_ROW_REVERSE:ge.RowReverse,GUTTER_COLUMN:Ae.Column,GUTTER_ROW:Ae.Row,GUTTER_ALL:Ae.All,JUSTIFY_FLEX_START:me.FlexStart,JUSTIFY_CENTER:me.Center,JUSTIFY_FLEX_END:me.FlexEnd,JUSTIFY_SPACE_BETWEEN:me.SpaceBetween,JUSTIFY_SPACE_AROUND:me.SpaceAround,JUSTIFY_SPACE_EVENLY:me.SpaceEvenly,LOG_LEVEL_ERROR:ve.Error,LOG_LEVEL_WARN:ve.Warn,LOG_LEVEL_INFO:ve.Info,LOG_LEVEL_DEBUG:ve.Debug,LOG_LEVEL_VERBOSE:ve.Verbose,LOG_LEVEL_FATAL:ve.Fatal,MEASURE_MODE_UNDEFINED:ye.Undefined,MEASURE_MODE_EXACTLY:ye.Exactly,MEASURE_MODE_AT_MOST:ye.AtMost,NODE_TYPE_DEFAULT:Ee.Default,NODE_TYPE_TEXT:Ee.Text,OVERFLOW_VISIBLE:Se.Visible,OVERFLOW_HIDDEN:Se.Hidden,OVERFLOW_SCROLL:Se.Scroll,POSITION_TYPE_STATIC:be.Static,POSITION_TYPE_RELATIVE:be.Relative,POSITION_TYPE_ABSOLUTE:be.Absolute,UNIT_UNDEFINED:xe.Undefined,UNIT_POINT:xe.Point,UNIT_PERCENT:xe.Percent,UNIT_AUTO:xe.Auto,WRAP_NO_WRAP:we.NoWrap,WRAP_WRAP:we.Wrap,WRAP_WRAP_REVERSE:we.WrapReverse};Math.cos(.25*Math.PI);const Ce=[new o.Zcv,new o.Zcv,new o.Zcv,new o.Zcv],Te=new o.Pq0;class Me{planes;facePlane;originalCenter;constructor(e,t,n,i,r){this.originalCenter=new o.Pq0(t,n,0).applyMatrix4(e),this.facePlane=new o.Zcv(new o.Pq0(0,0,1),0).applyMatrix4(e);const s=i/2,a=r/2,l=n+a,c=t+s,u=-n+a,d=-t+s;this.planes=[new o.Zcv(new o.Pq0(0,-1,0),u).applyMatrix4(e),new o.Zcv(new o.Pq0(-1,0,0),d).applyMatrix4(e),new o.Zcv(new o.Pq0(0,1,0),l).applyMatrix4(e),new o.Zcv(new o.Pq0(1,0,0),c).applyMatrix4(e)]}min({planes:e}){for(let t=0;t<4;t++){const n=this.facePlane,i=e[t],r=n.normal.dot(i.normal);if(Math.abs(r)>.99)return this;const s=Ce[t];if(Math.abs(r)<.01){s.copy(i);continue}s.normal.crossVectors(n.normal,i.normal).normalize().cross(n.normal).negate();const a=1-r*r,o=(n.constant-i.constant*r)/a,l=(i.constant-n.constant*r)/a;Te.copy(n.normal).multiplyScalar(o).addScaledVector(i.normal,l),s.constant=-Te.dot(s.normal)}const t=this.planes[0].normal;Ce[0].normal.dot(t);for(let t=0;t<4;t++){const n=this.planes[t],i=(t+0)%4;Ce[i].distanceToPoint(this.originalCenter)<n.distanceToPoint(this.originalCenter)&&n.copy(e[i])}return this}toArray(e,t){for(let n=0;n<4;n++){const{normal:i,constant:r}=this.planes[n];i.toArray(e,t),e[t+3]=r,t+=4}}}const Be=[new o.Pq0,new o.Pq0,new o.Pq0,new o.Pq0],Re=[[-.5,-.5],[.5,-.5],[.5,.5],[-.5,.5]],Pe=new o.Zcv(new o.Pq0(-1,0,0),Number.MAX_SAFE_INTEGER),_e=new Float32Array(16);for(let e=0;e<4;e++)Pe.normal.toArray(_e,4*e),_e[4*e+3]=Pe.constant;function De(e){const t=()=>e.root.peek().component.parent?.matrixWorld;return new Array(4).fill(void 0).map((n,i)=>new Le(()=>e.parentContainer.peek()?.clippingRect.value?.planes[i],t))}const Ne=new o.Zcv;class Le{getLocalPlane;getGlobalMatrix;get normal(){return this.computeInto(Ne),Ne.normal}get constant(){return this.computeInto(Ne),Ne.constant}isPlane=!0;constructor(e,t){this.getLocalPlane=e,this.getGlobalMatrix=t}computeInto(e){const t=this.getLocalPlane(),n=this.getGlobalMatrix();return null==t||null==n?e.copy(Pe):e.copy(t).applyMatrix4(n)}set(e,t){return this}setComponents(e,t,n,i){return this}setFromNormalAndCoplanarPoint(e,t){return this}setFromCoplanarPoints(e,t,n){return this}clone(){return this.computeInto(new o.Zcv)}copy(e){return this.computeInto(e),this}normalize(){return this}negate(){return this}distanceToPoint(e){return this.computeInto(Ne).distanceToPoint(e)}distanceToSphere(e){return this.computeInto(Ne).distanceToSphere(e)}projectPoint(e,t){return this.computeInto(Ne).projectPoint(e,t)}intersectLine(e,t){return this.computeInto(Ne).intersectLine(e,t)}intersectsLine(e){return this.computeInto(Ne).intersectsLine(e)}intersectsBox(e){return this.computeInto(Ne).intersectsBox(e)}intersectsSphere(e){return this.computeInto(Ne).intersectsSphere(e)}coplanarPoint(e){return this.computeInto(Ne).coplanarPoint(e)}applyMatrix4(e,t){return this}translate(e){return this}equals(e){return this.computeInto(Ne).equals(e)}isIntersectionLine(e){return this.computeInto(Ne).isIntersectionLine(e)}}function Oe(e,t,n,i,r,s,a,o,l,c,u){Rn(()=>{if(null==n.value)return;const u=new AbortController,d=t.value.panelGroupManager.getGroup(n.value,i.value);return new Fe(e,d,n.value.patchIndex,r,s,a,o,l,c,u.signal),()=>u.abort()},u)}const ke=new o.kn4;function Ue(e,t,n,r){return(0,i.EW)(()=>{const i=n.value,s=t.value;if(null==i||null==s)return;const[a,l]=i,c=e.value.pixelSize,u=new o.kn4;if(u.makeScale(a*c,l*c,1),null!=r){const[e,t]=r.value;u.premultiply(ke.makeTranslation(e*c,t*c,0))}return u.premultiply(s)})}class Fe{group;minorIndex;matrix;size;borderInset;clippingRect;materialConfig;indexInBucket;bucket;insertedIntoGroup=!1;active=(0,i.vP)(!1);abortController;constructor(e,t,n,i,r,s,a,o,l,c){this.group=t,this.minorIndex=n,this.matrix=i,this.size=r,this.borderInset=s,this.clippingRect=a,this.materialConfig=l;const u=l.setters;Rn(()=>{if(o.value&&this.active.value)return e.subscribePropertyKeys(t=>{l.hasProperty(t)&&Rn(()=>{const n=this.getIndexInBuffer();if(null==n)return;const{instanceData:i,instanceDataOnUpdate:s,root:a}=this.group;u[t](i.array,i.itemSize*n,e.value[t],r,e.signal.opacity,s),a.requestRender?.()},c)})},c);const d=l.computedIsVisibile(e,s,r,o);Rn(()=>{d.value?this.requestShow():this.hide()},c),c.addEventListener("abort",()=>this.hide())}setIndexInBucket(e){this.indexInBucket=e}getIndexInBuffer(){if(null!=this.bucket&&null!=this.indexInBucket)return this.bucket.offset+this.indexInBucket}activate(e,t){this.bucket=e,this.indexInBucket=t,this.active.value=!0,this.abortController=new AbortController,Rn(()=>{if(null==this.matrix.value)return;const e=this.getIndexInBuffer();if(null==e)return;const t=16*e,{instanceMatrix:n,root:i}=this.group;this.matrix.value.toArray(n.array,t),n.addUpdateRange(t,16),n.needsUpdate=!0,i.requestRender?.()},this.abortController.signal),Rn(()=>{const e=this.getIndexInBuffer();if(null==e||null==this.size.value)return;const[t,n]=this.size.value,{instanceData:i,root:r}=this.group,{array:s}=i,a=16*e+14;s[a]=t,s[a+1]=n,i.addUpdateRange(a,2),i.needsUpdate=!0,r.requestRender?.()},this.abortController.signal),Rn(()=>{const e=this.getIndexInBuffer();if(null==e||null==this.borderInset.value)return;const{instanceData:t,root:n}=this.group,i=16*e+0;t.array.set(this.borderInset.value,i),t.addUpdateRange(i,4),t.needsUpdate=!0,n.requestRender?.()},this.abortController.signal),Rn(()=>{const e=this.getIndexInBuffer();if(null==e)return;const{instanceClipping:t,root:n}=this.group,i=16*e,r=this.clippingRect?.value;null!=r?r.toArray(t.array,i):t.array.set(_e,i),t.addUpdateRange(i,16),t.needsUpdate=!0,n.requestRender?.()},this.abortController.signal)}requestShow(){this.insertedIntoGroup||(this.insertedIntoGroup=!0,this.group.insert(this.minorIndex,this))}hide(){this.insertedIntoGroup&&(this.active.value=!1,this.group.delete(this.minorIndex,this.indexInBucket,this),this.insertedIntoGroup=!1,this.bucket=void 0,this.indexInBucket=void 0,this.abortController?.abort(),this.abortController=void 0)}}function Qe(e,t,n){if(null==t)return n;const i=e[t];if(null==i)throw new Error(`unexpected value ${t}, expected ${Object.keys(e).join(", ")}`);return i}function Ve(e,t){return null==e||"string"!=typeof e?e:e.endsWith("vw")?(t.component.size.value?.[0]??0)*parseFloat(e)/100:e.endsWith("vh")?(t.component.size.value?.[1]??0)*parseFloat(e)/100:e}const He={static:0,relative:1,absolute:2},Ge={auto:0,"flex-start":1,center:2,"flex-end":3,stretch:4,baseline:5,"space-between":6,"space-around":7,"space-evenly":8},ze={column:0,"column-reverse":1,row:2,"row-reverse":3},We={"no-wrap":0,wrap:1,"wrap-reverse":2},Xe={"flex-start":0,center:1,"flex-end":2,"space-between":3,"space-around":4,"space-evenly":5},je={visible:0,hidden:1,scroll:2},qe={flex:0,none:1,contents:2},Ye={positionType:(e,t,n)=>{t.setPositionType(Qe(He,n,1))},positionTop:(e,t,n)=>{"auto"!==n?t.setPosition(1,Ve(n,e)):t.setPositionAuto(1)},positionLeft:(e,t,n)=>{"auto"!==n?t.setPosition(0,Ve(n,e)):t.setPositionAuto(0)},positionRight:(e,t,n)=>{"auto"!==n?t.setPosition(2,Ve(n,e)):t.setPositionAuto(2)},positionBottom:(e,t,n)=>{"auto"!==n?t.setPosition(3,Ve(n,e)):t.setPositionAuto(3)},alignContent:(e,t,n)=>{t.setAlignContent(Qe(Ge,n,4))},alignItems:(e,t,n)=>{t.setAlignItems(Qe(Ge,n,4))},alignSelf:(e,t,n)=>{t.setAlignSelf(Qe(Ge,n,0))},flexDirection:(e,t,n)=>{t.setFlexDirection(Qe(ze,n,2))},flexWrap:(e,t,n)=>{t.setFlexWrap(Qe(We,n,0))},justifyContent:(e,t,n)=>{t.setJustifyContent(Qe(Xe,n,0))},marginTop:(e,t,n)=>{"auto"!==n?t.setMargin(1,Ve(n,e)):t.setMarginAuto(1)},marginLeft:(e,t,n)=>{"auto"!==n?t.setMargin(0,Ve(n,e)):t.setMarginAuto(0)},marginRight:(e,t,n)=>{"auto"!==n?t.setMargin(2,Ve(n,e)):t.setMarginAuto(2)},marginBottom:(e,t,n)=>{"auto"!==n?t.setMargin(3,Ve(n,e)):t.setMarginAuto(3)},flexBasis:(e,t,n)=>{"auto"!==n?t.setFlexBasis(Ve(n,e)??NaN):t.setFlexBasisAuto()},flexGrow:(e,t,n)=>{t.setFlexGrow(n??0)},flexShrink:(e,t,n)=>{t.setFlexShrink(n??1)},width:(e,t,n)=>{"auto"!==n?t.setWidth(Ve(n,e)??NaN):t.setWidthAuto()},height:(e,t,n)=>{"auto"!==n?t.setHeight(Ve(n,e)??NaN):t.setHeightAuto()},minWidth:(e,t,n)=>{t.setMinWidth(Ve(n,e))},minHeight:(e,t,n)=>{t.setMinHeight(Ve(n,e))},maxWidth:(e,t,n)=>{t.setMaxWidth(Ve(n,e))},maxHeight:(e,t,n)=>{t.setMaxHeight(Ve(n,e))},boxSizing:(e,t,n)=>{t.setBoxSizing(n??0)},aspectRatio:(e,t,n)=>{t.setAspectRatio(n)},borderTopWidth:(e,t,n)=>{t.setBorder(1,n)},borderLeftWidth:(e,t,n)=>{t.setBorder(0,n)},borderRightWidth:(e,t,n)=>{t.setBorder(2,n)},borderBottomWidth:(e,t,n)=>{t.setBorder(3,n)},overflow:(e,t,n)=>{t.setOverflow(Qe(je,n,0))},display:(e,t,n)=>{t.setDisplay(Qe(qe,n,0))},paddingTop:(e,t,n)=>{t.setPadding(1,Ve(n,e))},paddingLeft:(e,t,n)=>{t.setPadding(0,Ve(n,e))},paddingRight:(e,t,n)=>{t.setPadding(2,Ve(n,e))},paddingBottom:(e,t,n)=>{t.setPadding(3,Ve(n,e))},gapRow:(e,t,n)=>{t.setGap(1,Ve(n,e))},gapColumn:(e,t,n)=>{t.setGap(0,Ve(n,e))},direction:(e,t,n)=>{t.setDirection(n??0)}},Je=100,Ze=(0,i.vP)(void 0);(async function(){return function(e){function t(e,t,n){const i=e[t];e[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.call(this,i,...t)}}for(const n of["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding","setGap"]){const i={[xe.Point]:e.Node.prototype[n],[xe.Percent]:e.Node.prototype[`${n}Percent`],[xe.Auto]:e.Node.prototype[`${n}Auto`]};t(e.Node.prototype,n,function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const a=r.pop();let o,l;if("auto"===a)o=xe.Auto,l=void 0;else if("object"==typeof a)o=a.unit,l=a.valueOf();else if(o="string"==typeof a&&a.endsWith("%")?xe.Percent:xe.Point,l=parseFloat(a),void 0!==a&&!Number.isNaN(a)&&Number.isNaN(l))throw new Error(`Invalid value ${a} for ${n}`);if(!i[o])throw new Error(`Failed to execute "${n}": Unsupported unit '${a}'`);return void 0!==l?i[o].call(this,...r,l):i[o].call(this,...r)})}return t(e.Node.prototype,"setMeasureFunc",function(t,n){return n?t.call(this,(i=n,e.MeasureCallback.implement({measure:function(){const{width:e,height:t}=i(...arguments);return{width:e??NaN,height:t??NaN}}}))):this.unsetMeasureFunc();var i}),t(e.Node.prototype,"setDirtiedFunc",function(t,n){var i;t.call(this,(i=n,e.DirtiedCallback.implement({dirtied:i})))}),t(e.Config.prototype,"free",function(){e.Config.destroy(this)}),t(e.Node,"create",(t,n)=>n?e.Node.createWithConfig(n):e.Node.createDefault()),t(e.Node.prototype,"free",function(){e.Node.destroy(this)}),t(e.Node.prototype,"freeRecursive",function(){for(let e=0,t=this.getChildCount();e<t;++e)this.getChild(0).freeRecursive();this.free()}),t(e.Node.prototype,"calculateLayout",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue.LTR;return e.call(this,t,n,i)}),{Config:e.Config,Node:e.Node,...Ie}}(await ae())})().then(({Node:e,Config:t})=>{const n=function(e){const t=e.create();return t.setUseWebDefaults(!0),t.setPointScaleFactor(Je),t.setExperimentalFeatureEnabled(fe.WebFlexBasis,!0),t}(t);Ze.value=()=>e.create(n)}).catch(console.error);class Ke{component;children=[];yogaNode;layoutChangeListeners=new Set;customLayouting;active=(0,i.vP)(!1);constructor(e){this.component=e,Rn(()=>{const e=Ze.value?.();if(null!=e)return this.yogaNode=e,this.active.value=!0,this.updateMeasureFunction(),()=>{this.yogaNode?.getParent()?.removeChild(this.yogaNode),this.yogaNode?.free()}},e.abortSignal),Rn(()=>{if(!this.active.value)return;const t=new AbortController,n=e.properties.subscribePropertyKeys(n=>{(function(e){return"measureFunc"===e||e in Ye})(n)&&Rn(()=>{Ye[n](e.root.value,this.yogaNode,e.properties.value[n]),this.component.root.peek().requestCalculateLayout()},t.signal)});return()=>{n(),t.abort()}},e.abortSignal),Rn(()=>{const t=e.parentContainer.value;if(null!=t)return t.node.addChild(this),()=>t.node.removeChild(this)},e.abortSignal)}setCustomLayouting(e){this.customLayouting=e,this.updateMeasureFunction()}updateMeasureFunction(){var e,t;null!=this.customLayouting&&this.active.value&&(e=this.yogaNode,null!=(t=this.customLayouting.measure)?(e.setMeasureFunc((e,n,i,r)=>{const s=t(e,n,i,r);return s.width=Math.ceil(s.width*Je)/Je,s.height=Math.ceil(s.height*Je)/Je,s}),e.markDirty()):e.setMeasureFunc(null),this.component.root.peek().requestCalculateLayout())}calculateLayout(){null!=this.yogaNode&&(this.commit(this.yogaNode.getFlexDirection()),this.yogaNode.calculateLayout(void 0,void 0),(0,i.vA)(()=>this.updateMeasurements(!0,void 0,void 0)))}addChild(e){this.children.push(e),this.component.root.peek().requestCalculateLayout()}removeChild(e){const t=this.children.indexOf(e);-1!==t&&(this.children.splice(t,1),this.component.root.peek().requestCalculateLayout())}commit(e){if(null==this.yogaNode)throw new Error("commit cannot be called without a yoga node");const t=e===ge.Column||e===ge.ColumnReverse;if(null!=this.customLayouting&&void 0===this.component.properties.peek()[t?"minHeight":"minWidth"]&&this.yogaNode[t?"setMinHeight":"setMinWidth"](t?this.customLayouting.minHeight:this.customLayouting.minWidth),null==this.component.properties.peek().flexShrink){const e=null!=this.component.properties.peek().height;this.yogaNode.setFlexShrink(e&&t?0:void 0)}let n;this.children.sort((e,t)=>{if(n??=e.component.parent?.children,null==n)return 0;const i=e.component,r=t.component,s=n.indexOf(i);if(-1===s)throw new Error("parent mismatch");const a=n.indexOf(r);if(-1===a)throw new Error("parent mismatch");return s-a});let i=0,r=this.yogaNode.getChild(i),s=this.children[i];for(;null!=s||null!=r;)if(null!=s&&null!=r&&nt(r,tt(s.yogaNode)))s=this.children[++i],r=this.yogaNode.getChild(i);else{if(null!=r&&this.yogaNode.removeChild(r),null!=s){const e=tt(s.yogaNode);e.getParent()?.removeChild(e),this.yogaNode.insertChild(e,i),s=this.children[++i]}r=this.yogaNode.getChild(i)}const a=this.children.length;for(let e=0;e<a;e++)this.children[e].commit(this.yogaNode.getFlexDirection())}updateMeasurements(e,t,n){if(null==this.yogaNode)throw new Error("update measurements cannot be called without a yoga node");this.component.overflow.value=this.yogaNode.getOverflow(),e&&=this.yogaNode.getDisplay()!=de.None,this.component.displayed.value=e;const i=this.yogaNode.getComputedWidth(),r=this.yogaNode.getComputedHeight();$e(this.component.size,i,r),t??=i,n??=r;const s=this.yogaNode.getComputedLeft(),a=this.yogaNode.getComputedTop(),o=s+.5*i-.5*t,l=-(a+.5*r-.5*n);$e(this.component.relativeCenter,o,l);const c=this.yogaNode.getComputedPadding(he.Top),u=this.yogaNode.getComputedPadding(he.Left),d=this.yogaNode.getComputedPadding(he.Right),h=this.yogaNode.getComputedPadding(he.Bottom);et(this.component.paddingInset,c,d,h,u);const p=this.yogaNode.getComputedBorder(he.Top),f=this.yogaNode.getComputedBorder(he.Right),g=this.yogaNode.getComputedBorder(he.Bottom),A=this.yogaNode.getComputedBorder(he.Left);et(this.component.borderInset,p,f,g,A);for(const e of this.layoutChangeListeners)e();const m=this.children.length;let v=0,y=0;for(let t=0;t<m;t++){const[n,s]=this.children[t].updateMeasurements(e,i,r);v=Math.max(v,n),y=Math.max(y,s)}if(v-=A,y-=p,this.component.overflow.value===Se.Scroll){v+=d,y+=u;const e=v-(i-A-f),t=y-(r-p-g),n=e>.5,s=t>.5;$e(this.component.maxScrollPosition,n?e:void 0,s?t:void 0),$e(this.component.scrollable,n,s)}else $e(this.component.maxScrollPosition,void 0,void 0),$e(this.component.scrollable,!1,!1);const E=this.component.overflow.value===Se.Visible;return[s+Math.max(i,E?v:0),a+Math.max(r,E?y:0)]}addLayoutChangeListener(e){return this.layoutChangeListeners.add(e),()=>{this.layoutChangeListeners.delete(e)}}}function $e(e,t,n){if(null!=e.value){const[i,r]=e.value;if(i===t&&r===n)return}e.value=[t,n]}function et(e,t,n,i,r){if(null!=e.value){const[s,a,o,l]=e.value;if(s==t&&a==n&&o==i&&l==r)return}e.value=[t,n,i,r]}function tt(e){if(null==e)throw new Error("commit cannot be called with a children that miss a yoga node");return e}function nt(e,t){return e.M.O===t.M.O}const it=Object.assign({},{borderWidth:["borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth"],borderXWidth:["borderLeftWidth","borderRightWidth"],borderYWidth:["borderTopWidth","borderBottomWidth"],inset:["positionTop","positionLeft","positionRight","positionBottom"],padding:["paddingBottom","paddingTop","paddingLeft","paddingRight"],paddingX:["paddingLeft","paddingRight"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],paddingY:["paddingTop","paddingBottom"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],margin:["marginBottom","marginTop","marginLeft","marginRight"],marginX:["marginLeft","marginRight"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],marginY:["marginTop","marginBottom"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],gap:["gapRow","gapColumn"]},{borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],borderTopRadius:["borderTopLeftRadius","borderTopRightRadius"],borderLeftRadius:["borderTopLeftRadius","borderBottomLeftRadius"],borderRightRadius:["borderTopRightRadius","borderBottomRightRadius"],borderBottomRadius:["borderBottomLeftRadius","borderBottomRightRadius"]},{scrollbarBorderRadius:["scrollbarBorderTopLeftRadius","scrollbarBorderTopRightRadius","scrollbarBorderBottomLeftRadius","scrollbarBorderBottomRightRadius"],scrollbarBorderTopRadius:["scrollbarBorderTopLeftRadius","scrollbarBorderTopRightRadius"],scrollbarBorderLeftRadius:["scrollbarBorderTopLeftRadius","scrollbarBorderBottomLeftRadius"],scrollbarBorderRightRadius:["scrollbarBorderTopRightRadius","scrollbarBorderBottomRightRadius"],scrollbarBorderBottomRadius:["scrollbarBorderBottomLeftRadius","scrollbarBorderBottomRightRadius"],scrollbarBorderWidth:["scrollbarBorderBottomWidth","scrollbarBorderTopWidth","scrollbarBorderLeftWidth","scrollbarBorderRightWidth"],scrollbarBorderXWidth:["scrollbarBorderLeftWidth","scrollbarBorderRightWidth"],scrollbarBorderYWidth:["scrollbarBorderTopWidth","scrollbarBorderBottomWidth"]},{transformScale:["transformScaleX","transformScaleY","transformScaleZ"]},{caretBorderRadius:["caretBorderTopLeftRadius","caretBorderTopRightRadius","caretBorderBottomLeftRadius","caretBorderBottomRightRadius"],caretBorderTopRadius:["caretBorderTopLeftRadius","caretBorderTopRightRadius"],caretBorderLeftRadius:["caretBorderTopLeftRadius","caretBorderBottomLeftRadius"],caretBorderRightRadius:["caretBorderTopRightRadius","caretBorderBottomRightRadius"],caretBorderBottomRadius:["caretBorderBottomLeftRadius","caretBorderBottomRightRadius"],caretBorderWidth:["caretBorderBottomWidth","caretBorderTopWidth","caretBorderLeftWidth","caretBorderRightWidth"],caretBorderXWidth:["caretBorderLeftWidth","caretBorderRightWidth"],caretBorderYWidth:["caretBorderTopWidth","caretBorderBottomWidth"]},{selectionBorderRadius:["selectionBorderTopLeftRadius","selectionBorderTopRightRadius","selectionBorderBottomLeftRadius","selectionBorderBottomRightRadius"],selectionBorderTopRadius:["selectionBorderTopLeftRadius","selectionBorderTopRightRadius"],selectionBorderLeftRadius:["selectionBorderTopLeftRadius","selectionBorderBottomLeftRadius"],selectionBorderRightRadius:["selectionBorderTopRightRadius","selectionBorderBottomRightRadius"],selectionBorderBottomRadius:["selectionBorderBottomLeftRadius","selectionBorderBottomRightRadius"],selectionBorderWidth:["selectionBorderBottomWidth","selectionBorderTopWidth","selectionBorderLeftWidth","selectionBorderRightWidth"],selectionBorderXWidth:["selectionBorderLeftWidth","selectionBorderRightWidth"],selectionBorderYWidth:["selectionBorderTopWidth","selectionBorderBottomWidth"]}),rt="undefined"==typeof matchMedia?void 0:matchMedia?.("(prefers-color-scheme: dark)"),st=(0,i.vP)(rt?.matches??!1);rt?.addEventListener("change",e=>st.value=e.matches);const at=(0,i.vP)("system"),ot=(0,i.EW)(()=>{switch(at.value){case"system":return st.value;case"dark":return!0;case"light":return!1}});function lt(e){at.value=e}function ct(){return at.peek()}function ut({dark:e,light:t}){const n={};for(const r in e)n[r]=(0,i.EW)(()=>ot.value?e[r]:t[r]);return n}const dt={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},ht=Object.keys(dt),pt=ht.length;function ft(e){const t={};for(let n=0;n<pt;n++){const i=ht[n];t[i]=()=>(e.value.component.size.value?.[0]??0)>dt[i]}return t}function gt(e){return{hover:()=>e.value.length>0}}function At(e){return{active:()=>e.value.length>0}}const mt={dark:()=>ot.value};function vt(e){return null==e?{focus:()=>!1}:{focus:()=>e.value}}const yt=["dark","hover","active","focus",...ht];class Et{apply;defaults;onLayerIndicesChanged;enabled=!1;value=new Proxy({},{get:(e,t)=>this.getSignal(t).value});signal=new Proxy({},{get:(e,t)=>this.getSignal(t)});peekProxy=new Proxy({},{get:(e,t)=>this.peekValue(t)});propertyStateMap={};propertiesLayers=new Map;propertyKeys;propertyKeySubscriptions=new Set;constructor(e,t,n){this.apply=e,this.defaults=t,this.onLayerIndicesChanged=n,this.propertyKeys=null==t?[]:Array.from(Object.keys(t))}peek(){return this.peekProxy}subscribePropertyKeys(e){for(const t of this.propertyKeys)e(t);return this.propertyKeySubscriptions.add(e),()=>this.propertyKeySubscriptions.delete(e)}clearProvidedLayer(e,t){this.propertiesLayers.delete(t);for(const n in e){if(void 0===e[n])continue;const i=this.propertyStateMap[n];null!=i&&(i.cleanup?.(),i.cleanup=void 0,i.layerIndex==t&&this.update(n,i))}}setLayer(e,t){let n=this.propertiesLayers.get(e);const r=null==n;(0,i.vA)(()=>{if(null!=n&&this.clearProvidedLayer(n,e),void 0===t)return;this.propertiesLayers.set(e,n={});const i=Object.entries(t);for(const[t,r]of i)this.apply(t,r,this.setProperty.bind(this,n,e),e)}),r&&this.onLayerIndicesChanged?.()}getSignal(e){let t=this.propertyStateMap[e];return null==t&&(this.propertyStateMap[e]=t={signal:new i.HN,layerIndex:null},this.update(e,t)),t.signal}peekValue(e){let t=this.propertyStateMap[e];if(null!=t)return t.signal.peek();const n=this.defaults?.[e],r=Array.from(this.propertiesLayers.keys()).sort((e,t)=>e-t),[s]=(0,i.O8)(()=>St(0,r,this.propertiesLayers,e,n));return s}set(e,t,n){let i=this.propertiesLayers.get(e);null==i&&this.propertiesLayers.set(e,i={}),this.apply(t,n,this.setProperty.bind(this,i,e),e)}setProperty(e,t,n,i){if(!this.propertyKeys.includes(n)){this.propertyKeys.push(n);for(const e of this.propertyKeySubscriptions)e(n)}if(e[n]===i)return;e[n]=i;const r=this.propertyStateMap[n];null!=r&&(null!=r.layerIndex&&t>r.layerIndex||this.enabled&&this.update(n,r))}update(e,t){t.cleanup?.(),t.cleanup=void 0;const n=this.defaults?.[e];let r;if(r=this.enabled?St(0,Array.from(this.propertiesLayers.keys()).sort((e,t)=>e-t),this.propertiesLayers,e,n,r=>t.cleanup=(0,i.QZ)(()=>{const[i,s]=St(r,Array.from(this.propertiesLayers.keys()).sort((e,t)=>e-t),this.propertiesLayers,e,n);t.signal.value=i,t.layerIndex=s})):n instanceof i.HN?[n.peek(),1/0]:[n,Number.MAX_SAFE_INTEGER],null==r)return;const[s,a]=r;t.signal.value=s,t.layerIndex=a}setEnabled(e){this.enabled!==e&&(this.enabled=e,this.updateAll())}updateAll(){for(const e in this.propertyStateMap)this.update(e,this.propertyStateMap[e])}destroy(){for(const e in this.propertyStateMap)this.propertyStateMap[e].cleanup?.();this.propertyStateMap={},this.propertyKeySubscriptions.clear()}}function St(e,t,n,r,s,a){let o,l;const c=t[Symbol.iterator]();do{if(l=c.next().value??Number.MAX_SAFE_INTEGER,!(l<e)){if(o=l===Number.MAX_SAFE_INTEGER?s:n.get(l)[r],"object"==typeof o&&o instanceof i.HN){if(null!=a)return void a(l);o=o.value}if(void 0!==o)break}}while(l!=Number.MAX_SAFE_INTEGER);return"initial"===o&&(o=s),[o,l]}const bt={important:0,placeholderStyle:1002,focus:2004,active:3006,hover:4008,dark:5010,"2xl":6012,xl:7014,lg:8016,md:9018,sm:10020,base:11022},xt=Object.keys(bt).filter(e=>"base"!=e);function wt(e){if("class"!=e.type&&"default-overrides"!=e.type&&"base"!=e.type)return"star-inheritance"===e.type?12024:12025;const t=bt[e.section];if("class"!=e.type)return"default-overrides"===e.type?t+1e3+1:t;const n=e.classIndex;if(n>=1e3)throw new Error(`class index "${n}" exceeds the maximum number of classes (1000)`);return t+999-n+1}const It={scrollbarWidth:10,visibility:"visible",opacity:1,depthTest:!0,renderOrder:0,fontSize:16,letterSpacing:0,lineHeight:"120%",wordBreak:"break-word",verticalAlign:"middle",textAlign:"left",fontWeight:"normal",caretWidth:1.5,receiveShadow:!1,castShadow:!1,panelMaterialClass:o.V9B,pixelSize:.01,anchorX:"center",anchorY:"center",tabSize:8,whiteSpace:"normal"};class Ct extends Et{conditionals;usedConditionals={hover:(0,i.vP)(!1),active:(0,i.vP)(!1)};constructor(e,t,n){super((t,n,i)=>{if(t in e){const r=e[t];for(const e of r)i(e,n);return}i(t,n)},n,()=>{this.usedConditionals.active.value=Tt(this.propertiesLayers,"active"),this.usedConditionals.hover.value=Tt(this.propertiesLayers,"hover")}),this.conditionals=t}setLayersWithConditionals(e,t){(0,i.vA)(()=>{this.setLayer(wt({...e,section:"base"}),t);for(const n of xt){const r=wt({...e,section:n});if(null==t||!(n in t)){this.setLayer(r,void 0);continue}const s="important"!=n?this.conditionals[n]:void 0;let a=t[n];null!=s&&(a=Object.fromEntries(Object.entries(a).map(([e,t])=>[e,(0,i.EW)(()=>s()?t instanceof i.HN?t.value:t:void 0)]))),this.setLayer(r,a)}})}}function Tt(e,t){const n=wt({type:"base",section:t});for(const t of e.keys())if(n<=t&&t<n+1002)return!0;return!1}const Mt=new o.Pq0,Bt=new o.Pq0,Rt=new o.Pq0,Pt=new o.kn4,_t=new o.O9p,Dt=new o.PTz,Nt=Math.PI/180;const Lt={};class Ot{properties;starProperties;list=[];constructor(e,t){this.properties=e,this.starProperties=t}*[Symbol.iterator](){for(const e in this.list)null!=e&&(yield e)}set(...e){const t=Math.max(e.length,this.list.length);this.list.length=e.length;for(let n=0;n<t;n++){const t={type:"class",classIndex:n},i=e[n];let r=null==i?void 0:this.resolveClassRef(i);this.properties.setLayersWithConditionals(t,r),this.starProperties.setLayersWithConditionals(t,kt(r))}}add(...e){(0,i.vA)(()=>{for(const t of e){let e=0;for(;null!=this.list[e];)e++;this.list[e]=t;const n={type:"class",classIndex:e},i=this.resolveClassRef(t);this.properties.setLayersWithConditionals(n,i),this.starProperties.setLayersWithConditionals(n,kt(i))}})}remove(...e){(0,i.vA)(()=>{for(const t of e){const e=this.list.indexOf(t);if(-1===e)return void console.warn(`Class '${t}' not found in the classList`);e+1===this.list.length?this.list.splice(e,1):this.list[e]=void 0;const n={type:"class",classIndex:e};this.properties.setLayersWithConditionals(n,void 0),this.starProperties.setLayersWithConditionals(n,void 0)}})}toggle(e){this.contains(e)?this.remove(e):this.add(e)}contains(e){return this.list.includes(e)}replace(e,t){return!!this.contains(e)&&(this.remove(e),this.add(t),!0)}resolveClassRef(e){if(null!=e){if("string"!=typeof e)return e;if(e in Lt)return Lt[e];console.warn(`class "${e}" not present in the global stylesheet`)}}}function kt(e){if(null==e)return;let t;"*"in e&&(t={...e["*"]});for(const n in yt){const i=e[n]?.["*"];null!=i&&(t??={},t[n]=i)}return t}const Ut=new Map,Ft=new o.Tap;const Qt={thin:100,"extra-light":200,light:300,normal:400,medium:500,"semi-bold":600,bold:700,"extra-bold":800,black:900,"extra-black":950},Vt={inter:{light:{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:7,height:57,xoffset:4,yoffset:3,xadvance:14,chnl:15,x:0,y:0,page:0},{id:106,index:77,char:"j",width:12,height:46,xoffset:-3,yoffset:12,xadvance:10,chnl:15,x:8,y:0,page:0},{id:36,index:7,char:"$",width:26,height:45,xoffset:1,yoffset:9,xadvance:28,chnl:15,x:21,y:0,page:0},{id:196,index:133,char:"",width:31,height:45,xoffset:-1,yoffset:4,xadvance:30,chnl:15,x:48,y:0,page:0},{id:214,index:151,char:"",width:32,height:45,xoffset:1,yoffset:4,xadvance:33,chnl:15,x:80,y:0,page:0},{id:220,index:157,char:"",width:28,height:45,xoffset:2,yoffset:4,xadvance:32,chnl:15,x:113,y:0,page:0},{id:40,index:11,char:"(",width:12,height:44,xoffset:3,yoffset:11,xadvance:15,chnl:15,x:142,y:0,page:0},{id:41,index:12,char:")",width:12,height:44,xoffset:0,yoffset:11,xadvance:15,chnl:15,x:155,y:0,page:0},{id:87,index:58,char:"W",width:44,height:36,xoffset:-1,yoffset:13,xadvance:43,chnl:15,x:168,y:0,page:0},{id:91,index:62,char:"[",width:11,height:44,xoffset:3,yoffset:11,xadvance:15,chnl:15,x:213,y:0,page:0},{id:93,index:64,char:"]",width:11,height:44,xoffset:1,yoffset:11,xadvance:15,chnl:15,x:225,y:0,page:0},{id:123,index:94,char:"{",width:16,height:44,xoffset:1,yoffset:11,xadvance:18,chnl:15,x:237,y:0,page:0},{id:125,index:96,char:"}",width:16,height:44,xoffset:1,yoffset:11,xadvance:18,chnl:15,x:168,y:37,page:0},{id:64,index:35,char:"@",width:41,height:43,xoffset:1,yoffset:14,xadvance:43,chnl:15,x:185,y:45,page:0},{id:167,index:105,char:"",width:23,height:43,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:142,y:45,page:0},{id:92,index:63,char:"\\",width:17,height:42,xoffset:-1,yoffset:11,xadvance:15,chnl:15,x:166,y:82,page:0},{id:47,index:18,char:"/",width:17,height:42,xoffset:-1,yoffset:11,xadvance:15,chnl:15,x:227,y:45,page:0},{id:81,index:52,char:"Q",width:32,height:39,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:184,y:89,page:0},{id:103,index:74,char:"g",width:24,height:38,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:227,y:88,page:0},{id:37,index:8,char:"%",width:36,height:37,xoffset:3,yoffset:13,xadvance:41,chnl:15,x:217,y:127,page:0},{id:38,index:9,char:"&",width:28,height:37,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:21,y:46,page:0},{id:48,index:19,char:"0",width:26,height:37,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:50,y:46,page:0},{id:51,index:22,char:"3",width:25,height:37,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:77,y:46,page:0},{id:54,index:25,char:"6",width:25,height:37,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:103,y:46,page:0},{id:56,index:27,char:"8",width:25,height:37,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:84,page:0},{id:57,index:28,char:"9",width:25,height:37,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:26,y:84,page:0},{id:63,index:34,char:"?",width:22,height:37,xoffset:0,yoffset:13,xadvance:22,chnl:15,x:52,y:84,page:0},{id:67,index:38,char:"C",width:31,height:37,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:75,y:84,page:0},{id:71,index:42,char:"G",width:31,height:37,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:107,y:84,page:0},{id:79,index:50,char:"O",width:32,height:37,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:0,y:122,page:0},{id:83,index:54,char:"S",width:26,height:37,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:139,y:89,page:0},{id:85,index:56,char:"U",width:28,height:37,xoffset:2,yoffset:13,xadvance:32,chnl:15,x:33,y:122,page:0},{id:228,index:165,char:"",width:22,height:37,xoffset:0,yoffset:12,xadvance:24,chnl:15,x:62,y:122,page:0},{id:246,index:183,char:"",width:25,height:37,xoffset:0,yoffset:12,xadvance:26,chnl:15,x:85,y:122,page:0},{id:252,index:189,char:"",width:23,height:37,xoffset:2,yoffset:12,xadvance:26,chnl:15,x:111,y:122,page:0},{id:98,index:69,char:"b",width:24,height:37,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:135,y:127,page:0},{id:100,index:71,char:"d",width:24,height:37,xoffset:0,yoffset:13,xadvance:26,chnl:15,x:160,y:129,page:0},{id:102,index:73,char:"f",width:18,height:37,xoffset:-2,yoffset:12,xadvance:15,chnl:15,x:185,y:129,page:0},{id:105,index:76,char:"i",width:8,height:37,xoffset:1,yoffset:12,xadvance:10,chnl:15,x:217,y:89,page:0},{id:112,index:83,char:"p",width:24,height:37,xoffset:2,yoffset:21,xadvance:26,chnl:15,x:204,y:165,page:0},{id:113,index:84,char:"q",width:24,height:37,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:229,y:165,page:0},{id:119,index:90,char:"w",width:37,height:28,xoffset:0,yoffset:21,xadvance:36,chnl:15,x:0,y:160,page:0},{id:121,index:92,char:"y",width:25,height:37,xoffset:-1,yoffset:21,xadvance:24,chnl:15,x:38,y:160,page:0},{id:33,index:4,char:"!",width:9,height:36,xoffset:2,yoffset:13,xadvance:12,chnl:15,x:8,y:47,page:0},{id:35,index:6,char:"#",width:30,height:36,xoffset:-1,yoffset:13,xadvance:28,chnl:15,x:0,y:189,page:0},{id:49,index:20,char:"1",width:15,height:36,xoffset:0,yoffset:13,xadvance:17,chnl:15,x:64,y:160,page:0},{id:50,index:21,char:"2",width:24,height:36,xoffset:2,yoffset:13,xadvance:27,chnl:15,x:80,y:160,page:0},{id:52,index:23,char:"4",width:26,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:105,y:160,page:0},{id:53,index:24,char:"5",width:24,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:132,y:165,page:0},{id:55,index:26,char:"7",width:24,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:157,y:167,page:0},{id:65,index:36,char:"A",width:31,height:36,xoffset:-1,yoffset:13,xadvance:30,chnl:15,x:64,y:197,page:0},{id:66,index:37,char:"B",width:26,height:36,xoffset:2,yoffset:13,xadvance:29,chnl:15,x:31,y:198,page:0},{id:68,index:39,char:"D",width:29,height:36,xoffset:2,yoffset:13,xadvance:32,chnl:15,x:0,y:226,page:0},{id:69,index:40,char:"E",width:23,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:96,y:197,page:0},{id:70,index:41,char:"F",width:23,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:120,y:202,page:0},{id:72,index:43,char:"H",width:28,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:58,y:234,page:0},{id:73,index:44,char:"I",width:7,height:36,xoffset:2,yoffset:13,xadvance:12,chnl:15,x:129,y:46,page:0},{id:74,index:45,char:"J",width:22,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:30,y:235,page:0},{id:75,index:46,char:"K",width:27,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:0,y:263,page:0},{id:76,index:47,char:"L",width:22,height:36,xoffset:2,yoffset:13,xadvance:25,chnl:15,x:87,y:234,page:0},{id:77,index:48,char:"M",width:35,height:36,xoffset:2,yoffset:13,xadvance:40,chnl:15,x:182,y:203,page:0},{id:78,index:49,char:"N",width:29,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:144,y:204,page:0},{id:80,index:51,char:"P",width:25,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:110,y:239,page:0},{id:82,index:53,char:"R",width:26,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:218,y:203,page:0},{id:84,index:55,char:"T",width:27,height:36,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:53,y:271,page:0},{id:86,index:57,char:"V",width:31,height:36,xoffset:-1,yoffset:13,xadvance:30,chnl:15,x:0,y:300,page:0},{id:88,index:59,char:"X",width:31,height:36,xoffset:-1,yoffset:13,xadvance:29,chnl:15,x:174,y:240,page:0},{id:89,index:60,char:"Y",width:31,height:36,xoffset:-1,yoffset:13,xadvance:29,chnl:15,x:136,y:241,page:0},{id:90,index:61,char:"Z",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:81,y:271,page:0},{id:104,index:75,char:"h",width:23,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:108,y:276,page:0},{id:107,index:78,char:"k",width:23,height:36,xoffset:2,yoffset:13,xadvance:23,chnl:15,x:206,y:240,page:0},{id:108,index:79,char:"l",width:7,height:36,xoffset:2,yoffset:13,xadvance:10,chnl:15,x:245,y:45,page:0},{id:223,index:160,char:"",width:23,height:36,xoffset:2,yoffset:13,xadvance:27,chnl:15,x:230,y:240,page:0},{id:109,index:80,char:"m",width:35,height:28,xoffset:2,yoffset:21,xadvance:38,chnl:15,x:32,y:308,page:0},{id:59,index:30,char:";",width:10,height:34,xoffset:1,yoffset:22,xadvance:13,chnl:15,x:204,y:129,page:0},{id:116,index:87,char:"t",width:16,height:34,xoffset:-2,yoffset:15,xadvance:13,chnl:15,x:182,y:167,page:0},{id:97,index:68,char:"a",width:22,height:29,xoffset:0,yoffset:21,xadvance:24,chnl:15,x:68,y:308,page:0},{id:99,index:70,char:"c",width:24,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:0,y:337,page:0},{id:101,index:72,char:"e",width:25,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:25,y:337,page:0},{id:111,index:82,char:"o",width:25,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:168,y:277,page:0},{id:115,index:86,char:"s",width:22,height:29,xoffset:1,yoffset:21,xadvance:23,chnl:15,x:132,y:278,page:0},{id:110,index:81,char:"n",width:23,height:28,xoffset:2,yoffset:21,xadvance:26,chnl:15,x:194,y:277,page:0},{id:114,index:85,char:"r",width:15,height:28,xoffset:2,yoffset:21,xadvance:16,chnl:15,x:91,y:308,page:0},{id:117,index:88,char:"u",width:23,height:28,xoffset:2,yoffset:21,xadvance:26,chnl:15,x:218,y:277,page:0},{id:118,index:89,char:"v",width:25,height:28,xoffset:-1,yoffset:21,xadvance:24,chnl:15,x:194,y:306,page:0},{id:120,index:91,char:"x",width:25,height:28,xoffset:-1,yoffset:21,xadvance:23,chnl:15,x:220,y:306,page:0},{id:122,index:93,char:"z",width:22,height:28,xoffset:1,yoffset:21,xadvance:24,chnl:15,x:155,y:307,page:0},{id:58,index:29,char:":",width:9,height:27,xoffset:2,yoffset:22,xadvance:12,chnl:15,x:28,y:272,page:0},{id:60,index:31,char:"<",width:23,height:27,xoffset:2,yoffset:21,xadvance:29,chnl:15,x:107,y:313,page:0},{id:62,index:33,char:">",width:23,height:27,xoffset:4,yoffset:21,xadvance:29,chnl:15,x:131,y:313,page:0},{id:126,index:97,char:"~",width:25,height:11,xoffset:2,yoffset:29,xadvance:29,chnl:15,x:51,y:338,page:0},{id:43,index:14,char:"+",width:24,height:24,xoffset:2,yoffset:23,xadvance:29,chnl:15,x:77,y:338,page:0},{id:95,index:66,char:"_",width:24,height:7,xoffset:-2,yoffset:45,xadvance:20,chnl:15,x:185,y:37,page:0},{id:42,index:13,char:"*",width:21,height:22,xoffset:1,yoffset:13,xadvance:22,chnl:15,x:51,y:350,page:0},{id:61,index:32,char:"=",width:22,height:16,xoffset:3,yoffset:27,xadvance:29,chnl:15,x:0,y:367,page:0},{id:94,index:65,char:"^",width:20,height:18,xoffset:0,yoffset:14,xadvance:20,chnl:15,x:23,y:367,page:0},{id:176,index:113,char:"",width:18,height:18,xoffset:1,yoffset:13,xadvance:20,chnl:15,x:0,y:384,page:0},{id:45,index:16,char:"-",width:17,height:7,xoffset:1,yoffset:30,xadvance:20,chnl:15,x:32,y:300,page:0},{id:34,index:5,char:'"',width:14,height:15,xoffset:3,yoffset:13,xadvance:19,chnl:15,x:242,y:277,page:0},{id:39,index:10,char:"'",width:7,height:15,xoffset:3,yoffset:13,xadvance:13,chnl:15,x:0,y:58,page:0},{id:44,index:15,char:",",width:9,height:15,xoffset:1,yoffset:41,xadvance:12,chnl:15,x:246,y:293,page:0},{id:96,index:67,char:"`",width:10,height:10,xoffset:1,yoffset:12,xadvance:14,chnl:15,x:246,y:309,page:0},{id:46,index:17,char:".",width:9,height:9,xoffset:2,yoffset:41,xadvance:12,chnl:15,x:246,y:320,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:12,chnl:15,x:184,y:82,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:0},{first:176,second:95,amount:-3},{first:92,second:176,amount:-3},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:39,amount:-3},{first:92,second:42,amount:-3},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-1},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-1},{first:92,second:94,amount:-3},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:0},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:-1},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:0},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:-1},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:0},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:0},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:50,second:52,amount:-1},{first:51,second:176,amount:0},{first:51,second:42,amount:0},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:0},{first:52,second:176,amount:-1},{first:52,second:42,amount:-1},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-1},{first:52,second:94,amount:-1},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:0},{first:56,second:42,amount:0},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:0},{first:57,second:92,amount:0},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-1},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:0},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]},medium:{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:8,height:57,xoffset:3,yoffset:3,xadvance:15,chnl:15,x:0,y:0,page:0},{id:214,index:151,char:"",width:33,height:46,xoffset:0,yoffset:4,xadvance:34,chnl:15,x:9,y:0,page:0},{id:220,index:157,char:"",width:29,height:46,xoffset:2,yoffset:4,xadvance:33,chnl:15,x:43,y:0,page:0},{id:87,index:58,char:"W",width:46,height:36,xoffset:-1,yoffset:13,xadvance:44,chnl:15,x:73,y:0,page:0},{id:106,index:77,char:"j",width:13,height:46,xoffset:-3,yoffset:12,xadvance:11,chnl:15,x:120,y:0,page:0},{id:36,index:7,char:"$",width:28,height:45,xoffset:0,yoffset:8,xadvance:28,chnl:15,x:73,y:37,page:0},{id:196,index:133,char:"",width:33,height:45,xoffset:-1,yoffset:4,xadvance:31,chnl:15,x:9,y:47,page:0},{id:40,index:11,char:"(",width:14,height:44,xoffset:2,yoffset:11,xadvance:16,chnl:15,x:102,y:37,page:0},{id:41,index:12,char:")",width:14,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:43,y:47,page:0},{id:64,index:35,char:"@",width:42,height:44,xoffset:0,yoffset:14,xadvance:43,chnl:15,x:134,y:0,page:0},{id:91,index:62,char:"[",width:13,height:44,xoffset:3,yoffset:11,xadvance:16,chnl:15,x:58,y:47,page:0},{id:93,index:64,char:"]",width:13,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:177,y:0,page:0},{id:123,index:94,char:"{",width:18,height:44,xoffset:1,yoffset:11,xadvance:19,chnl:15,x:191,y:0,page:0},{id:125,index:96,char:"}",width:18,height:44,xoffset:0,yoffset:11,xadvance:19,chnl:15,x:210,y:0,page:0},{id:167,index:105,char:"",width:24,height:43,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:229,y:0,page:0},{id:92,index:63,char:"\\",width:19,height:42,xoffset:-1,yoffset:11,xadvance:16,chnl:15,x:229,y:44,page:0},{id:47,index:18,char:"/",width:19,height:42,xoffset:-1,yoffset:11,xadvance:16,chnl:15,x:134,y:45,page:0},{id:81,index:52,char:"Q",width:33,height:39,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:72,y:83,page:0},{id:37,index:8,char:"%",width:38,height:37,xoffset:3,yoffset:12,xadvance:44,chnl:15,x:0,y:93,page:0},{id:228,index:165,char:"",width:24,height:38,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:106,y:82,page:0},{id:246,index:183,char:"",width:26,height:38,xoffset:0,yoffset:12,xadvance:27,chnl:15,x:43,y:92,page:0},{id:252,index:189,char:"",width:24,height:38,xoffset:1,yoffset:12,xadvance:26,chnl:15,x:154,y:45,page:0},{id:102,index:73,char:"f",width:20,height:38,xoffset:-2,yoffset:11,xadvance:17,chnl:15,x:179,y:45,page:0},{id:103,index:74,char:"g",width:26,height:38,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:200,y:45,page:0},{id:119,index:90,char:"w",width:38,height:28,xoffset:-1,yoffset:21,xadvance:36,chnl:15,x:154,y:84,page:0},{id:38,index:9,char:"&",width:30,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:193,y:84,page:0},{id:48,index:19,char:"0",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:224,y:87,page:0},{id:51,index:22,char:"3",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:131,y:113,page:0},{id:54,index:25,char:"6",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:159,y:113,page:0},{id:56,index:27,char:"8",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:187,y:122,page:0},{id:57,index:28,char:"9",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:215,y:125,page:0},{id:63,index:34,char:"?",width:23,height:37,xoffset:0,yoffset:13,xadvance:23,chnl:15,x:106,y:121,page:0},{id:67,index:38,char:"C",width:32,height:37,xoffset:0,yoffset:13,xadvance:32,chnl:15,x:70,y:123,page:0},{id:71,index:42,char:"G",width:32,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:130,y:151,page:0},{id:77,index:48,char:"M",width:37,height:36,xoffset:2,yoffset:13,xadvance:40,chnl:15,x:163,y:160,page:0},{id:79,index:50,char:"O",width:33,height:37,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:201,y:163,page:0},{id:83,index:54,char:"S",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:0,y:131,page:0},{id:85,index:56,char:"U",width:29,height:37,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:29,y:131,page:0},{id:105,index:76,char:"i",width:10,height:37,xoffset:1,yoffset:12,xadvance:11,chnl:15,x:59,y:131,page:0},{id:109,index:80,char:"m",width:37,height:28,xoffset:1,yoffset:21,xadvance:39,chnl:15,x:70,y:161,page:0},{id:112,index:83,char:"p",width:26,height:37,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:108,y:189,page:0},{id:113,index:84,char:"q",width:26,height:37,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:135,y:189,page:0},{id:121,index:92,char:"y",width:27,height:37,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:162,y:197,page:0},{id:33,index:4,char:"!",width:10,height:36,xoffset:2,yoffset:13,xadvance:13,chnl:15,x:190,y:197,page:0},{id:35,index:6,char:"#",width:31,height:36,xoffset:-1,yoffset:13,xadvance:28,chnl:15,x:201,y:201,page:0},{id:49,index:20,char:"1",width:17,height:36,xoffset:0,yoffset:13,xadvance:18,chnl:15,x:235,y:163,page:0},{id:50,index:21,char:"2",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:169,page:0},{id:52,index:23,char:"4",width:28,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:26,y:169,page:0},{id:53,index:24,char:"5",width:26,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:55,y:190,page:0},{id:55,index:26,char:"7",width:25,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:82,y:190,page:0},{id:65,index:36,char:"A",width:33,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:0,y:206,page:0},{id:66,index:37,char:"B",width:27,height:36,xoffset:2,yoffset:13,xadvance:29,chnl:15,x:34,y:227,page:0},{id:68,index:39,char:"D",width:30,height:36,xoffset:2,yoffset:13,xadvance:32,chnl:15,x:0,y:243,page:0},{id:69,index:40,char:"E",width:24,height:36,xoffset:2,yoffset:13,xadvance:27,chnl:15,x:62,y:227,page:0},{id:70,index:41,char:"F",width:24,height:36,xoffset:2,yoffset:13,xadvance:26,chnl:15,x:87,y:227,page:0},{id:72,index:43,char:"H",width:30,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:112,y:227,page:0},{id:73,index:44,char:"I",width:9,height:36,xoffset:2,yoffset:13,xadvance:12,chnl:15,x:190,y:234,page:0},{id:74,index:45,char:"J",width:24,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:143,y:235,page:0},{id:75,index:46,char:"K",width:30,height:36,xoffset:2,yoffset:13,xadvance:30,chnl:15,x:200,y:238,page:0},{id:76,index:47,char:"L",width:23,height:36,xoffset:2,yoffset:13,xadvance:25,chnl:15,x:233,y:201,page:0},{id:78,index:49,char:"N",width:30,height:36,xoffset:2,yoffset:13,xadvance:33,chnl:15,x:168,y:271,page:0},{id:80,index:51,char:"P",width:27,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:199,y:275,page:0},{id:82,index:53,char:"R",width:28,height:36,xoffset:2,yoffset:13,xadvance:29,chnl:15,x:227,y:275,page:0},{id:84,index:55,char:"T",width:29,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:31,y:264,page:0},{id:86,index:57,char:"V",width:33,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:61,y:264,page:0},{id:88,index:59,char:"X",width:32,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:95,y:264,page:0},{id:89,index:60,char:"Y",width:32,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:128,y:272,page:0},{id:90,index:61,char:"Z",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:0,y:280,page:0},{id:98,index:69,char:"b",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:161,y:308,page:0},{id:100,index:71,char:"d",width:26,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:188,y:312,page:0},{id:104,index:75,char:"h",width:24,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:231,y:238,page:0},{id:107,index:78,char:"k",width:25,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:215,y:312,page:0},{id:108,index:79,char:"l",width:9,height:36,xoffset:1,yoffset:13,xadvance:11,chnl:15,x:243,y:125,page:0},{id:223,index:160,char:"",width:26,height:36,xoffset:2,yoffset:13,xadvance:28,chnl:15,x:28,y:301,page:0},{id:59,index:30,char:";",width:12,height:35,xoffset:1,yoffset:22,xadvance:14,chnl:15,x:168,y:235,page:0},{id:116,index:87,char:"t",width:18,height:34,xoffset:-2,yoffset:15,xadvance:15,chnl:15,x:0,y:317,page:0},{id:97,index:68,char:"a",width:24,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:55,y:301,page:0},{id:99,index:70,char:"c",width:25,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:80,y:301,page:0},{id:101,index:72,char:"e",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:106,y:309,page:0},{id:111,index:82,char:"o",width:26,height:29,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:133,y:309,page:0},{id:115,index:86,char:"s",width:24,height:29,xoffset:0,yoffset:21,xadvance:24,chnl:15,x:55,y:331,page:0},{id:60,index:31,char:"<",width:25,height:28,xoffset:2,yoffset:21,xadvance:29,chnl:15,x:80,y:331,page:0},{id:62,index:33,char:">",width:25,height:28,xoffset:3,yoffset:21,xadvance:29,chnl:15,x:19,y:338,page:0},{id:110,index:81,char:"n",width:24,height:28,xoffset:1,yoffset:21,xadvance:26,chnl:15,x:106,y:339,page:0},{id:114,index:85,char:"r",width:17,height:28,xoffset:1,yoffset:21,xadvance:17,chnl:15,x:108,y:159,page:0},{id:117,index:88,char:"u",width:24,height:28,xoffset:1,yoffset:21,xadvance:26,chnl:15,x:80,y:360,page:0},{id:118,index:89,char:"v",width:27,height:28,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:131,y:339,page:0},{id:120,index:91,char:"x",width:26,height:28,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:159,y:345,page:0},{id:122,index:93,char:"z",width:23,height:28,xoffset:1,yoffset:21,xadvance:25,chnl:15,x:45,y:361,page:0},{id:58,index:29,char:":",width:10,height:27,xoffset:2,yoffset:22,xadvance:13,chnl:15,x:69,y:361,page:0},{id:126,index:97,char:"~",width:26,height:13,xoffset:2,yoffset:28,xadvance:29,chnl:15,x:0,y:367,page:0},{id:43,index:14,char:"+",width:25,height:25,xoffset:2,yoffset:22,xadvance:29,chnl:15,x:0,y:381,page:0},{id:61,index:32,char:"=",width:24,height:18,xoffset:3,yoffset:25,xadvance:29,chnl:15,x:105,y:368,page:0},{id:95,index:66,char:"_",width:24,height:8,xoffset:-2,yoffset:45,xadvance:20,chnl:15,x:130,y:368,page:0},{id:42,index:13,char:"*",width:21,height:22,xoffset:1,yoffset:13,xadvance:23,chnl:15,x:131,y:88,page:0},{id:94,index:65,char:"^",width:22,height:18,xoffset:0,yoffset:14,xadvance:21,chnl:15,x:186,y:349,page:0},{id:176,index:113,char:"",width:19,height:19,xoffset:1,yoffset:13,xadvance:20,chnl:15,x:34,y:206,page:0},{id:45,index:16,char:"-",width:18,height:8,xoffset:1,yoffset:29,xadvance:20,chnl:15,x:163,y:151,page:0},{id:34,index:5,char:'"',width:17,height:17,xoffset:2,yoffset:13,xadvance:22,chnl:15,x:27,y:367,page:0},{id:39,index:10,char:"'",width:9,height:17,xoffset:2,yoffset:13,xadvance:14,chnl:15,x:45,y:338,page:0},{id:44,index:15,char:",",width:11,height:17,xoffset:1,yoffset:40,xadvance:13,chnl:15,x:55,y:169,page:0},{id:96,index:67,char:"`",width:12,height:10,xoffset:1,yoffset:11,xadvance:15,chnl:15,x:241,y:312,page:0},{id:46,index:17,char:".",width:10,height:10,xoffset:2,yoffset:39,xadvance:13,chnl:15,x:0,y:352,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:12,chnl:15,x:72,y:47,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:-1},{first:176,second:95,amount:-3},{first:92,second:176,amount:-4},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:36,amount:0},{first:92,second:39,amount:-3},{first:92,second:42,amount:-4},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-2},{first:92,second:60,amount:-1},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-2},{first:92,second:94,amount:-4},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:40,second:124,amount:0},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:-1},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:32,amount:0},{first:44,second:33,amount:0},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:-1},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:0},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:32,amount:0},{first:46,second:33,amount:0},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:-1},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:0},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:92,amount:0},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:-1},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:49,second:41,amount:0},{first:49,second:93,amount:0},{first:49,second:95,amount:0},{first:49,second:125,amount:0},{first:50,second:52,amount:-1},{first:51,second:176,amount:-1},{first:51,second:42,amount:-1},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:-1},{first:52,second:176,amount:-1},{first:52,second:42,amount:-1},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-1},{first:52,second:94,amount:-1},{first:53,second:176,amount:0},{first:53,second:42,amount:0},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:53,second:94,amount:0},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:-1},{first:56,second:42,amount:-1},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:-1},{first:57,second:92,amount:-1},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-2},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:91,second:124,amount:0},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:-1},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:123,second:124,amount:0},{first:124,second:41,amount:0},{first:124,second:93,amount:0},{first:124,second:95,amount:0},{first:124,second:125,amount:0},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]},"semi-bold":{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:9,height:57,xoffset:3,yoffset:3,xadvance:16,chnl:15,x:0,y:0,page:0},{id:87,index:58,char:"W",width:47,height:36,xoffset:-1,yoffset:13,xadvance:45,chnl:15,x:10,y:0,page:0},{id:106,index:77,char:"j",width:14,height:47,xoffset:-3,yoffset:11,xadvance:12,chnl:15,x:58,y:0,page:0},{id:214,index:151,char:"",width:33,height:46,xoffset:0,yoffset:4,xadvance:34,chnl:15,x:10,y:37,page:0},{id:220,index:157,char:"",width:30,height:46,xoffset:1,yoffset:4,xadvance:32,chnl:15,x:73,y:0,page:0},{id:36,index:7,char:"$",width:29,height:45,xoffset:0,yoffset:9,xadvance:29,chnl:15,x:104,y:0,page:0},{id:196,index:133,char:"",width:34,height:45,xoffset:-1,yoffset:4,xadvance:32,chnl:15,x:134,y:0,page:0},{id:40,index:11,char:"(",width:15,height:44,xoffset:2,yoffset:11,xadvance:16,chnl:15,x:169,y:0,page:0},{id:41,index:12,char:")",width:15,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:185,y:0,page:0},{id:64,index:35,char:"@",width:44,height:44,xoffset:0,yoffset:14,xadvance:44,chnl:15,x:201,y:0,page:0},{id:91,index:62,char:"[",width:14,height:44,xoffset:2,yoffset:11,xadvance:16,chnl:15,x:169,y:45,page:0},{id:93,index:64,char:"]",width:14,height:44,xoffset:0,yoffset:11,xadvance:16,chnl:15,x:104,y:46,page:0},{id:123,index:94,char:"{",width:19,height:44,xoffset:1,yoffset:11,xadvance:20,chnl:15,x:73,y:47,page:0},{id:125,index:96,char:"}",width:19,height:44,xoffset:0,yoffset:11,xadvance:20,chnl:15,x:44,y:48,page:0},{id:167,index:105,char:"",width:25,height:43,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:0,y:84,page:0},{id:92,index:63,char:"\\",width:19,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:119,y:46,page:0},{id:47,index:18,char:"/",width:19,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:139,y:46,page:0},{id:37,index:8,char:"%",width:40,height:37,xoffset:2,yoffset:12,xadvance:44,chnl:15,x:119,y:89,page:0},{id:81,index:52,char:"Q",width:33,height:39,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:64,y:92,page:0},{id:119,index:90,char:"w",width:39,height:28,xoffset:-1,yoffset:21,xadvance:37,chnl:15,x:0,y:128,page:0},{id:77,index:48,char:"M",width:38,height:36,xoffset:1,yoffset:13,xadvance:41,chnl:15,x:184,y:45,page:0},{id:228,index:165,char:"",width:25,height:38,xoffset:0,yoffset:12,xadvance:25,chnl:15,x:223,y:45,page:0},{id:246,index:183,char:"",width:27,height:38,xoffset:0,yoffset:12,xadvance:27,chnl:15,x:184,y:82,page:0},{id:252,index:189,char:"",width:25,height:38,xoffset:1,yoffset:12,xadvance:27,chnl:15,x:212,y:84,page:0},{id:102,index:73,char:"f",width:20,height:38,xoffset:-2,yoffset:11,xadvance:17,chnl:15,x:98,y:91,page:0},{id:103,index:74,char:"g",width:27,height:38,xoffset:0,yoffset:21,xadvance:28,chnl:15,x:160,y:121,page:0},{id:105,index:76,char:"i",width:11,height:38,xoffset:1,yoffset:11,xadvance:12,chnl:15,x:26,y:84,page:0},{id:109,index:80,char:"m",width:38,height:28,xoffset:1,yoffset:21,xadvance:40,chnl:15,x:119,y:127,page:0},{id:38,index:9,char:"&",width:31,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:188,y:123,page:0},{id:48,index:19,char:"0",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:220,y:123,page:0},{id:51,index:22,char:"3",width:27,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:40,y:132,page:0},{id:54,index:25,char:"6",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:0,y:157,page:0},{id:56,index:27,char:"8",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:68,y:132,page:0},{id:57,index:28,char:"9",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:97,y:156,page:0},{id:63,index:34,char:"?",width:24,height:37,xoffset:0,yoffset:13,xadvance:24,chnl:15,x:126,y:156,page:0},{id:67,index:38,char:"C",width:32,height:37,xoffset:0,yoffset:13,xadvance:32,chnl:15,x:151,y:160,page:0},{id:71,index:42,char:"G",width:32,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:29,y:170,page:0},{id:79,index:50,char:"O",width:33,height:37,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:62,y:170,page:0},{id:83,index:54,char:"S",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:96,y:194,page:0},{id:112,index:83,char:"p",width:27,height:37,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:0,y:195,page:0},{id:113,index:84,char:"q",width:27,height:37,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:28,y:208,page:0},{id:121,index:92,char:"y",width:28,height:37,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:56,y:208,page:0},{id:33,index:4,char:"!",width:11,height:36,xoffset:2,yoffset:13,xadvance:14,chnl:15,x:238,y:84,page:0},{id:35,index:6,char:"#",width:31,height:36,xoffset:-1,yoffset:13,xadvance:28,chnl:15,x:184,y:161,page:0},{id:49,index:20,char:"1",width:17,height:36,xoffset:0,yoffset:13,xadvance:19,chnl:15,x:40,y:93,page:0},{id:50,index:21,char:"2",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:233,page:0},{id:52,index:23,char:"4",width:29,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:216,y:161,page:0},{id:53,index:24,char:"5",width:26,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:126,y:198,page:0},{id:55,index:26,char:"7",width:26,height:36,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:85,y:232,page:0},{id:65,index:36,char:"A",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:27,y:246,page:0},{id:66,index:37,char:"B",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:153,y:198,page:0},{id:68,index:39,char:"D",width:30,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:182,y:198,page:0},{id:69,index:40,char:"E",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:0,y:270,page:0},{id:70,index:41,char:"F",width:24,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:213,y:198,page:0},{id:72,index:43,char:"H",width:30,height:36,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:112,y:235,page:0},{id:73,index:44,char:"I",width:10,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:246,y:0,page:0},{id:74,index:45,char:"J",width:25,height:36,xoffset:0,yoffset:13,xadvance:26,chnl:15,x:62,y:269,page:0},{id:75,index:46,char:"K",width:31,height:36,xoffset:1,yoffset:13,xadvance:31,chnl:15,x:26,y:283,page:0},{id:76,index:47,char:"L",width:24,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:0,y:307,page:0},{id:78,index:49,char:"N",width:31,height:36,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:143,y:235,page:0},{id:80,index:51,char:"P",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:175,y:235,page:0},{id:82,index:53,char:"R",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:203,y:235,page:0},{id:84,index:55,char:"T",width:29,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:0,y:344,page:0},{id:85,index:56,char:"U",width:30,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:0,y:381,page:0},{id:86,index:57,char:"V",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:30,y:320,page:0},{id:88,index:59,char:"X",width:33,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:0,y:418,page:0},{id:89,index:60,char:"Y",width:33,height:36,xoffset:-1,yoffset:13,xadvance:31,chnl:15,x:0,y:455,page:0},{id:90,index:61,char:"Z",width:28,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:31,y:357,page:0},{id:98,index:69,char:"b",width:27,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:34,y:394,page:0},{id:100,index:71,char:"d",width:27,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:60,y:357,page:0},{id:104,index:75,char:"h",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:65,y:306,page:0},{id:107,index:78,char:"k",width:26,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:34,y:431,page:0},{id:108,index:79,char:"l",width:10,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:93,y:47,page:0},{id:223,index:160,char:"",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:34,y:468,page:0},{id:59,index:30,char:";",width:12,height:35,xoffset:1,yoffset:22,xadvance:14,chnl:15,x:88,y:269,page:0},{id:116,index:87,char:"t",width:18,height:34,xoffset:-2,yoffset:15,xadvance:16,chnl:15,x:238,y:198,page:0},{id:97,index:68,char:"a",width:25,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:61,y:431,page:0},{id:99,index:70,char:"c",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:62,y:394,page:0},{id:101,index:72,char:"e",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:88,y:343,page:0},{id:111,index:82,char:"o",width:27,height:29,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:91,y:305,page:0},{id:115,index:86,char:"s",width:24,height:29,xoffset:0,yoffset:21,xadvance:24,chnl:15,x:232,y:235,page:0},{id:60,index:31,char:"<",width:25,height:28,xoffset:2,yoffset:20,xadvance:30,chnl:15,x:101,y:272,page:0},{id:62,index:33,char:">",width:25,height:28,xoffset:3,yoffset:20,xadvance:30,chnl:15,x:62,y:461,page:0},{id:110,index:81,char:"n",width:25,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:87,y:424,page:0},{id:114,index:85,char:"r",width:18,height:28,xoffset:1,yoffset:21,xadvance:17,chnl:15,x:160,y:90,page:0},{id:117,index:88,char:"u",width:25,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:89,y:373,page:0},{id:118,index:89,char:"v",width:28,height:28,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:88,y:453,page:0},{id:120,index:91,char:"x",width:27,height:28,xoffset:-1,yoffset:21,xadvance:25,chnl:15,x:88,y:482,page:0},{id:122,index:93,char:"z",width:24,height:28,xoffset:1,yoffset:21,xadvance:25,chnl:15,x:232,y:265,page:0},{id:58,index:29,char:":",width:11,height:27,xoffset:2,yoffset:22,xadvance:14,chnl:15,x:116,y:482,page:0},{id:126,index:97,char:"~",width:27,height:13,xoffset:1,yoffset:28,xadvance:30,chnl:15,x:0,y:492,page:0},{id:43,index:14,char:"+",width:26,height:26,xoffset:2,yoffset:21,xadvance:30,chnl:15,x:113,y:402,page:0},{id:61,index:32,char:"=",width:25,height:19,xoffset:2,yoffset:25,xadvance:30,chnl:15,x:62,y:490,page:0},{id:95,index:66,char:"_",width:25,height:8,xoffset:-2,yoffset:45,xadvance:21,chnl:15,x:113,y:429,page:0},{id:42,index:13,char:"*",width:22,height:22,xoffset:1,yoffset:13,xadvance:24,chnl:15,x:62,y:246,page:0},{id:94,index:65,char:"^",width:22,height:18,xoffset:0,yoffset:14,xadvance:21,chnl:15,x:89,y:402,page:0},{id:176,index:113,char:"",width:19,height:19,xoffset:1,yoffset:13,xadvance:20,chnl:15,x:98,y:130,page:0},{id:34,index:5,char:'"',width:18,height:17,xoffset:2,yoffset:13,xadvance:23,chnl:15,x:117,y:438,page:0},{id:45,index:16,char:"-",width:18,height:9,xoffset:1,yoffset:29,xadvance:20,chnl:15,x:65,y:343,page:0},{id:39,index:10,char:"'",width:10,height:17,xoffset:2,yoffset:13,xadvance:14,chnl:15,x:85,y:208,page:0},{id:44,index:15,char:",",width:12,height:17,xoffset:1,yoffset:40,xadvance:14,chnl:15,x:117,y:456,page:0},{id:96,index:67,char:"`",width:12,height:11,xoffset:1,yoffset:11,xadvance:15,chnl:15,x:128,y:474,page:0},{id:46,index:17,char:".",width:11,height:11,xoffset:2,yoffset:39,xadvance:14,chnl:15,x:130,y:456,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:11,chnl:15,x:96,y:170,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:-1},{first:176,second:95,amount:-3},{first:92,second:176,amount:-4},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:36,amount:0},{first:92,second:39,amount:-3},{first:92,second:42,amount:-4},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-2},{first:92,second:60,amount:-1},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-2},{first:92,second:94,amount:-4},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:40,second:124,amount:1},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:-1},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:32,amount:-1},{first:44,second:33,amount:0},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:0},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:0},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:32,amount:-1},{first:46,second:33,amount:0},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:0},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:0},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:92,amount:0},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:-1},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:49,second:41,amount:1},{first:49,second:93,amount:1},{first:49,second:95,amount:1},{first:49,second:125,amount:1},{first:50,second:52,amount:-1},{first:51,second:176,amount:0},{first:51,second:42,amount:0},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:0},{first:52,second:176,amount:-1},{first:52,second:42,amount:-1},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-1},{first:52,second:94,amount:-1},{first:53,second:176,amount:0},{first:53,second:42,amount:0},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:53,second:94,amount:0},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:0},{first:56,second:42,amount:0},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:0},{first:57,second:92,amount:-1},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-2},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:91,second:124,amount:1},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:-1},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:123,second:124,amount:1},{first:124,second:41,amount:1},{first:124,second:93,amount:1},{first:124,second:95,amount:1},{first:124,second:125,amount:1},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]},bold:{pages:["data:image/webp;base64,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"],chars:[{id:124,index:95,char:"|",width:10,height:57,xoffset:3,yoffset:3,xadvance:16,chnl:15,x:0,y:0,page:0},{id:87,index:58,char:"W",width:48,height:36,xoffset:-1,yoffset:13,xadvance:46,chnl:15,x:11,y:0,page:0},{id:106,index:77,char:"j",width:15,height:47,xoffset:-3,yoffset:11,xadvance:12,chnl:15,x:60,y:0,page:0},{id:196,index:133,char:"",width:35,height:46,xoffset:-1,yoffset:3,xadvance:33,chnl:15,x:11,y:37,page:0},{id:214,index:151,char:"",width:34,height:46,xoffset:0,yoffset:3,xadvance:34,chnl:15,x:76,y:0,page:0},{id:220,index:157,char:"",width:30,height:46,xoffset:1,yoffset:3,xadvance:32,chnl:15,x:111,y:0,page:0},{id:36,index:7,char:"$",width:29,height:45,xoffset:0,yoffset:9,xadvance:29,chnl:15,x:142,y:0,page:0},{id:64,index:35,char:"@",width:45,height:45,xoffset:0,yoffset:13,xadvance:45,chnl:15,x:172,y:0,page:0},{id:40,index:11,char:"(",width:16,height:44,xoffset:2,yoffset:11,xadvance:17,chnl:15,x:218,y:0,page:0},{id:41,index:12,char:")",width:16,height:44,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:235,y:0,page:0},{id:91,index:62,char:"[",width:14,height:44,xoffset:2,yoffset:11,xadvance:17,chnl:15,x:218,y:45,page:0},{id:93,index:64,char:"]",width:15,height:44,xoffset:0,yoffset:11,xadvance:17,chnl:15,x:233,y:45,page:0},{id:123,index:94,char:"{",width:19,height:44,xoffset:1,yoffset:11,xadvance:21,chnl:15,x:142,y:46,page:0},{id:125,index:96,char:"}",width:19,height:44,xoffset:0,yoffset:11,xadvance:21,chnl:15,x:162,y:46,page:0},{id:167,index:105,char:"",width:25,height:43,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:182,y:46,page:0},{id:92,index:63,char:"\\",width:20,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:76,y:47,page:0},{id:47,index:18,char:"/",width:20,height:42,xoffset:-1,yoffset:11,xadvance:17,chnl:15,x:47,y:48,page:0},{id:37,index:8,char:"%",width:41,height:37,xoffset:2,yoffset:12,xadvance:45,chnl:15,x:97,y:47,page:0},{id:119,index:90,char:"w",width:40,height:28,xoffset:-1,yoffset:21,xadvance:37,chnl:15,x:97,y:85,page:0},{id:77,index:48,char:"M",width:39,height:36,xoffset:1,yoffset:13,xadvance:41,chnl:15,x:0,y:84,page:0},{id:81,index:52,char:"Q",width:34,height:39,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:40,y:91,page:0},{id:109,index:80,char:"m",width:39,height:28,xoffset:1,yoffset:21,xadvance:40,chnl:15,x:0,y:121,page:0},{id:228,index:165,char:"",width:25,height:38,xoffset:-1,yoffset:11,xadvance:26,chnl:15,x:182,y:90,page:0},{id:246,index:183,char:"",width:28,height:38,xoffset:0,yoffset:11,xadvance:27,chnl:15,x:138,y:91,page:0},{id:252,index:189,char:"",width:26,height:38,xoffset:1,yoffset:11,xadvance:27,chnl:15,x:208,y:90,page:0},{id:102,index:73,char:"f",width:21,height:38,xoffset:-2,yoffset:11,xadvance:18,chnl:15,x:75,y:90,page:0},{id:103,index:74,char:"g",width:27,height:38,xoffset:0,yoffset:21,xadvance:28,chnl:15,x:97,y:114,page:0},{id:105,index:76,char:"i",width:11,height:38,xoffset:0,yoffset:11,xadvance:12,chnl:15,x:125,y:114,page:0},{id:38,index:9,char:"&",width:32,height:37,xoffset:0,yoffset:13,xadvance:30,chnl:15,x:40,y:131,page:0},{id:48,index:19,char:"0",width:30,height:37,xoffset:0,yoffset:13,xadvance:30,chnl:15,x:0,y:150,page:0},{id:51,index:22,char:"3",width:28,height:37,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:167,y:129,page:0},{id:54,index:25,char:"6",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:137,y:130,page:0},{id:56,index:27,char:"8",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:196,y:129,page:0},{id:57,index:28,char:"9",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:226,y:129,page:0},{id:63,index:34,char:"?",width:25,height:37,xoffset:0,yoffset:13,xadvance:25,chnl:15,x:73,y:153,page:0},{id:67,index:38,char:"C",width:33,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:99,y:153,page:0},{id:71,index:42,char:"G",width:33,height:37,xoffset:0,yoffset:13,xadvance:33,chnl:15,x:31,y:169,page:0},{id:79,index:50,char:"O",width:34,height:37,xoffset:0,yoffset:13,xadvance:34,chnl:15,x:167,y:167,page:0},{id:83,index:54,char:"S",width:29,height:37,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:0,y:188,page:0},{id:112,index:83,char:"p",width:27,height:37,xoffset:1,yoffset:21,xadvance:28,chnl:15,x:133,y:168,page:0},{id:113,index:84,char:"q",width:27,height:37,xoffset:0,yoffset:21,xadvance:28,chnl:15,x:202,y:167,page:0},{id:121,index:92,char:"y",width:29,height:37,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:65,y:191,page:0},{id:33,index:4,char:"!",width:12,height:36,xoffset:2,yoffset:13,xadvance:15,chnl:15,x:167,y:91,page:0},{id:35,index:6,char:"#",width:32,height:36,xoffset:-2,yoffset:13,xadvance:29,chnl:15,x:30,y:207,page:0},{id:49,index:20,char:"1",width:18,height:36,xoffset:0,yoffset:13,xadvance:19,chnl:15,x:235,y:90,page:0},{id:50,index:21,char:"2",width:27,height:36,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:0,y:226,page:0},{id:52,index:23,char:"4",width:30,height:36,xoffset:0,yoffset:13,xadvance:30,chnl:15,x:95,y:191,page:0},{id:53,index:24,char:"5",width:27,height:36,xoffset:0,yoffset:13,xadvance:27,chnl:15,x:161,y:205,page:0},{id:55,index:26,char:"7",width:26,height:36,xoffset:0,yoffset:13,xadvance:26,chnl:15,x:230,y:167,page:0},{id:65,index:36,char:"A",width:35,height:36,xoffset:-1,yoffset:13,xadvance:33,chnl:15,x:95,y:228,page:0},{id:66,index:37,char:"B",width:29,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:131,y:206,page:0},{id:68,index:39,char:"D",width:31,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:63,y:229,page:0},{id:69,index:40,char:"E",width:25,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:230,y:204,page:0},{id:70,index:41,char:"F",width:25,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:28,y:244,page:0},{id:72,index:43,char:"H",width:31,height:36,xoffset:1,yoffset:13,xadvance:33,chnl:15,x:189,y:205,page:0},{id:73,index:44,char:"I",width:11,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:0,y:263,page:0},{id:74,index:45,char:"J",width:25,height:36,xoffset:-1,yoffset:13,xadvance:26,chnl:15,x:221,y:241,page:0},{id:75,index:46,char:"K",width:32,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:161,y:242,page:0},{id:76,index:47,char:"L",width:24,height:36,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:194,y:242,page:0},{id:78,index:49,char:"N",width:32,height:36,xoffset:1,yoffset:13,xadvance:34,chnl:15,x:219,y:278,page:0},{id:80,index:51,char:"P",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:131,y:243,page:0},{id:82,index:53,char:"R",width:29,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:95,y:265,page:0},{id:84,index:55,char:"T",width:30,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:54,y:266,page:0},{id:85,index:56,char:"U",width:30,height:36,xoffset:1,yoffset:13,xadvance:32,chnl:15,x:12,y:281,page:0},{id:86,index:57,char:"V",width:35,height:36,xoffset:-1,yoffset:13,xadvance:33,chnl:15,x:160,y:279,page:0},{id:88,index:59,char:"X",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:125,y:280,page:0},{id:89,index:60,char:"Y",width:34,height:36,xoffset:-1,yoffset:13,xadvance:32,chnl:15,x:85,y:302,page:0},{id:90,index:61,char:"Z",width:28,height:36,xoffset:0,yoffset:13,xadvance:29,chnl:15,x:43,y:303,page:0},{id:98,index:69,char:"b",width:27,height:36,xoffset:1,yoffset:13,xadvance:28,chnl:15,x:0,y:318,page:0},{id:100,index:71,char:"d",width:27,height:36,xoffset:0,yoffset:13,xadvance:28,chnl:15,x:196,y:315,page:0},{id:104,index:75,char:"h",width:26,height:36,xoffset:1,yoffset:13,xadvance:27,chnl:15,x:224,y:315,page:0},{id:107,index:78,char:"k",width:27,height:36,xoffset:1,yoffset:13,xadvance:26,chnl:15,x:160,y:316,page:0},{id:108,index:79,char:"l",width:10,height:36,xoffset:1,yoffset:13,xadvance:12,chnl:15,x:72,y:303,page:0},{id:223,index:160,char:"",width:28,height:36,xoffset:1,yoffset:13,xadvance:29,chnl:15,x:120,y:317,page:0},{id:59,index:30,char:";",width:13,height:35,xoffset:1,yoffset:22,xadvance:15,chnl:15,x:196,y:279,page:0},{id:116,index:87,char:"t",width:19,height:34,xoffset:-2,yoffset:15,xadvance:16,chnl:15,x:83,y:339,page:0},{id:60,index:31,char:"<",width:26,height:29,xoffset:2,yoffset:20,xadvance:30,chnl:15,x:28,y:340,page:0},{id:62,index:33,char:">",width:26,height:29,xoffset:2,yoffset:20,xadvance:30,chnl:15,x:0,y:355,page:0},{id:97,index:68,char:"a",width:25,height:29,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:55,y:340,page:0},{id:99,index:70,char:"c",width:26,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:27,y:370,page:0},{id:101,index:72,char:"e",width:27,height:29,xoffset:0,yoffset:21,xadvance:26,chnl:15,x:54,y:370,page:0},{id:111,index:82,char:"o",width:28,height:29,xoffset:0,yoffset:21,xadvance:27,chnl:15,x:188,y:352,page:0},{id:115,index:86,char:"s",width:25,height:29,xoffset:0,yoffset:21,xadvance:25,chnl:15,x:0,y:385,page:0},{id:118,index:89,char:"v",width:29,height:28,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:149,y:353,page:0},{id:110,index:81,char:"n",width:26,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:217,y:352,page:0},{id:114,index:85,char:"r",width:18,height:28,xoffset:1,yoffset:21,xadvance:18,chnl:15,x:217,y:381,page:0},{id:117,index:88,char:"u",width:26,height:28,xoffset:1,yoffset:21,xadvance:27,chnl:15,x:103,y:354,page:0},{id:120,index:91,char:"x",width:28,height:28,xoffset:-1,yoffset:21,xadvance:26,chnl:15,x:130,y:382,page:0},{id:122,index:93,char:"z",width:24,height:28,xoffset:1,yoffset:21,xadvance:25,chnl:15,x:82,y:383,page:0},{id:58,index:29,char:":",width:11,height:27,xoffset:2,yoffset:22,xadvance:15,chnl:15,x:130,y:354,page:0},{id:126,index:97,char:"~",width:27,height:14,xoffset:1,yoffset:27,xadvance:30,chnl:15,x:26,y:400,page:0},{id:43,index:14,char:"+",width:26,height:26,xoffset:2,yoffset:21,xadvance:30,chnl:15,x:54,y:400,page:0},{id:61,index:32,char:"=",width:25,height:20,xoffset:2,yoffset:24,xadvance:30,chnl:15,x:0,y:415,page:0},{id:95,index:66,char:"_",width:25,height:9,xoffset:-2,yoffset:45,xadvance:21,chnl:15,x:26,y:415,page:0},{id:42,index:13,char:"*",width:22,height:22,xoffset:1,yoffset:13,xadvance:25,chnl:15,x:107,y:383,page:0},{id:94,index:65,char:"^",width:22,height:18,xoffset:-1,yoffset:14,xadvance:21,chnl:15,x:107,y:406,page:0},{id:34,index:5,char:'"',width:20,height:17,xoffset:2,yoffset:13,xadvance:24,chnl:15,x:236,y:381,page:0},{id:176,index:113,char:"",width:19,height:19,xoffset:0,yoffset:13,xadvance:20,chnl:15,x:236,y:399,page:0},{id:45,index:16,char:"-",width:19,height:9,xoffset:1,yoffset:29,xadvance:21,chnl:15,x:75,y:129,page:0},{id:39,index:10,char:"'",width:10,height:17,xoffset:2,yoffset:13,xadvance:15,chnl:15,x:0,y:58,page:0},{id:44,index:15,char:",",width:12,height:17,xoffset:1,yoffset:40,xadvance:15,chnl:15,x:12,y:263,page:0},{id:96,index:67,char:"`",width:13,height:11,xoffset:1,yoffset:11,xadvance:16,chnl:15,x:28,y:318,page:0},{id:46,index:17,char:".",width:11,height:11,xoffset:2,yoffset:38,xadvance:15,chnl:15,x:0,y:300,page:0},{id:32,index:3,char:" ",width:0,height:0,xoffset:-2,yoffset:45,xadvance:10,chnl:15,x:137,y:114,page:0}],info:{face:"fixed-font",size:44,bold:0,italic:0,charset:[" ","","!","\\",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","","","","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","","","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","",""],unicode:1,stretchH:100,smooth:1,aa:1,padding:[2,2,2,2],spacing:[0,0],outline:0},common:{lineHeight:53,base:45,scaleW:256,scaleH:512,pages:1,packed:0,alphaChnl:0,redChnl:0,greenChnl:0,blueChnl:0},distanceField:{fieldType:"msdf",distanceRange:4},kernings:[{first:176,second:38,amount:-1},{first:176,second:44,amount:-6},{first:176,second:46,amount:-6},{first:176,second:52,amount:-2},{first:176,second:64,amount:-1},{first:176,second:95,amount:-3},{first:92,second:176,amount:-4},{first:92,second:92,amount:-2},{first:92,second:34,amount:-3},{first:92,second:36,amount:-1},{first:92,second:39,amount:-3},{first:92,second:42,amount:-4},{first:92,second:43,amount:-1},{first:92,second:45,amount:-1},{first:92,second:47,amount:1},{first:92,second:49,amount:-2},{first:92,second:60,amount:-2},{first:92,second:61,amount:-2},{first:92,second:63,amount:-3},{first:92,second:64,amount:-2},{first:92,second:94,amount:-4},{first:92,second:126,amount:-1},{first:34,second:38,amount:-1},{first:34,second:44,amount:-4},{first:34,second:46,amount:-4},{first:34,second:52,amount:-3},{first:38,second:92,amount:-3},{first:38,second:34,amount:-1},{first:38,second:39,amount:-1},{first:39,second:38,amount:-1},{first:39,second:44,amount:-4},{first:39,second:46,amount:-4},{first:39,second:52,amount:-3},{first:40,second:124,amount:1},{first:42,second:38,amount:-1},{first:42,second:44,amount:-6},{first:42,second:46,amount:-6},{first:42,second:52,amount:-2},{first:42,second:64,amount:-1},{first:42,second:95,amount:-3},{first:43,second:92,amount:-2},{first:43,second:50,amount:-1},{first:43,second:51,amount:0},{first:43,second:55,amount:-1},{first:44,second:32,amount:-1},{first:44,second:33,amount:-1},{first:44,second:34,amount:-4},{first:44,second:39,amount:-4},{first:44,second:48,amount:-1},{first:44,second:49,amount:-4},{first:44,second:51,amount:-1},{first:44,second:53,amount:0},{first:44,second:54,amount:-1},{first:44,second:55,amount:-1},{first:44,second:56,amount:-1},{first:44,second:57,amount:-1},{first:44,second:63,amount:-4},{first:44,second:64,amount:-2},{first:45,second:92,amount:-2},{first:45,second:50,amount:-1},{first:45,second:51,amount:0},{first:45,second:55,amount:-1},{first:46,second:32,amount:-1},{first:46,second:33,amount:-1},{first:46,second:34,amount:-4},{first:46,second:39,amount:-4},{first:46,second:48,amount:-1},{first:46,second:49,amount:-4},{first:46,second:51,amount:-1},{first:46,second:53,amount:0},{first:46,second:54,amount:-1},{first:46,second:55,amount:-1},{first:46,second:56,amount:-1},{first:46,second:57,amount:-1},{first:46,second:63,amount:-4},{first:46,second:64,amount:-2},{first:47,second:92,amount:0},{first:47,second:44,amount:-2},{first:47,second:46,amount:-2},{first:48,second:92,amount:-1},{first:48,second:44,amount:-1},{first:48,second:46,amount:-1},{first:48,second:55,amount:-1},{first:48,second:95,amount:-2},{first:49,second:41,amount:1},{first:49,second:93,amount:1},{first:49,second:95,amount:1},{first:49,second:125,amount:1},{first:50,second:52,amount:-1},{first:51,second:176,amount:0},{first:51,second:42,amount:0},{first:51,second:44,amount:-1},{first:51,second:46,amount:-1},{first:51,second:94,amount:0},{first:52,second:176,amount:-2},{first:52,second:42,amount:-2},{first:52,second:44,amount:-1},{first:52,second:46,amount:-1},{first:52,second:49,amount:-2},{first:52,second:94,amount:-2},{first:53,second:176,amount:0},{first:53,second:42,amount:0},{first:53,second:44,amount:-1},{first:53,second:46,amount:-1},{first:53,second:94,amount:0},{first:54,second:44,amount:-1},{first:54,second:46,amount:-1},{first:54,second:95,amount:-2},{first:55,second:35,amount:-2},{first:55,second:38,amount:-2},{first:55,second:44,amount:-5},{first:55,second:46,amount:-5},{first:55,second:48,amount:-1},{first:55,second:51,amount:-1},{first:55,second:52,amount:-3},{first:55,second:53,amount:0},{first:55,second:54,amount:-1},{first:55,second:55,amount:1},{first:55,second:56,amount:-1},{first:55,second:57,amount:0},{first:55,second:58,amount:-1},{first:55,second:59,amount:-1},{first:55,second:60,amount:-4},{first:55,second:95,amount:-7},{first:56,second:176,amount:0},{first:56,second:42,amount:0},{first:56,second:44,amount:-1},{first:56,second:46,amount:-1},{first:56,second:94,amount:0},{first:57,second:92,amount:-1},{first:57,second:44,amount:-1},{first:57,second:46,amount:-1},{first:57,second:55,amount:-1},{first:57,second:95,amount:-2},{first:58,second:92,amount:-3},{first:59,second:92,amount:-3},{first:61,second:92,amount:-3},{first:62,second:92,amount:-3},{first:62,second:55,amount:-3},{first:64,second:92,amount:-2},{first:64,second:44,amount:-2},{first:64,second:46,amount:-2},{first:64,second:47,amount:-2},{first:64,second:95,amount:-2},{first:91,second:124,amount:1},{first:94,second:38,amount:-1},{first:94,second:44,amount:-6},{first:94,second:46,amount:-6},{first:94,second:52,amount:-2},{first:94,second:64,amount:-1},{first:94,second:95,amount:-3},{first:95,second:176,amount:-3},{first:95,second:92,amount:-3},{first:95,second:42,amount:-3},{first:95,second:48,amount:-2},{first:95,second:49,amount:-5},{first:95,second:51,amount:-2},{first:95,second:52,amount:-2},{first:95,second:53,amount:-2},{first:95,second:54,amount:-2},{first:95,second:56,amount:-2},{first:95,second:57,amount:-2},{first:95,second:64,amount:-2},{first:95,second:94,amount:-3},{first:95,second:124,amount:1},{first:123,second:124,amount:1},{first:124,second:41,amount:1},{first:124,second:93,amount:1},{first:124,second:95,amount:1},{first:124,second:125,amount:1},{first:126,second:92,amount:-2},{first:126,second:50,amount:-1},{first:126,second:51,amount:0},{first:126,second:55,amount:-1}]}}};function Ht(e,t){return(0,i.EW)(()=>{const n=e.value.fontFamilies,i=t.value?.fontFamilies.value;return null==i?n:null==n?i:{...i,...n}})}function Gt(e,t){const n=(0,i.vP)(void 0);return(0,i.QZ)(()=>{let i=e.value.fontWeight;if("string"==typeof i&&(i=parseFloat(i),isNaN(i))){if(i=e.value.fontWeight,!(i in Qt))throw new Error(`unknown font weight "${i}"`);i=Qt[i]}let r=e.value.fontFamily;const s=t.value??Vt;r??=Object.keys(s)[0];let a=s[r];if(null==a){const e=Object.keys(s);a=s[e[0]],console.error(`unknown font family "${r}". Available font families are ${e.map(e=>`"${e}"`).join(", ")}. Falling back to "${e[0]}".`)}const o=function(e,t){let n,i=1/0;for(const r in e){const s=Math.abs(t-zt(r));if(0===s)return e[r];s<i&&(i=s,n=e[r])}if(null==n)throw new Error(`font family has no entries ${e}`);return n}(a,i);let l=!1;return function(e,t){let n=Ut.get(e);if(n instanceof Set)return void n.add(t);if(null!=n)return void t(n);const i=new Set;i.add(t),Ut.set(e,i),async function(e){const t="object"==typeof e?e:await(await fetch(e)).json();if(1!==t.pages.length)throw new Error("only supporting exactly 1 page");const n=await Ft.loadAsync(new URL(t.pages[0],"string"==typeof e?new URL(e,window.location.href):void 0).href);return n.flipY=!1,new Xt(t,n)}(e).then(t=>{for(const e of i)e(t);Ut.set(e,t)}).catch(console.error)}(o,e=>!l&&(n.value=e)),()=>l=!0}),n}function zt(e){if(e in Qt)return Qt[e];const t=parseFloat(e);if(isNaN(t))throw new Error(`invalid font weight "${e}"`);return t}const Wt={id:-1,index:0,char:"",chnl:0,page:0,x:0,y:0,width:.5,height:.5,xadvance:.6,xoffset:0,yoffset:.3,uvX:0,uvY:0,uvWidth:0,uvHeight:0,renderSolid:!0};class Xt{page;glyphInfoMap=new Map;kerningMap=new Map;pageWidth;pageHeight;distanceRange;constructor(e,t){this.page=t;const{scaleW:n,scaleH:i,lineHeight:r}=e.common,{size:s}=e.info;this.pageWidth=n,this.pageHeight=i,this.distanceRange=e.distanceField.distanceRange;for(const t of e.chars){const e={...t,uvX:t.x/n,uvY:t.y/i,uvWidth:t.width/n,uvHeight:t.height/i,width:t.width/s,height:t.height/s,xadvance:t.xadvance/s,xoffset:t.xoffset/s,yoffset:(t.yoffset-(r-s))/s};this.glyphInfoMap.set(e.char,e)}for(const{first:t,second:n,amount:i}of e.kernings)this.kerningMap.set(`${t}/${n}`,i/s)}getGlyphInfo(e){const t=this.glyphInfoMap.get(e);if(t)return t;if("\n"===e){const e=this.glyphInfoMap.get(" ");if(e)return e}return console.warn(`Missing glyph info for character "${e}"`),Wt}getKerning(e,t){return this.kerningMap.get(`${e}/${t}`)??0}}const jt=/[\t\n ]+/gm,qt=/[\t ]+/g,Yt=/[\t ]*\n[\t ]*/gm,Jt=/^[ \t]+|[ \t]+$/g;function Zt(e){return e instanceof i.HN&&(e=e.value),null==e?"":String(e)}const Kt={"keep-all":({text:e,fontSize:t,font:n,letterSpacing:i},r,s,a)=>{const o=s;a.charIndexOffset=o,a.nonWhitespaceCharLength=0,a.charLength=0,a.nonWhitespaceWidth=0,a.whitespacesBetween=0;let l=0,c=0;for(;s<e.length;s++){const r=e[s];if("\n"===r)return void(a.charLength=s-o+1);l+=b(t,n.getGlyphInfo(r),i)," "!==r?(a.nonWhitespaceWidth=l,a.whitespacesBetween=c,a.nonWhitespaceCharLength=s-o+1):c+=1}a.charLength=s-o},"break-all":({text:e,fontSize:t,font:n,letterSpacing:i},r,s,a)=>{const o=s;a.charIndexOffset=o,a.nonWhitespaceCharLength=0,a.charLength=0,a.nonWhitespaceWidth=0,a.whitespacesBetween=0;let l=0,c=0;for(;s<e.length;s++){const u=e[s];if("\n"===u)return void(a.charLength=s-o+1);if(l+=b(t,n.getGlyphInfo(u),i)," "!==u){if(a.nonWhitespaceWidth>0&&null!=r&&l>r)break;a.nonWhitespaceCharLength=s-o+1,a.nonWhitespaceWidth=l,a.whitespacesBetween=c}else c+=1}a.charLength=s-o},"break-word":({text:e,fontSize:t,font:n,letterSpacing:i},r,s,a)=>{const o=s;a.charIndexOffset=o,a.nonWhitespaceCharLength=0,a.charLength=0,a.nonWhitespaceWidth=0,a.whitespacesBetween=0;let l=0,c=0;for(;s<e.length;s++){const u=e[s];if("\n"===u){a.charLength=s-o+1;break}if(l+=b(t,n.getGlyphInfo(u),i)," "===u){c+=1,a.charLength=s-o+1;continue}if(a.nonWhitespaceWidth>0&&null!=r&&l>r)break;const d=e[s+1];" "!==d&&"\n"!==d&&null!=d||(a.charLength=s-o+1,a.nonWhitespaceCharLength=a.charLength,a.nonWhitespaceWidth=l,a.whitespacesBetween=c)}}},$t={};function en(e,t){const n=Kt[e.wordBreak],i=e.text;let r=0,s=0,a=0;for(;a<i.length;)n(e,t,a,$t),r=Math.max(r,$t.nonWhitespaceWidth),s+=1,a=$t.charLength+$t.charIndexOffset;return"\n"===i[i.length-1]&&(s+=1),{width:r,height:w(s,e.lineHeight)}}class tn extends o.V9B{constructor(e){super({transparent:!0,depthWrite:!1,toneMapped:!1}),this.onBeforeCompile=(t,n)=>{e.page.anisotropy=n.capabilities.getMaxAnisotropy(),t.uniforms.fontPage={value:e.page},t.uniforms.pageSize={value:[e.pageWidth,e.pageHeight]},t.uniforms.distanceRange={value:e.distanceRange},t.vertexShader="attribute vec4 instanceUVOffset;\n        varying vec2 fontUv;\n        attribute vec4 instanceRGBA;\n        varying vec4 rgba;\n        attribute mat4 instanceClipping;\n        varying mat4 clipping;\n        varying vec3 localPosition;\n        attribute float instanceRenderSolid;\n        varying float renderSolid;\n        "+t.vertexShader,t.vertexShader=t.vertexShader.replace("#include <uv_vertex>","#include <uv_vertex>\n            fontUv = instanceUVOffset.xy + uv * instanceUVOffset.zw;\n            rgba = instanceRGBA;\n            clipping = instanceClipping;\n            localPosition = (instanceMatrix * vec4(position, 1.0)).xyz;\n            renderSolid = instanceRenderSolid;"),t.fragmentShader="uniform sampler2D fontPage;\n            uniform vec2 pageSize;\n            uniform int distanceRange;\n        varying vec2 fontUv;\n        varying vec4 rgba;\n        varying mat4 clipping;\n        varying vec3 localPosition;\n        varying float renderSolid;\n        float median(float r, float g, float b) {\n            return max(min(r, g), min(max(r, g), b));\n        }\n        float getDistance() {\n            vec3 msdf = texture(fontPage, fontUv).rgb;\n            return median(msdf.r, msdf.g, msdf.b);\n        }\n        "+t.fragmentShader,t.fragmentShader=t.fragmentShader.replace("#include <map_fragment>"," #include <map_fragment>\n          vec4 plane;\n          float distanceToPlane, distanceGradient;\n          float clipOpacity = 1.0;\n          for(int i = 0; i < 4; i++) {\n            plane = clipping[ i ];\n            distanceToPlane = dot( localPosition, plane.xyz ) + plane.w;\n            distanceGradient = fwidth( distanceToPlane ) / 2.0;\n            clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\n            if ( clipOpacity == 0.0 ) discard;\n          }\n          // Distance to the edge of the glyph in texels.\n          float dist = (getDistance() - 0.5) * float(distanceRange);\n\n          // Calculate the antialiasing distance based on the number of texels per screen pixel.\n          float aaDist = length(fwidth(fontUv * pageSize)) * 0.5;\n\n          // Clamp the antialiasing distance to avoid excessive blurring.\n          aaDist = clamp(aaDist, 0.0, float(distanceRange) * 0.5);\n\n          float alpha = smoothstep(-aaDist, aaDist, dist);\n\n          if (alpha <= 0.0 && renderSolid <= 0.5) discard;\n\n          // Apply gamma correction to improve text appearance, or override for synthetic solid glyphs.\n          float gamma = 1.3;\n          alpha = renderSolid > 0.5 ? 1.0 : pow(alpha, 1.0 / gamma);\n\n          diffuseColor.a *= clipOpacity * alpha;\n          diffuseColor *= rgba;\n            ")}}}class nn extends o.eaF{root;instanceMatrix;instanceRGBA;instanceUV;instanceClipping;instanceRenderSolid;count=0;isInstancedMesh=!0;instanceColor=null;morphTexture=null;boundingBox=new o.NRn;boundingSphere=new o.iyt;customUpdateMatrixWorld=()=>kn(this.root,this.matrixWorld);constructor(e,t,n,i,r,s,a){const l=new o.bdM;l.translate(.5,-.5,0),super(l,a),this.root=e,this.instanceMatrix=t,this.instanceRGBA=n,this.instanceUV=i,this.instanceClipping=r,this.instanceRenderSolid=s,this.pointerEvents="none",l.attributes.instanceUVOffset=i,l.attributes.instanceRGBA=n,l.attributes.instanceClipping=r,l.attributes.instanceRenderSolid=s,this.frustumCulled=!1,e.onUpdateMatrixWorldSet.add(this.customUpdateMatrixWorld)}copy(){throw new Error("copy not implemented")}dispose(){this.root.onUpdateMatrixWorldSet.delete(this.customUpdateMatrixWorld),this.dispatchEvent({type:"dispose"}),this.geometry.dispose()}computeBoundingBox(){}computeBoundingSphere(){}updateMorphTargets(){}raycast(){}spherecast(){}}const rn=new o.kn4,sn=new o.kn4;class an{group;baseMatrix;color;opacity;clippingRect;index;hidden=!0;glyphInfo;x=0;y=0;fontSize=0;pixelSize=0;constructor(e,t,n,i,r){this.group=e,this.baseMatrix=t,this.color=n,this.opacity=i,this.clippingRect=r}getX(e){return null==this.glyphInfo?this.x:this.x+e*this.glyphInfo.width*this.fontSize}show(){this.hidden&&(this.hidden=!1,this.group.requestActivate(this))}hide(){this.hidden||(this.hidden=!0,this.group.delete(this))}activate(e){this.index=e,this.writeUpdatedMatrix(),this.writeUV(),this.writeRenderSolid(),this.updateColor(this.color,this.opacity),this.updateClippingRect(this.clippingRect)}setIndex(e){this.index=e}updateClippingRect(e){if(this.clippingRect=e,null==this.index)return;const t=16*this.index,{instanceClipping:n,root:i}=this.group;null==this.clippingRect?n.set(_e,t):this.clippingRect.toArray(n.array,t),n.addUpdateRange(t,16),n.needsUpdate=!0,i.requestRender?.()}updateColor(e,t){if(this.color=e,this.opacity=t,null==this.index)return;const{instanceRGBA:n,root:i}=this.group,r=n.itemSize*this.index;N(n.array,r,e,t),n.addUpdateRange(r,4),n.needsUpdate=!0,i.requestRender?.()}updateGlyphAndTransformation(e,t,n,i,r){this.glyphInfo===e&&this.x===t&&this.y===n&&this.fontSize===i&&this.pixelSize===r||(this.glyphInfo!=e&&(this.glyphInfo=e,this.writeUV(),this.writeRenderSolid()),this.x=t,this.y=n,this.fontSize=i,this.pixelSize=r,this.writeUpdatedMatrix())}updateBaseMatrix(e){this.baseMatrix!==e&&(this.baseMatrix=e,this.writeUpdatedMatrix())}writeUV(){if(null==this.index||null==this.glyphInfo)return;const e=4*this.index,{instanceUV:t,root:n}=this.group;!function(e,t,n){t[n+0]=e.uvX,t[n+1]=e.uvY+e.uvHeight,t[n+2]=e.uvWidth,t[n+3]=-e.uvHeight}(this.glyphInfo,t.array,e),t.addUpdateRange(e,4),t.needsUpdate=!0,n.requestRender?.()}writeRenderSolid(){if(null==this.index||null==this.glyphInfo)return;const{instanceRenderSolid:e,root:t}=this.group,n=1*this.index;e.array[n]=this.glyphInfo.renderSolid?1:0,e.addUpdateRange(n,1),e.needsUpdate=!0,t.requestRender?.()}writeUpdatedMatrix(){if(null==this.index||null==this.glyphInfo||null==this.baseMatrix)return;const e=16*this.index,{instanceMatrix:t,root:n}=this.group;t.addUpdateRange(e,16),rn.makeTranslation(this.x*this.pixelSize,this.y*this.pixelSize,0).multiply(sn.makeScale(this.fontSize*this.glyphInfo.width*this.pixelSize,this.fontSize*this.glyphInfo.height*this.pixelSize,1)).premultiply(this.baseMatrix),rn.toArray(t.array,e),t.needsUpdate=!0,n.requestRender?.()}}class on{root;object;map=new Map;constructor(e,t){this.root=e,this.object=t}init(e){const t=e=>this.traverse(t=>t.onFrame(e));this.root.onFrameSet.add(t),e.addEventListener("abort",()=>{this.root.onFrameSet.delete(t),this.traverse(e=>e.destroy())})}traverse(e){for(const t of this.map.values())for(const n of t.values())e(n)}getGroup({majorIndex:e,minorIndex:t},n,i,r,s){let a=this.map.get(s);null==a&&this.map.set(s,a=new Map);const o=[e,t,n,i,r].join(",");let l=a?.get(o);return null==l&&a.set(o,l=new ln(this.object,s,this.root,{majorIndex:e,minorIndex:t,elementType:Vn.Text,patchIndex:0},n,i,r)),l}}class ln{object;root;orderInfo;renderOrder;instanceMatrix;instanceUV;instanceRGBA;instanceClipping;instanceRenderSolid;glyphs=[];requestedGlyphs=[];holeIndicies=[];mesh;instanceMaterial;timeTillDecimate;constructor(e,t,n,i,r,s,a){this.object=e,this.root=n,this.orderInfo=i,this.renderOrder=a,this.instanceMaterial=new tn(t),this.instanceMaterial.depthTest=r,this.instanceMaterial.depthWrite=s}requestActivate(e){const t=this.holeIndicies.shift();if(null!=t)return this.glyphs[t]=e,e.activate(t),void this.root.requestRender?.();if(null==this.mesh||this.mesh.count>=this.instanceMatrix.count)return this.requestedGlyphs.push(e),void this.root.requestFrame?.();const n=this.mesh.count;this.glyphs[n]=e,e.activate(n),this.mesh.count+=1,this.root.requestRender?.()}delete(e){if(null==e.index){const t=this.requestedGlyphs.indexOf(e);if(-1===t)return;return void this.requestedGlyphs.splice(t,1)}this.root.requestRender?.();const t=this.requestedGlyphs.shift();if(null!=t)return t.activate(e.index),this.glyphs[e.index]=t,void(e.index=void 0);if(e.index===this.glyphs.length-1)return this.glyphs.length-=1,this.mesh.count-=1,void(e.index=void 0);const n=16*e.index;this.instanceMatrix.array.fill(0,n,n+16),this.instanceMatrix.addUpdateRange(n,16),this.instanceMatrix.needsUpdate=!0,this.holeIndicies.push(e.index),this.glyphs[e.index]=void 0,e.index=void 0}onFrame(e){const t=this.glyphs.length-this.holeIndicies.length+this.requestedGlyphs.length;if(null!=this.mesh&&(this.mesh.visible=t>0),0===t)return;const n=this.instanceMatrix?.count??0;if(t<n/3?this.timeTillDecimate??=1:this.timeTillDecimate=void 0,null!=this.timeTillDecimate&&(this.timeTillDecimate-=e),(null==this.timeTillDecimate||this.timeTillDecimate>0)&&t<=n)return;this.timeTillDecimate=void 0,this.resize(t);const i=this.mesh.count,r=this.requestedGlyphs.length;for(let e=0;e<r;e++){const t=this.requestedGlyphs[e];t.activate(i+e),this.glyphs[i+e]=t}this.mesh.count+=r,this.mesh.visible=!0,this.requestedGlyphs.length=0}resize(e){const t=Math.ceil(1.5*e),n=new Float32Array(16*t),i=new Float32Array(4*t),r=new Float32Array(4*t),s=new Float32Array(16*t),a=new Float32Array(1*t);this.instanceMatrix=new o.uWO(n,16,!1),this.instanceMatrix.setUsage(o.Vnu),this.instanceUV=new o.uWO(i,4,!1),this.instanceUV.setUsage(o.Vnu),this.instanceRGBA=new o.uWO(r,4,!1),this.instanceRGBA.setUsage(o.Vnu),this.instanceClipping=new o.uWO(s,16,!1),this.instanceClipping.setUsage(o.Vnu),this.instanceRenderSolid=new o.uWO(a,1,!1),this.instanceRenderSolid.setUsage(o.Vnu);const l=this.mesh;if(this.mesh=new nn(this.root,this.instanceMatrix,this.instanceRGBA,this.instanceUV,this.instanceClipping,this.instanceRenderSolid,this.instanceMaterial),this.mesh.renderOrder=this.renderOrder,null!=l){this.holeIndicies.sort((e,t)=>e-t);const e=this.holeIndicies.length;let t=0,n=0;for(;n<e;){const e=this.holeIndicies[n];cn(t-n,t,e,l,this.mesh),t=e+1,this.glyphs.splice(e-n,1),n++}if(cn(t-n,t,l.count,l,this.mesh),this.holeIndicies.length>0)for(let e=this.holeIndicies[0];e<this.glyphs.length;e++)this.glyphs[e].setIndex(e);this.holeIndicies.length=0,this.object.remove(l),l.dispose()}Gn(this.mesh,{peek:()=>this.root},{value:this.orderInfo}),this.mesh.count=this.glyphs.length,this.object.addUnsafe(this.mesh)}destroy(){null!=this.mesh&&(this.object.remove(this.mesh),this.mesh.dispose(),this.instanceMaterial.dispose())}}function cn(e,t,n,i,r){un(e,t,n,i.instanceMatrix.array,r.instanceMatrix.array,16),un(e,t,n,i.instanceUV.array,r.instanceUV.array,4),un(e,t,n,i.instanceRGBA.array,r.instanceRGBA.array,4),un(e,t,n,i.instanceClipping.array,r.instanceClipping.array,16),un(e,t,n,i.instanceRenderSolid.array,r.instanceRenderSolid.array,1)}function un(e,t,n,i,r,s){if(t===n)return;const a=e*s,o=t*s,l=n*s;r.set(i.subarray(o,l),a)}function dn(e,t,n,r,s,a){let o={current:void 0};const l=(u=e.properties,d=e.fontSignal,h=o,(0,i.EW)(()=>{const e=d.value;if(null==e)return;const t=u.value.text;let n=Array.isArray(t)?t.map(Zt).join(""):Zt(t);const i=u.value.tabSize;switch(u.value.whiteSpace){case"pre":n=n.replaceAll("\t"," ".repeat(i));break;case"pre-line":n=n.replaceAll(qt," ").replaceAll(Yt,"\n").replaceAll(Jt,"");break;default:n=n.replaceAll(jt," ").trim()}const r=function(e,t,{fontSize:n,letterSpacing:i,lineHeight:r,wordBreak:s}){const a=E(n);let o;return o="string"==typeof r&&r.endsWith("px")?parseFloat(r):a*E(r,()=>1),{font:e,text:t,fontSize:a,letterSpacing:E(i),lineHeight:o,wordBreak:s}}(e,n,u.value);h.current=r;const{width:s}=en(r,0),{height:a}=en(r,void 0);return{minHeight:a,minWidth:s,measure:(e,t)=>en(r,t===ye.Undefined?void 0:e)}})),c=(0,i.vP)(void 0);var u,d,h;return Rn(()=>e.node.addLayoutChangeListener(()=>{const t=o.current,{size:{value:n},paddingInset:{value:i},borderInset:{value:r}}=e;if(null==t||null==n||null==i||null==r)return;const[s,a]=n,[l,u,d,h]=i,[p,f,g,A]=r,m=s-u-h-f-A,v=a-l-d-p-g;c.value=function(e,t,n){const i=[],r=Kt[e.wordBreak],s=e.text;let a=0;for(;a<s.length;){const n={};r(e,t,a,n),i.push(n),a=n.charLength+n.charIndexOffset}return 0!==i.length&&"\n"!==s[s.length-1]||i.push({charLength:0,nonWhitespaceWidth:0,whitespacesBetween:0,charIndexOffset:s.length,nonWhitespaceCharLength:0}),{lines:i,availableHeight:n,availableWidth:t,...e}}(t,m,v)}),e.abortSignal),Rn(()=>{const i=e.fontSignal.value;if(null==i||null==e.orderInfo.value)return;const o=new pn(e.root.value.glyphGroupManager.getGroup(e.orderInfo.value,e.properties.value.depthTest,e.properties.value.depthWrite??!1,e.properties.value.renderOrder,i),e.properties,c,e.globalTextMatrix,e.isVisible,t,n,r,s);return null!=a&&(a.current=o),()=>o.destroy()},e.abortSignal),l}const hn=[];class pn{group;properties;layoutSignal;matrix;parentClippingRect;selectionRange;selectionTransformations;caretTransformation;glyphLines=[];lastLayout;unsubscribeInitialList=[];unsubscribeShowList=[];constructor(e,t,n,r,s,a,o,l,c){this.group=e,this.properties=t,this.layoutSignal=n,this.matrix=r,this.parentClippingRect=a,this.selectionRange=o,this.selectionTransformations=l,this.caretTransformation=c,this.unsubscribeInitialList=[(0,i.QZ)(()=>{!s.value||E(this.properties.value.opacity,()=>1)<.01?this.hide():this.show()}),(0,i.QZ)(()=>this.updateSelectionBoxes(this.lastLayout,o?.value,t.peek().verticalAlign,t.peek().textAlign))]}getCharIndex(e,t,n){const i=this.lastLayout;if(null==i)return 0;t-=-gn(i,this.properties.peek().verticalAlign);const r=Math.floor(t/-i.lineHeight),s=i.lines;if(r<0||0===s.length)return 0;if(r>=s.length){const e=s[s.length-1];return e.charIndexOffset+e.charLength+1}const a=s[r],o=i.font.getGlyphInfo(" ").xadvance*i.fontSize,l=this.glyphLines[r];let c=l.length;for(let t=0;t<c;t++){const r=l[t];if(e<this.getGlyphX(r,"between"===n?.5:1,o)+i.availableWidth/2)return t+a.charIndexOffset}return a.charIndexOffset+a.charLength+1}updateSelectionBoxes(e,t,n,i){if(null==this.caretTransformation||null==this.selectionTransformations)return;if(null==t||null==e||0===e.lines.length)return this.caretTransformation.value=void 0,void(this.selectionTransformations.value=hn);const r=e.font.getGlyphInfo(" ").xadvance*e.fontSize,[s,a]=t;if(a<=s){const{lineIndex:t,x:s}=this.getGlyphLineAndX(e,a,!0,r,i),o=-(gn(e,n)-e.availableHeight/2+t*e.lineHeight+S(e.fontSize,e.lineHeight));return this.caretTransformation.value={position:[s,o-e.fontSize/2],height:e.fontSize},void(this.selectionTransformations.value=[])}this.caretTransformation.value=void 0;const o=this.getGlyphLineAndX(e,s,!0,r,i),l=this.getGlyphLineAndX(e,a-1,!1,r,i);if(o.lineIndex===l.lineIndex)return void(this.selectionTransformations.value=[this.computeSelectionTransformation(o.lineIndex,o.x,l.x,e,n,r)]);const c=[this.computeSelectionTransformation(o.lineIndex,o.x,void 0,e,n,r)];for(let t=o.lineIndex+1;t<l.lineIndex;t++)c.push(this.computeSelectionTransformation(t,void 0,void 0,e,n,r));c.push(this.computeSelectionTransformation(l.lineIndex,void 0,l.x,e,n,r)),this.selectionTransformations.value=c}computeSelectionTransformation(e,t,n,i,r,s){const a=this.glyphLines[e];null==t&&(t=this.getGlyphX(a[0],0,s)),null==n&&(n=this.getGlyphX(a[a.length-1],1,s));const o=i.lineHeight,l=n-t;return{position:[t+l/2,-(gn(i,r)-i.availableHeight/2+e*o)-o/2],size:[l,o]}}getGlyphLineAndX({lines:e,availableWidth:t},n,i,r,s){const a=e.length;if(n>=e[0].charIndexOffset)for(let t=0;t<a;t++){const s=e[t];if(n>=s.charIndexOffset+s.charLength)continue;const a=this.glyphLines[t][Math.max(n-s.charIndexOffset,0)];return{lineIndex:t,x:this.getGlyphX(a,i?0:1,r)}}const o=e[a-1];if(0===o.charLength||n<o.charIndexOffset)return{lineIndex:a-1,x:fn(t,o.nonWhitespaceWidth,s)-t/2};const l=this.glyphLines[a-1][o.charLength-1];return{lineIndex:a-1,x:this.getGlyphX(l,1,r)}}getGlyphX(e,t,n){return"number"==typeof e?e+t*n:e.getX(t)}show(){this.unsubscribeShowList.length>0||(An(this.glyphLines,e=>e.show()),this.unsubscribeShowList.push((0,i.QZ)(()=>{const e=this.matrix.value;null!=e&&An(this.glyphLines,t=>t.updateBaseMatrix(e))}),(0,i.QZ)(()=>{const e=this.parentClippingRect?.value;An(this.glyphLines,t=>t.updateClippingRect(e))}),(0,i.QZ)(()=>{const e=this.properties.value.color,t=E(this.properties.value.opacity,()=>1);An(this.glyphLines,n=>n.updateColor(e??0,t))}),(0,i.QZ)(()=>{const e=this.layoutSignal.value;if(null==e)return;const{text:t,font:n,lines:i,letterSpacing:r=0,fontSize:s=16,lineHeight:a=1.2,availableWidth:o}=e;let l=gn(e,this.properties.value.verticalAlign)-e.availableHeight/2;const c=i.length,u=this.properties.value.pixelSize;for(let e=0;e<c;e++){e===this.glyphLines.length&&this.glyphLines.push([]);const{whitespacesBetween:c,nonWhitespaceWidth:d,charIndexOffset:h,nonWhitespaceCharLength:p,charLength:f}=i[e],g=this.properties.value.textAlign;let A,v="justify"===g?(o-d)/c:0,y=fn(o,d,g)-o/2;const w=this.glyphLines[e];for(let e=h;e<h+f;e++){const i=e-h,o=t[e],c=n.getGlyphInfo(o);if(" "===o||e>p+h){A=c.id;const e=y+m(n,s,c,A);"number"==typeof w[i]?w[i]=y:w.splice(i,0,e),y+=v+b(s,c,r);continue}let d=w[i];for(;i<w.length&&"number"==typeof d;)w.splice(i,1),d=w[i];let f=d;null==f&&(w[i]=f=new an(this.group,this.matrix.peek(),this.properties.peek().color??0,E(this.properties.peek().opacity,()=>1),this.parentClippingRect?.peek())),f.updateGlyphAndTransformation(c,y+m(n,s,c,A),-(l+S(s,a,c)),s,u),f.show(),A=c.id,y+=b(s,c,r)}l+=x(a);const I=w.length,C=f;for(let e=C;e<I;e++){const t=w[e];"number"!=typeof t&&t.hide()}w.length=C}An(this.glyphLines,e=>e.hide(),c),this.glyphLines.length=c,this.lastLayout=e,this.updateSelectionBoxes(e,this.selectionRange?.peek(),this.properties.value.verticalAlign,this.properties.value.textAlign)})))}hide(){const e=this.unsubscribeShowList.length;if(0!==e){for(let t=0;t<e;t++)this.unsubscribeShowList[t]();this.unsubscribeShowList.length=0,An(this.glyphLines,e=>e.hide())}}destroy(){this.hide(),this.glyphLines.length=0;const e=this.unsubscribeInitialList.length;for(let t=0;t<e;t++)this.unsubscribeInitialList[t]()}}function fn(e,t,n){switch(n){case"right":return e-t;case"center":return(e-t)/2;default:return 0}}function gn(e,t){switch(t){case"center":case"middle":return(e.availableHeight-w(e.lines.length,e.lineHeight))/2;case"bottom":return e.availableHeight-w(e.lines.length,e.lineHeight);default:return 0}}function An(e,t,n=0){const i=e.length;for(let r=n;r<i;r++){const n=e[r],i=n.length;for(let e=0;e<i;e++){const i=n[e];"number"!=typeof i&&t(i)}}}const mn=["depthTest","depthWrite","renderOrder","pixelSize","opacity","color","fill","textAlign","verticalAlign","fontSize","letterSpacing","lineHeight","wordBreak","fontFamily","fontWeight","visibility","scrollbarBorderRightWidth","scrollbarBorderTopWidth","scrollbarBorderLeftWidth","scrollbarBorderBottomWidth","scrollbarColor","scrollbarWidth","scrollbarBorderTopLeftRadius","scrollbarBorderTopRightRadius","scrollbarBorderBottomLeftRadius","scrollbarBorderBottomRightRadius","scrollbarBorderColor","scrollbarBorderBend","caretColor","caretWidth","caretBorderRightWidth","caretBorderTopWidth","caretBorderLeftWidth","caretBorderBottomWidth","caretBorderTopLeftRadius","caretBorderTopRightRadius","caretBorderBottomLeftRadius","caretBorderBottomRightRadius","caretBorderColor","caretBorderBend","selectionColor","selectionWidth","selectionBorderRightWidth","selectionBorderTopWidth","selectionBorderLeftWidth","selectionBorderBottomWidth","selectionBorderTopLeftRadius","selectionBorderTopRightRadius","selectionBorderBottomLeftRadius","selectionBorderBottomRightRadius","selectionBorderColor","selectionBorderBend","pointerEvents","pointerEventsType","pointerEventsOrder"],vn=new o.kn4,yn=new o.iyt,En=new o.kn4,Sn=()=>!1;wt({type:"base",section:"base"});const bn=new Ct(it,new Proxy({},{get:()=>Sn}));bn.setEnabled(!0);class xn extends o.eaF{inputProperties;abortController=new AbortController;handlers;orderInfo=(0,i.vP)(void 0);isVisible;isClipped;boundingSphere=new o.iyt;properties;starProperties;node;size=(0,i.vP)(void 0);relativeCenter=(0,i.vP)(void 0);borderInset=(0,i.vP)(void 0);overflow=(0,i.vP)(Se.Visible);displayed=(0,i.vP)(!1);scrollable=(0,i.vP)([!1,!1]);paddingInset=(0,i.vP)(void 0);maxScrollPosition=(0,i.vP)([void 0,void 0]);root;parentContainer=(0,i.vP)(void 0);hoveredList=(0,i.vP)([]);activeList=(0,i.vP)([]);ancestorsHaveListenersSignal;globalMatrix;globalPanelMatrix;abortSignal=this.abortController.signal;classList;constructor(e,t,n){super(u,n?.material),this.inputProperties=e,this.matrixAutoUpdate=!1;const c=()=>{this.parentContainer.value=this.parent instanceof xn?this.parent:void 0,this.properties.setEnabled(null!=this.parent),this.starProperties.setEnabled(null!=this.parent)};this.addEventListener("added",c),this.addEventListener("removed",c),this.root=function(e,t){const n=(0,i.EW)(()=>null==e.parentContainer.value?function(e,t){const n={isUpdateRunning:!1,onFrameSet:new Set,requestFrame:t?.requestFrame,requestRender(){n.isUpdateRunning||t?.requestFrame()},onUpdateMatrixWorldSet:new Set,requestCalculateLayout:()=>{},component:e};return Object.assign(n,{glyphGroupManager:new on(n,e),panelGroupManager:new ee(n,e)})}(e,t):e.parentContainer.value.root.value);return Rn(()=>{if(n.value.component!=e)return;const t=new AbortController;n.value.glyphGroupManager.init(t.signal),n.value.panelGroupManager.init(t.signal),n.value.requestCalculateLayout=function(e,t){let n=!0;const i=()=>{n&&(n=!1,t.node.calculateLayout())};return e.onFrameSet.add(i),t.abortSignal.addEventListener("abort",()=>e.onFrameSet.delete(i)),()=>{n=!0,e.requestFrame?.()}}(n.value,e);const i=()=>{n.value.reversePainterSortStableCache=void 0};return n.value.onFrameSet.add(i),t.signal.addEventListener("abort",()=>n.value.onFrameSet.delete(i)),()=>t.abort()},e.abortSignal),n}(this,n?.renderContext);const d=(m=this.root,v=this.hoveredList,y=this.activeList,S=n?.hasFocus,b=n?.isPlaceholder,{...mt,...ft(m),...gt(v),...At(y),...vt(S),...(x=b,null==x?{placeholderStyle:()=>!1}:{placeholderStyle:()=>x.value})});var m,v,y,S,b,x,w,I,C,T,M,B,R,P,_;this.properties=new Ct(it,d,n?.defaults??It),this.properties.setLayersWithConditionals({type:"default-overrides"},{width:(0,i.EW)(()=>{const e=this.properties.value.sizeX;if(null!=e)return e/this.properties.value.pixelSize}),height:(0,i.EW)(()=>{const e=this.properties.value.sizeY;if(null!=e)return e/this.properties.value.pixelSize}),...n?.defaultOverrides}),Rn(()=>{const e=this.parentContainer.value?.properties,t=wt({type:"inheritance"}),n=e?.subscribePropertyKeys(n=>{if(!mn.includes(n))return;const i=e.signal[n];this.properties.set(t,n,i)});return()=>{n?.(),this.properties.setLayer(t,void 0)}},this.abortSignal),this.starProperties=new Ct(it,d),this.starProperties.setLayersWithConditionals({type:"default-overrides"},kt(n?.defaultOverrides)),Rn(()=>{const e=this.parentContainer.value?.starProperties??bn,t=wt({type:"star-inheritance"}),n=e?.subscribePropertyKeys(n=>{const i=e.signal[n];this.starProperties.set(t,n,i),this.properties.set(t,n,i)});return()=>{n?.(),this.properties.setLayer(t,void 0),this.starProperties.setLayer(t,void 0)}},this.abortSignal),this.resetProperties(e),this.classList=new Ot(this.properties,this.starProperties),null!=t&&this.classList.add(...t),Rn(()=>{const e=this.properties.value.id;if(null==e)return;const t=`__id__${e}`;return t in Lt?(this.classList.add(t),()=>this.classList.remove(t)):void 0},this.abortSignal),this.node=new Ke(this),this.globalMatrix=(w=(0,i.EW)(()=>this.parentContainer.value?.childrenMatrix.value??function(e,t){if(null==t.value)return;const[n,i]=t.value,r=e.value.pixelSize;return(new o.kn4).makeTranslation(Pn[e.value.anchorX]*n*r,_n[e.value.anchorY]*i*r,0)}(this.properties,this.size)),I=function({relativeCenter:e,size:t,properties:n,root:r}){return(0,i.EW)(()=>{if(null==e.value)return;const[i,s]=e.value,a=n.value.pixelSize,l=(new o.kn4).makeTranslation(i*a,s*a,0);let c=!0;const u=n.value.transformOriginX??"center",d=n.value.transformOriginY??"center";if("center"!=u||"center"!=d){if(null==t.value)return;const[e,n]=t.value;c=!1,Rt.set(-Pn[u]*e*a,-_n[d]*n*a,0),l.multiply(Pt.makeTranslation(Rt)),Rt.negate()}const h=n.value.transformTranslateX??0,p=n.value.transformTranslateY??0,f=n.value.transformTranslateZ??0,g=n.value.transformRotateX??0,A=n.value.transformRotateY??0,m=n.value.transformRotateZ??0,v=n.value.transformScaleX??1,y=n.value.transformScaleY??1,S=n.value.transformScaleZ??1,b=[g,A,m],x=[E(h,()=>t.value?.[0]??0,r.value),-E(p,()=>t.value?.[1]??0,r.value),f],w=[E(v,()=>1,r.value),E(y,()=>1,r.value),E(S,()=>1,r.value)];return(x.some(e=>0!=e)||b.some(e=>0!=e)||w.some(e=>1!=e))&&l.multiply(Pt.compose(Mt.fromArray(x).multiplyScalar(a),function([e,t,n]){return Dt.setFromEuler(_t.set(e*Nt,t*Nt,n*Nt))}(b),Bt.fromArray(w))),c||l.multiply(Pt.makeTranslation(Rt)),l})}(this),(0,i.EW)(()=>{const e=I.value,t=w.value;if(null!=e&&null!=t)return t.clone().multiply(e)})),this.isClipped=(C=this.parentContainer,T=this.globalMatrix,M=this.size,B=this.properties.signal.pixelSize,(0,i.EW)(()=>{if(null==C.value)return!1;if(null==M.value)return!0;const e=T.value,t=C.value.clippingRect.value;if(null==t||null==e)return!1;const[n,i]=M.value,r=B.value;for(let t=0;t<4;t++){const[s,a]=Re[t];Be[t].set(s*r*n,a*r*i,0).applyMatrix4(e)}const{planes:s}=t;let a;for(let e=0;e<4;e++){const t=s[e];a=!0;for(let e=0;e<4;e++){const n=Be[e];t.distanceToPoint(n)>=0&&(a=!1)}if(a)return!0}return!1})),this.isVisible=(R=this,P=this.isClipped,_=this.properties,(0,i.EW)(()=>R.displayed.value&&(null==P||!P?.value)&&"visible"===_.value.visibility)),this.handlers=function(e,t,n,o,l){return(0,i.EW)(()=>{const i={};for(const t of Tn){const n=e.value[t];null!=n&&(i[t]=n)}return function(e,t){for(const n in t)Mn(n,e,t[n])}(i,l?.value),function(e,t,n,i,o){const l=t.value.cursor,c=t.value.onHoverChange;o.value||i.value||null!=c||null!=l?(Mn("onPointerEnter",e,({pointerId:e})=>{var t,i;null!=e&&(n.value=[e,...n.value],1===n.value.length&&c?.(!0),null!=l&&(t=n,i=l,r.push(t),s.push(i),document.body.style.cursor=i))}),Mn("onPointerLeave",e,({pointerId:e})=>{n.value=n.value.filter(t=>t!=e),0===n.value.length&&c?.(!1),a(n)})):n.value.length=0}(i,e,n,e.usedConditionals.hover,t.usedConditionals.hover),function(e,t,n,i,r){if(!r.value&&!i.value&&null==t.value.onActiveChange)return;const s=({pointerId:e})=>{n.value=n.value.filter(t=>t!=e),n.value.length>0||t.peek().onActiveChange?.(!1)};Mn("onPointerDown",e,({pointerId:e})=>{null!=e&&(n.value=[e,...n.value],1==n.value.length&&t.peek().onActiveChange?.(!0))}),Mn("onPointerUp",e,s),Mn("onPointerLeave",e,s)}(i,e,o,e.usedConditionals.active,t.usedConditionals.active),i})}(this.properties,this.starProperties,this.hoveredList,this.activeList,n?.dynamicHandlers),this.ancestorsHaveListenersSignal=function(e,t){return(0,i.EW)(()=>(e.value?.ancestorsHaveListenersSignal.value??!1)||Object.keys(t.value).length>0)}(this.parentContainer,this.handlers),this.globalPanelMatrix=Ue(this.properties,this.globalMatrix,this.size,void 0),this.raycast=A(this,this.raycast.bind(this),this.root,this.parentContainer,this.orderInfo),this.spherecast=A(this,function(e,t,n,i){return(n,r)=>{if(e.peek().component.updateMatrix(),kn(e.peek(),g),p.copy(t).applyMatrix4(g),!p.intersectsSphere(n))return;i.updateMatrixWorld(!0),h.copy(n.center).applyMatrix4(f.copy(i.matrixWorld).invert()),h.x=(0,l.clamp)(h.x,-.5,.5),h.y=(0,l.clamp)(h.y,-.5,.5),h.z=0;const s=new o.I9Y(h.x,h.y);h.applyMatrix4(i.matrixWorld);const a=n.center.distanceTo(h);a>n.radius||r.push({distance:a,object:i,point:h.clone(),uv:s,normal:new o.Pq0(0,0,1)})}}(this.root,this.boundingSphere,this.globalPanelMatrix,this),this.root,this.parentContainer,this.orderInfo),function(e,t){t.addEventListener("abort",()=>a(e))}(this.hoveredList,this.abortSignal),function(e,t,n,i,r){Rn(()=>{const r=i.value,s=n.value;if(null==r||null==s)return;e.center.set(0,0,0);const[a,o]=r,l=Math.sqrt(a*a+o*o);e.radius=.5*l*t.value,e.applyMatrix4(s)},r)}(this.boundingSphere,this.properties.signal.pixelSize,this.globalMatrix,this.size,this.abortSignal);const D=n?.hasNonUikitChildren??!0;if(function(e,t){e.defaultPointerEvents="auto",Rn(()=>{e.ancestorsHaveListeners=e.ancestorsHaveListenersSignal.value,e.pointerEvents=e.isVisible.value?e.properties.value.pointerEvents:"none",e.pointerEventsOrder=e.properties.value.pointerEventsOrder,e.pointerEventsType=e.properties.value.pointerEventsType},e.abortSignal),Rn(()=>{const n=e.root.value.component;if(e.intersectChildren=t||n===e,!t&&"none"===e.properties.value.pointerEvents)return;if(n===e)return;n.interactableDescendants??=[];const i=n.interactableDescendants;return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}},e.abortSignal)}(this,D),Rn(()=>{const{value:e}=this.handlers;for(const t in e)this.addEventListener(wn(t),e[t]);return()=>{for(const t in e)this.removeEventListener(wn(t),e[t])}},this.abortSignal),!D){const e=({child:e})=>{if(!(e instanceof xn||e instanceof G||e instanceof nn))throw new Error(`Only pmndrs/uikit components can be added as children to this component. Got ${e.constructor.name} instead.`)};this.addEventListener("childadded",e),this.abortSignal.addEventListener("abort",()=>this.removeEventListener("childadded",e))}}raycast(e,t){return this.root.peek().component.updateMatrix(),kn(this.root.peek(),En),yn.copy(this.boundingSphere).applyMatrix4(En),!!e.ray.intersectsSphere(yn)&&(this.updateWorldMatrix(!1,!1),super.raycast(e,t),!1)}updateMatrixWorld(){this.updateWorldMatrix(!1,!0)}updateWorldMatrix(e,t){const n=this.root.peek().component,i=n.parent;if(e&&i?.updateWorldMatrix(!0,!1),this===n&&n.updateMatrix(),kn(this.root.peek(),En),this.matrixWorld.multiplyMatrices(En,this.globalPanelMatrix.peek()??vn),t&&this.root.peek().component===this)for(const e of this.root.value.onUpdateMatrixWorldSet)e()}setProperties(e){this.resetProperties({...this.inputProperties,...e})}resetProperties(e){this.inputProperties=e,this.properties.setLayersWithConditionals({type:"base"},e),this.starProperties.setLayersWithConditionals({type:"base"},kt(e))}update(e){const t=this.root.peek();if(t.component==this){t.isUpdateRunning=!0;for(const t of this.root.peek().onFrameSet)t(e);t.isUpdateRunning=!1}}dispose(){this.parent?.remove(this),this.abortController.abort()}addUnsafe(...e){return super.add(...e)}}function wn(e){return e.slice(2).toLowerCase()}function In(e,t,n,i=!1){if(e instanceof t)return e;let r;return e instanceof xn&&(r=e.parentContainer.value),i&&(r??=e.parent),0!==n&&null!=r?In(r,t,n-1,i):void 0}function Cn(e,t,n,i,r,...s){Rn(()=>{let i,a=!1;return t(Nn(r),...s).then(t=>{a||(e.value=i=t)}).catch(console.error),()=>{a=!0,null!=i&&null!=n&&n(i)}},i)}const Tn=["onClick","onContextMenu","onDblClick","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onWheel"];function Mn(e,t,n){if(null==n)return;const i=t[e];t[e]=null!=i?e=>{i(e),n(e)}:n}function Bn(e,t,n,i){null!=n&&Rn(()=>{n.value,t.peek().requestRender?.()},i),Rn(()=>{const n=t.value;if(n.component===e)return;const i=e.updateWorldMatrix.bind(e,!1,!0);return n.onUpdateMatrixWorldSet.add(i),()=>n.onUpdateMatrixWorldSet.delete(i)},i)}function Rn(e,t){if(t.aborted)return;const n=(0,i.QZ)(e);t.addEventListener("abort",n)}const Pn={left:.5,center:0,middle:0,right:-.5},_n={top:-.5,center:0,middle:0,bottom:.5},Dn={back:-.5,center:0,middle:0,front:.5};function Nn(e){if("initial"!==(e=e instanceof i.HN?e.value:e))return e}function Ln(e,t){return(0,i.EW)(()=>t.map(t=>e.value[t]??0))}function On(e,t){return(0,i.EW)(()=>{const n=[0,0,0,0];return N(n,0,Nn(e),Nn(t)),n})}function kn(e,t){const n=e.component;null!=n.parent?t.multiplyMatrices(n.parent.matrixWorld,n.matrix):t.copy(n.matrix)}const Un=Symbol("reverse-painter-sort-stable-cache-key"),Fn=Symbol("order-info-key");function Qn(e,t){if(e.groupOrder!==t.groupOrder)return e.groupOrder-t.groupOrder;if(e.renderOrder!==t.renderOrder)return e.renderOrder-t.renderOrder;let n=e.z,i=t.z;const r=e.object[Un],s=t.object[Un];if(null!=r){const e=r.peek();e.reversePainterSortStableCache??=n,n=e.reversePainterSortStableCache}if(null!=s){const e=s.peek();e.reversePainterSortStableCache??=i,i=e.reversePainterSortStableCache}return null!=r&&r.peek()===s?.peek()?function(e,t){if(null==e||null==t)return 0;let n=e.majorIndex-t.majorIndex;return 0!=n?n:(n=e.minorIndex-t.minorIndex,0!=n?n:(n=e.elementType-t.elementType,0!=n?n:e.patchIndex-t.patchIndex))}(e.object[Fn].value,t.object[Fn].value):n!==i?i-n:e.id-t.id}const Vn={Panel:0,Image:1,Content:2,Custom:3,Text:4};function Hn(e,t,n,i,r,s,a){Rn(()=>{if(void 0===s.value)return void(e.value=void 0);const a=s.value,o=t.value[n]??a?.majorIndex??0;let l,c;null==a?(l=0,c=0):i>a.elementType?(l=a.minorIndex,c=0):i==a.elementType&&function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;let n=0;for(const i in e){if(e[i]!=t[i])return!1;++n}return n===Object.keys(t).length}(Nn(r),Nn(a.instancedGroupDependencies))?(l=a.minorIndex,c=a.patchIndex+1):(l=a.minorIndex+1,c=0),c+=t.value.zIndexOffset??0,e.value={instancedGroupDependencies:r,elementType:i,majorIndex:o,minorIndex:l,patchIndex:c}},a)}function Gn(e,t,n){e[Un]=t,e[Fn]=n}const zn=new o.Pq0,Wn=new o.Pq0;function Xn(e,t,n,i,r,s){if(null==e.scrollPosition.value)return;const[a,o]=null==t?[!1,!1]:function(e){return e[jn]??[!1,!1]}(t.nativeEvent);a&&(n=0),o&&(i=0);const[l,c]=e.scrollPosition.value,[u,d]=e.maxScrollPosition.value;let[h,p]=e.scrollPosition.value;const[f,g]=e.anyAncestorScrollable?.value??[!1,!1];h=qn(l,u,n,s&&!f),p=qn(c,d,i,s&&!g),null!=r&&r>0&&e.scrollVelocity.set(n,i).divideScalar(r),null!=t&&function(e,t,n){e[jn]=[t,n]}(t.nativeEvent,a||Math.min(l,(u??0)-l)>5,o||Math.min(c,(d??0)-c)>5);const A=e.properties.peek().onScroll?.(h,p,e.scrollPosition,t);!1===A||l===h&&c===p||(e.scrollPosition.value=[h,p])}const jn=Symbol("was-scrolled");function qn(e,t,n,i){if(0===n)return e;const r=Jn(e,0,t??0);Yn(n)===Yn(r)&&(n*=Math.max(0,1-Math.abs(r)/100));let s=e+n;return i&&null!=t?s:(0,l.clamp)(s,0,t??0)}function Yn(e){return e>=0}function Jn(e,t,n){return e<t?e-t:e>n?e-n:0}const Zn=["scrollbarBorderLeftWidth","scrollbarBorderRightWidth","scrollbarBorderTopWidth","scrollbarBorderBottomWidth"];let Kn;function $n(e,t,n,r,s,a){const o=(0,i.EW)(()=>ei(t,e.properties.value.scrollbarWidth,e.size.value,e.maxScrollPosition.value,e.borderInset.value,e.scrollPosition.value)),l=(0,i.EW)(()=>o.value?.slice(0,2)??[0,0]),c=(0,i.EW)(()=>o.value?.slice(2,4)??[0,0]),u=Ue(e.properties,e.globalMatrix,c,l);Oe(e.properties,e.root,r,s,u,c,a,n,e.isVisible,(Kn??=B({backgroundColor:"scrollbarColor",borderBottomLeftRadius:"scrollbarBorderBottomLeftRadius",borderBottomRightRadius:"scrollbarBorderBottomRightRadius",borderTopRightRadius:"scrollbarBorderTopRightRadius",borderTopLeftRadius:"scrollbarBorderTopLeftRadius",borderColor:"scrollbarBorderColor",borderBend:"scrollbarBorderBend"},{backgroundColor:16777215}),Kn),e.abortSignal)}function ei(e,t,n,i,r,s){if(null==n||null==r||null==s)return;const a=i[e];if(null==a)return;const o=[0,0,0,0],c=1-e,u=n[e]-r[c]-r[c+2],d=ti(u,a,t),h=u-d,p=s[e],f=1-e;return o[e]=.5*n[e]-.5*d-r[(e+3)%4]-h*(0,l.clamp)(p/a,0,1),o[f]=.5*n[f]-.5*t-r[f+1],0===e&&(o[0]*=-1,o[1]*=-1),o[e+2]=d,o[c+2]=t,o}function ti(e,t,n){return Math.max(n,e*e/(t+e))}const ni=new o.UtB,ii=new o.I9Y,ri=new o.I9Y,si=new o.I9Y;function ai(e,t,n,i,r,s,a){const o=ei(t,n,i,r,s,a);return null!=o&&(ni.setFromCenterAndSize(ri.fromArray(o,0),si.fromArray(o,2)),ni.containsPoint(e))}class oi extends xn{downPointerMap=new Map;scrollVelocity=new o.I9Y;anyAncestorScrollable;clippingRect;childrenMatrix;fontFamilies;scrollPosition=(0,i.vP)([0,0]);constructor(e,t,n){const r=(0,i.vP)(void 0);var s,a,l;super(e,t,{hasNonUikitChildren:!1,dynamicHandlers:r,...n}),this.material.visible=!1,function(e,t,n){const r=(0,i.EW)(()=>t.scrollable.value.some(e=>e)??!1);Rn(()=>{if(!r.value)return void(e.value=void 0);const n=e=>{"releasePointerCapture"in t&&"function"==typeof t.releasePointerCapture&&null!=e.pointerId&&t.releasePointerCapture(e.pointerId),null!=e.pointerId&&t.downPointerMap.delete(e.pointerId)&&null!=t.scrollPosition.value&&(e.stopImmediatePropagation?.(),t.downPointerMap.size>0||t.root.peek().requestRender?.())};e.value={onPointerDown:e=>{e.stopImmediatePropagation?.();const n=t.worldToLocal(e.point.clone()),i=null!=e.nativeEvent&&"object"==typeof e.nativeEvent&&"pointerType"in e.nativeEvent&&"mouse"===e.nativeEvent.pointerType,r=i?function(e,t,n,i,r,s){if(null!=n){ii.copy(e),ii.x*=n[0],ii.y*=n[1];for(let e=0;e<2;e++)if(ai(ii,e,t,n,i,r,s))return e}}(n,t.properties.peek().scrollbarWidth,t.size.peek(),t.maxScrollPosition.peek(),t.borderInset.peek(),t.scrollPosition.peek()):void 0;null==e.pointerId||i&&null==r||("setPointerCapture"in e.object&&"function"==typeof e.object.setPointerCapture&&e.object.setPointerCapture(e.pointerId),t.downPointerMap.set(e.pointerId,null!=r?{type:"scroll-bar",localPoint:n,axisIndex:r}:{type:"scroll-panel",timestamp:performance.now(),localPoint:n}))},onPointerUp:n,onPointerLeave:n,onPointerCancel:n,onPointerMove:e=>{if(null==e.pointerId)return;const n=t.downPointerMap.get(e.pointerId);if(null==n)return;if(e.stopImmediatePropagation?.(),t.worldToLocal(Wn.copy(e.point)),zn.copy(Wn).sub(n.localPoint),zn.x*=t.size.peek()?.[0]??0,zn.y*=t.size.peek()?.[1]??0,n.localPoint.copy(Wn),"scroll-bar"===n.type){const i=t.size.peek();if(null==i)return;return function(e,t,n,i,r,s){const a=r[t];if(null==n||null==i||null==a)return;const o=e.getComponent(t),l=n[t]-i[1-t]-i[1-t+2],c=l-ti(l,a,s);e.setComponent(t,o/c*a),e.setComponent(1-t,0),e.z=0}(zn,n.axisIndex,i,t.borderInset.peek(),t.maxScrollPosition.peek(),t.properties.peek().scrollbarWidth),void Xn(t,e,zn.x,-zn.y,void 0,!1)}const i=performance.now(),r=i-n.timestamp;Xn(t,e,-zn.x,zn.y,r,!0),n.timestamp=i},onWheel:e=>{const{nativeEvent:n}=e;null!=n&&"object"==typeof n&&"deltaX"in n&&"number"==typeof n.deltaX&&"deltaY"in n&&"number"==typeof n.deltaY&&Xn(t,e,n.deltaX,n.deltaY,void 0,!1)}}},n)}(r,this,this.abortSignal),this.childrenMatrix=(s=this.properties,a=this.scrollPosition,l=this.globalMatrix,(0,i.EW)(()=>{const e=l.value;if(null==e)return;const[t,n]=a.value,i=s.value.pixelSize;return(new o.kn4).makeTranslation(-t*i,n*i,0).premultiply(e)}));const c=(0,i.EW)(()=>this.parentContainer.value?.clippingRect.value);var u;this.fontFamilies=Ht(this.properties,this.parentContainer),this.clippingRect=function(e,{overflow:t,borderInset:n,size:r},s,a){return(0,i.EW)(()=>{const i=e.value;if(null==i||t.value===Se.Visible)return a?.value;if(null==r.value||null==n.value)return;const[o,l]=r.value,[c,u,d,h]=n.value,p=s.value,f=new Me(i,(u-h)*p/2,(c-d)*p/2,(o-h-u)*p,(l-c-d)*p);return null!=a?.value&&f.min(a.value),f})}(this.globalMatrix,this,this.properties.signal.pixelSize,c),this.anyAncestorScrollable=(u=this.parentContainer,(0,i.EW)(()=>{const e=u.value,[t,n]=e?.anyAncestorScrollable?.value??[!1,!1],[i,r]=e?.scrollable.value??[!1,!1];return[t||i,n||r]}));const d=$(this.properties);Hn(this.orderInfo,this.properties,"zIndex",Vn.Panel,d,(0,i.EW)(()=>null==this.parentContainer.value?null:this.parentContainer.value.orderInfo.value),this.abortSignal),Oe(this.properties,this.root,this.orderInfo,d,this.globalPanelMatrix,this.size,this.borderInset,c,this.isVisible,T(),this.abortSignal),function(e){const t=t=>{if(e.downPointerMap.size>0||null==e.scrollPosition.value)return;let n=0,i=0;const[r,s]=e.scrollPosition.value,[a,o]=e.maxScrollPosition.value,l=Jn(r,0,a??0),c=Jn(s,0,o??0);(Math.abs(l)>1||Math.abs(c)>1)&&e.root.peek().requestFrame?.(),n+=-.3*l,i+=-.3*c,n+=e.scrollVelocity.x*t,i+=e.scrollVelocity.y*t,e.scrollVelocity.multiplyScalar(.9),Math.abs(e.scrollVelocity.x)<.01?e.scrollVelocity.x=0:e.root.peek().requestFrame?.(),Math.abs(e.scrollVelocity.y)<.01?e.scrollVelocity.y=0:e.root.peek().requestFrame?.(),0===n&&0===i||Xn(e,void 0,n,i,void 0,!0)};Rn(()=>(e.root.value.onFrameSet.add(t),()=>e.root.value.onFrameSet.delete(t)),e.abortSignal)}(this),function(e,t,n,r){const s=(0,i.vP)(void 0);Hn(s,e.properties,"scrollbarZIndex",Vn.Panel,r,n,e.abortSignal);const a=Ln(e.properties,Zn);$n(e,0,t,s,r,a),$n(e,1,t,s,r,a)}(this,c,this.orderInfo,d)}}const li={...It,objectFit:"fill",keepAspectRatio:!0};class ci extends xn{texture=(0,i.vP)(void 0);constructor(e,t,n){const r=(0,i.vP)(void 0);super(e,t,{defaults:li,hasNonUikitChildren:!1,...n,defaultOverrides:{aspectRatio:r,...n?.defaultOverrides}}),Hn(this.orderInfo,this.properties,"zIndex",Vn.Image,void 0,(0,i.EW)(()=>null==this.parentContainer.value?null:this.parentContainer.value.orderInfo.value),this.abortSignal),this.frustumCulled=!1,Gn(this,this.root,this.orderInfo),(n?.loadTexture??1)&&Cn(this.texture,pi,hi,this.abortSignal,this.properties.signal.src);const s=De(this),a=gi().computedIsVisibile(this.properties,this.borderInset,this.size,(0,i.EW)(()=>this.isVisible.value&&null!=this.texture.value)),o=new Float32Array(16),l={data:o,type:"normal"};this.customDepthMaterial=new k(l),this.customDistanceMaterial=new O(l),this.customDepthMaterial.clippingPlanes=s,this.customDistanceMaterial.clippingPlanes=s,Rn(()=>{this.material.depthTest=this.properties.value.depthTest,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.material.depthWrite=this.properties.value.depthWrite??!1,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.material.map=this.texture.value??null,this.material.needsUpdate=!0,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{const e=L(K(this.properties.value.panelMaterialClass),l);return e.clippingPlanes=s,e.map=this.material.map,e.depthWrite=this.material.depthWrite,e.depthTest=this.material.depthTest,this.material=e,()=>e.dispose()},this.abortSignal),Rn(()=>{this.renderOrder=this.properties.value.renderOrder,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.castShadow=this.properties.value.castShadow,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.receiveShadow=this.properties.value.receiveShadow,this.root.peek().requestRender?.()},this.abortSignal),Bn(this,this.root,this.globalPanelMatrix,this.abortSignal);const c=gi();Rn(()=>{if(!this.isVisible.value)return;o.set(c.defaultData);const e=(0,i.QZ)(()=>{null!=this.size.value&&o.set(this.size.value,14)}),t=(0,i.QZ)(()=>{null!=this.borderInset.value&&o.set(this.borderInset.value,0)});return this.root.peek().requestRender?.(),()=>{e(),t()}},this.abortSignal);const u=c.setters;Rn(()=>{if(this.isVisible.value)return this.properties.subscribePropertyKeys(e=>{c.hasProperty(e)&&Rn(()=>{u[e](o,0,this.properties.value[e],this.size,this.properties.signal.opacity,void 0),this.root.peek().requestRender?.()},this.abortSignal)})},this.abortSignal),Rn(()=>{const e=this.texture.value;if(null==e||null==this.size.value||null==this.borderInset.value)return;if(e.matrix.identity(),this.root.peek().requestRender?.(),"fill"===this.properties.value.objectFit||null==e)return void ui(this.borderInset,this.size,e);const{width:t,height:n}=e.source.data,i=t/n,[r,s]=this.size.value,[a,o,l,c]=this.borderInset.value,u=(r-c-o)/(s-a-l);i>u?e.matrix.translate(-.5*(u-i)/u,0).scale(u/i,1):e.matrix.translate(0,-.5*(i-u)/i).scale(1,i/u),ui(this.borderInset,this.size,e)},this.abortSignal),Rn(()=>{this.visible=a.value,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{if(!this.properties.value.keepAspectRatio)return void(r.value=void 0);const e=this.texture.value;if(null==e)return void(r.value=void 0);const t=e.source.data,n=t.videoWidth??t.naturalWidth??t.width,i=t.videoHeight??t.naturalHeight??t.height;r.value=n/i},this.abortSignal)}add(){throw new Error("the image component can not have any children")}}function ui(e,t,n){if(null==t.value||null==e.value)return;const[i,r]=t.value,[s,a,o,l]=e.value,c=i-l-a,u=r-s-o;n.matrix.translate((l+c)/i-1,(s+u)/r-1).scale(i/c,r/u)}const di=new o.Tap;function hi(e){!0===e?.disposable&&e.dispose()}async function pi(e){if(null==e)return Promise.resolve(void 0);if(e instanceof o.gPd)return Promise.resolve(e);try{const t=await di.loadAsync(e);return t.colorSpace=o.er$,t.matrixAutoUpdate=!1,Object.assign(t,{disposable:!0})}catch(e){return void console.error(e)}}let fi;function gi(){return fi??=B({borderBend:"borderBend",borderBottomLeftRadius:"borderBottomLeftRadius",borderBottomRightRadius:"borderBottomRightRadius",borderColor:"borderColor",borderTopLeftRadius:"borderTopLeftRadius",borderTopRightRadius:"borderTopRightRadius"},{backgroundColor:16777215}),fi}const Ai={...It,verticalAlign:"middle"},mi=new o.kn4,vi=new o.PTz,yi=new o.Pq0(1,1,1),Ei=new o.Pq0;class Si extends xn{backgroundOrderInfo=(0,i.vP)(void 0);backgroundGroupDeps;fontSignal;globalTextMatrix;constructor(e,t,n){super(e,t,{defaults:Ai,hasNonUikitChildren:!1,...n}),this.material.visible=!1;const r=(0,i.EW)(()=>this.parentContainer.value?.clippingRect.value);this.backgroundGroupDeps=$(this.properties),this.globalTextMatrix=(0,i.EW)(()=>{if(null==this.paddingInset.value||null==this.borderInset.value)return mi;const[e,t,n,i]=this.paddingInset.value,[r,s,a,l]=this.borderInset.value,c=e+r,u=t+s,d=n+a,h=i+l,p=this.properties.value.pixelSize;return Ei.set(.5*(h-u)*p,.5*(d-c)*p,0),(new o.kn4).compose(Ei,vi,yi).premultiply(this.globalMatrix.value??mi)}),Hn(this.backgroundOrderInfo,this.properties,"zIndex",Vn.Panel,this.backgroundGroupDeps,(0,i.EW)(()=>null==this.parentContainer.value?null:this.parentContainer.value.orderInfo.value),this.abortSignal);const s=Ht(this.properties,this.parentContainer);var a;this.fontSignal=Gt(this.properties,s),Hn(this.orderInfo,this.properties,"zIndex",Vn.Text,(a=this.fontSignal,(0,i.EW)(()=>({font:a.value}))),this.backgroundOrderInfo,this.abortSignal),Oe(this.properties,this.root,this.backgroundOrderInfo,this.backgroundGroupDeps,this.globalPanelMatrix,this.size,this.borderInset,r,this.isVisible,T(),this.abortSignal);const l=dn(this,r,n?.selectionRange,n?.selectionTransformations,n?.caretTransformation,n?.instancedTextRef);Rn(()=>this.node.setCustomLayouting(l.value),this.abortSignal)}add(){throw new Error("the text component can not have any children")}}const bi={...It,depthAlign:"back",keepAspectRatio:!0},xi=new o.PTz,wi=new o.kn4,Ii=new o.NRn,Ci=(new o.Pq0).setScalar(1e-6),Ti=new o.Pq0,Mi=new o.Pq0,Bi=new o.Pq0,Ri=!0,Pi=!1;class _i extends xn{config;boundingBox;clippingPlanes;childrenMatrix=new o.kn4;constructor(e,t,n){const r=(0,i.vP)(void 0);super(e,t,{defaults:bi,hasNonUikitChildren:!0,...n,defaultOverrides:{aspectRatio:r,...n?.defaultOverrides}}),this.config=n,this.boundingBox=n?.boundingBox??(0,i.vP)({size:new o.Pq0(1,1.01,1),center:new o.Pq0(0,0,0)}),Rn(()=>{this.properties.value.keepAspectRatio&&null!=this.boundingBox.value?r.value=this.boundingBox.value.size.x/this.boundingBox.value.size.y:r.value=void 0},this.abortSignal),this.material.visible=!1;const s=$(this.properties),a=(0,i.vP)();if(Hn(a,this.properties,"zIndex",Vn.Panel,s,(0,i.EW)(()=>null==this.parentContainer.value?null:this.parentContainer.value.orderInfo.value),this.abortSignal),Oe(this.properties,this.root,a,s,this.globalPanelMatrix,this.size,this.borderInset,(0,i.EW)(()=>this.parentContainer.value?.clippingRect.value),this.isVisible,T(),this.abortSignal),Rn(()=>{if(null==this.size.value||null==this.paddingInset.value||null==this.borderInset.value||null==this.boundingBox.value)return void this.childrenMatrix.copy(wi);const[e,t]=this.size.value,[n,i,r,s]=this.paddingInset.value,[a,o,l,c]=this.borderInset.value,u=n+a,d=i+o,h=r+l,p=s+c,f=e-p-d,g=t-u-h,A=this.properties.value.pixelSize;Mi.set(f*A,g*A,this.properties.value.keepAspectRatio?g*A*this.boundingBox.value.size.z/this.boundingBox.value.size.y:this.boundingBox.value.size.z).divide(this.boundingBox.value.size),Ti.copy(this.boundingBox.value.center).negate(),Ti.z-=Dn[this.properties.value.depthAlign]*this.boundingBox.value.size.z,Ti.multiply(Mi),Ti.add(Bi.set(.5*(p-d)*A,.5*(h-u)*A,0)),this.childrenMatrix.compose(Ti,xi,Mi)},this.abortSignal),Bn(this,this.root,void 0,this.abortSignal),Hn(this.orderInfo,this.properties,"zIndex",Vn.Content,void 0,a,this.abortSignal),this.clippingPlanes=De(this),Rn(()=>{this.visible=this.isVisible.value,Li(this.properties,this,this.config?.depthWriteDefault??Ri,this.config?.supportFillProperty??Pi),this.root.peek().requestRender?.()},this.abortSignal),this.config?.remeasureOnChildrenChange??1){const e=this.debounceNotifyAncestorsChanged.bind(this);this.addEventListener("childadded",e),this.addEventListener("childremoved",e),this.abortSignal.addEventListener("abort",()=>{this.removeEventListener("childadded",e),this.removeEventListener("childremoved",e)})}}childUpdateWorldMatrix(e,t,n){if(e.parent instanceof _i){if(t&&this.updateWorldMatrix(!0,!1),kn(this.root.value,e.matrixWorld),e.matrixWorld.multiply(this.globalMatrix.peek()??wi).multiply(this.childrenMatrix),e.updateMatrix(),e.matrixWorld.multiply(e.matrix),n)for(const t of e.children)t.updateMatrixWorld(!0)}else o.B69.prototype.updateWorldMatrix.apply(e,[t,n])}timeoutRef;debounceNotifyAncestorsChanged(){null==this.timeoutRef&&(this.timeoutRef=setTimeout(this.notifyAncestorsChanged.bind(this),0))}notifyAncestorsChanged(){this.timeoutRef=void 0,Li(this.properties,this,this.config?.depthWriteDefault??Ri,this.config?.supportFillProperty??Pi),this.traverse(e=>{!(e instanceof nn||e instanceof G)&&e instanceof o.eaF&&(Gn(e,this.root,this.orderInfo),e.material.clippingPlanes=this.clippingPlanes,e.material.needsUpdate=!0,e.material.transparent=!0,e.raycast=A(this,e.raycast.bind(e),this.root,this.parentContainer,this.orderInfo),e.spherecast=null!=e.spherecast?A(this,e.spherecast?.bind(e),this.root,this.parentContainer,this.orderInfo):void 0)});for(const e of this.children)e.updateMatrixWorld=this.childUpdateWorldMatrix.bind(this,e,!1,!0),e.updateWorldMatrix=this.childUpdateWorldMatrix.bind(this,e);if(null==this.config?.boundingBox){Ii.makeEmpty();for(const e of this.children)e instanceof nn||e instanceof G||(e.parent=null,Ii.expandByObject(e),e.parent=this);const e=new o.Pq0,t=new o.Pq0;Ii.getSize(e).max(Ci),Ii.getCenter(t),this.boundingBox.value={center:t,size:e}}this.root.peek().requestRender?.()}updateWorldMatrix(e,t){if(super.updateWorldMatrix(e,t),t)for(const e of this.children)e.updateWorldMatrix(!1,!0)}dispose(){null!=this.timeoutRef&&(this.timeoutRef=void 0,clearInterval(this.timeoutRef)),super.dispose()}}const Di=new o.Q1f,Ni=[0,0,0,0];function Li(e,t,n,i){const r=(i?e.value.fill:void 0)??e.value.color,s=E(e.value.opacity,()=>1);null!=r&&(N(Ni,0,r,s,void 0),Di.fromArray(Ni));const a=e.value.depthTest,l=e.value.depthWrite??n,c=e.value.renderOrder;t.traverse(e=>{if(e instanceof nn||e instanceof G||!(e instanceof o.eaF))return;e.renderOrder=c;const t=e.material;e.userData.color??=t.color.clone(),t.color.copy(null!=r?Di:e.userData.color),t.opacity=null!=r?Ni[3]:s,t.depthTest=a,t.depthWrite=l})}const Oi=o.er$;class ki extends o.aHM{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,n,i){const r=this,s=new o.Y9S(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(n){try{t(r.parse(n))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t=this;function n(e,t,n,r,s,a,o,l){if(0==t||0==n)return void e.lineTo(l.x,l.y);r=r*Math.PI/180,t=Math.abs(t),n=Math.abs(n);const c=(o.x-l.x)/2,u=(o.y-l.y)/2,d=Math.cos(r)*c+Math.sin(r)*u,h=-Math.sin(r)*c+Math.cos(r)*u;let p=t*t,f=n*n;const g=d*d,A=h*h,m=g/p+A/f;if(m>1){const e=Math.sqrt(m);p=(t*=e)*t,f=(n*=e)*n}const v=p*A+f*g,y=(p*f-v)/v;let E=Math.sqrt(Math.max(0,y));s===a&&(E=-E);const S=E*t*h/n,b=-E*n*d/t,x=Math.cos(r)*S-Math.sin(r)*b+(o.x+l.x)/2,w=Math.sin(r)*S+Math.cos(r)*b+(o.y+l.y)/2,I=i(1,0,(d-S)/t,(h-b)/n),C=i((d-S)/t,(h-b)/n,(-d-S)/t,(-h-b)/n)%(2*Math.PI);e.currentPath.absellipse(x,w,t,n,I,I+C,0===a,r)}function i(e,t,n,i){const r=e*n+t*i,s=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+i*i);let a=Math.acos(Math.max(-1,Math.min(1,r/s)));return e*i-t*n<0&&(a=-a),a}function r(e,t){t=Object.assign({},t);let n={};if(e.hasAttribute("class")){const t=e.getAttribute("class").split(/\s/).filter(Boolean).map(e=>e.trim());for(let e=0;e<t.length;e++)n=Object.assign(n,A["."+t[e]])}function i(i,r,s){void 0===s&&(s=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(i)&&(t[r]=s(e.getAttribute(i))),n[i]&&(t[r]=s(n[i])),e.style&&""!==e.style[i]&&(t[r]=s(e.style[i]))}function r(e){return Math.max(0,Math.min(1,u(e)))}function s(e){return Math.max(0,u(e))}return e.hasAttribute("id")&&(n=Object.assign(n,A["#"+e.getAttribute("id")])),i("fill","fill"),i("fill-opacity","fillOpacity",r),i("fill-rule","fillRule"),i("opacity","opacity",r),i("stroke","stroke"),i("stroke-opacity","strokeOpacity",r),i("stroke-width","strokeWidth",s),i("stroke-linejoin","strokeLineJoin"),i("stroke-linecap","strokeLineCap"),i("stroke-miterlimit","strokeMiterLimit",s),i("visibility","visibility"),t}function s(e,t){return e-(t-e)}function a(e,t,n){if("string"!=typeof e)throw new TypeError("Invalid input: "+typeof e);const i={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let r=0,s=!0,a="",o="";const l=[];function c(e,t,n){const i=new SyntaxError('Unexpected character "'+e+'" at index '+t+".");throw i.partial=n,i}function u(){""!==a&&(""===o?l.push(Number(a)):l.push(Number(a)*Math.pow(10,Number(o)))),a="",o=""}let d;const h=e.length;for(let p=0;p<h;p++)if(d=e[p],Array.isArray(t)&&t.includes(l.length%n)&&i.FLAGS.test(d))r=1,a=d,u();else{if(0===r){if(i.WHITESPACE.test(d))continue;if(i.DIGIT.test(d)||i.SIGN.test(d)){r=1,a=d;continue}if(i.POINT.test(d)){r=2,a=d;continue}i.COMMA.test(d)&&(s&&c(d,p,l),s=!0)}if(1===r){if(i.DIGIT.test(d)){a+=d;continue}if(i.POINT.test(d)){a+=d,r=2;continue}if(i.EXP.test(d)){r=3;continue}i.SIGN.test(d)&&1===a.length&&i.SIGN.test(a[0])&&c(d,p,l)}if(2===r){if(i.DIGIT.test(d)){a+=d;continue}if(i.EXP.test(d)){r=3;continue}i.POINT.test(d)&&"."===a[a.length-1]&&c(d,p,l)}if(3===r){if(i.DIGIT.test(d)){o+=d;continue}if(i.SIGN.test(d)){if(""===o){o+=d;continue}1===o.length&&i.SIGN.test(o)&&c(d,p,l)}}i.WHITESPACE.test(d)?(u(),r=0,s=!1):i.COMMA.test(d)?(u(),r=0,s=!0):i.SIGN.test(d)?(u(),r=1,a=d):i.POINT.test(d)?(u(),r=2,a=d):c(d,p,l)}return u(),l}const l=["mm","cm","in","pt","pc","px"],c={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function u(e){let n,i="px";if("string"==typeof e||e instanceof String)for(let t=0,n=l.length;t<n;t++){const n=l[t];if(e.endsWith(n)){i=n,e=e.substring(0,e.length-n.length);break}}return"px"===i&&"px"!==t.defaultUnit?n=c.in[t.defaultUnit]/t.defaultDPI:(n=c[i][t.defaultUnit],n<0&&(n=c[i].in*t.defaultDPI)),n*parseFloat(e)}function d(e){const t=e.elements;return t[0]*t[4]-t[1]*t[3]<0}function h(e){const t=e.elements,n=t[0]*t[3]+t[1]*t[4];if(0===n)return!1;const i=p(e),r=f(e);return Math.abs(n/(i*r))>Number.EPSILON}function p(e){const t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function f(e){const t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}const g=[],A={},m=[],v=new o.dwI,y=new o.dwI,E=new o.dwI,S=new o.dwI,b=new o.I9Y,x=new o.Pq0,w=new o.dwI,I=(new DOMParser).parseFromString(e,"image/svg+xml");return function e(t,i){if(1!==t.nodeType)return;const l=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;const t=function(e){const t=new o.dwI,n=v;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){const n=u(e.getAttribute("x")),i=u(e.getAttribute("y"));t.translate(n,i)}if(e.hasAttribute("transform")){const i=e.getAttribute("transform").split(")");for(let e=i.length-1;e>=0;e--){const r=i[e].trim();if(""===r)continue;const s=r.indexOf("("),o=r.length;if(s>0&&s<o){const e=r.slice(0,s),t=a(r.slice(s+1));switch(n.identity(),e){case"translate":if(t.length>=1){const e=t[0];let i=0;t.length>=2&&(i=t[1]),n.translate(e,i)}break;case"rotate":if(t.length>=1){let e=0,i=0,r=0;e=t[0]*Math.PI/180,t.length>=3&&(i=t[1],r=t[2]),y.makeTranslation(-i,-r),E.makeRotation(e),S.multiplyMatrices(E,y),y.makeTranslation(i,r),n.multiplyMatrices(y,S)}break;case"scale":if(t.length>=1){const e=t[0];let i=e;t.length>=2&&(i=t[1]),n.scale(e,i)}break;case"skewX":1===t.length&&n.set(1,Math.tan(t[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===t.length&&n.set(1,0,0,Math.tan(t[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===t.length&&n.set(t[0],t[2],t[4],t[1],t[3],t[5],0,0,1)}}t.premultiply(n)}}return t}(e);return m.length>0&&t.premultiply(m[m.length-1]),w.copy(t),m.push(t),t}(t);let c=!1,I=null;switch(t.nodeName){case"svg":case"g":i=r(t,i);break;case"style":!function(e){if(e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length)for(let t=0;t<e.sheet.cssRules.length;t++){const n=e.sheet.cssRules[t];if(1!==n.type)continue;const i=n.selectorText.split(/,/gm).filter(Boolean).map(e=>e.trim());for(let e=0;e<i.length;e++){const t=Object.fromEntries(Object.entries(n.style).filter(([,e])=>""!==e));A[i[e]]=Object.assign(A[i[e]]||{},t)}}}(t);break;case"path":i=r(t,i),t.hasAttribute("d")&&(I=function(e){const t=new o.Ld9,i=new o.I9Y,r=new o.I9Y,l=new o.I9Y;let c=!0,u=!1;const d=e.getAttribute("d");if(""===d||"none"===d)return null;const h=d.match(/[a-df-z][^a-df-z]*/gi);for(let e=0,o=h.length;e<o;e++){const o=h[e],d=o.charAt(0),p=o.slice(1).trim();let f;switch(!0===c&&(u=!0,c=!1),d){case"M":f=a(p);for(let e=0,n=f.length;e<n;e+=2)i.x=f[e+0],i.y=f[e+1],r.x=i.x,r.y=i.y,0===e?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y),0===e&&l.copy(i);break;case"H":f=a(p);for(let e=0,n=f.length;e<n;e++)i.x=f[e],r.x=i.x,r.y=i.y,t.lineTo(i.x,i.y),0===e&&!0===u&&l.copy(i);break;case"V":f=a(p);for(let e=0,n=f.length;e<n;e++)i.y=f[e],r.x=i.x,r.y=i.y,t.lineTo(i.x,i.y),0===e&&!0===u&&l.copy(i);break;case"L":f=a(p);for(let e=0,n=f.length;e<n;e+=2)i.x=f[e+0],i.y=f[e+1],r.x=i.x,r.y=i.y,t.lineTo(i.x,i.y),0===e&&!0===u&&l.copy(i);break;case"C":f=a(p);for(let e=0,n=f.length;e<n;e+=6)t.bezierCurveTo(f[e+0],f[e+1],f[e+2],f[e+3],f[e+4],f[e+5]),r.x=f[e+2],r.y=f[e+3],i.x=f[e+4],i.y=f[e+5],0===e&&!0===u&&l.copy(i);break;case"S":f=a(p);for(let e=0,n=f.length;e<n;e+=4)t.bezierCurveTo(s(i.x,r.x),s(i.y,r.y),f[e+0],f[e+1],f[e+2],f[e+3]),r.x=f[e+0],r.y=f[e+1],i.x=f[e+2],i.y=f[e+3],0===e&&!0===u&&l.copy(i);break;case"Q":f=a(p);for(let e=0,n=f.length;e<n;e+=4)t.quadraticCurveTo(f[e+0],f[e+1],f[e+2],f[e+3]),r.x=f[e+0],r.y=f[e+1],i.x=f[e+2],i.y=f[e+3],0===e&&!0===u&&l.copy(i);break;case"T":f=a(p);for(let e=0,n=f.length;e<n;e+=2){const n=s(i.x,r.x),a=s(i.y,r.y);t.quadraticCurveTo(n,a,f[e+0],f[e+1]),r.x=n,r.y=a,i.x=f[e+0],i.y=f[e+1],0===e&&!0===u&&l.copy(i)}break;case"A":f=a(p,[3,4],7);for(let e=0,s=f.length;e<s;e+=7){if(f[e+5]==i.x&&f[e+6]==i.y)continue;const s=i.clone();i.x=f[e+5],i.y=f[e+6],r.x=i.x,r.y=i.y,n(t,f[e],f[e+1],f[e+2],f[e+3],f[e+4],s,i),0===e&&!0===u&&l.copy(i)}break;case"m":f=a(p);for(let e=0,n=f.length;e<n;e+=2)i.x+=f[e+0],i.y+=f[e+1],r.x=i.x,r.y=i.y,0===e?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y),0===e&&l.copy(i);break;case"h":f=a(p);for(let e=0,n=f.length;e<n;e++)i.x+=f[e],r.x=i.x,r.y=i.y,t.lineTo(i.x,i.y),0===e&&!0===u&&l.copy(i);break;case"v":f=a(p);for(let e=0,n=f.length;e<n;e++)i.y+=f[e],r.x=i.x,r.y=i.y,t.lineTo(i.x,i.y),0===e&&!0===u&&l.copy(i);break;case"l":f=a(p);for(let e=0,n=f.length;e<n;e+=2)i.x+=f[e+0],i.y+=f[e+1],r.x=i.x,r.y=i.y,t.lineTo(i.x,i.y),0===e&&!0===u&&l.copy(i);break;case"c":f=a(p);for(let e=0,n=f.length;e<n;e+=6)t.bezierCurveTo(i.x+f[e+0],i.y+f[e+1],i.x+f[e+2],i.y+f[e+3],i.x+f[e+4],i.y+f[e+5]),r.x=i.x+f[e+2],r.y=i.y+f[e+3],i.x+=f[e+4],i.y+=f[e+5],0===e&&!0===u&&l.copy(i);break;case"s":f=a(p);for(let e=0,n=f.length;e<n;e+=4)t.bezierCurveTo(s(i.x,r.x),s(i.y,r.y),i.x+f[e+0],i.y+f[e+1],i.x+f[e+2],i.y+f[e+3]),r.x=i.x+f[e+0],r.y=i.y+f[e+1],i.x+=f[e+2],i.y+=f[e+3],0===e&&!0===u&&l.copy(i);break;case"q":f=a(p);for(let e=0,n=f.length;e<n;e+=4)t.quadraticCurveTo(i.x+f[e+0],i.y+f[e+1],i.x+f[e+2],i.y+f[e+3]),r.x=i.x+f[e+0],r.y=i.y+f[e+1],i.x+=f[e+2],i.y+=f[e+3],0===e&&!0===u&&l.copy(i);break;case"t":f=a(p);for(let e=0,n=f.length;e<n;e+=2){const n=s(i.x,r.x),a=s(i.y,r.y);t.quadraticCurveTo(n,a,i.x+f[e+0],i.y+f[e+1]),r.x=n,r.y=a,i.x=i.x+f[e+0],i.y=i.y+f[e+1],0===e&&!0===u&&l.copy(i)}break;case"a":f=a(p,[3,4],7);for(let e=0,s=f.length;e<s;e+=7){if(0==f[e+5]&&0==f[e+6])continue;const s=i.clone();i.x+=f[e+5],i.y+=f[e+6],r.x=i.x,r.y=i.y,n(t,f[e],f[e+1],f[e+2],f[e+3],f[e+4],s,i),0===e&&!0===u&&l.copy(i)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(i.copy(l),t.currentPath.currentPoint.copy(i),c=!0);break;default:console.warn(o)}u=!1}return t}(t));break;case"rect":i=r(t,i),I=function(e){const t=u(e.getAttribute("x")||0),n=u(e.getAttribute("y")||0),i=u(e.getAttribute("rx")||e.getAttribute("ry")||0),r=u(e.getAttribute("ry")||e.getAttribute("rx")||0),s=u(e.getAttribute("width")),a=u(e.getAttribute("height")),l=.448084975506,c=new o.Ld9;return c.moveTo(t+i,n),c.lineTo(t+s-i,n),(0!==i||0!==r)&&c.bezierCurveTo(t+s-i*l,n,t+s,n+r*l,t+s,n+r),c.lineTo(t+s,n+a-r),(0!==i||0!==r)&&c.bezierCurveTo(t+s,n+a-r*l,t+s-i*l,n+a,t+s-i,n+a),c.lineTo(t+i,n+a),(0!==i||0!==r)&&c.bezierCurveTo(t+i*l,n+a,t,n+a-r*l,t,n+a-r),c.lineTo(t,n+r),(0!==i||0!==r)&&c.bezierCurveTo(t,n+r*l,t+i*l,n,t+i,n),c}(t);break;case"polygon":i=r(t,i),I=function(e){const t=new o.Ld9;let n=0;return e.getAttribute("points").replace(/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,function(e,i,r){const s=u(i),a=u(r);0===n?t.moveTo(s,a):t.lineTo(s,a),n++}),t.currentPath.autoClose=!0,t}(t);break;case"polyline":i=r(t,i),I=function(e){const t=new o.Ld9;let n=0;return e.getAttribute("points").replace(/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,function(e,i,r){const s=u(i),a=u(r);0===n?t.moveTo(s,a):t.lineTo(s,a),n++}),t.currentPath.autoClose=!1,t}(t);break;case"circle":i=r(t,i),I=function(e){const t=u(e.getAttribute("cx")||0),n=u(e.getAttribute("cy")||0),i=u(e.getAttribute("r")||0),r=new o.wAk;r.absarc(t,n,i,0,2*Math.PI);const s=new o.Ld9;return s.subPaths.push(r),s}(t);break;case"ellipse":i=r(t,i),I=function(e){const t=u(e.getAttribute("cx")||0),n=u(e.getAttribute("cy")||0),i=u(e.getAttribute("rx")||0),r=u(e.getAttribute("ry")||0),s=new o.wAk;s.absellipse(t,n,i,r,0,2*Math.PI);const a=new o.Ld9;return a.subPaths.push(s),a}(t);break;case"line":i=r(t,i),I=function(e){const t=u(e.getAttribute("x1")||0),n=u(e.getAttribute("y1")||0),i=u(e.getAttribute("x2")||0),r=u(e.getAttribute("y2")||0),s=new o.Ld9;return s.moveTo(t,n),s.lineTo(i,r),s.currentPath.autoClose=!1,s}(t);break;case"defs":c=!0;break;case"use":i=r(t,i);const l=(t.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),d=t.viewportElement.getElementById(l);d?e(d,i):console.warn("SVGLoader: 'use node' references non-existent node id: "+l)}I&&(void 0!==i.fill&&"none"!==i.fill&&I.color.setStyle(i.fill,Oi),function(e,t){function n(e){x.set(e.x,e.y,1).applyMatrix3(t),e.set(x.x,x.y)}function i(e){const n=e.xRadius,i=e.yRadius,r=Math.cos(e.aRotation),s=Math.sin(e.aRotation),a=new o.Pq0(n*r,n*s,0),l=new o.Pq0(-i*s,i*r,0),c=a.applyMatrix3(t),u=l.applyMatrix3(t),h=v.set(c.x,u.x,0,c.y,u.y,0,0,0,1),p=y.copy(h).invert(),f=E.copy(p).transpose().multiply(p).elements,g=function(e,t,n){let i,r,s,a,o;const l=e+n,c=e-n,u=Math.sqrt(c*c+4*t*t);return l>0?(i=.5*(l+u),o=1/i,r=e*o*n-t*o*t):l<0?r=.5*(l-u):(i=.5*u,r=-.5*u),s=c>0?c+u:c-u,Math.abs(s)>2*Math.abs(t)?(o=-2*t/s,a=1/Math.sqrt(1+o*o),s=o*a):0===Math.abs(t)?(s=1,a=0):(o=-.5*s/t,s=1/Math.sqrt(1+o*o),a=o*s),c>0&&(o=s,s=-a,a=o),{rt1:i,rt2:r,cs:s,sn:a}}(f[0],f[1],f[4]),A=Math.sqrt(g.rt1),m=Math.sqrt(g.rt2);if(e.xRadius=1/A,e.yRadius=1/m,e.aRotation=Math.atan2(g.sn,g.cs),!((e.aEndAngle-e.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const n=y.set(A,0,0,0,m,0,0,0,1),i=E.set(g.cs,g.sn,0,-g.sn,g.cs,0,0,0,1),r=n.multiply(i).multiply(h),s=e=>{const{x:t,y:n}=new o.Pq0(Math.cos(e),Math.sin(e),0).applyMatrix3(r);return Math.atan2(n,t)};e.aStartAngle=s(e.aStartAngle),e.aEndAngle=s(e.aEndAngle),d(t)&&(e.aClockwise=!e.aClockwise)}}function r(e){const n=p(t),i=f(t);e.xRadius*=n,e.yRadius*=i;const r=n>Number.EPSILON?Math.atan2(t.elements[1],t.elements[0]):Math.atan2(-t.elements[3],t.elements[4]);e.aRotation+=r,d(t)&&(e.aStartAngle*=-1,e.aEndAngle*=-1,e.aClockwise=!e.aClockwise)}const s=e.subPaths;for(let e=0,a=s.length;e<a;e++){const a=s[e].curves;for(let e=0;e<a.length;e++){const s=a[e];s.isLineCurve?(n(s.v1),n(s.v2)):s.isCubicBezierCurve?(n(s.v0),n(s.v1),n(s.v2),n(s.v3)):s.isQuadraticBezierCurve?(n(s.v0),n(s.v1),n(s.v2)):s.isEllipseCurve&&(b.set(s.aX,s.aY),n(b),s.aX=b.x,s.aY=b.y,h(t)?i(s):r(s))}}}(I,w),g.push(I),I.userData={node:t,style:i});const C=t.childNodes;for(let t=0;t<C.length;t++){const n=C[t];c&&"style"!==n.nodeName&&"defs"!==n.nodeName||e(n,i)}l&&(m.pop(),m.length>0?w.copy(m[m.length-1]):w.identity())}(I.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:g,xml:I.documentElement}}static createShapes(e){const t=999999999,n={loc:0,t:0};function i(e,t,i,s){const a=e.x,o=t.x,l=i.x,c=s.x,u=e.y,d=t.y,h=i.y,p=s.y,f=(c-l)*(u-h)-(p-h)*(a-l),g=(p-h)*(o-a)-(c-l)*(d-u),A=f/g,m=((o-a)*(u-h)-(d-u)*(a-l))/g;if(0===g&&0!==f||A<=0||A>=1||m<0||m>1)return null;if(0===f&&0===g){for(let l=0;l<2;l++){if(r(0===l?i:s,e,t),0==n.loc){const e=0===l?i:s;return{x:e.x,y:e.y,t:n.t}}if(2==n.loc)return{x:+(a+n.t*(o-a)).toPrecision(10),y:+(u+n.t*(d-u)).toPrecision(10),t:n.t}}return null}for(let a=0;a<2;a++)if(r(0===a?i:s,e,t),0==n.loc){const e=0===a?i:s;return{x:e.x,y:e.y,t:n.t}}return{x:+(a+A*(o-a)).toPrecision(10),y:+(u+A*(d-u)).toPrecision(10),t:A}}function r(e,t,i){const r=i.x-t.x,s=i.y-t.y,a=e.x-t.x,o=e.y-t.y,l=r*o-a*s;if(e.x===t.x&&e.y===t.y)return n.loc=0,void(n.t=0);if(e.x===i.x&&e.y===i.y)return n.loc=1,void(n.t=1);if(l<-Number.EPSILON)return void(n.loc=3);if(l>Number.EPSILON)return void(n.loc=4);if(r*a<0||s*o<0)return void(n.loc=5);if(Math.sqrt(r*r+s*s)<Math.sqrt(a*a+o*o))return void(n.loc=6);let c;c=0!==r?a/r:o/s,n.loc=2,n.t=c}let s=t,a=-999999999,l=e.subPaths.map(e=>{const n=e.getPoints();let i=-999999999,r=t,l=-999999999,c=t;for(let e=0;e<n.length;e++){const t=n[e];t.y>i&&(i=t.y),t.y<r&&(r=t.y),t.x>l&&(l=t.x),t.x<c&&(c=t.x)}return a<=l&&(a=l+1),s>=c&&(s=c-1),{curves:e.curves,points:n,isCW:o.xJ6.isClockWise(n),identifier:-1,boundingBox:new o.UtB(new o.I9Y(c,r),new o.I9Y(l,i))}});l=l.filter(e=>e.points.length>1);for(let e=0;e<l.length;e++)l[e].identifier=e;const c=l.map(t=>function(e,t,n,r,s){null!=s&&""!==s||(s="nonzero");const a=new o.I9Y;e.boundingBox.getCenter(a);const l=function(e,t,n){const r=new o.I9Y;t.getCenter(r);const s=[];return n.forEach(t=>{t.boundingBox.containsPoint(r)&&function(e,t){const n=[],r=[];for(let s=1;s<e.length;s++){const a=e[s-1],l=e[s];for(let e=1;e<t.length;e++){const s=i(a,l,t[e-1],t[e]);null!==s&&void 0===n.find(e=>e.t<=s.t+Number.EPSILON&&e.t>=s.t-Number.EPSILON)&&(n.push(s),r.push(new o.I9Y(s.x,s.y)))}}return r}(e,t.points).forEach(e=>{s.push({identifier:t.identifier,isCW:t.isCW,point:e})})}),s.sort((e,t)=>e.point.x-t.point.x),s}([new o.I9Y(n,a.y),new o.I9Y(r,a.y)],e.boundingBox,t);l.sort((e,t)=>e.point.x-t.point.x);const c=[],u=[];l.forEach(t=>{t.identifier===e.identifier?c.push(t):u.push(t)});const d=c[0].point.x,h=[];let p=0;for(;p<u.length&&u[p].point.x<d;)h.length>0&&h[h.length-1]===u[p].identifier?h.pop():h.push(u[p].identifier),p++;if(h.push(e.identifier),"evenodd"===s){const t=h.length%2==0,n=h[h.length-2];return{identifier:e.identifier,isHole:t,for:n}}if("nonzero"===s){let n=!0,i=null,r=null;for(let e=0;e<h.length;e++){const s=h[e];n?(r=t[s].isCW,n=!1,i=s):r!==t[s].isCW&&(r=t[s].isCW,n=!0)}return{identifier:e.identifier,isHole:n,for:i}}console.warn('fill-rule: "'+s+'" is currently not implemented.')}(t,l,s,a,e.userData?e.userData.style.fillRule:void 0)),u=[];return l.forEach(e=>{if(!c[e.identifier].isHole){const t=new o.ypk;t.curves=e.curves,c.filter(t=>t.isHole&&t.for===e.identifier).forEach(e=>{const n=l[e.identifier],i=new o.wAk;i.curves=n.curves,t.holes.push(i)}),u.push(t)}}),u}static getStrokeStyle(e,t,n,i,r){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:n=void 0!==n?n:"miter",strokeLineCap:i=void 0!==i?i:"butt",strokeMiterLimit:r=void 0!==r?r:4}}static pointsToStroke(e,t,n,i){const r=[],s=[],a=[];if(0===ki.pointsToStrokeWithBuffers(e,t,n,i,r,s,a))return null;const l=new o.LoY;return l.setAttribute("position",new o.qtW(r,3)),l.setAttribute("normal",new o.qtW(s,3)),l.setAttribute("uv",new o.qtW(a,2)),l}static pointsToStrokeWithBuffers(e,t,n,i,r,s,a,l){const c=new o.I9Y,u=new o.I9Y,d=new o.I9Y,h=new o.I9Y,p=new o.I9Y,f=new o.I9Y,g=new o.I9Y,A=new o.I9Y,m=new o.I9Y,v=new o.I9Y,y=new o.I9Y,E=new o.I9Y,S=new o.I9Y,b=new o.I9Y,x=new o.I9Y,w=new o.I9Y,I=new o.I9Y;n=void 0!==n?n:12,i=void 0!==i?i:.001,l=void 0!==l?l:0;const C=(e=function(e){let t=!1;for(let n=1,r=e.length-1;n<r;n++)if(e[n].distanceTo(e[n+1])<i){t=!0;break}if(!t)return e;const n=[];n.push(e[0]);for(let t=1,r=e.length-1;t<r;t++)e[t].distanceTo(e[t+1])>=i&&n.push(e[t]);return n.push(e[e.length-1]),n}(e)).length;if(C<2)return 0;const T=e[0].equals(e[C-1]);let M,B,R=e[0];const P=t.strokeWidth/2,_=1/(C-1);let D,N,L,O,k=0,U=!1,F=0,Q=3*l,V=2*l;H(e[0],e[1],c).multiplyScalar(P),A.copy(e[0]).sub(c),m.copy(e[0]).add(c),v.copy(A),y.copy(m);for(let n=1;n<C;n++){M=e[n],B=n===C-1?T?e[1]:void 0:e[n+1];const i=c;if(H(R,M,i),d.copy(i).multiplyScalar(P),E.copy(M).sub(d),S.copy(M).add(d),D=k+_,N=!1,void 0!==B){H(M,B,u),d.copy(u).multiplyScalar(P),b.copy(M).sub(d),x.copy(M).add(d),L=!0,d.subVectors(B,R),i.dot(d)<0&&(L=!1),1===n&&(U=L),d.subVectors(B,M),d.normalize();const e=Math.abs(i.dot(d));if(e>Number.EPSILON){const n=P/e;d.multiplyScalar(-n),h.subVectors(M,R),p.copy(h).setLength(n).add(d),w.copy(p).negate();const i=p.length(),r=h.length();h.divideScalar(r),f.subVectors(B,M);const s=f.length();switch(f.divideScalar(s),h.dot(w)<r&&f.dot(w)<s&&(N=!0),I.copy(p).add(M),w.add(M),O=!1,N?L?(x.copy(w),S.copy(w)):(b.copy(w),E.copy(w)):W(),t.strokeLineJoin){case"bevel":X(L,N,D);break;case"round":j(L,N),L?z(M,E,b,D,0):z(M,x,S,D,1);break;default:const e=P*t.strokeMiterLimit/i;if(e<1){if("miter-clip"!==t.strokeLineJoin){X(L,N,D);break}j(L,N),L?(f.subVectors(I,E).multiplyScalar(e).add(E),g.subVectors(I,b).multiplyScalar(e).add(b),G(E,D,0),G(f,D,0),G(M,D,.5),G(M,D,.5),G(f,D,0),G(g,D,0),G(M,D,.5),G(g,D,0),G(b,D,0)):(f.subVectors(I,S).multiplyScalar(e).add(S),g.subVectors(I,x).multiplyScalar(e).add(x),G(S,D,1),G(f,D,1),G(M,D,.5),G(M,D,.5),G(f,D,1),G(g,D,1),G(M,D,.5),G(g,D,1),G(x,D,1))}else N?(L?(G(m,k,1),G(A,k,0),G(I,D,0),G(m,k,1),G(I,D,0),G(w,D,1)):(G(m,k,1),G(A,k,0),G(I,D,1),G(A,k,0),G(w,D,0),G(I,D,1)),L?b.copy(I):x.copy(I)):L?(G(E,D,0),G(I,D,0),G(M,D,.5),G(M,D,.5),G(I,D,0),G(b,D,0)):(G(S,D,1),G(I,D,1),G(M,D,.5),G(M,D,.5),G(I,D,1),G(x,D,1)),O=!0}}else W()}else W();T||n!==C-1||q(e[0],v,y,L,!0,k),k=D,R=M,A.copy(b),m.copy(x)}if(T){if(N&&r){let e=I,t=w;U!==L&&(e=w,t=I),L?(O||U)&&(t.toArray(r,0),t.toArray(r,9),O&&e.toArray(r,3)):!O&&U||(t.toArray(r,3),t.toArray(r,9),O&&e.toArray(r,0))}}else q(M,E,S,L,!1,D);return F;function H(e,t,n){return n.subVectors(t,e),n.set(-n.y,n.x).normalize()}function G(e,t,n){r&&(r[Q]=e.x,r[Q+1]=e.y,r[Q+2]=0,s&&(s[Q]=0,s[Q+1]=0,s[Q+2]=1),Q+=3,a&&(a[V]=t,a[V+1]=n,V+=2)),F+=3}function z(e,t,i,r,s){c.copy(t).sub(e).normalize(),u.copy(i).sub(e).normalize();let a=Math.PI;const o=c.dot(u);Math.abs(o)<1&&(a=Math.abs(Math.acos(o))),a/=n,d.copy(t);for(let t=0,i=n-1;t<i;t++)h.copy(d).rotateAround(e,a),G(d,r,s),G(h,r,s),G(e,r,.5),d.copy(h);G(h,r,s),G(i,r,s),G(e,r,.5)}function W(){G(m,k,1),G(A,k,0),G(E,D,0),G(m,k,1),G(E,D,0),G(S,D,1)}function X(e,t,n){t?e?(G(m,k,1),G(A,k,0),G(E,D,0),G(m,k,1),G(E,D,0),G(w,D,1),G(E,n,0),G(b,n,0),G(w,n,.5)):(G(m,k,1),G(A,k,0),G(S,D,1),G(A,k,0),G(w,D,0),G(S,D,1),G(S,n,1),G(w,n,0),G(x,n,1)):e?(G(E,n,0),G(b,n,0),G(M,n,.5)):(G(S,n,1),G(x,n,0),G(M,n,.5))}function j(e,t){t&&(e?(G(m,k,1),G(A,k,0),G(E,D,0),G(m,k,1),G(E,D,0),G(w,D,1),G(E,k,0),G(M,D,.5),G(w,D,1),G(M,D,.5),G(b,k,0),G(w,D,1)):(G(m,k,1),G(A,k,0),G(S,D,1),G(A,k,0),G(w,D,0),G(S,D,1),G(S,k,1),G(w,D,0),G(M,D,.5),G(M,D,.5),G(w,D,0),G(x,k,1)))}function q(e,n,i,s,o,l){switch(t.strokeLineCap){case"round":o?z(e,i,n,l,.5):z(e,n,i,l,.5);break;case"square":if(o)c.subVectors(n,e),u.set(c.y,-c.x),d.addVectors(c,u).add(e),h.subVectors(u,c).add(e),s?(d.toArray(r,3),h.toArray(r,0),h.toArray(r,9)):(d.toArray(r,3),1===a[7]?h.toArray(r,9):d.toArray(r,9),h.toArray(r,0));else{c.subVectors(i,e),u.set(c.y,-c.x),d.addVectors(c,u).add(e),h.subVectors(u,c).add(e);const t=r.length;s?(d.toArray(r,t-3),h.toArray(r,t-6),h.toArray(r,t-12)):(h.toArray(r,t-6),d.toArray(r,t-3),h.toArray(r,t-12))}}}}}class Ui extends _i{constructor(e,t,n){const r=(0,i.vP)(void 0);super(e,t,{...n,remeasureOnChildrenChange:!1,depthWriteDefault:!1,supportFillProperty:!0,boundingBox:r});const s=(0,i.vP)(void 0);Cn(s,Vi,Hi,this.abortSignal,(0,i.EW)(()=>({src:this.properties.value.src,content:this.properties.value.content}))),Rn(()=>{const e=s.value;if(r.value=e?.boundingBox,null!=e&&0!==e.meshes.length)return super.add(...e.meshes),this.notifyAncestorsChanged(),()=>{super.remove(...e.meshes)};this.notifyAncestorsChanged()},this.abortSignal)}}const Fi=new ki,Qi=new Map;async function Vi({src:e,content:t}){if(null==e&&null==t)return;let n;if(null!=e){let t=Qi.get(e);null==t&&Qi.set(e,t=Fi.loadAsync(e)),n=await t}else n=Fi.parse(t);const i=[];for(const e of n.paths){const t=ki.createShapes(e),n=new o.V9B({color:e.color,toneMapped:!1});for(const e of t){const t=new o.eaF(new o.MSw(e),n);t.matrixAutoUpdate=!1,t.scale.y=-1,t.updateMatrix(),i.push(t)}}let r;const s=n.xml.getAttribute("viewBox")?.split(/\s+/).map(e=>Number.parseFloat(e)).filter(e=>!isNaN(e));if(4===s?.length){const[e,t,n,i]=s;r={center:new o.Pq0(n/2+e,-i/2-t,0),size:new o.Pq0(n,i,1e-5)}}return{meshes:i,boundingBox:r}}function Hi(e){e?.meshes.forEach(e=>{e.material instanceof o.imn&&e.material.dispose(),e.geometry.dispose()})}const Gi=["caretBorderRightWidth","caretBorderTopWidth","caretBorderLeftWidth","caretBorderBottomWidth"];let zi;const Wi=["selectionBorderRightWidth","selectionBorderTopWidth","selectionBorderLeftWidth","selectionBorderBottomWidth"];let Xi;function ji(){return Xi??=B({backgroundColor:"selectionColor",borderBend:"selectionBorderBend",borderBottomLeftRadius:"selectionBorderBottomLeftRadius",borderBottomRightRadius:"selectionBorderBottomRightRadius",borderColor:"selectionBorderColor",borderTopLeftRadius:"selectionBorderTopLeftRadius",borderTopRightRadius:"selectionBorderTopRightRadius"},{backgroundColor:11851775}),Xi}const qi=new Set,Yi={onPointerDown:e=>{document.activeElement instanceof HTMLElement&&qi.has(e.nativeEvent)&&(qi.delete(e.nativeEvent),e.preventDefault())}},Ji={...Ai,type:"text",disabled:!1,tabIndex:0,autocomplete:"",whiteSpace:"pre"};class Zi extends Si{element;selectionRange;hasFocus;uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue??"");constructor(e,t,n){const r=(0,i.vP)(void 0),s=(0,i.vP)(void 0),a=(0,i.vP)([]),o=(0,i.vP)(void 0),l={},c=(0,i.vP)(void 0),u=(0,i.vP)(!1);super(e,t,{defaults:Ji,dynamicHandlers:s,selectionRange:c,selectionTransformations:a,caretTransformation:o,instancedTextRef:l,hasFocus:u,isPlaceholder:(0,i.EW)(()=>0===this.currentSignal.value.length),...n,defaultOverrides:{cursor:"text",text:(0,i.EW)(()=>0===this.currentSignal.value.length?this.properties.value.placeholder:"password"===this.properties.value.type?"*".repeat(this.currentSignal.value.length??0):this.currentSignal.value),caretColor:r,...n?.defaultOverrides}}),this.selectionRange=c,this.hasFocus=u,Rn(()=>{r.value=this.properties.value.color},this.abortSignal),function(e,t,n,i,r,s,a){Rn(()=>{if(t.value.disabled)return void(e.value=void 0);let a;const o=e=>{null!=a&&a.pointerId==e.pointerId&&(e.stopImmediatePropagation?.(),a=void 0)};e.value={onPointerDown:e=>{if(null!=a||null==e.uv||null==r.current)return;var t;t=e.nativeEvent,qi.add(t),e.stopImmediatePropagation?.(),"setPointerCapture"in e.object&&"function"==typeof e.object.setPointerCapture&&null!=e.pointerId&&e.object.setPointerCapture(e.pointerId);const n=$i(i,e.uv,r.current,"between");a={pointerId:e.pointerId,startCharIndex:n},setTimeout(()=>s(n,n))},onDblClick:e=>{if(null==Ki||null==e.uv||null==r.current)return;if(e.stopImmediatePropagation?.(),"password"===t.peek().type)return void setTimeout(()=>s(0,n.peek().length,"none"));const a=$i(i,e.uv,r.current,"on"),o=Ki.segment(n.peek());let l=0;for(const{segment:e}of o){const t=e.length;if(a<l+t){setTimeout(()=>s(l,l+t,"none"));break}l+=t}},onPointerUp:o,onPointerLeave:o,onPointerCancel:o,onPointerMove:e=>{if(null==a||a?.pointerId!=e.pointerId||null==e.uv||null==r.current)return;e.stopImmediatePropagation?.();const t=$i(i,e.uv,r.current,"between"),n=Math.min(a.startCharIndex,t),o=Math.max(a.startCharIndex,t),l=a.startCharIndex<t?"forward":"backward";setTimeout(()=>s(n,o,l))}}},a)}(s,this.properties,this.currentSignal,this,l,this.focus.bind(this),this.abortSignal);const d=(0,i.EW)(()=>this.parentContainer.value?.clippingRect.value);var h,p,f,g;this.element=function(e,t,n){const i=document.createElement(n?"textarea":"input"),r=i.style;r.setProperty("position","absolute"),r.setProperty("left","-1000vw"),r.setProperty("top","0"),r.setProperty("pointerEvents","none"),r.setProperty("opacity","0"),i.addEventListener("input",()=>{t?.(i.value),s()});const s=()=>{const{selectionStart:t,selectionEnd:n}=i;if(null==t||null==n)return void(e.value=void 0);const r=e.peek();null!=r&&r[0]===t&&r[1]===n||(e.value=[t,n])};return i.addEventListener("keydown",s),i.addEventListener("keyup",s),i.addEventListener("blur",()=>e.value=void 0),i}(c,e=>{null==this.properties.peek().value&&(this.uncontrolledSignal.value=e),this.properties.peek().onValueChange?.(e)},n?.multiline??!1),function(e,t,n,r,s,a,o,l,c){const u=(0,i.vP)(void 0);Hn(u,e,"zIndex",Vn.Panel,a,s,c);const d=(0,i.vP)(void 0);Rn(()=>{const e=n.value;null==e&&(d.value=void 0),d.value=e;const t=setInterval(()=>d.value=null==d.peek()?e:void 0,500);return()=>clearInterval(t)},c);const h=Ln(e,Gi),p=(0,i.EW)(()=>{const t=d.value?.height;return null==t?[0,0]:[e.value.caretWidth,t]}),f=(0,i.EW)(()=>{const t=d.value?.position;return null==t?[0,0]:[t[0]-e.value.caretWidth/2,t[1]]}),g=Ue(e,t,p,f);Oe(e,l,u,a,g,p,h,o,r,(zi??=B({backgroundColor:"caretColor",borderBend:"caretBorderBend",borderBottomLeftRadius:"caretBorderBottomLeftRadius",borderBottomRightRadius:"caretBorderBottomRightRadius",borderColor:"caretBorderColor",borderTopLeftRadius:"caretBorderTopLeftRadius",borderTopRightRadius:"caretBorderTopRightRadius"},{backgroundColor:0}),zi),c)}(this.properties,this.globalTextMatrix,o,this.isVisible,this.backgroundOrderInfo,this.backgroundGroupDeps,d,this.root,this.abortSignal),function(e,t,n,r,s,a,o,l,c){const u=[],d=(0,i.vP)(void 0);Hn(d,e,"zIndex",Vn.Panel,o,a,c);const h=Ln(e,Wi);Rn(()=>{const a=r.value,c=a.length;for(let r=0;r<c;r++){let c=u[r];if(null==c){const a=(0,i.vP)([0,0]),p=(0,i.vP)([0,0]),f=new AbortController,g=Ue(e,n,a,p);Oe(e,t,d,o,g,a,h,l,s,ji(),f.signal),u[r]=c={abortController:f,offset:p,size:a}}const p=a[r];c.size.value=p.size,c.offset.value=p.position}const p=u.length;for(let e=c;e<p;e++)u[e].abortController.abort();u.length=c},c),c.addEventListener("abort",()=>{const e=u.length;for(let t=0;t<e;t++)u[t].abortController.abort()})}(this.properties,this.root,this.globalTextMatrix,a,this.isVisible,this.backgroundOrderInfo,this.backgroundGroupDeps,d,this.abortSignal),h=this.properties,p=this.element,f=this.currentSignal,g=this.abortSignal,document.body.appendChild(p),g.addEventListener("abort",()=>p.remove()),Rn(()=>{p.value=f.value},g),Rn(()=>{p.disabled=h.value.disabled},g),Rn(()=>{p.tabIndex=h.value.tabIndex},g),Rn(()=>{p.autocomplete=h.value.autocomplete},g),Rn(()=>p.setAttribute("type",h.value.type),g),function(e,t,n,i){if(i.aborted)return;t.value=document.activeElement===e;const r=()=>{const i=document.activeElement===e;i!=t.value&&(t.value=i,n(i))};e.addEventListener("focus",r),e.addEventListener("blur",r),i.addEventListener("abort",()=>{e.removeEventListener("focus",r),e.removeEventListener("blur",r)})}(this.element,this.hasFocus,e=>{this.properties.peek().onFocusChange?.(e)},this.abortSignal)}focus(e,t,n){this.hasFocus.peek()||this.element.focus(),null!=e&&null!=t&&this.element.setSelectionRange(e,t,n),this.selectionRange.value=[this.element.selectionStart??0,this.element.selectionEnd??0]}blur(){this.element.blur()}}const Ki="undefined"==typeof Intl?void 0:new Intl.Segmenter(void 0,{granularity:"word"});function $i({size:e,borderInset:t,paddingInset:n},i,r,s){const a=e.peek(),o=t.peek(),l=n.peek();if(null==a||null==o||null==l)return 0;const[c,u]=a,[d,,,h]=o,[p,,,f]=l,g=i.x*c-h-f,A=(i.y-1)*u+d+p;return r.getCharIndex(g,A,s)}class er extends Zi{constructor(e,t,n){super(e,t,{multiline:!0,...n})}}class tr extends xn{constructor(e,t,n){super(e,t,{hasNonUikitChildren:!1,...n}),Hn(this.orderInfo,this.properties,"zIndex",Vn.Custom,void 0,(0,i.EW)(()=>null==this.parentContainer.value?null:this.parentContainer.value.orderInfo.value),this.abortSignal),this.frustumCulled=!1,Gn(this,this.root,this.orderInfo);const r=De(this);this.customDepthMaterial=new o.CSG,this.customDistanceMaterial=new o.aVO,this.material.clippingPlanes=r,this.customDepthMaterial.clippingPlanes=r,this.customDistanceMaterial.clippingPlanes=r,Rn(()=>{this.material.depthTest=this.properties.value.depthTest,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.material.depthWrite=this.properties.value.depthWrite??!1,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.renderOrder=this.properties.value.renderOrder,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.castShadow=this.properties.value.castShadow,this.root.peek().requestRender?.()},this.abortSignal),Rn(()=>{this.receiveShadow=this.properties.value.receiveShadow,this.root.peek().requestRender?.()},this.abortSignal),Bn(this,this.root,this.globalPanelMatrix,this.abortSignal),Rn(()=>{this.visible=this.isVisible.value,this.root.peek().requestRender?.()},this.abortSignal)}}const nr=new o.I9Y;class ir extends oi{renderer;sizeX;sizeY;transformTranslateZ;pixelSize;constructor(e,t,n,r){const s=(0,i.vP)(0),a=(0,i.vP)(0),o=(0,i.vP)(0),l=(0,i.vP)(0);super(t,n,{...r,defaultOverrides:{sizeX:s,sizeY:a,pixelSize:l,transformTranslateZ:o,pointerEvents:"listener",...r?.defaultOverrides}}),this.renderer=e,this.sizeX=s,this.sizeY=a,this.transformTranslateZ=o,this.pixelSize=l}update(e){super.update(e);const t=In(this,o.i7d,2,!0);if(!(t instanceof o.ubm||t instanceof o.qUd))throw new Error("fullscreen can only be added to a camera");const n=this.properties.peek().distanceToCamera??t.near+.1;(0,i.vA)(()=>{let e;if(t instanceof o.ubm){const i=2*Math.tan(Math.PI*t.fov/360)*n;e=i/this.renderer.getSize(nr).y,this.sizeY.value=i,this.sizeX.value=i*t.aspect}else{if(!(t instanceof o.qUd))return;{const n=(t.top-t.bottom)/t.zoom,i=(t.right-t.left)/t.zoom;e=n/this.renderer.getSize(nr).y,this.sizeY.value=n,this.sizeX.value=i}}"screen-space"===this.renderer.xr.getSession()?.interactionMode&&(e*=window.devicePixelRatio),this.pixelSize.value=e,this.transformTranslateZ.value=-n/e})}}class rr extends ci{element=(0,i.vP)();constructor(e,t,n){super(e,t,{loadTexture:!1,...n});const r=(0,i.EW)(()=>this.properties.value.src instanceof HTMLVideoElement),s=(0,i.EW)(()=>{if(r.value)return this.properties.value.src;const e=document.createElement("video");return e.style.position="absolute",e.style.width="1px",e.style.zIndex="-1000",e.style.top="0px",e.style.left="0px",e});Rn(()=>{const e=s.value;if(null==e)return;e.playsInline=!0,e.volume=this.properties.value.volume??1,e.preservesPitch=this.properties.value.preservesPitch??!0,e.playbackRate=this.properties.value.playbackRate??1,e.muted=this.properties.value.muted??!1,e.loop=this.properties.value.loop??!1,e.autoplay=this.properties.value.autoplay??!1,e.crossOrigin=this.properties.value.crossOrigin??null;const t=this.properties.value.src;t instanceof HTMLVideoElement||ar(e,t)},this.abortSignal),Rn(()=>{const e=s.value;if(!r.value&&null!=e)return document.body.appendChild(e),()=>e.remove()},this.abortSignal),Cn(this.element,sr,()=>{},this.abortSignal,s),Rn(()=>{const e=this.element.value;if(null==e)return;const t=()=>{const t=new o.Nv2(e);t.colorSpace=o.er$,t.needsUpdate=!0,this.texture.value=t};return t(),e.addEventListener("resize",t),()=>e.removeEventListener("resize",t)},this.abortSignal),Rn(()=>{const{requestRender:e}=this.root.value,t=this.element.value;if(null==e||null==t)return;let n;const i=()=>{e(),n=t.requestVideoFrameCallback(i)};return n=t.requestVideoFrameCallback(i),()=>t.cancelVideoFrameCallback(n)},this.abortSignal)}}async function sr(e){if(null!=e)return e.readyState<HTMLMediaElement.HAVE_METADATA&&await new Promise(t=>e.onloadedmetadata=t),e}function ar(e,t){if(null==t)return e.removeAttribute("src"),void e.removeAttribute("srcObject");"string"!=typeof t?e.srcObject=t:e.src=t}const or=Object.freeze({charset:" \tABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!?.,;:'\"()-[]{}@#$%&*+=/\\<>",fontSize:48,textureSize:[512,512],fieldRange:4,padding:4,fixOverlaps:!0});class lr extends o.aHM{constructor(e){super(e)}load(e,t,n,i){this.loadAsync(e,n).then(t).catch(e=>{i?i(e):console.error("TTFLoader:",e)})}async loadAsync(e,t){const n=function(e){return(Array.isArray(e)?e:[e]).map((e,t)=>{if("string"==typeof e)return{url:e};if(!e.url)throw new Error(`TTFLoader: Font at index ${t} is missing 'url'`);return{...e,url:e.url}})}(e),i=await this._loadFontFiles(n,t);return this._generate(i,n)}async _loadFontFiles(e,t){const n=new o.Y9S(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials);const i=e.map(e=>n.loadAsync(e.url,t));return Promise.all(i)}async _generate(e,t){const{MSDF:i}=await n.e(168).then(n.bind(n,8168)),r=new i;try{await r.initialize();const n=e.map((e,n)=>{const i=t[n];return{font:new Uint8Array(e),charset:i?.charset??or.charset,fontSize:i?.fontSize??or.fontSize,textureSize:i?.textureSize??or.textureSize,fieldRange:i?.fieldRange??or.fieldRange,padding:i?.padding??or.padding,fixOverlaps:i?.fixOverlaps??or.fixOverlaps}});if(1===n.length){const[e]=n,[i]=t;return await r.generate({...e,onProgress:i?.onProgress})}return await r.generate({fonts:n})}catch(e){const n=t.map(e=>e.url).join(", ");throw new Error(`TTFLoader: MSDF generation failed for ${n}: ${e instanceof Error?e.message:e}`)}finally{r.dispose()}}}},9969(e,t,n){"use strict";n.r(t),n.d(t,{Handle:()=>u,HandleStore:()=>i.Ww,HandleTarget:()=>c,HandlesAxisHighlight:()=>x,MapControls:()=>_,MapHandles:()=>P,OrbitControls:()=>L,OrbitHandles:()=>N,PivotHandles:()=>f,PivotHandlesContext:()=>A,PivotHandlesHandles:()=>m,ScreenHandleStore:()=>i.EN,TransformControls:()=>T,TransformHandles:()=>b,TransformHandlesContext:()=>I,TransformHandlesHandles:()=>C,createScreenCameraStore:()=>i.h7,defaultApply:()=>i.Yi,defaultMapHandlesScreenCameraApply:()=>i.cD,defaultOrbitHandlesScreenCameraApply:()=>i.Ms,defaultScreenCameraApply:()=>i.l3,filterForOnePointerLeftClick:()=>i.QI,filterForOnePointerRightClickOrTwoPointer:()=>i.xd,useApplyScreenCameraState:()=>B,useHandle:()=>a,useMapHandles:()=>R,useOrbitHandles:()=>D});var i=n(6493),r=n(5214),s=n(6540);function a(e,t={},n){const a=(0,s.useRef)(t);a.current=t;const o=(0,s.useRef)(n);o.current=n;const l=(0,s.useMemo)(()=>new i.Ww(e,()=>({...o.current?.(),...a.current})),[e]);(0,r.D)(e=>l.update(e.clock.getElapsedTime()),-1);const c=t.handle??e;return(0,s.useEffect)(()=>{if(!1===t.bind)return;const e=c.current;return null!=e?l.bind(e):void 0},[l,c,t.bind]),l}var o=n(4848);const l=(0,s.createContext)(void 0),c=(0,s.forwardRef)(({targetRef:e,children:t},n)=>{const i=(0,s.useRef)(null);return(0,s.useImperativeHandle)(n,()=>(e??i).current,[e]),null!=e?(0,o.jsx)(l.Provider,{value:e,children:t}):(0,o.jsx)(l.Provider,{value:i,children:(0,o.jsx)("group",{ref:i,children:t})})}),u=(0,s.forwardRef)(({children:e,handleRef:t,useTargetFromContext:n,targetRef:i,getHandleOptions:r,...c},u)=>{const d=(0,s.useRef)(null);let h=(0,s.useContext)(l);if(!0===n&&(i="from-context"),"from-context"===i){if(null==h)throw new Error("no HandleTarget found in the context of this handle while 'targetRef=\"from-context\"' is set. Either wrap the Handle in a <HandleTarget> or remove the 'targetRef=\"from-context\"' property or set it to an ref.");i=h}const p=a(i??t??d,{handle:t??d,...c},r);return(0,s.useImperativeHandle)(u,()=>p,[p]),null!=t?e:(0,o.jsx)("group",{ref:d,children:e})});function d(e){const t=(0,r.C)(e=>e.controls);return(0,s.useCallback)((n,r)=>(null!=t&&n.first&&(t.enabled=!1),null!=t&&n.last&&(t.enabled=!0),(e??i.Yi)(n,r)),[e,t])}function h(e){if(!1===e)return!1;if(!0===e||void 0===e||"disabled"===e)return"disabled";if("string"==typeof e){const t={x:!1,y:!1,z:!1,e:!1};return t[e]="disabled",t}return{x:p(e.x),y:p(e.y),z:p(e.z),e:p(e.e)}}function p(e){return!1!==e&&"disabled"}const f=(0,s.forwardRef)(({children:e,scale:t,translation:n,rotation:i,size:r,fixed:s,disabled:a,hidden:l,...c},u)=>(0,o.jsxs)(A,{...c,ref:u,children:[(0,o.jsx)(m,{scale:t,translation:n,rotation:i,size:r,fixed:s,hidden:l,disabled:a}),e]})),g=(0,s.createContext)(void 0),A=(0,s.forwardRef)(({alwaysUpdate:e,apply:t,stopPropagation:n,children:a,...l},c)=>{const u=(0,s.useRef)(null);(0,s.useImperativeHandle)(c,()=>u.current,[]);const h={alwaysUpdate:e,apply:d(t),stopPropagation:n},p=(0,s.useRef)(h);p.current=h;const f=(0,s.useMemo)(()=>new i.Ts(u,()=>p.current),[]);return(0,r.D)(e=>f.update(e.clock.getElapsedTime()),-1),(0,o.jsx)("group",{...l,ref:u,children:(0,o.jsx)(g.Provider,{value:f,children:a})})}),m=(0,s.forwardRef)(({size:e,fixed:t,scale:n,rotation:a,translation:l,disabled:c,hidden:u},d)=>{const p=(0,s.useContext)(g);if(null==p)throw new Error("PivotHandlesHandles can only be used inside PivotHandlesContext");const f=(0,s.useMemo)(()=>new i.hk(p),[p]);return(0,s.useImperativeHandle)(d,()=>f,[f]),null!==e&&(f.size=e),null!==t&&(f.fixed=t),(0,s.useEffect)(()=>u?void 0:f.scaleX.bind(16719968,c?h(n):n),[c,n,f,u]),(0,s.useEffect)(()=>u?void 0:f.scaleY.bind(2154368,c?h(n):n),[c,n,f,u]),(0,s.useEffect)(()=>u?void 0:f.scaleZ.bind(2130175,c?h(n):n),[c,n,f,u]),(0,s.useEffect)(()=>u?void 0:f.rotationX.bind(16719968,c?h(a):a),[c,a,f,u]),(0,s.useEffect)(()=>u?void 0:f.rotationY.bind(2154368,c?h(a):a),[c,a,f,u]),(0,s.useEffect)(()=>u?void 0:f.rotationZ.bind(2130175,c?h(a):a),[c,a,f,u]),(0,s.useEffect)(()=>u?void 0:f.translationX.bind(16719968,16777024,c?h(l):l),[c,l,f,u]),(0,s.useEffect)(()=>u?void 0:f.translationY.bind(2154368,16777024,c?h(l):l),[c,l,f,u]),(0,s.useEffect)(()=>u?void 0:f.translationZ.bind(2130175,16777024,c?h(l):l),[c,l,f,u]),(0,s.useEffect)(()=>u?void 0:f.translationXY.bind(16719968,16777024,c?h(l):l),[c,l,f,u]),(0,s.useEffect)(()=>u?void 0:f.translationYZ.bind(2130175,16777024,c?h(l):l),[c,l,f,u]),(0,s.useEffect)(()=>u?void 0:f.translationXZ.bind(2154368,16777024,c?h(l):l),[c,l,f,u]),(0,r.D)(e=>f.update(e.camera)),(0,o.jsx)("primitive",{object:f})});var v=n(4922);const y=new v.O9p,E=new v.O9p(0,0,Math.PI/2),S=new v.O9p(0,-Math.PI/2,0),b=(0,s.forwardRef)(({children:e,mode:t,size:n,fixed:i,disabled:r,hidden:s,x:a,y:l,z:c,e:u,...d},h)=>(0,o.jsxs)(I,{...d,ref:h,children:[(0,o.jsx)(C,{hidden:s,disabled:r,mode:t,x:a,y:l,z:c,e:u,size:n,fixed:i}),(0,o.jsx)(x,{tag:"x",rotationOffset:y}),(0,o.jsx)(x,{tag:"y",rotationOffset:E}),(0,o.jsx)(x,{tag:"z",rotationOffset:S}),e]})),x=(0,s.forwardRef)(({tag:e,rotationOffset:t},n)=>{const a=(0,s.useContext)(w);if(null==a)throw new Error("HandlesAxisHighlight can only be used inside TransformHandlesContext");const l=(0,s.useMemo)(()=>new i.ZL(a,t),[a,t]);return(0,s.useImperativeHandle)(n,()=>l,[l]),(0,s.useEffect)(()=>l.bind(e),[l,e]),(0,r.D)(()=>l.update()),(0,o.jsx)("primitive",{object:l})}),w=(0,s.createContext)(void 0),I=(0,s.forwardRef)(({alwaysUpdate:e,apply:t,stopPropagation:n,children:a,context:l,space:c,...u},h)=>{const p=(0,s.useRef)(null),f=d(t);(0,s.useImperativeHandle)(h,()=>p.current,[]);const g={alwaysUpdate:e,apply:f,stopPropagation:n},A=(0,s.useRef)(g);A.current=g;const m=(0,s.useMemo)(()=>l??new i.Ts(p,()=>A.current),[l]);return null!==c&&(m.space=c),(0,r.D)(e=>m.update(e.clock.getElapsedTime()),-1),(0,o.jsx)("group",{...u,ref:p,children:(0,o.jsx)(w.Provider,{value:m,children:a})})}),C=(0,s.forwardRef)(({mode:e="translate",x:t,y:n,z:a,e:l,size:c,fixed:u,disabled:d,hidden:p},f)=>{const g=(0,s.useContext)(w);if(null==g)throw new Error("TransformHandlesHandles can only be used inside TransformHandlesContext");const A=(0,s.useMemo)(()=>{switch(e){case"rotate":return new i.t6(g);case"scale":return new i.kl(g);case"translate":return new i.SE(g)}},[g,e]);return null!==c&&(A.size=c),null!==u&&(A.fixed=u),(0,s.useImperativeHandle)(f,()=>A,[A]),(0,r.D)(e=>A.update(e.camera)),(0,s.useEffect)(()=>p?void 0:A.bind(d?h({x:t,y:n,z:a,e:l}):{x:t,y:n,z:a,e:l}),[A,p,d,t,n,a,l]),(0,o.jsx)("primitive",{object:A})}),T=b;function M(e,t,n,i,{apply:a,rotate:o,zoom:l,pan:c,store:u,camera:d,damping:h,disabled:p}){const f=(0,r.A)(),g=(0,s.useRef)(d);g.current=d;const A=(0,s.useCallback)(()=>g.current??f.getState().camera,[f]),m=(0,r.C)(e=>e.gl.domElement),v=(0,s.useMemo)(()=>new e(m,A,u),[m,e,A,u]);B(v.getStore(),p,h,d),(0,r.D)((e,t)=>v.update(1e3*t));const y=(0,r.C)(e=>e.scene),E=!p&&("boolean"!=typeof c||c);(0,s.useEffect)(()=>E?v.pan.bind(y):void 0,[v,E,y]),v.pan.customApply=a,v.pan.speed="boolean"==typeof c?void 0:c?.speed,v.pan.filter=("boolean"==typeof c?void 0:c?.filter)??n;const S=!p&&("boolean"!=typeof o||o);(0,s.useEffect)(()=>S?v.rotate.bind(y):void 0,[v,S,y]),v.rotate.customApply=a??i,v.rotate.speed="boolean"==typeof o?void 0:o?.speed,v.rotate.filter=("boolean"==typeof o?void 0:o?.filter)??t;const b=!p&&("boolean"!=typeof l||l);(0,s.useEffect)(()=>b?v.zoom.bind(y):void 0,[v,b,y]),v.zoom.customApply=a,v.zoom.speed="boolean"==typeof l?void 0:l?.speed,v.zoom.filter="boolean"==typeof l?void 0:l?.filter}function B(e,t=!1,n=!1,a){const o=(0,r.A)(),l=(0,s.useRef)(a);l.current=a;const c=(0,s.useCallback)(()=>l.current??o.getState().camera,[o]),u=!1!==n;(0,s.useEffect)(()=>t||u?void 0:(0,i.z1)(e,c),[u,t,c,e]);const d=(0,s.useRef)(n);d.current=n;const h=(0,s.useMemo)(()=>(0,i.Se)(e,c,()=>d.current),[e,c]);(0,r.D)((e,t)=>h(1e3*t))}const R=M.bind(null,i.YV,i.xd,i.QI,i.cD);function P(e){return R(e),null}const _=P,D=M.bind(null,i.al,i.QI,i.xd,i.Ms);function N(e){return D(e),null}const L=N},7045(e,t,n){"use strict";n.r(t),n.d(t,{Accordion:()=>pt,AccordionContent:()=>ct,AccordionItem:()=>ut,AccordionTrigger:()=>ht,AccordionTriggerIcon:()=>dt,Alert:()=>mt,AlertDescription:()=>ft,AlertDialog:()=>Ct,AlertDialogAction:()=>vt,AlertDialogCancel:()=>yt,AlertDialogContent:()=>Et,AlertDialogDescription:()=>St,AlertDialogFooter:()=>bt,AlertDialogHeader:()=>xt,AlertDialogTitle:()=>wt,AlertDialogTrigger:()=>It,AlertIcon:()=>gt,AlertTitle:()=>At,Avatar:()=>Tt,Badge:()=>Mt,Button:()=>Bt,Card:()=>Lt,CardContent:()=>Rt,CardDescription:()=>Pt,CardFooter:()=>_t,CardHeader:()=>Dt,CardTitle:()=>Nt,Checkbox:()=>Ot,Dialog:()=>Gt,DialogContent:()=>kt,DialogDescription:()=>Ut,DialogFooter:()=>Ft,DialogHeader:()=>Qt,DialogTitle:()=>Vt,DialogTrigger:()=>Ht,Input:()=>zt,Label:()=>Wt,Menubar:()=>qt,MenubarMenu:()=>Xt,MenubarTrigger:()=>jt,Pagination:()=>tn,PaginationContent:()=>Yt,PaginationEllipsis:()=>Jt,PaginationItem:()=>Zt,PaginationLink:()=>Kt,PaginationNext:()=>$t,PaginationPrevious:()=>en,Progress:()=>nn,RadioGroup:()=>sn,RadioGroupItem:()=>rn,Separator:()=>an,Skeleton:()=>on,Slider:()=>ln,Switch:()=>cn,Tabs:()=>pn,TabsContent:()=>un,TabsList:()=>dn,TabsTrigger:()=>hn,Textarea:()=>fn,Toggle:()=>gn,ToggleGroup:()=>mn,ToggleGroupItem:()=>An,Tooltip:()=>En,TooltipContent:()=>vn,TooltipTrigger:()=>yn,VanillaAccordion:()=>W,VanillaAccordionContent:()=>z,VanillaAccordionItem:()=>x,VanillaAccordionTrigger:()=>w,VanillaAccordionTriggerIcon:()=>G,VanillaAlert:()=>he,VanillaAlertDescription:()=>ue,VanillaAlertDialog:()=>oe,VanillaAlertDialogAction:()=>se,VanillaAlertDialogCancel:()=>ae,VanillaAlertDialogContent:()=>ee,VanillaAlertDialogDescription:()=>re,VanillaAlertDialogFooter:()=>ne,VanillaAlertDialogHeader:()=>te,VanillaAlertDialogTitle:()=>ie,VanillaAlertDialogTrigger:()=>$,VanillaAlertIcon:()=>le,VanillaAlertTitle:()=>ce,VanillaAvatar:()=>pe,VanillaBadge:()=>ge,VanillaButton:()=>b,VanillaCard:()=>Se,VanillaCardContent:()=>ye,VanillaCardDescription:()=>ve,VanillaCardFooter:()=>Ee,VanillaCardHeader:()=>Ae,VanillaCardTitle:()=>me,VanillaCheckbox:()=>be,VanillaDialog:()=>K,VanillaDialogContent:()=>j,VanillaDialogDescription:()=>Z,VanillaDialogFooter:()=>Y,VanillaDialogHeader:()=>q,VanillaDialogTitle:()=>J,VanillaDialogTrigger:()=>X,VanillaInput:()=>xe,VanillaLabel:()=>we,VanillaMenubar:()=>ot,VanillaMenubarMenu:()=>st,VanillaMenubarTrigger:()=>at,VanillaPagination:()=>_e,VanillaPaginationContent:()=>Ie,VanillaPaginationEllipsis:()=>Pe,VanillaPaginationItem:()=>Ce,VanillaPaginationLink:()=>Me,VanillaPaginationNext:()=>Re,VanillaPaginationPrevious:()=>Be,VanillaProgress:()=>De,VanillaRadioGroup:()=>Le,VanillaRadioGroupItem:()=>Ne,VanillaSeparator:()=>Oe,VanillaSkeleton:()=>ke,VanillaSlider:()=>Fe,VanillaSwitch:()=>Qe,VanillaTabs:()=>ze,VanillaTabsContent:()=>Ge,VanillaTabsList:()=>Ve,VanillaTabsTrigger:()=>He,VanillaTextarea:()=>We,VanillaToggle:()=>qe,VanillaToggleGroup:()=>Ke,VanillaToggleGroupItem:()=>Ze,VanillaTooltip:()=>tt,VanillaTooltipContent:()=>et,VanillaTooltipTrigger:()=>$e,VanillaVideo:()=>nt,Video:()=>Sn,borderRadius:()=>c,colors:()=>p,defaultThemes:()=>o,defaults:()=>f,setTheme:()=>d,theme:()=>u});var i=n(4576),r=n(5015),s=n(4922);function a(e,t,n){return(new s.Q1f).setHSL(e/360,t/100,n/100,"srgb")}const o={default:{radius:8,background:a(0,0,100),foreground:a(0,0,3.9),card:a(0,0,100),cardForeground:a(0,0,3.9),popover:a(0,0,100),popoverForeground:a(0,0,3.9),primary:a(0,0,9),primaryForeground:a(0,0,98),secondary:a(0,0,96.1),secondaryForeground:a(0,0,9),muted:a(0,0,96.1),mutedForeground:a(0,0,45.1),accent:a(0,0,96.1),accentForeground:a(0,0,9),destructive:a(0,84.2,60.2),destructiveForeground:a(0,0,98),border:a(0,0,89.8),input:a(0,0,89.8),ring:a(0,0,3.9),dark:{background:a(0,0,3.9),foreground:a(0,0,98),card:a(0,0,3.9),cardForeground:a(0,0,98),popover:a(0,0,3.9),popoverForeground:a(0,0,98),primary:a(0,0,98),primaryForeground:a(0,0,9),secondary:a(0,0,14.9),secondaryForeground:a(0,0,98),muted:a(0,0,14.9),mutedForeground:a(0,0,63.9),accent:a(0,0,14.9),accentForeground:a(0,0,98),destructive:a(0,62.8,30.6),destructiveForeground:a(0,0,98),border:a(0,0,14.9),input:a(0,0,14.9),ring:a(0,0,83.1)}},red:{radius:8,background:a(0,0,100),foreground:a(0,0,3.9),card:a(0,0,100),cardForeground:a(0,0,3.9),popover:a(0,0,100),popoverForeground:a(0,0,3.9),primary:a(0,72.2,50.6),primaryForeground:a(0,85.7,97.3),secondary:a(0,0,96.1),secondaryForeground:a(0,0,9),muted:a(0,0,96.1),mutedForeground:a(0,0,45.1),accent:a(0,0,96.1),accentForeground:a(0,0,9),destructive:a(0,84.2,60.2),destructiveForeground:a(0,0,98),border:a(0,0,89.8),input:a(0,0,89.8),ring:a(0,72.2,50.6),dark:{background:a(0,0,3.9),foreground:a(0,0,98),card:a(0,0,3.9),cardForeground:a(0,0,98),popover:a(0,0,3.9),popoverForeground:a(0,0,98),primary:a(0,72.2,50.6),primaryForeground:a(0,85.7,97.3),secondary:a(0,0,14.9),secondaryForeground:a(0,0,98),muted:a(0,0,14.9),mutedForeground:a(0,0,63.9),accent:a(0,0,14.9),accentForeground:a(0,0,98),destructive:a(0,62.8,30.6),destructiveForeground:a(0,0,98),border:a(0,0,14.9),input:a(0,0,14.9),ring:a(0,72.2,50.6)}},rose:{radius:8,background:a(0,0,100),foreground:a(240,10,3.9),card:a(0,0,100),cardForeground:a(240,10,3.9),popover:a(0,0,100),popoverForeground:a(240,10,3.9),primary:a(346.8,77.2,49.8),primaryForeground:a(355.7,100,97.3),secondary:a(240,4.8,95.9),secondaryForeground:a(240,5.9,10),muted:a(240,4.8,95.9),mutedForeground:a(240,3.8,46.1),accent:a(240,4.8,95.9),accentForeground:a(240,5.9,10),destructive:a(0,84.2,60.2),destructiveForeground:a(0,0,98),border:a(240,5.9,90),input:a(240,5.9,90),ring:a(346.8,77.2,49.8),dark:{background:a(20,14.3,4.1),foreground:a(0,0,95),popover:a(0,0,9),popoverForeground:a(0,0,95),card:a(24,9.8,10),cardForeground:a(0,0,95),primary:a(346.8,77.2,49.8),primaryForeground:a(355.7,100,97.3),secondary:a(240,3.7,15.9),secondaryForeground:a(0,0,98),muted:a(0,0,15),mutedForeground:a(240,5,64.9),accent:a(12,6.5,15.1),accentForeground:a(0,0,98),destructive:a(0,62.8,30.6),destructiveForeground:a(0,85.7,97.3),border:a(240,3.7,15.9),input:a(240,3.7,15.9),ring:a(346.8,77.2,49.8)}},orange:{radius:8,background:a(0,0,100),foreground:a(20,14.3,4.1),card:a(0,0,100),cardForeground:a(20,14.3,4.1),popover:a(0,0,100),popoverForeground:a(20,14.3,4.1),primary:a(24.6,95,53.1),primaryForeground:a(60,9.1,97.8),secondary:a(60,4.8,95.9),secondaryForeground:a(24,9.8,10),muted:a(60,4.8,95.9),mutedForeground:a(25,5.3,44.7),accent:a(60,4.8,95.9),accentForeground:a(24,9.8,10),destructive:a(0,84.2,60.2),destructiveForeground:a(60,9.1,97.8),border:a(20,5.9,90),input:a(20,5.9,90),ring:a(24.6,95,53.1),dark:{background:a(20,14.3,4.1),foreground:a(60,9.1,97.8),card:a(20,14.3,4.1),cardForeground:a(60,9.1,97.8),popover:a(20,14.3,4.1),popoverForeground:a(60,9.1,97.8),primary:a(20.5,90.2,48.2),primaryForeground:a(60,9.1,97.8),secondary:a(12,6.5,15.1),secondaryForeground:a(60,9.1,97.8),muted:a(12,6.5,15.1),mutedForeground:a(24,5.4,63.9),accent:a(12,6.5,15.1),accentForeground:a(60,9.1,97.8),destructive:a(0,72.2,50.6),destructiveForeground:a(60,9.1,97.8),border:a(12,6.5,15.1),input:a(12,6.5,15.1),ring:a(20.5,90.2,48.2)}},green:{radius:8,background:a(0,0,100),foreground:a(240,10,3.9),card:a(0,0,100),cardForeground:a(240,10,3.9),popover:a(0,0,100),popoverForeground:a(240,10,3.9),primary:a(142.1,76.2,36.3),primaryForeground:a(355.7,100,97.3),secondary:a(240,4.8,95.9),secondaryForeground:a(240,5.9,10),muted:a(240,4.8,95.9),mutedForeground:a(240,3.8,46.1),accent:a(240,4.8,95.9),accentForeground:a(240,5.9,10),destructive:a(0,84.2,60.2),destructiveForeground:a(0,0,98),border:a(240,5.9,90),input:a(240,5.9,90),ring:a(142.1,76.2,36.3),dark:{background:a(20,14.3,4.1),foreground:a(0,0,95),popover:a(0,0,9),popoverForeground:a(0,0,95),card:a(24,9.8,10),cardForeground:a(0,0,95),primary:a(142.1,70.6,45.3),primaryForeground:a(144.9,80.4,10),secondary:a(240,3.7,15.9),secondaryForeground:a(0,0,98),muted:a(0,0,15),mutedForeground:a(240,5,64.9),accent:a(12,6.5,15.1),accentForeground:a(0,0,98),destructive:a(0,62.8,30.6),destructiveForeground:a(0,85.7,97.3),border:a(240,3.7,15.9),input:a(240,3.7,15.9),ring:a(142.4,71.8,29.2)}},blue:{radius:8,background:a(0,0,100),foreground:a(222.2,84,4.9),card:a(0,0,100),cardForeground:a(222.2,84,4.9),popover:a(0,0,100),popoverForeground:a(222.2,84,4.9),primary:a(221.2,83.2,53.3),primaryForeground:a(210,40,98),secondary:a(210,40,96.1),secondaryForeground:a(222.2,47.4,11.2),muted:a(210,40,96.1),mutedForeground:a(215.4,16.3,46.9),accent:a(210,40,96.1),accentForeground:a(222.2,47.4,11.2),destructive:a(0,84.2,60.2),destructiveForeground:a(210,40,98),border:a(214.3,31.8,91.4),input:a(214.3,31.8,91.4),ring:a(221.2,83.2,53.3),dark:{background:a(222.2,84,4.9),foreground:a(210,40,98),card:a(222.2,84,4.9),cardForeground:a(210,40,98),popover:a(222.2,84,4.9),popoverForeground:a(210,40,98),primary:a(217.2,91.2,59.8),primaryForeground:a(222.2,47.4,11.2),secondary:a(217.2,32.6,17.5),secondaryForeground:a(210,40,98),muted:a(217.2,32.6,17.5),mutedForeground:a(215,20.2,65.1),accent:a(217.2,32.6,17.5),accentForeground:a(210,40,98),destructive:a(0,62.8,30.6),destructiveForeground:a(210,40,98),border:a(217.2,32.6,17.5),input:a(217.2,32.6,17.5),ring:a(224.3,76.3,48)}},yellow:{radius:8,background:a(0,0,100),foreground:a(20,14.3,4.1),card:a(0,0,100),cardForeground:a(20,14.3,4.1),popover:a(0,0,100),popoverForeground:a(20,14.3,4.1),primary:a(47.9,95.8,53.1),primaryForeground:a(26,83.3,14.1),secondary:a(60,4.8,95.9),secondaryForeground:a(24,9.8,10),muted:a(60,4.8,95.9),mutedForeground:a(25,5.3,44.7),accent:a(60,4.8,95.9),accentForeground:a(24,9.8,10),destructive:a(0,84.2,60.2),destructiveForeground:a(60,9.1,97.8),border:a(20,5.9,90),input:a(20,5.9,90),ring:a(20,14.3,4.1),dark:{background:a(20,14.3,4.1),foreground:a(60,9.1,97.8),card:a(20,14.3,4.1),cardForeground:a(60,9.1,97.8),popover:a(20,14.3,4.1),popoverForeground:a(60,9.1,97.8),primary:a(47.9,95.8,53.1),primaryForeground:a(26,83.3,14.1),secondary:a(12,6.5,15.1),secondaryForeground:a(60,9.1,97.8),muted:a(12,6.5,15.1),mutedForeground:a(24,5.4,63.9),accent:a(12,6.5,15.1),accentForeground:a(60,9.1,97.8),destructive:a(0,62.8,30.6),destructiveForeground:a(60,9.1,97.8),border:a(12,6.5,15.1),input:a(12,6.5,15.1),ring:a(35.5,91.7,32.9)}},violet:{radius:8,background:a(0,0,100),foreground:a(224,71.4,4.1),card:a(0,0,100),cardForeground:a(224,71.4,4.1),popover:a(0,0,100),popoverForeground:a(224,71.4,4.1),primary:a(262.1,83.3,57.8),primaryForeground:a(210,20,98),secondary:a(220,14.3,95.9),secondaryForeground:a(220.9,39.3,11),muted:a(220,14.3,95.9),mutedForeground:a(220,8.9,46.1),accent:a(220,14.3,95.9),accentForeground:a(220.9,39.3,11),destructive:a(0,84.2,60.2),destructiveForeground:a(210,20,98),border:a(220,13,91),input:a(220,13,91),ring:a(262.1,83.3,57.8),dark:{background:a(224,71.4,4.1),foreground:a(210,20,98),card:a(224,71.4,4.1),cardForeground:a(210,20,98),popover:a(224,71.4,4.1),popoverForeground:a(210,20,98),primary:a(263.4,70,50.4),primaryForeground:a(210,20,98),secondary:a(215,27.9,16.9),secondaryForeground:a(210,20,98),muted:a(215,27.9,16.9),mutedForeground:a(217.9,10.6,64.9),accent:a(215,27.9,16.9),accentForeground:a(210,20,98),destructive:a(0,62.8,30.6),destructiveForeground:a(210,20,98),border:a(215,27.9,16.9),input:a(215,27.9,16.9),ring:a(263.4,70,50.4)}}},l=(0,i.EW)(()=>h("radius")),c={lg:l,md:(0,i.EW)(()=>l.value-2),sm:(0,i.EW)(()=>l.value-4)},u=(0,i.vP)(o.default);function d(e){u.value=e}function h(e){return(r.ud.value?(0,r.w8)(u.value.dark?.[e]):void 0)??(0,r.w8)(u.value[e])}const p={};for(const e in o.default){const t=e;"radius"!==t&&"dark"!==t&&(p[t]=(0,i.EW)(()=>h(t)))}const f={scrollbarColor:(0,r.O1)(p.foreground,.3),scrollbarBorderRadius:4,lineHeight:"150%",borderColor:p.border,color:p.foreground},g={...r.mZ,...f},A={...r.V0,...f},m={...r.Oe,...f},v={...r.wL,...f},y={...r.MP,...f},E={default:{hover:{backgroundColor:(0,r.O1)(p.primary,.9)},backgroundColor:p.primary,color:p.primaryForeground},destructive:{hover:{backgroundColor:(0,r.O1)(p.destructive,.9)},backgroundColor:p.destructive,color:p.destructiveForeground},outline:{hover:{backgroundColor:p.accent,color:p.accentForeground},borderWidth:1,borderColor:p.input,backgroundColor:p.background},secondary:{hover:{backgroundColor:(0,r.O1)(p.secondary,.8)},backgroundColor:p.secondary,color:p.secondaryForeground},ghost:{hover:{backgroundColor:p.accent,color:p.accentForeground}},link:{color:p.primary}},S={default:{height:40,paddingX:16,paddingY:8},sm:{height:36,paddingX:12},lg:{height:42,paddingX:32},icon:{height:40,width:40}};class b extends r.mc{constructor(e,t,n){const r=(0,i.EW)(()=>{const e=this.properties.value.variant??"default";return E[e]?.borderWidth}),s=(0,i.EW)(()=>{const e=this.properties.value.size??"default";return S[e]}),a=(0,i.EW)(()=>s.value?.paddingX),o=(0,i.EW)(()=>s.value?.paddingY);super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},borderRadius:c.md,alignItems:"center",justifyContent:"center",flexDirection:"row",fontSize:14,lineHeight:"20px",fontWeight:"medium",wordBreak:"keep-all",hover:{backgroundColor:(0,i.EW)(()=>E[this.properties.value.variant??"default"].hover?.backgroundColor?.value),color:(0,i.EW)(()=>E[this.properties.value.variant??"default"].hover?.color?.value)},backgroundColor:(0,i.EW)(()=>E[this.properties.value.variant??"default"].backgroundColor?.value),color:(0,i.EW)(()=>E[this.properties.value.variant??"default"].color?.value),borderTopWidth:r,borderRightWidth:r,borderBottomWidth:r,borderLeftWidth:r,borderColor:(0,i.EW)(()=>E[this.properties.value.variant??"default"].borderColor?.value),height:(0,i.EW)(()=>s.value?.height),width:(0,i.EW)(()=>s.value?.width),paddingLeft:a,paddingRight:a,paddingTop:o,paddingBottom:o,opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:1),cursor:(0,i.EW)(()=>this.properties.value.disabled?"default":"pointer"),...n?.defaultOverrides}})}}class x extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},cursor:"pointer",flexDirection:"column",onClick:()=>{const e=this.parentContainer.peek();if(!(e instanceof W))return;const t=this.properties.peek().value,n=t===e.openItemValue.peek();e.openItemValue.value=n?void 0:t},borderBottomWidth:1,...n?.defaultOverrides}})}}class w extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",flexGrow:1,flexShrink:1,alignItems:"center",justifyContent:"space-between",paddingTop:16,paddingBottom:16,fontSize:14,lineHeight:"20px",fontWeight:"medium",...n?.defaultOverrides}})}}r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS;class I extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-check" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19.640 5.068 C 19.483 5.121,18.793 5.795,14.230 10.354 L 9.001 15.578 6.770 13.353 C 4.622 11.209,4.532 11.125,4.323 11.064 C 4.057 10.986,3.945 10.984,3.710 11.055 C 3.467 11.128,3.260 11.293,3.128 11.516 C 3.037 11.672,3.020 11.746,3.020 12.000 C 3.020 12.254,3.036 12.328,3.127 12.480 C 3.262 12.706,8.368 17.805,8.560 17.905 C 8.659 17.957,8.788 17.979,9.000 17.979 C 9.255 17.980,9.327 17.964,9.480 17.873 C 9.708 17.737,20.805 6.633,20.905 6.440 C 20.957 6.341,20.979 6.212,20.979 6.000 C 20.980 5.745,20.964 5.672,20.872 5.516 C 20.617 5.083,20.122 4.903,19.640 5.068 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}r.BS,r.BS;class C extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-chevron-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.670 8.061 C 5.448 8.142,5.250 8.309,5.128 8.516 C 5.036 8.672,5.020 8.745,5.021 9.000 C 5.021 9.212,5.043 9.341,5.095 9.440 C 5.195 9.632,11.294 15.738,11.520 15.873 C 11.673 15.964,11.745 15.980,12.000 15.979 C 12.212 15.979,12.341 15.957,12.440 15.905 C 12.632 15.805,18.738 9.706,18.873 9.480 C 18.964 9.328,18.980 9.254,18.980 9.000 C 18.980 8.746,18.963 8.672,18.872 8.516 C 18.618 8.084,18.138 7.906,17.657 8.065 C 17.478 8.125,17.210 8.380,14.730 10.854 L 12.000 13.578 9.270 10.854 C 6.790 8.380,6.522 8.125,6.343 8.065 C 6.107 7.987,5.874 7.986,5.670 8.061 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const T=C;r.BS,r.BS;class M extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-chevron-left" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.640 5.068 C 14.485 5.121,14.036 5.553,11.347 8.235 C 9.570 10.008,8.188 11.417,8.127 11.520 C 8.036 11.672,8.020 11.746,8.020 12.000 C 8.020 12.254,8.036 12.328,8.127 12.480 C 8.263 12.707,14.370 18.807,14.555 18.899 C 15.010 19.128,15.601 18.944,15.867 18.492 C 15.964 18.327,15.980 18.258,15.979 18.000 C 15.979 17.788,15.957 17.659,15.905 17.560 C 15.865 17.483,14.614 16.200,13.126 14.710 L 10.421 12.000 13.126 9.290 C 14.614 7.800,15.865 6.517,15.905 6.440 C 15.957 6.341,15.979 6.212,15.979 6.000 C 15.980 5.745,15.964 5.672,15.872 5.516 C 15.617 5.083,15.122 4.903,14.640 5.068 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const B=M;class R extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-chevron-right" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.670 5.061 C 8.448 5.142,8.250 5.309,8.128 5.516 C 8.036 5.672,8.020 5.745,8.021 6.000 C 8.021 6.212,8.043 6.341,8.095 6.440 C 8.135 6.517,9.386 7.800,10.874 9.290 L 13.579 12.000 10.874 14.710 C 9.386 16.200,8.135 17.483,8.095 17.560 C 8.043 17.659,8.021 17.788,8.021 18.000 C 8.020 18.258,8.036 18.327,8.133 18.492 C 8.263 18.714,8.502 18.901,8.736 18.965 C 8.938 19.019,9.266 18.989,9.445 18.899 C 9.630 18.807,15.737 12.707,15.873 12.480 C 15.964 12.328,15.980 12.254,15.980 12.000 C 15.980 11.746,15.964 11.672,15.873 11.520 C 15.812 11.417,14.431 10.008,12.653 8.235 C 9.817 5.407,9.522 5.125,9.343 5.065 C 9.107 4.987,8.874 4.986,8.670 5.061 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const P=R;r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS;class _ extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-ellipsis" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.477 10.073 C 3.806 10.249,3.238 10.823,3.060 11.508 C 2.941 11.962,3.003 12.492,3.225 12.930 C 3.361 13.199,3.801 13.639,4.070 13.775 C 4.659 14.073,5.341 14.073,5.930 13.775 C 6.196 13.640,6.638 13.200,6.771 12.937 C 6.994 12.498,7.052 12.007,6.940 11.529 C 6.858 11.182,6.720 10.927,6.465 10.653 C 6.074 10.232,5.560 10.005,5.000 10.005 C 4.857 10.005,4.622 10.036,4.477 10.073 M11.477 10.073 C 10.806 10.249,10.238 10.823,10.060 11.508 C 9.941 11.962,10.003 12.492,10.225 12.930 C 10.361 13.199,10.801 13.639,11.070 13.775 C 11.659 14.073,12.341 14.073,12.930 13.775 C 13.196 13.640,13.638 13.200,13.771 12.937 C 13.994 12.498,14.052 12.007,13.940 11.529 C 13.858 11.182,13.720 10.927,13.465 10.653 C 13.074 10.232,12.560 10.005,12.000 10.005 C 11.857 10.005,11.622 10.036,11.477 10.073 M18.477 10.073 C 17.806 10.249,17.238 10.823,17.060 11.508 C 16.941 11.962,17.003 12.492,17.225 12.930 C 17.361 13.199,17.801 13.639,18.070 13.775 C 18.659 14.073,19.341 14.073,19.930 13.775 C 20.196 13.640,20.638 13.200,20.771 12.937 C 20.994 12.498,21.052 12.007,20.940 11.529 C 20.858 11.182,20.720 10.927,20.465 10.653 C 20.074 10.232,19.560 10.005,19.000 10.005 C 18.857 10.005,18.622 10.036,18.477 10.073 " stroke="none" fill="black" fill-rule="evenodd"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const D=_;r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS;class N extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-pause" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6.477 3.073 C 5.806 3.249,5.238 3.823,5.060 4.508 C 5.008 4.707,5.000 5.691,5.000 12.000 C 5.000 19.922,4.987 19.460,5.225 19.930 C 5.361 20.199,5.801 20.639,6.070 20.775 C 6.479 20.982,6.632 21.000,8.000 21.000 C 9.368 21.000,9.521 20.982,9.930 20.775 C 10.196 20.640,10.638 20.200,10.771 19.937 C 11.014 19.459,11.000 19.929,10.999 12.014 C 10.999 4.156,11.009 4.532,10.781 4.083 C 10.551 3.628,10.022 3.203,9.523 3.073 C 9.134 2.972,6.866 2.972,6.477 3.073 M14.477 3.073 C 13.806 3.249,13.238 3.823,13.060 4.508 C 13.008 4.707,13.000 5.691,13.000 12.000 C 13.000 19.922,12.987 19.460,13.225 19.930 C 13.361 20.199,13.801 20.639,14.070 20.775 C 14.479 20.982,14.632 21.000,16.000 21.000 C 17.368 21.000,17.521 20.982,17.930 20.775 C 18.196 20.640,18.638 20.200,18.771 19.937 C 19.014 19.459,19.000 19.929,18.999 12.014 C 18.999 4.156,19.009 4.532,18.781 4.083 C 18.551 3.628,18.022 3.203,17.523 3.073 C 17.134 2.972,14.866 2.972,14.477 3.073 M9.000 12.000 L 9.000 19.000 8.000 19.000 L 7.000 19.000 7.000 12.000 L 7.000 5.000 8.000 5.000 L 9.000 5.000 9.000 12.000 M17.000 12.000 L 17.000 19.000 16.000 19.000 L 15.000 19.000 15.000 12.000 L 15.000 5.000 16.000 5.000 L 17.000 5.000 17.000 12.000 " stroke="none" fill="black" fill-rule="evenodd"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const L=N;r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS;class O extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-play" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.695 2.057 C 5.466 2.129,5.256 2.299,5.128 2.516 L 5.020 2.700 5.010 11.919 C 4.998 22.269,4.972 21.374,5.298 21.700 C 5.565 21.967,5.982 22.067,6.320 21.946 C 6.397 21.919,9.661 19.838,13.574 17.323 C 21.150 12.452,20.860 12.650,20.964 12.264 C 21.059 11.911,20.918 11.459,20.647 11.247 C 20.341 11.009,6.453 2.107,6.305 2.055 C 6.116 1.988,5.914 1.989,5.695 2.057 M12.674 8.480 C 15.669 10.405,18.119 11.989,18.119 12.000 C 18.120 12.016,7.265 19.014,7.056 19.132 C 7.008 19.159,7.000 18.150,7.000 11.998 L 7.000 4.832 7.115 4.906 C 7.178 4.947,9.680 6.555,12.674 8.480 " stroke="none" fill="black" fill-rule="evenodd"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const k=O;r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS;class U extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-volume-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.908 3.044 C 9.447 3.152,9.396 3.196,7.449 5.136 L 5.597 6.980 4.089 7.002 C 2.406 7.027,2.370 7.032,1.937 7.312 C 1.656 7.494,1.351 7.822,1.216 8.088 C 0.997 8.519,1.000 8.472,1.000 12.000 C 1.000 15.547,0.996 15.478,1.225 15.930 C 1.361 16.199,1.801 16.639,2.070 16.775 C 2.484 16.985,2.623 17.000,4.111 17.000 C 5.041 17.000,5.514 17.014,5.573 17.044 C 5.621 17.069,6.470 17.895,7.460 18.879 C 8.522 19.936,9.334 20.711,9.440 20.771 C 10.445 21.340,11.722 20.774,11.961 19.653 C 11.988 19.524,11.998 16.951,11.991 11.880 L 11.980 4.300 11.836 4.000 C 11.483 3.266,10.672 2.864,9.908 3.044 M19.033 4.696 C 18.530 4.875,18.249 5.446,18.416 5.947 C 18.461 6.084,18.572 6.244,18.783 6.475 C 19.973 7.784,20.620 9.097,20.905 10.780 C 21.000 11.341,21.002 12.587,20.909 13.180 C 20.646 14.851,19.969 16.235,18.781 17.524 C 18.376 17.964,18.278 18.276,18.418 18.676 C 18.558 19.070,18.877 19.316,19.293 19.350 C 19.673 19.380,19.885 19.272,20.286 18.844 C 21.693 17.346,22.580 15.502,22.906 13.400 C 23.006 12.754,23.006 11.246,22.906 10.600 C 22.581 8.507,21.701 6.670,20.304 5.173 C 19.842 4.678,19.472 4.539,19.033 4.696 M10.000 12.009 L 10.000 18.579 8.470 17.053 C 6.860 15.448,6.655 15.275,6.163 15.111 C 5.915 15.029,5.815 15.023,4.450 15.009 L 3.000 14.995 3.000 11.997 L 3.000 9.000 4.354 9.000 C 5.571 9.000,5.738 8.992,6.016 8.921 C 6.630 8.764,6.673 8.729,8.400 7.012 C 9.269 6.148,9.985 5.441,9.990 5.441 C 9.995 5.440,10.000 8.396,10.000 12.009 M15.670 8.055 C 15.306 8.190,15.051 8.516,15.012 8.892 C 14.983 9.177,15.040 9.343,15.319 9.780 C 15.807 10.543,15.976 11.112,15.976 12.000 C 15.976 12.888,15.807 13.457,15.319 14.220 C 15.039 14.658,14.983 14.822,15.013 15.111 C 15.088 15.843,15.938 16.240,16.546 15.828 C 16.885 15.598,17.396 14.747,17.676 13.948 C 18.043 12.900,18.096 11.625,17.819 10.534 C 17.570 9.550,16.934 8.392,16.505 8.141 C 16.286 8.012,15.892 7.972,15.670 8.055 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const F=U;r.BS;class Q extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-volume-x" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.908 3.044 C 9.447 3.152,9.396 3.196,7.449 5.136 L 5.597 6.980 4.089 7.002 C 2.406 7.027,2.370 7.032,1.937 7.312 C 1.656 7.494,1.351 7.822,1.216 8.088 C 0.997 8.519,1.000 8.472,1.000 12.000 C 1.000 15.547,0.996 15.478,1.225 15.930 C 1.361 16.199,1.801 16.639,2.070 16.775 C 2.484 16.985,2.623 17.000,4.111 17.000 C 5.041 17.000,5.514 17.014,5.573 17.044 C 5.621 17.069,6.470 17.895,7.460 18.879 C 8.522 19.936,9.334 20.711,9.440 20.771 C 10.445 21.340,11.722 20.774,11.961 19.653 C 11.988 19.524,11.998 16.951,11.991 11.880 L 11.980 4.300 11.836 4.000 C 11.483 3.266,10.672 2.864,9.908 3.044 M10.000 12.009 L 10.000 18.579 8.470 17.053 C 6.860 15.448,6.655 15.275,6.163 15.111 C 5.915 15.029,5.815 15.023,4.450 15.009 L 3.000 14.995 3.000 11.997 L 3.000 9.000 4.354 9.000 C 5.571 9.000,5.738 8.992,6.016 8.921 C 6.630 8.764,6.673 8.729,8.400 7.012 C 9.269 6.148,9.985 5.441,9.990 5.441 C 9.995 5.440,10.000 8.396,10.000 12.009 M15.670 8.061 C 15.448 8.142,15.250 8.309,15.128 8.516 C 15.036 8.672,15.020 8.745,15.021 9.000 C 15.021 9.213,15.043 9.341,15.095 9.440 C 15.136 9.517,15.711 10.125,16.374 10.790 L 17.578 12.000 16.374 13.210 C 15.711 13.876,15.138 14.481,15.101 14.555 C 14.872 15.009,15.056 15.601,15.508 15.867 C 15.673 15.964,15.742 15.980,16.000 15.979 C 16.213 15.979,16.341 15.957,16.440 15.905 C 16.517 15.864,17.125 15.289,17.790 14.626 L 19.000 13.422 20.210 14.626 C 20.876 15.289,21.481 15.862,21.555 15.899 C 22.009 16.128,22.601 15.944,22.867 15.492 C 22.964 15.327,22.980 15.258,22.979 15.000 C 22.979 14.787,22.957 14.659,22.905 14.560 C 22.864 14.483,22.289 13.876,21.626 13.210 L 20.422 12.000 21.626 10.790 C 22.289 10.125,22.864 9.517,22.905 9.440 C 22.957 9.341,22.979 9.213,22.979 9.000 C 22.980 8.745,22.964 8.672,22.872 8.516 C 22.618 8.084,22.137 7.905,21.657 8.066 C 21.484 8.124,21.312 8.279,20.230 9.354 L 19.000 10.576 17.770 9.354 C 16.688 8.279,16.516 8.124,16.343 8.066 C 16.108 7.987,15.875 7.985,15.670 8.061 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}const V=Q;r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS,r.BS;class H extends r.BS{constructor(e,t,n){super(e,t,{...n,defaultOverrides:{content:'<svg class="lucide lucide-x" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.670 5.061 C 5.448 5.142,5.250 5.309,5.128 5.516 C 5.036 5.672,5.020 5.745,5.021 6.000 C 5.021 6.212,5.043 6.341,5.095 6.440 C 5.135 6.517,6.386 7.800,7.874 9.290 L 10.579 12.000 7.874 14.710 C 6.386 16.200,5.135 17.483,5.095 17.560 C 5.043 17.659,5.021 17.788,5.021 18.000 C 5.020 18.258,5.036 18.327,5.133 18.492 C 5.263 18.714,5.502 18.901,5.736 18.965 C 5.938 19.019,6.266 18.989,6.445 18.899 C 6.519 18.862,7.800 17.614,9.290 16.126 L 12.000 13.421 14.710 16.126 C 16.200 17.614,17.483 18.865,17.560 18.905 C 17.659 18.957,17.788 18.979,18.000 18.979 C 18.258 18.980,18.327 18.964,18.492 18.867 C 18.714 18.737,18.901 18.498,18.965 18.264 C 19.019 18.062,18.989 17.734,18.899 17.555 C 18.862 17.481,17.614 16.200,16.126 14.710 L 13.421 12.000 16.126 9.290 C 17.614 7.800,18.865 6.517,18.905 6.440 C 18.957 6.341,18.979 6.212,18.979 6.000 C 18.980 5.745,18.964 5.672,18.872 5.516 C 18.618 5.084,18.138 4.906,17.657 5.065 C 17.478 5.125,17.210 5.380,14.730 7.854 L 12.000 10.578 9.270 7.854 C 6.790 5.380,6.522 5.125,6.343 5.065 C 6.107 4.987,5.874 4.986,5.670 5.061 " stroke="none" fill-rule="evenodd" fill="black"></path></svg>',width:24,height:24,aspectRatio:1,keepAspectRatio:!1,...n?.defaultOverrides}})}}r.BS,r.BS,r.BS,r.BS,r.BS;class G extends T{constructor(e,t,n){super(e,t,{defaults:y,...n,defaultOverrides:{"*":{borderColor:p.border},width:16,height:16,flexShrink:0,transformRotateZ:(0,i.EW)(()=>{const e=(0,r.GU)(this,x,2);if(null==e)return 0;const t=(0,r.GU)(e,W,2);return e.properties.value.value===t?.openItemValue.value?180:0}),...n?.defaultOverrides}})}}class z extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},paddingTop:0,fontSize:14,paddingBottom:16,overflow:"hidden",display:(0,i.EW)(()=>{const e=(0,r.GU)(this,x,2);if(null==e)return"none";const t=(0,r.GU)(e,W,2);return e.properties.value.value===t?.openItemValue.value?"flex":"none"}),...n?.defaultOverrides}})}}class W extends r.mc{openItemValue=(0,i.vP)(void 0);constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",...n?.defaultOverrides}})}}class X extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:()=>{this.properties.peek().dialog?.setOpen(!0)},cursor:"pointer",...n?.defaultOverrides}})}}class j extends r.mc{closeButton;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:e=>e.stopPropagation(),positionType:"relative",flexDirection:"column",width:"100%",gap:16,borderWidth:1,backgroundColor:p.background,padding:24,sm:{borderRadius:c.lg},...n?.defaultOverrides}}),this.closeButton=new H({color:p.mutedForeground,onClick:()=>this.closeDialog(),cursor:"pointer",positionType:"absolute",zIndex:50,positionRight:16,positionTop:16,borderRadius:2,opacity:.7,hover:{opacity:1},width:16,height:16}),this.add(this.closeButton)}dispose(){this.closeButton.dispose(),super.dispose()}closeDialog(){const e=(0,r.GU)(this,K,2);if(null==e)throw new Error("DialogContent must be a decendant of Dialog (max 2 steps deep)");e.setOpen(!1)}}class q extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",gap:6,...n?.defaultOverrides}})}}class Y extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column-reverse",sm:{flexDirection:"row",justifyContent:"flex-end"},gap:8,...n?.defaultOverrides}})}}class J extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontSize:18,lineHeight:"100%",letterSpacing:-.4,fontWeight:"semi-bold",...n?.defaultOverrides}})}}class Z extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontSize:14,lineHeight:"20px",color:p.mutedForeground,...n?.defaultOverrides}})}}class K extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.open??this.uncontrolledSignal.value??this.properties.value.defaultOpen);constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},positionType:"absolute",display:(0,i.EW)(()=>this.currentSignal.value?"flex":"none"),inset:0,zIndex:50,backgroundColor:(0,r.O1)("black",.8),alignItems:"center",justifyContent:"center",...n?.defaultOverrides}});const s=e=>e.stopPropagation();this.addEventListener("pointermove",s),this.addEventListener("pointerenter",s),this.addEventListener("pointerleave",s),this.addEventListener("wheel",s),this.addEventListener("click",()=>this.setOpen(!1))}setOpen(e){const t=this.properties.peek();null==t.open&&(this.uncontrolledSignal.value=e),t.onOpenChange?.(e)}}class $ extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:()=>{this.properties.peek().dialog?.setOpen(!0)},cursor:"pointer",...n?.defaultOverrides}})}}class ee extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:e=>{e.stopPropagation?.()},positionType:"relative",flexDirection:"column",maxWidth:512,width:"100%",gap:16,borderWidth:1,backgroundColor:p.background,padding:24,sm:{borderRadius:c.lg},...n?.defaultOverrides}})}}class te extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",gap:6,...n?.defaultOverrides}})}}class ne extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column-reverse",sm:{flexDirection:"row",justifyContent:"flex-end"},gap:8,...n?.defaultOverrides}})}}class ie extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontSize:18,lineHeight:"28px",fontWeight:"semi-bold",...n?.defaultOverrides}})}}class re extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontSize:14,lineHeight:"20px",color:p.mutedForeground,...n?.defaultOverrides}})}}class se extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},borderRadius:c.md,height:40,paddingX:16,paddingY:8,alignItems:"center",justifyContent:"center",cursor:"pointer",flexDirection:"row",backgroundColor:p.primary,onClick:e=>{e.stopPropagation?.(),this.closeDialog()},hover:{backgroundColor:(0,r.O1)(p.primary,.9)},fontSize:14,lineHeight:"20px",fontWeight:"medium",wordBreak:"keep-all",color:p.primaryForeground,...n?.defaultOverrides}})}closeDialog(){const e=(0,r.GU)(this,oe,5);if(null==e)throw new Error("AlertDialogAction must be a decendant of AlertDialog (max 5 steps deep)");e.setOpen(!1)}}class ae extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},borderRadius:c.md,height:40,paddingX:16,paddingY:8,alignItems:"center",justifyContent:"center",cursor:"pointer",flexDirection:"row",borderWidth:1,borderColor:p.input,backgroundColor:p.background,onClick:e=>{e.stopPropagation(),this.closeDialog()},hover:{backgroundColor:p.accent},fontSize:14,lineHeight:"20px",fontWeight:"medium",wordBreak:"keep-all",...n?.defaultOverrides}})}closeDialog(){const e=(0,r.GU)(this,oe,5);if(null==e)throw new Error("AlertDialogAction must be a decendant of AlertDialog (max 5 steps deep)");e.setOpen(!1)}}class oe extends K{}class le extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},positionLeft:16,positionTop:16,positionType:"absolute",...n?.defaultOverrides}})}}class ce extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},marginBottom:4,padding:0,paddingLeft:28,fontWeight:"medium",letterSpacing:-.4,lineHeight:"100%",...n?.defaultOverrides}})}}class ue extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},paddingLeft:28,lineHeight:"162.5%",fontSize:14,opacity:.9,...n?.defaultOverrides}})}}const de={default:{backgroundColor:p.card,color:p.cardForeground},destructive:{backgroundColor:p.card,color:p.destructive}};class he extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",positionType:"relative",width:"100%",borderRadius:c.lg,borderWidth:1,padding:16,backgroundColor:(0,i.EW)(()=>de[this.properties.value.variant??"default"].backgroundColor?.value),color:(0,i.EW)(()=>de[this.properties.value.variant??"default"].color?.value),...n?.defaultOverrides}})}}class pe extends r._V{constructor(e,t,n){super(e,t,{defaults:r.wL,...n,defaultOverrides:{"*":{borderColor:p.border},width:40,height:40,flexShrink:0,aspectRatio:1,objectFit:"cover",borderRadius:20,...n?.defaultOverrides}})}}const fe={default:{backgroundColor:p.primary,color:p.primaryForeground,hover:{backgroundColor:(0,r.O1)(p.primary,.8)}},secondary:{backgroundColor:p.secondary,color:p.secondaryForeground,hover:{backgroundColor:(0,r.O1)(p.secondary,.8)}},destructive:{backgroundColor:p.destructive,color:p.destructiveForeground,hover:{backgroundColor:(0,r.O1)(p.destructive,.8)}},outline:{}};class ge extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},borderRadius:1e3,paddingX:10,paddingY:2,fontSize:12,lineHeight:"16px",fontWeight:"semi-bold",backgroundColor:(0,i.EW)(()=>fe[this.properties.value.variant??"default"].backgroundColor?.value),color:(0,i.EW)(()=>fe[this.properties.value.variant??"default"].color?.value),hover:{backgroundColor:(0,i.EW)(()=>fe[this.properties.value.variant??"default"].hover?.backgroundColor?.value)},borderWidth:1,...n?.defaultOverrides}})}}class Ae extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},padding:24,flexDirection:"column",gap:6,...n?.defaultOverrides}})}}class me extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontWeight:"semi-bold",letterSpacing:-.4,fontSize:24,lineHeight:"100%",...n?.defaultOverrides}})}}class ve extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontSize:14,lineHeight:"20px",color:p.mutedForeground,...n?.defaultOverrides}})}}class ye extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},padding:24,paddingTop:0,...n?.defaultOverrides}})}}class Ee extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",alignItems:"center",padding:24,paddingTop:0,...n?.defaultOverrides}})}}class Se extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",borderRadius:c.lg,borderWidth:1,backgroundColor:p.card,color:p.cardForeground,...n?.defaultOverrides}})}}class be extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.checked??this.uncontrolledSignal.value??this.properties.value.defaultChecked);icon;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},alignItems:"center",justifyContent:"center",cursor:(0,i.EW)(()=>this.properties.value.disabled?void 0:"pointer"),onClick:()=>{if(this.properties.peek().disabled)return;const e=this.currentSignal.peek();null==this.properties.peek().checked&&(this.uncontrolledSignal.value=!e),this.properties.peek().onCheckedChange?.(!e)},borderRadius:c.sm,width:16,height:16,borderWidth:1,borderColor:p.primary,backgroundColor:(0,i.EW)(()=>this.currentSignal.value?p.primary.value:void 0),opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),disabled:(0,i.EW)(()=>this.properties.value.disabled),...n?.defaultOverrides}}),super.add(this.icon=new I(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},color:(0,i.EW)(()=>this.currentSignal.value?p.primaryForeground.value:void 0),opacity:(0,i.EW)(()=>this.currentSignal.value?this.properties.value.disabled?.5:void 0:0),width:14,height:14}}))}dispose(){this.icon.dispose(),super.dispose()}add(){throw new Error("the checkbox component can not have any children")}}class xe extends r.pd{constructor(e,t,n){super(e,t,{defaults:A,...n,defaultOverrides:{"*":{borderColor:p.border},height:40,positionType:"relative",overflow:"scroll",scrollbarColor:(0,r.O1)("black",0),borderRadius:c.md,backgroundColor:p.background,borderColor:(0,i.EW)(()=>this.hasFocus.value?p.ring.value:p.input.value),borderWidth:1,opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),fontSize:14,paddingX:12,paddingY:8,lineHeight:"20px",placeholderStyle:{color:p.mutedForeground},...n?.defaultOverrides}}),console}}class we extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},fontWeight:"medium",fontSize:14,lineHeight:"100%",opacity:(0,i.EW)(()=>this.properties.value.disabled?.7:void 0),...n?.defaultOverrides}})}}class Ie extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",alignItems:"center",gap:4,...n?.defaultOverrides}})}}class Ce extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n})}}const Te={default:{height:40,paddingX:16,paddingY:8},sm:{height:36,paddingX:12},lg:{height:42,paddingX:32},icon:{height:40,width:40}};class Me extends r.mc{constructor(e,t,n){const r=(0,i.EW)(()=>Te[this.properties.value.size??"default"]),s=(0,i.EW)(()=>r.value?.paddingX),a=(0,i.EW)(()=>r.value?.paddingY),o=(0,i.EW)(()=>this.properties.value.isActive??!1);super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},cursor:"pointer",borderRadius:c.md,alignItems:"center",justifyContent:"center",hover:{backgroundColor:p.accent},backgroundColor:(0,i.EW)(()=>o.value?p.background.value:void 0),color:(0,i.EW)(()=>o.value?p.foreground.value:void 0),borderWidth:(0,i.EW)(()=>o.value?1:void 0),borderColor:(0,i.EW)(()=>o.value?p.input.value:void 0),height:(0,i.EW)(()=>r.value?.height),width:(0,i.EW)(()=>r.value?.width),paddingLeft:s,paddingRight:s,paddingTop:a,paddingBottom:a,...n?.defaultOverrides}})}}class Be extends Me{label;icon;constructor(e,t,n){super(e,t,{...n,defaultOverrides:{"*":{borderColor:p.border},size:"default",flexDirection:"row",gap:4,paddingLeft:10,...n?.defaultOverrides}});const i=new B(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},width:16,height:16}});this.icon=i,super.add(this.icon);const s=new r.EY(void 0,void 0,{defaults:m,defaultOverrides:{"*":{borderColor:p.border},text:"Previous"}});this.label=s,super.add(this.label)}dispose(){this.icon.dispose(),this.label.dispose(),super.dispose()}add(){throw new Error("PaginationPrevious does not support adding children. The component has predefined content.")}}class Re extends Me{label;icon;constructor(e,t,n){super(e,t,{...n,defaultOverrides:{"*":{borderColor:p.border},size:"default",flexDirection:"row",gap:4,paddingRight:10,...n?.defaultOverrides}});const i=new r.EY(void 0,void 0,{defaults:m,defaultOverrides:{"*":{borderColor:p.border},text:"Next"}});this.label=i,super.add(this.label);const s=new P(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},width:16,height:16}});this.icon=s,super.add(this.icon)}dispose(){this.icon.dispose(),this.label.dispose(),super.dispose()}add(){throw new Error("PaginationNext does not support adding children. The component has predefined content.")}}class Pe extends r.mc{icon;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",height:36,width:36,alignItems:"center",justifyContent:"center",...n?.defaultOverrides}}),super.add(this.icon=new D(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},width:16,height:16}}))}dispose(){this.icon.dispose(),super.dispose()}add(...e){throw new Error("the ellipsis component can not have any children")}}class _e extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},marginX:"auto",flexDirection:"row",width:"100%",justifyContent:"center",...n?.defaultOverrides}})}}class De extends r.mc{fill;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},height:16,width:"100%",borderBottomLeftRadius:1e3,borderBottomRightRadius:1e3,borderTopRightRadius:1e3,borderTopLeftRadius:1e3,backgroundColor:p.secondary,...n?.defaultOverrides}}),super.add(this.fill=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},height:"100%",borderBottomLeftRadius:1e3,borderBottomRightRadius:1e3,borderTopRightRadius:1e3,borderTopLeftRadius:1e3,backgroundColor:p.primary,width:(0,i.EW)(()=>`${Number(this.properties.value.value??0)}%`)}}))}dispose(){this.fill.dispose(),super.dispose()}add(){throw new Error("the progress component can not have any children")}}class Ne extends r.mc{radioButton;radioDot;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},cursor:(0,i.EW)(()=>this.properties.value.disabled?void 0:"pointer"),onClick:(0,i.EW)(()=>this.properties.value.disabled?void 0:()=>{const e=(0,r.GU)(this,Le,2);if(null==e)return;const t=this.properties.peek().value;null==e.properties.peek().value&&(e.uncontrolledSignal.value=t),e.properties.peek().onValueChange?.(t)}),flexDirection:"row",alignItems:"center",gap:8,opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),disabled:(0,i.EW)(()=>this.properties.value.disabled),...n?.defaultOverrides}});const s=(0,i.EW)(()=>(0,r.GU)(this,Le,2)?.currentSignal.value===this.properties.value.value);this.radioButton=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},aspectRatio:1,height:16,width:16,borderRadius:1e3,borderWidth:1,borderColor:p.primary,opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),alignItems:"center",justifyContent:"center"}}),this.radioDot=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},borderRadius:1e3,aspectRatio:1,backgroundColor:p.primary,height:9,width:9,opacity:(0,i.EW)(()=>s.value?1:0)}}),this.radioButton.add(this.radioDot),super.add(this.radioButton)}dispose(){this.radioDot.dispose(),this.radioButton.dispose(),super.dispose()}}class Le extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue);constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",gap:8,...n?.defaultOverrides}})}}class Oe extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexShrink:0,backgroundColor:p.border,width:(0,i.EW)(()=>"horizontal"===(this.properties.value.orientation??"horizontal")?"100%":1),height:(0,i.EW)(()=>"horizontal"===(this.properties.value.orientation??"horizontal")?1:"100%"),...n?.defaultOverrides}})}}class ke extends r.mc{opacity;time=0;constructor(e,t,n){const s=(0,i.vP)(1);super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},borderRadius:c.md,backgroundColor:p.muted,opacity:s,...n?.defaultOverrides}}),this.opacity=s,(0,r._k)(()=>{const e=this.animate.bind(this),t=this.root.value;return t.onFrameSet.add(e),()=>t.onFrameSet.delete(e)},this.abortSignal)}animate(e){this.opacity.value=.25*Math.cos(this.time/1e3*Math.PI)+.75,this.time+=e,this.root.peek().requestFrame?.()}}const Ue=new s.Pq0;class Fe extends r.mc{downPointerId;uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>Number(this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue??0));track;fill;thumb;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},positionType:"relative",flexDirection:"column",height:8,width:"100%",alignItems:"center",...n?.defaultOverrides}}),(0,r._k)(()=>{if(this.properties.value.disabled)return;const e=e=>{null!=this.downPointerId&&(this.downPointerId=void 0,e.stopPropagation?.())},t=e=>{null==this.downPointerId&&(this.downPointerId=e.pointerId,this.handleSetValue(e),"target"in e&&null!=e.target&&"object"==typeof e.target&&"setPointerCapture"in e.target&&"function"==typeof e.target.setPointerCapture&&e.target.setPointerCapture(e.pointerId))},n=e=>{this.downPointerId==e.pointerId&&this.handleSetValue(e)};return this.addEventListener("pointermove",n),this.addEventListener("pointerup",e),this.addEventListener("pointerdown",t),()=>{this.removeEventListener("pointermove",n),this.removeEventListener("pointerup",e),this.removeEventListener("pointerdown",t)}},this.abortSignal);const s=(0,i.EW)(()=>{const e=Number(this.properties.value.min??0),t=Number(this.properties.value.max??100)-e;return 100*(this.currentSignal.value-e)/t+"%"});this.track=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},height:8,positionType:"absolute",positionLeft:0,positionRight:0,flexGrow:1,borderRadius:1e3,backgroundColor:p.secondary}}),this.fill=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},height:"100%",width:s,borderRadius:1e3,backgroundColor:p.primary}}),this.track.add(this.fill),super.add(this.track),this.thumb=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},zIndexOffset:100,positionType:"absolute",positionLeft:s,transformTranslateX:-10,transformTranslateY:-6,cursor:"pointer",opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),height:20,width:20,borderWidth:2,borderRadius:1e3,borderColor:p.primary,backgroundColor:p.background}}),super.add(this.thumb)}handleSetValue(e){Ue.copy(e.point),this.worldToLocal(Ue);const t=Number(this.properties.peek().min??0),n=Number(this.properties.peek().max??100),i=Number(this.properties.peek().step??1),r=Math.min(Math.max(Math.round(((Ue.x+.5)*(n-t)+t)/i)*i,t),n);null==this.properties.peek().value&&(this.uncontrolledSignal.value=r),this.properties.peek().onValueChange?.(r),e.stopPropagation?.()}dispose(){this.thumb.dispose(),this.fill.dispose(),this.track.dispose(),super.dispose()}add(){throw new Error("the slider component can not have any children")}}class Qe extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.checked??this.uncontrolledSignal.value??this.properties.value.defaultChecked);handle;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},height:24,width:44,flexShrink:0,flexDirection:"row",padding:2,alignItems:"center",opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),borderRadius:1e3,backgroundColor:(0,i.EW)(()=>this.currentSignal.value?p.primary.value:p.input.value),cursor:(0,i.EW)(()=>this.properties.value.disabled?void 0:"pointer"),onClick:(0,i.EW)(()=>this.properties.value.disabled?void 0:()=>{const e=this.currentSignal.peek();null==this.properties.peek().checked&&(this.uncontrolledSignal.value=!e),this.properties.peek().onCheckedChange?.(!e)}),disabled:(0,i.EW)(()=>this.properties.value.disabled),...n?.defaultOverrides}}),super.add(this.handle=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},width:20,height:20,borderRadius:1e3,transformTranslateX:(0,i.EW)(()=>this.currentSignal.value?20:0),backgroundColor:p.background}}))}dispose(){this.handle.dispose(),super.dispose()}add(...e){throw new Error("the switch component can not have any children")}}class Ve extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},height:40,flexDirection:"row",alignItems:"center",borderRadius:c.md,backgroundColor:p.muted,padding:4,flexShrink:0,color:p.mutedForeground,...n?.defaultOverrides}})}}class He extends r.mc{constructor(e,t,n){const s=(0,i.EW)(()=>{const e=(0,r.GU)(this,ze,3);return this.properties.value.value===e?.currentSignal.value});super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:(0,i.EW)(()=>this.properties.value.disabled?void 0:()=>{const e=(0,r.GU)(this,ze,3);if(null==e)return;const t=this.properties.peek().value;if(t){const n=e.properties.peek();null==n.value&&(e.uncontrolledSignal.value=t),n.onValueChange?.(t)}}),cursor:(0,i.EW)(()=>this.properties.value.disabled?void 0:"pointer"),flexDirection:"row",alignItems:"center",borderRadius:c.sm,paddingX:12,opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),disabled:(0,i.EW)(()=>this.properties.value.disabled),backgroundColor:(0,i.EW)(()=>s.value?p.background.value:void 0),paddingY:6,justifyContent:"center",color:(0,i.EW)(()=>s.value?p.foreground.value:void 0),fontSize:14,fontWeight:"medium",lineHeight:"20px",wordBreak:"keep-all",...n?.defaultOverrides}})}}class Ge extends r.mc{constructor(e,t,n){const s=(0,i.EW)(()=>{const e=(0,r.GU)(this,ze,2);return this.properties.value.value===e?.currentSignal.value});super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},marginTop:8,display:(0,i.EW)(()=>s.value?"flex":"none"),...n?.defaultOverrides}})}}class ze extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.value??this.uncontrolledSignal.value??this.properties.value.defaultValue);constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"column",...n?.defaultOverrides}})}}class We extends r.mc{input;placeholder;constructor(e,t,n){super(e,t,{defaults:A,...n,defaultOverrides:{minHeight:80,positionType:"relative",overflow:"scroll",scrollbarColor:(0,r.O1)("black",0),borderRadius:c.md,backgroundColor:p.background,borderColor:(0,i.EW)(()=>s.hasFocus.value?p.ring.value:p.input.value),borderWidth:1,opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),"*":{borderColor:p.border,height:"100%",width:"100%",fontSize:14,paddingX:12,paddingY:8,lineHeight:"20px"},...n?.defaultOverrides}});const s=new r.pd(void 0,void 0,{defaults:A,multiline:!0,defaultOverrides:{"*":{borderColor:p.border},verticalAlign:"top",defaultValue:this.properties.signal.defaultValue,value:this.properties.signal.value,disabled:this.properties.signal.disabled,tabIndex:this.properties.signal.tabIndex,autocomplete:this.properties.signal.autocomplete,type:this.properties.signal.type,onValueChange:this.properties.signal.onValueChange,onFocusChange:this.properties.signal.onFocusChange}});this.input=s,super.add(this.input);const a=new r.EY(void 0,void 0,{defaults:m,defaultOverrides:{"*":{borderColor:p.border},color:p.mutedForeground,inset:0,verticalAlign:"top",text:this.properties.signal.placeholder,positionType:"absolute",display:(0,i.EW)(()=>0===s.currentSignal.value.length?"flex":"none")}});this.placeholder=a,super.add(this.placeholder)}dispose(){this.placeholder.dispose(),this.input.dispose(),super.dispose()}add(...e){throw new Error("the input component can not have any children")}}const Xe={default:{},outline:{borderWidth:1,borderColor:p.input,hover:{backgroundColor:p.accent}}},je={default:{height:40,paddingX:12},sm:{height:36,paddingX:10},lg:{height:44,paddingX:20}};class qe extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.checked??this.uncontrolledSignal.value??this.properties.value.defaultChecked);constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:()=>{if(this.properties.peek().disabled)return;const e=this.currentSignal.peek();null==this.properties.peek().checked&&(this.uncontrolledSignal.value=!e),this.properties.peek().onCheckedChange?.(!e)},alignItems:"center",justifyContent:"center",borderRadius:c.md,cursor:(0,i.EW)(()=>this.properties.value.disabled?void 0:"pointer"),backgroundColor:(0,i.EW)(()=>this.currentSignal.value?p.accent.value:void 0),hover:{backgroundColor:(0,i.EW)(()=>{if(this.properties.value.disabled)return;const e=this.properties.value.variant??"default";return Xe[e].hover?.backgroundColor?.value??p.muted.value})},color:(0,i.EW)(()=>this.currentSignal.value?p.accentForeground.value:void 0),opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),fontSize:14,lineHeight:"20px",fontWeight:"medium",disabled:(0,i.EW)(()=>this.properties.value.disabled),borderWidth:(0,i.EW)(()=>{const e=this.properties.value.variant??"default";return Xe[e]?.borderWidth}),borderColor:(0,i.EW)(()=>{const e=this.properties.value.variant??"default";return Xe[e]?.borderColor?.value}),height:(0,i.EW)(()=>{const e=this.properties.value.size??"default";return je[e].height}),paddingX:(0,i.EW)(()=>{const e=this.properties.value.size??"default";return je[e].paddingX}),...n?.defaultOverrides}})}}const Ye={default:{},outline:{borderWidth:1,borderColor:p.input,hover:{backgroundColor:p.accent}}},Je={default:{height:40,paddingX:12},sm:{height:36,paddingX:10},lg:{height:44,paddingX:20}};class Ze extends r.mc{uncontrolledSignal=(0,i.vP)(void 0);currentSignal=(0,i.EW)(()=>this.properties.value.checked??this.uncontrolledSignal.value??this.properties.value.defaultChecked);constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onClick:()=>{if(this.properties.peek().disabled)return;const e=this.currentSignal.peek();null==this.properties.peek().checked&&(this.uncontrolledSignal.value=!e),this.properties.peek().onCheckedChange?.(!e)},alignItems:"center",justifyContent:"center",borderRadius:c.md,borderWidth:(0,i.EW)(()=>Ye[this.getGroupVariant()]?.borderWidth),borderColor:(0,i.EW)(()=>Ye[this.getGroupVariant()]?.borderColor?.value),height:(0,i.EW)(()=>Je[this.getGroupSize()].height),paddingX:(0,i.EW)(()=>Je[this.getGroupSize()].paddingX),cursor:(0,i.EW)(()=>this.properties.value.disabled?void 0:"pointer"),opacity:(0,i.EW)(()=>this.properties.value.disabled?.5:void 0),disabled:(0,i.EW)(()=>this.properties.value.disabled),backgroundColor:(0,i.EW)(()=>this.currentSignal.value?p.accent.value:void 0),hover:{backgroundColor:(0,i.EW)(()=>{if(this.properties.value.disabled)return;const e=this.getGroupVariant();return Ye[e]?.hover?.backgroundColor?.value??p.muted.value})},color:(0,i.EW)(()=>this.currentSignal.value?p.accentForeground.value:void 0),fontSize:14,lineHeight:"20px",...n?.defaultOverrides}})}getGroupVariant(){const e=(0,r.GU)(this,Ke,2);return e?.properties.value.variant??"default"}getGroupSize(){const e=(0,r.GU)(this,Ke,2);return e?.properties.value.size??"default"}}class Ke extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",alignItems:"center",justifyContent:"center",gap:4,...n?.defaultOverrides}})}}class $e extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},alignSelf:"stretch",...n?.defaultOverrides}})}}class et extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},positionType:"absolute",positionBottom:"100%",marginBottom:(0,i.EW)(()=>Number(this.properties.value.sideOffset??4)),zIndex:50,overflow:"hidden",borderRadius:c.md,borderWidth:1,backgroundColor:p.popover,paddingX:12,paddingY:6,wordBreak:"keep-all",fontSize:14,lineHeight:"20px",color:p.popoverForeground,display:(0,i.EW)(()=>(0,r.GU)(this,tt,2)?.open.value?"flex":"none"),...n?.defaultOverrides}})}}class tt extends r.mc{open=(0,i.vP)(!1);timeoutId;constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},onPointerOver:()=>{null==this.timeoutId&&(this.timeoutId=window.setTimeout(()=>{this.timeoutId=void 0,this.open.value=!0},1e3))},onPointerOut:()=>{if(null!=this.timeoutId)return clearTimeout(this.timeoutId),void(this.timeoutId=void 0);this.open.value=!1},positionType:"relative",flexDirection:"column",alignItems:"center",...n?.defaultOverrides}})}}class nt extends r.mc{interacting=(0,i.vP)(!1);timeoutRef;video;controls;constructor(e,t,n){super(e,t,{defaults:v,...n,defaultOverrides:{"*":{borderColor:p.border},positionType:"relative",...n?.defaultOverrides}}),this.addEventListener("pointermove",this.onInteract.bind(this)),this.addEventListener("pointerdown",this.onInteract.bind(this)),super.add(this.video=new r.Ce(void 0,void 0,{defaults:v,defaultOverrides:{"*":{borderColor:p.border},volume:this.properties.signal.volume,preservesPitch:this.properties.signal.preservesPitch,playbackRate:this.properties.signal.playbackRate,muted:this.properties.signal.muted,loop:this.properties.signal.loop,autoplay:this.properties.signal.autoplay,crossOrigin:this.properties.signal.crossOrigin,width:"100%",height:"100%",src:this.properties.signal.src}})),super.add(this.controls=new it(void 0,void 0,{defaultOverrides:{"*":{borderColor:p.border},display:(0,i.EW)(()=>this.interacting.value&&(this.properties.value.controls??1)?"flex":"none")}}))}onInteract(){this.interacting.value=!0,null!=this.timeoutRef&&clearTimeout(this.timeoutRef),this.timeoutRef=setTimeout(()=>this.interacting.value=!1,2e3)}add(...e){throw new Error("the video component can not have any children")}dispose(){super.dispose(),null!=this.timeoutRef&&clearTimeout(this.timeoutRef)}}class it extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},display:(0,i.EW)(()=>(0,r.GU)(this,nt,2)?.interacting.value?"flex":"none"),zIndex:1,positionType:"absolute",padding:8,positionBottom:0,positionLeft:0,positionRight:0,flexDirection:"column",backgroundColor:(0,r.O1)(p.background,.5),gap:8,...n?.defaultOverrides}});const s=(0,i.EW)(()=>(0,r.GU)(this,nt,2)?.video.element.value),a=(0,i.vP)(!1),o=(0,i.vP)(!1),l=(0,i.vP)(1),c=(0,i.vP)(0);(0,r._k)(()=>{const e=s.value;if(null==e)return;const t=new AbortController,n=()=>a.value=e.paused,i=()=>o.value=e.muted,r=()=>l.value=isNaN(e.duration)?1:e.duration,u=()=>c.value=e.currentTime;return e.addEventListener("pause",n,{signal:t.signal}),e.addEventListener("play",n,{signal:t.signal}),e.addEventListener("volumechange",i,{signal:t.signal}),e.addEventListener("loadedmetadata",r,{signal:t.signal}),e.addEventListener("timeupdate",u,{signal:t.signal}),n(),i(),r(),u(),()=>t.abort()},this.abortSignal);const u=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",alignItems:"center"}}),d=new b(void 0,void 0,{defaultOverrides:{"*":{borderColor:p.border},size:"icon",variant:"ghost",marginRight:8,onClick:()=>{const e=s.peek();e&&(a.value?e.play():e.pause())}}}),h=new L(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},cursor:"pointer",width:16,height:16}}),f=new k(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},cursor:"pointer",width:16,height:16}});(0,r._k)(()=>{d.clear(),a.value?d.add(f):d.add(h)},this.abortSignal);const A=new b(void 0,void 0,{defaultOverrides:{"*":{borderColor:p.border},size:"icon",variant:"ghost",marginRight:8,onClick:()=>{const e=s.peek();e&&(e.muted=!o.peek())}}}),v=new F(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},cursor:"pointer",width:16,height:16}}),E=new V(void 0,void 0,{defaults:y,defaultOverrides:{"*":{borderColor:p.border},cursor:"pointer",width:16,height:16}});(0,r._k)(()=>{A.clear(),o.value?A.add(E):A.add(v)},this.abortSignal);const S=new r.mc(void 0,void 0,{defaults:g,defaultOverrides:{"*":{borderColor:p.border},flexGrow:1}}),x=new r.EY(void 0,void 0,{defaults:m,defaultOverrides:{"*":{borderColor:p.border},marginRight:16,fontSize:12,text:(0,i.EW)(()=>`${rt(c.value)} / ${rt(l.value)}`)}}),w=new Fe(void 0,void 0,{defaultOverrides:{"*":{borderColor:p.border},min:0,margin:16,marginTop:8,width:"initial",max:l,value:c,onValueChange:e=>{const t=s.peek();t&&(t.currentTime=e)}}});u.add(d),u.add(A),u.add(S),u.add(x),super.add(u),super.add(w)}add(...e){throw new Error("the input component can not have any children")}}function rt(e){const t=Math.floor(e/3600),n=Math.floor(e/60%60),i=Math.floor(e%60);return`${t>0?`${t}:`:""}${t>0?n.toString().padStart(2,"0"):n}:${i.toString().padStart(2,"0")}`}class st extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",alignItems:"center",...n?.defaultOverrides}})}}class at extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},hover:{backgroundColor:p.accent},flexDirection:"row",alignItems:"center",cursor:"pointer",borderRadius:c.md,paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12,fontSize:14,lineHeight:"20px",fontWeight:"medium",...n?.defaultOverrides}})}}class ot extends r.mc{constructor(e,t,n){super(e,t,{defaults:g,...n,defaultOverrides:{"*":{borderColor:p.border},flexDirection:"row",height:40,alignItems:"center",gap:4,borderRadius:c.sm,borderWidth:1,backgroundColor:p.background,padding:4,...n?.defaultOverrides}})}}var lt=n(9985);const ct=(0,lt.build)(z,"VanillaDefaultAccordionContent"),ut=(0,lt.build)(x,"VanillaDefaultAccordionItem"),dt=(0,lt.build)(G,"VanillaDefaultAccordionTriggerIcon"),ht=(0,lt.build)(w,"VanillaDefaultAccordionTrigger"),pt=(0,lt.build)(W,"VanillaDefaultAccordion"),ft=(0,lt.build)(ue,"VanillaDefaultAlertDescription"),gt=(0,lt.build)(le,"VanillaDefaultAlertIcon"),At=(0,lt.build)(ce,"VanillaDefaultAlertTitle"),mt=(0,lt.build)(he,"VanillaDefaultAlert"),vt=(0,lt.build)(se,"VanillaDefaultAlertDialogAction"),yt=(0,lt.build)(ae,"VanillaDefaultAlertDialogCancel"),Et=(0,lt.build)(ee,"VanillaDefaultAlertDialogContent"),St=(0,lt.build)(re,"VanillaDefaultAlertDialogDescription"),bt=(0,lt.build)(ne,"VanillaDefaultAlertDialogFooter"),xt=(0,lt.build)(te,"VanillaDefaultAlertDialogHeader"),wt=(0,lt.build)(ie,"VanillaDefaultAlertDialogTitle"),It=(0,lt.build)($,"VanillaDefaultAlertDialogTrigger"),Ct=(0,lt.build)(oe,"VanillaDefaultAlertDialog"),Tt=(0,lt.build)(pe,"VanillaDefaultAvatar"),Mt=(0,lt.build)(ge,"VanillaDefaultBadge"),Bt=(0,lt.build)(b,"VanillaDefaultButton"),Rt=(0,lt.build)(ye,"VanillaDefaultCardContent"),Pt=(0,lt.build)(ve,"VanillaDefaultCardDescription"),_t=(0,lt.build)(Ee,"VanillaDefaultCardFooter"),Dt=(0,lt.build)(Ae,"VanillaDefaultCardHeader"),Nt=(0,lt.build)(me,"VanillaDefaultCardTitle"),Lt=(0,lt.build)(Se,"VanillaDefaultCard"),Ot=(0,lt.build)(be,"VanillaDefaultCheckbox"),kt=(0,lt.build)(j,"VanillaDefaultDialogContent"),Ut=(0,lt.build)(Z,"VanillaDefaultDialogDescription"),Ft=(0,lt.build)(Y,"VanillaDefaultDialogFooter"),Qt=(0,lt.build)(q,"VanillaDefaultDialogHeader"),Vt=(0,lt.build)(J,"VanillaDefaultDialogTitle"),Ht=(0,lt.build)(X,"VanillaDefaultDialogTrigger"),Gt=(0,lt.build)(K,"VanillaDefaultDialog"),zt=(0,lt.build)(xe,"VanillaDefaultInput"),Wt=(0,lt.build)(we,"VanillaDefaultLabel"),Xt=(0,lt.build)(st,"VanillaDefaultMenubarMenu"),jt=(0,lt.build)(at,"VanillaDefaultMenubarTrigger"),qt=(0,lt.build)(ot,"VanillaDefaultMenubar"),Yt=(0,lt.build)(Ie,"VanillaDefaultPaginationContent"),Jt=(0,lt.build)(Pe,"VanillaDefaultPaginationEllipsis"),Zt=(0,lt.build)(Ce,"VanillaDefaultPaginationItem"),Kt=(0,lt.build)(Me,"VanillaDefaultPaginationLink"),$t=(0,lt.build)(Re,"VanillaDefaultPaginationNext"),en=(0,lt.build)(Be,"VanillaDefaultPaginationPrevious"),tn=(0,lt.build)(_e,"VanillaDefaultPagination"),nn=(0,lt.build)(De,"VanillaDefaultProgress"),rn=(0,lt.build)(Ne,"VanillaDefaultRadioGroupItem"),sn=(0,lt.build)(Le,"VanillaDefaultRadioGroup"),an=(0,lt.build)(Oe,"VanillaDefaultSeparator"),on=(0,lt.build)(ke,"VanillaDefaultSkeleton"),ln=(0,lt.build)(Fe,"VanillaDefaultSlider"),cn=(0,lt.build)(Qe,"VanillaDefaultSwitch"),un=(0,lt.build)(Ge,"VanillaDefaultTabsContent"),dn=(0,lt.build)(Ve,"VanillaDefaultTabsList"),hn=(0,lt.build)(He,"VanillaDefaultTabsTrigger"),pn=(0,lt.build)(ze,"VanillaDefaultTabs"),fn=(0,lt.build)(We,"VanillaDefaultTextarea"),gn=(0,lt.build)(qe,"VanillaDefaultToggle"),An=(0,lt.build)(Ze,"VanillaDefaultToggleGroupItem"),mn=(0,lt.build)(Ke,"VanillaDefaultToggleGroup"),vn=(0,lt.build)(et,"VanillaDefaultTooltipContent"),yn=(0,lt.build)($e,"VanillaDefaultTooltipTrigger"),En=(0,lt.build)(tt,"VanillaDefaultTooltip"),Sn=(0,lt.build)(nt,"VanillaDefaultVideo")},9985(e,t,n){"use strict";n.r(t),n.d(t,{Container:()=>P,Content:()=>_,Custom:()=>D,DefaultProperties:()=>w,FontFamilyProvider:()=>I,Fullscreen:()=>F,Icon:()=>C,Image:()=>N,Input:()=>O,Portal:()=>g,Root:()=>x,SuspendingImage:()=>y,SuspendingVideo:()=>S,Svg:()=>k,TTFLoader:()=>r.Mc,Text:()=>Q,Textarea:()=>U,VanillaComponent:()=>r.uA,VanillaContainer:()=>r.mc,VanillaContent:()=>r.UC,VanillaCustom:()=>r.Sv,VanillaFullscreen:()=>r.gl,VanillaImage:()=>r._V,VanillaInput:()=>r.pd,VanillaSvg:()=>r.BS,VanillaText:()=>r.EY,VanillaTextarea:()=>r.TM,VanillaVideo:()=>r.Ce,Video:()=>L,basedOnPreferredColorScheme:()=>r.ok,build:()=>l,canvasInputProps:()=>r.RP,getPreferredColorScheme:()=>r.Oy,isDarkMode:()=>r.ud,privateKeys:()=>f,readReactive:()=>r.w8,setPreferredColorScheme:()=>r.s7,useRenderContext:()=>c,useSetup:()=>u,useTTF:()=>R,withOpacity:()=>r.O1});var i=n(4848),r=n(5015),s=n(6540),a=n(4576),o=n(5214);function l(e,t=e.name){return(0,o.e)({[`Vanilla${t}`]:e}),(0,s.forwardRef)(({children:e,...n},r)=>{const a=(0,s.useRef)(null);(0,s.useImperativeHandle)(r,()=>a.current,[]);const o=c(),l=(0,s.useMemo)(()=>[void 0,void 0,{renderContext:o}],[o]),d=u(a,n,l);return(0,i.jsx)(`vanilla${t}`,{ref:a,children:e,...d})})}function c(){const e=(0,o.C)(e=>e.invalidate);return(0,s.useMemo)(()=>({requestFrame:e}),[e])}function u(e,t,n){(0,o.D)((t,n)=>{e.current?.update(1e3*n)});const i=(0,o.C)(e=>e.gl);(0,s.useEffect)(()=>{i.localClippingEnabled=!0,i.setTransparentSort(r.X2)},[i]),(0,s.useEffect)(()=>{e.current?.resetProperties(t)}),(0,s.useEffect)(()=>{const n=t.classList,i=e.current;Array.isArray(n)&&null!=i?i.classList.set(...n):i?.classList.set()},[JSON.stringify(t.classList)]);const l=(0,s.useRef)({args:n});return(0,s.useEffect)(()=>{const t=e.current;if(null==t)return;const i=(0,a.QZ)(()=>{const{value:e}=t.handlers,i=Object.keys(e).length;l.current=0===i?{args:n}:{args:n,...e},null!=t.__r3f&&(t.__r3f.props=l.current,(0,o.s)(t,l.current))});return()=>{i(),l.current={args:n},null!=t.__r3f&&(t.__r3f.props=l.current),(0,o.s)(t,l.current)}},[n]),l.current}var d=n(4922),h=n(1323),p=n(2412);const f=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],g=(0,s.forwardRef)(({children:e,dpr:t,frames:n=1/0,renderPriority:r=0,eventPriority:l=0,...c},u)=>{const g=(0,s.useMemo)(()=>new a.HN(void 0),[]),v=(0,s.useRef)(null),y=(0,o.A)();t??=y.getState().viewport.dpr,(0,s.useImperativeHandle)(u,()=>v.current,[]);const E=(0,s.useMemo)(()=>(0,a.EW)(()=>g.value?.texture),[g]),S=(0,s.useMemo)(()=>{let e=y.getState();const t=new d.ubm(50,1,.1,1e3);t.position.set(0,0,5);const n=new d.I9Y;let i={events:{compute:A.bind(null,v),priority:l},size:{width:1,height:1,left:0,top:0},camera:t,scene:new d.Z58,raycaster:new d.tBo,pointer:n,mouse:n,previousRoot:y};const r=(0,h.v)((n,r)=>{const s=()=>{const n={};for(const t in e)f.includes(t)||(n[t]=e[t]);return Object.assign(n,i,{events:{...e.events,...i.events},viewport:Object.assign({},e.viewport,e.viewport.getCurrentViewport(t,new d.Pq0,i.size))})},a=()=>n(s());return{...e,set(e){"function"==typeof e&&(e=e(r())),Object.assign(i,e),a()},setPreviousState(t){e=t,a()},get:r,setEvents(e){Object.assign(i.events,e),a()},...s()}});return Object.assign(r,{setState(e){r.getState().set(e)}})},[l,y]);(0,s.useEffect)(()=>y.subscribe(S.getState().setPreviousState),[y,S]);const b=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{if(null==v.current)return;const{destroy:e,update:t}=(0,p.GS)(v.current,()=>S.getState().camera,S.getInitialState().scene);return b.current=t,()=>{b.current=void 0,e()}},[v,S]),(0,o.D)(()=>b.current?.()),(0,s.useEffect)(()=>{if(null==v.current)return;const e=g.value=new d.nWS(1,1,{minFilter:d.k6q,magFilter:d.k6q,type:d.ix0}),{size:n}=v.current,i=(0,a.QZ)(()=>{if(null==n.value)return;const[i,r]=n.value;e.setSize(i*t,r*t),S.setState({size:{width:i,height:r,top:0,left:0},viewport:{...y.getState().viewport,width:i,height:r,aspect:i/r}}),S.getState().invalidate()});return()=>{i(),e.dispose()}},[g,y,S,t]),(0,i.jsxs)(i.Fragment,{children:[o.r.createPortal((0,i.jsx)(o.q.Provider,{value:S,children:(0,i.jsxs)(m,{renderPriority:r,frames:n,fbo:g,imageRef:v,children:[e,(0,i.jsx)("group",{onPointerOver:()=>null})]})}),S,null),(0,i.jsx)(N,{src:E,objectFit:"fill",keepAspectRatio:!1,...c,ref:v})]})});function A({current:e},t,n,i){if(null==e||null==i)return!1;i.raycaster.camera||i.events.compute?.(t,i,i.previousRoot?.getState());const[r]=i.raycaster.intersectObject(e);if(!r)return!1;const s=r.uv;if(!s)return!1;n.raycaster.setFromCamera(n.pointer.set(2*s.x-1,2*s.y-1),n.camera)}function m({frames:e,renderPriority:t,children:n,fbo:r,imageRef:a}){const l=(0,o.A)();(0,s.useEffect)(()=>l.subscribe((e,t)=>{const{size:n,camera:i}=e;var r;n&&((r=i)&&r.isOrthographicCamera?(i.left=n.width/-2,i.right=n.width/2,i.top=n.height/2,i.bottom=n.height/-2):i.aspect=n.width/n.height,n===t.size&&i===t.camera||(i.updateProjectionMatrix(),i.updateMatrixWorld()))}),[l]);let c,u,d,h,p=0;return(0,o.D)(t=>{const n=r.peek();null!=n&&1==a.current?.isVisible?.peek()&&(n.width<=0||n.height<=0||(e===1/0||p<e)&&(c=t.gl.autoClear,u=t.gl.xr.enabled,d=t.gl.xr.isPresenting,h=t.gl.getRenderTarget(),t.gl.autoClear=!0,t.gl.xr.enabled=!1,t.gl.xr.isPresenting=!1,t.gl.setRenderTarget(n),t.gl.render(t.scene,t.camera),t.gl.setRenderTarget(h),t.gl.autoClear=c,t.gl.xr.enabled=u,t.gl.xr.isPresenting=d,p++))},t),(0,i.jsx)(i.Fragment,{children:n})}var v=n(6749);const y=(0,s.forwardRef)(({src:e,...t},n)=>{const r=(0,o.G)(d.Tap,e);return r.colorSpace=d.er$,r.matrixAutoUpdate=!1,(0,i.jsx)(N,{ref:n,src:r,...t})}),E=Symbol("load-video-element"),S=(0,s.forwardRef)((e,t)=>{const n=(0,v.DY)(b,[E]);return(0,r.jT)(n,e.src),(0,s.useEffect)(()=>(document.body.appendChild(n),()=>n.remove()),[n]),(0,i.jsx)(L,{ref:t,...e,src:n})});function b(){const e=document.createElement("video");return e.style.position="absolute",e.style.width="1px",e.style.zIndex="-1000",e.style.top="0px",e.style.left="0px",new Promise(t=>{const n=()=>{e.removeEventListener("loadeddata",n),t(e)};e.readyState>=2?t(e):e.addEventListener("loadeddata",n)})}const x=(0,s.forwardRef)((e,t)=>(0,i.jsx)(P,{ref:t,...e}));function w({children:e,...t}){return(0,i.jsx)(P,{display:"contents","*":t,children:e})}function I({children:e,fontFamilies:t}){return(0,i.jsx)(P,{display:"contents",fontFamilies:t,children:e})}const C=(0,s.forwardRef)(({text:e,...t},n)=>(0,i.jsx)(k,{ref:n,...t,content:e})),T=Symbol("ttf-loader");function M(e){return[T,e]}function B(e){return()=>(new r.Mc).loadAsync(e)}function R(e){return(0,v.DY)(B(e),M(e))}R.preload=e=>{(0,v.uv)(B(e),M(e))},R.clear=e=>{(0,v.IU)(M(e))};const P=l(r.mc),_=l(r.UC),D=l(r.Sv),N=l(r._V),L=l(r.Ce),O=l(r.pd),k=l(r.BS),U=l(r.TM);(0,o.e)({VanillaFullscreen:r.gl});const F=(0,s.forwardRef)(({children:e,attachCamera:t,...n},r)=>{const a=(0,s.useRef)(!1);(0,o.D)(({camera:e,scene:n})=>{null==e.parent&&(t??1)&&(n.add(e),a.current=!0)});const l=(0,o.A)();(0,s.useEffect)(()=>()=>{if(!a.current)return;a.current=!1;const{camera:e,scene:t}=l.getState();e.parent==t&&t.remove(e)},[l]);const h=(0,o.C)(e=>e.camera),p=(0,s.useMemo)(()=>new d.B69,[]);p.parent?.remove(p),h.add(p);const f=(0,o.C)(e=>e.gl),g=(0,s.useRef)(null);(0,s.useImperativeHandle)(r,()=>g.current,[]);const A=c(),m=(0,s.useMemo)(()=>[f,void 0,void 0,{renderContext:A}],[f,A]),v=u(g,n,m);return(0,o.o)((0,i.jsx)("vanillaFullscreen",{...v,ref:g,children:e}),p)});(0,o.e)({VanillaText:r.EY});const Q=(0,s.forwardRef)(({children:e,...t},n)=>{const r=(0,s.useRef)(null);(0,s.useImperativeHandle)(n,()=>r.current,[]);const a=c(),o=(0,s.useMemo)(()=>[void 0,void 0,{renderContext:a}],[a]),l=u(r,{...t,text:e},o);return(0,i.jsx)("vanillaText",{...l,ref:r})})},8276(e,t,n){"use strict";n.r(t),n.d(t,{ARButton:()=>Rr,CombinedPointer:()=>Dn,DefaultXRController:()=>Jn,DefaultXRControllerGrabPointer:()=>jn,DefaultXRGaze:()=>$n,DefaultXRHand:()=>Zn,DefaultXRHandGrabPointer:()=>Xn,DefaultXRHandTouchPointer:()=>Yn,DefaultXRInputSourceRayPointer:()=>qn,DefaultXRInputSourceTeleportPointer:()=>ti,DefaultXRScreenInput:()=>ei,DefaultXRTransientPointer:()=>Kn,FallbackXRLayerImplementation:()=>yr,IfFacingCamera:()=>Gi,IfInSessionMode:()=>Xi,IfSessionModeSupported:()=>qi,IfSessionVisible:()=>Ji,Interactive:()=>Vr,NotInXR:()=>bi,PointerCursorModel:()=>Qn,PointerEvents:()=>Tr,PointerRayModel:()=>Fn,RayGrab:()=>Hr,RootCombinedPointer:()=>xi,ShowIfFacingCamera:()=>Hi,ShowIfInSessionMode:()=>Wi,ShowIfSessionModeSupported:()=>ji,ShowIfSessionVisible:()=>Yi,TeleportPointerRayModel:()=>zn,TeleportTarget:()=>Gn,UNSAFE_useXRStore:()=>Ii,VRButton:()=>Pr,XR:()=>Si,XRButton:()=>Br,XRControllerComponent:()=>wn,XRControllerModel:()=>Tn,XRDomOverlay:()=>Ar,XRHandJoint:()=>_n,XRHandModel:()=>Pn,XRHitTest:()=>nr,XRLayer:()=>mr,XRLayerImplementation:()=>vr,XRMeshModel:()=>Li,XROrigin:()=>Zi,XRPlaneModel:()=>Ui,XRSpace:()=>Pi,createXRHitTestSource:()=>Dt,createXRStore:()=>Ei,defaultGrabPointerOpacity:()=>me,defaultRayPointerOpacity:()=>ve,defaultTouchPointerOpacity:()=>ye,isAppleVisionPro:()=>Be,isXRInputSourceState:()=>oe,noEvents:()=>Mr,privateKeys:()=>Er,requestXRAnchor:()=>zt,requestXRHitTest:()=>Nt,useApplyXRSpaceMatrix:()=>Ni,useGetXRSpaceMatrix:()=>Di,useGrabPointer:()=>Ln,useHover:()=>ii,useInitRoomCapture:()=>si,useInteraction:()=>Dr,useLayerStore:()=>Sr,useLinesPointer:()=>kn,useLoadXRControllerLayout:()=>Bn,useLoadXRControllerModel:()=>Rn,usePointerXRInputSourceEvents:()=>Vn,useRayPointer:()=>On,useRequestXRAnchor:()=>ir,useSessionFeatureEnabled:()=>ci,useSessionModeSupported:()=>oi,useTouchPointer:()=>Un,useXR:()=>Ci,useXRAnchor:()=>rr,useXRControllerButtonEvent:()=>In,useXRControllerLocomotion:()=>Cr,useXRControllerState:()=>Fr,useXREvent:()=>Nr,useXRGazeState:()=>Or,useXRHandState:()=>Ur,useXRHitTest:()=>$i,useXRHitTestSource:()=>Ki,useXRInputSourceEvent:()=>Ri,useXRInputSourceState:()=>Mi,useXRInputSourceStateContext:()=>Bi,useXRInputSourceStates:()=>Ti,useXRMeshGeometry:()=>ki,useXRMeshes:()=>Oi,useXRPlaneGeometry:()=>Qi,useXRPlanes:()=>Fi,useXRReferenceSpace:()=>Qr,useXRRequestHitTest:()=>tr,useXRScreenInputState:()=>kr,useXRSessionFeatureEnabled:()=>li,useXRSessionModeSupported:()=>ai,useXRSessionVisibilityState:()=>ri,useXRSpace:()=>_i,useXRStore:()=>wi,useXRTransientPointerState:()=>Lr});var i=n(4848),r=n(4922);function s(e,t){if(t===r.RJ4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===r.rYR||t===r.O49){let n=e.getIndex();if(null===n){const t=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<i.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const i=n.count-2,s=[];if(t===r.rYR)for(let e=1;e<=i;e++)s.push(n.getX(0)),s.push(n.getX(e)),s.push(n.getX(e+1));else for(let e=0;e<i;e++)e%2==0?(s.push(n.getX(e)),s.push(n.getX(e+1)),s.push(n.getX(e+2))):(s.push(n.getX(e+2)),s.push(n.getX(e+1)),s.push(n.getX(e)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(s),a.clearGroups(),a}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}class a extends r.aHM{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new h(e)}),this.register(function(e){return new p(e)}),this.register(function(e){return new b(e)}),this.register(function(e){return new x(e)}),this.register(function(e){return new w(e)}),this.register(function(e){return new g(e)}),this.register(function(e){return new A(e)}),this.register(function(e){return new m(e)}),this.register(function(e){return new v(e)}),this.register(function(e){return new d(e)}),this.register(function(e){return new y(e)}),this.register(function(e){return new f(e)}),this.register(function(e){return new S(e)}),this.register(function(e){return new E(e)}),this.register(function(e){return new c(e)}),this.register(function(e){return new I(e)}),this.register(function(e){return new C(e)})}load(e,t,n,i){const s=this;let a;if(""!==this.resourcePath)a=this.resourcePath;else if(""!==this.path){const t=r.r6x.extractUrlBase(e);a=r.r6x.resolveURL(t,this.path)}else a=r.r6x.extractUrlBase(e);this.manager.itemStart(e);const o=function(t){i?i(t):console.error(t),s.manager.itemError(e),s.manager.itemEnd(e)},l=new r.Y9S(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(n){try{s.parse(n,a,function(n){t(n),s.manager.itemEnd(e)},o)}catch(e){o(e)}},n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let r;const s={},a={},o=new TextDecoder;if("string"==typeof e)r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(o.decode(new Uint8Array(e,0,4))===T){try{s[l.KHR_BINARY_GLTF]=new M(e)}catch(e){return void(i&&i(e))}r=JSON.parse(s[l.KHR_BINARY_GLTF].content)}else r=JSON.parse(o.decode(e));else r=e;if(void 0===r.asset||r.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new Z(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](c);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[t.name]=t,s[t.name]=!0}if(r.extensionsUsed)for(let e=0;e<r.extensionsUsed.length;++e){const t=r.extensionsUsed[e],n=r.extensionsRequired||[];switch(t){case l.KHR_MATERIALS_UNLIT:s[t]=new u;break;case l.KHR_DRACO_MESH_COMPRESSION:s[t]=new B(r,this.dracoLoader);break;case l.KHR_TEXTURE_TRANSFORM:s[t]=new R;break;case l.KHR_MESH_QUANTIZATION:s[t]=new P;break;default:n.indexOf(t)>=0&&void 0===a[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(s),c.setPlugins(a),c.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,r){n.parse(e,t,i,r)})}}function o(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const l={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class c{constructor(e){this.parser=e,this.name=l.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const s=t.json,a=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let o;const l=new r.Q1f(16777215);void 0!==a.color&&l.setRGB(a.color[0],a.color[1],a.color[2],r.Zr2);const c=void 0!==a.range?a.range:0;switch(a.type){case"directional":o=new r.ZyN(l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new r.HiM(l),o.distance=c;break;case"spot":o=new r.nCl(l),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return o.position.set(0,0,0),o.decay=2,W(o,a),void 0!==a.intensity&&(o.intensity=a.intensity),o.name=t.createUniqueName(a.name||"light_"+e),i=Promise.resolve(o),t.cache.add(n,i),i}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,i=n.json.nodes[e],r=(i.extensions&&i.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then(function(e){return n._getNodeRef(t.cache,r,e)})}}class u{constructor(){this.name=l.KHR_MATERIALS_UNLIT}getMaterialType(){return r.V9B}extendParams(e,t,n){const i=[];e.color=new r.Q1f(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const t=s.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],r.Zr2),e.opacity=t[3]}void 0!==s.baseColorTexture&&i.push(n.assignTexture(e,"map",s.baseColorTexture,r.er$))}return Promise.all(i)}}class d{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name].emissiveStrength;return void 0!==i&&(t.emissiveIntensity=i),Promise.resolve()}}class h{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&s.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(s.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r.I9Y(e,e)}return Promise.all(s)}}class p{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.dispersion=void 0!==i.dispersion?i.dispersion:0,Promise.resolve()}}class f{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&r.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&r.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(r)}}class g{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new r.Q1f(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];if(void 0!==a.sheenColorFactor){const e=a.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],r.Zr2)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&s.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,r.er$)),void 0!==a.sheenRoughnessTexture&&s.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class A{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&r.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(r)}}class m{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&s.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return t.attenuationColor=(new r.Q1f).setRGB(o[0],o[1],o[2],r.Zr2),Promise.all(s)}}class v{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const i=n.extensions[this.name];return t.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}class y{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&s.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return t.specularColor=(new r.Q1f).setRGB(o[0],o[1],o[2],r.Zr2),void 0!==a.specularColorTexture&&s.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,r.er$)),Promise.all(s)}}class E{constructor(e){this.parser=e,this.name=l.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return t.bumpScale=void 0!==s.bumpFactor?s.bumpFactor:1,void 0!==s.bumpTexture&&r.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(r)}}class S{constructor(e){this.parser=e,this.name=l.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.uSd:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const r=[],s=i.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&r.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(r)}}class b{constructor(e){this.parser=e,this.name=l.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const r=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,s)}}class x{constructor(e){this.parser=e,this.name=l.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const s=r.extensions[t],a=i.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(e,s.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class w{constructor(e){this.parser=e,this.name=l.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[t])return null;const s=r.extensions[t],a=i.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(r){if(r)return n.loadTextureImage(e,s.source,o);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class I{constructor(e){this.name=l.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],i=this.parser.getDependency("buffer",e.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(t){const n=e.byteOffset||0,i=e.byteLength||0,s=e.count,a=e.byteStride,o=new Uint8Array(t,n,i);return r.decodeGltfBufferAsync?r.decodeGltfBufferAsync(s,a,o,e.mode,e.filter).then(function(e){return e.buffer}):r.ready.then(function(){const t=new ArrayBuffer(s*a);return r.decodeGltfBuffer(new Uint8Array(t),s,a,o,e.mode,e.filter),t})})}return null}}class C{constructor(e){this.name=l.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const i=t.meshes[n.mesh];for(const e of i.primitives)if(e.mode!==L.TRIANGLES&&e.mode!==L.TRIANGLE_STRIP&&e.mode!==L.TRIANGLE_FAN&&void 0!==e.mode)return null;const s=n.extensions[this.name].attributes,a=[],o={};for(const e in s)a.push(this.parser.getDependency("accessor",s[e]).then(t=>(o[e]=t,o[e])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(e=>{const t=e.pop(),n=t.isGroup?t.children:[t],i=e[0].count,s=[];for(const e of n){const t=new r.kn4,n=new r.Pq0,a=new r.PTz,l=new r.Pq0(1,1,1),c=new r.ZLX(e.geometry,e.material,i);for(let e=0;e<i;e++)o.TRANSLATION&&n.fromBufferAttribute(o.TRANSLATION,e),o.ROTATION&&a.fromBufferAttribute(o.ROTATION,e),o.SCALE&&l.fromBufferAttribute(o.SCALE,e),c.setMatrixAt(e,t.compose(n,a,l));for(const t in o)if("_COLOR_0"===t){const e=o[t];c.instanceColor=new r.uWO(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,o[t]);r.B69.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),s.push(c)}return t.isGroup?(t.clear(),t.add(...s),t):s[0]}))}}const T="glTF";class M{constructor(e){this.name=l.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==T)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,r=new DataView(e,12);let s=0;for(;s<i;){const t=r.getUint32(s,!0);s+=4;const i=r.getUint32(s,!0);if(s+=4,1313821514===i){const i=new Uint8Array(e,12+s,t);this.content=n.decode(i)}else if(5130562===i){const n=12+s;this.body=e.slice(n,n+t)}s+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class B{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=l.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const e in a){const t=Q[e]||e.toLowerCase();o[t]=a[e]}for(const t in e.attributes){const i=Q[t]||t.toLowerCase();if(void 0!==a[t]){const r=n.accessors[e.attributes[t]],s=O[r.componentType];c[i]=s.name,l[i]=!0===r.normalized}}return t.getDependency("bufferView",s).then(function(e){return new Promise(function(t,n){i.decodeDracoFile(e,function(e){for(const t in e.attributes){const n=e.attributes[t],i=l[t];void 0!==i&&(n.normalized=i)}t(e)},o,c,r.Zr2,n)})})}}class R{constructor(){this.name=l.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class P{constructor(){this.name=l.KHR_MESH_QUANTIZATION}}class _ extends r.lGw{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i;for(let e=0;e!==i;e++)t[e]=n[r+e];return t}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,c=i-t,u=(n-t)/c,d=u*u,h=d*u,p=e*l,f=p-l,g=-2*h+3*d,A=h-d,m=1-g,v=A-d+u;for(let e=0;e!==a;e++){const t=s[f+e+a],n=s[f+e+o]*c,i=s[p+e+a],l=s[p+e]*c;r[e]=m*t+v*n+g*i+A*l}return r}}const D=new r.PTz;class N extends _{interpolate_(e,t,n,i){const r=super.interpolate_(e,t,n,i);return D.fromArray(r).normalize().toArray(r),r}}const L={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},O={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:r.hxR,9729:r.k6q,9984:r.pHI,9985:r.kRr,9986:r.Cfg,9987:r.$_I},U={33071:r.ghU,33648:r.kTW,10497:r.GJx},F={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Q={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},V={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},H={CUBICSPLINE:void 0,LINEAR:r.PJ3,STEP:r.ljd};function G(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new r._4j({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.hB5})),e.DefaultMaterial}function z(e,t,n){for(const i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function W(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function X(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,i=t.weights.length;n<i;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,i=n.length;t<i;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function j(e){let t;const n=e.extensions&&e.extensions[l.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+q(n.attributes):e.indices+":"+q(e.attributes)+":"+e.mode,void 0!==e.targets)for(let n=0,i=e.targets.length;n<i;n++)t+=":"+q(e.targets[n]);return t}function q(e){let t="";const n=Object.keys(e).sort();for(let i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function Y(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const J=new r.kn4;class Z{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new o,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=-1,s=!1,a=-1;if("undefined"!=typeof navigator){const e=navigator.userAgent;n=!0===/^((?!chrome|android).)*safari/i.test(e);const t=e.match(/Version\/(\d+)/);i=n&&t?parseInt(t[1],10):-1,s=e.indexOf("Firefox")>-1,a=s?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||n&&i<17||s&&a<98?this.textureLoader=new r.Tap(this.options.manager):this.textureLoader=new r.Kzg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new r.Y9S(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(t){const s={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};return z(r,s,i),W(s,i),Promise.all(n._invokeAll(function(e){return e.afterRoot&&e.afterRoot(s)})).then(function(){for(const e of s.scenes)e.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,i=t.length;n<i;n++){const i=t[n].joints;for(let t=0,n=i.length;t<n;t++)e[i[t]].isBone=!0}for(let t=0,i=e.length;t<i;t++){const i=e[t];void 0!==i.mesh&&(this._addNodeRef(this.meshCache,i.mesh),void 0!==i.skin&&(n[i.mesh].isSkinnedMesh=!0)),void 0!==i.camera&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),r=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[n,i]of e.children.entries())r(i,t.children[n])};return r(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const r=e(t[i]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":i=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(i.map(function(t,i){return n.getDependency(e,i)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[l.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(e,s){n.load(r.r6x.resolveURL(t.uri,i.path),e,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){const n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){const e=F[i.type],t=O[i.componentType],n=!0===i.normalized,s=new t(i.count*e);return Promise.resolve(new r.THS(s,e,n))}const s=[];return void 0!==i.bufferView?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),void 0!==i.sparse&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(e){const s=e[0],a=F[i.type],o=O[i.componentType],l=o.BYTES_PER_ELEMENT,c=l*a,u=i.byteOffset||0,d=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,h=!0===i.normalized;let p,f;if(d&&d!==c){const e=Math.floor(u/d),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count;let c=t.cache.get(n);c||(p=new o(s,e*d,i.count*d/l),c=new r.eB$(p,d/l),t.cache.add(n,c)),f=new r.eHs(c,a,u%d/l,h)}else p=null===s?new o(i.count*a):new o(s,u,i.count*a),f=new r.THS(p,a,h);if(void 0!==i.sparse){const t=F.SCALAR,n=O[i.sparse.indices.componentType],l=i.sparse.indices.byteOffset||0,c=i.sparse.values.byteOffset||0,u=new n(e[1],l,i.sparse.count*t),d=new o(e[2],c,i.sparse.count*a);null!==s&&(f=new r.THS(f.array.slice(),f.itemSize,f.normalized)),f.normalized=!1;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(f.setX(t,d[e*a]),a>=2&&f.setY(t,d[e*a+1]),a>=3&&f.setZ(t,d[e*a+2]),a>=4&&f.setW(t,d[e*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}f.normalized=h}return f})}loadTexture(e){const t=this.json,n=this.options,i=t.textures[e].source,r=t.images[i];let s=this.textureLoader;if(r.uri){const e=n.manager.getHandler(r.uri);null!==e&&(s=e)}return this.loadTextureImage(e,i,s)}loadTextureImage(e,t,n){const i=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);const n=(s.samplers||{})[a.sampler]||{};return t.magFilter=k[n.magFilter]||r.k6q,t.minFilter=k[n.minFilter]||r.$_I,t.wrapS=U[n.wrapS]||r.GJx,t.wrapT=U[n.wrapT]||r.GJx,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==r.hxR&&t.minFilter!==r.k6q,i.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());const s=n.images[e],a=self.URL||self.webkitURL;let o=s.uri||"",l=!1;if(void 0!==s.bufferView)o=this.getDependency("bufferView",s.bufferView).then(function(e){l=!0;const t=new Blob([e],{type:s.mimeType});return o=a.createObjectURL(t),o});else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(o).then(function(e){return new Promise(function(n,s){let a=n;!0===t.isImageBitmapLoader&&(a=function(e){const t=new r.gPd(e);t.needsUpdate=!0,n(t)}),t.load(r.r6x.resolveURL(e,i.path),a,void 0,s)})}).then(function(e){var t;return!0===l&&a.revokeObjectURL(o),W(e,s),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e});return this.sourceCache[e]=c,c}assignTexture(e,t,n,i){const r=this;return this.getDependency("texture",n.index).then(function(s){if(!s)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((s=s.clone()).channel=n.texCoord),r.extensions[l.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[l.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=r.associations.get(s);s=r.extensions[l.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),r.associations.set(s,t)}}return void 0!==i&&(s.colorSpace=i),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r.BH$,r.imn.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r.mrM,r.imn.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(i||s||a){let e="ClonedMaterial:"+n.uuid+":";i&&(e+="derivative-tangents:"),s&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),s&&(t.vertexColors=!0),a&&(t.flatShading=!0),i&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return r._4j}loadMaterial(e){const t=this,n=this.json,i=this.extensions,s=n.materials[e];let a;const o={},c=[];if((s.extensions||{})[l.KHR_MATERIALS_UNLIT]){const e=i[l.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),c.push(e.extendParams(o,s,t))}else{const n=s.pbrMetallicRoughness||{};if(o.color=new r.Q1f(1,1,1),o.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;o.color.setRGB(e[0],e[1],e[2],r.Zr2),o.opacity=e[3]}void 0!==n.baseColorTexture&&c.push(t.assignTexture(o,"map",n.baseColorTexture,r.er$)),o.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,o.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(c.push(t.assignTexture(o,"metalnessMap",n.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",n.metallicRoughnessTexture))),a=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)})))}!0===s.doubleSided&&(o.side=r.$EB);const u=s.alphaMode||"OPAQUE";if("BLEND"===u?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===u&&(o.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&a!==r.V9B&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new r.I9Y(1,1),void 0!==s.normalTexture.scale)){const e=s.normalTexture.scale;o.normalScale.set(e,e)}if(void 0!==s.occlusionTexture&&a!==r.V9B&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(o.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&a!==r.V9B){const e=s.emissiveFactor;o.emissive=(new r.Q1f).setRGB(e[0],e[1],e[2],r.Zr2)}return void 0!==s.emissiveTexture&&a!==r.V9B&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,r.er$)),Promise.all(c).then(function(){const n=new a(o);return s.name&&(n.name=s.name),W(n,s),t.associations.set(n,{materials:e}),s.extensions&&z(i,n,s),n})}createUniqueName(e){const t=r.Nwf.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function s(e){return n[l.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(n){return K(n,e,t)})}const a=[];for(let n=0,o=e.length;n<o;n++){const o=e[n],c=j(o),u=i[c];if(u)a.push(u.promise);else{let e;e=o.extensions&&o.extensions[l.KHR_DRACO_MESH_COMPRESSION]?s(o):K(new r.LoY,o,t),i[c]={primitive:o,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,i=this.extensions,a=n.meshes[e],o=a.primitives,l=[];for(let e=0,t=o.length;e<t;e++){const t=void 0===o[e].material?G(this.cache):this.getDependency("material",o[e].material);l.push(t)}return l.push(t.loadGeometries(o)),Promise.all(l).then(function(n){const l=n.slice(0,n.length-1),c=n[n.length-1],u=[];for(let n=0,d=c.length;n<d;n++){const d=c[n],h=o[n];let p;const f=l[n];if(h.mode===L.TRIANGLES||h.mode===L.TRIANGLE_STRIP||h.mode===L.TRIANGLE_FAN||void 0===h.mode)p=!0===a.isSkinnedMesh?new r.I46(d,f):new r.eaF(d,f),!0===p.isSkinnedMesh&&p.normalizeSkinWeights(),h.mode===L.TRIANGLE_STRIP?p.geometry=s(p.geometry,r.O49):h.mode===L.TRIANGLE_FAN&&(p.geometry=s(p.geometry,r.rYR));else if(h.mode===L.LINES)p=new r.DXC(d,f);else if(h.mode===L.LINE_STRIP)p=new r.N1A(d,f);else if(h.mode===L.LINE_LOOP)p=new r.FCc(d,f);else{if(h.mode!==L.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new r.ONl(d,f)}Object.keys(p.geometry.morphAttributes).length>0&&X(p,a),p.name=t.createUniqueName(a.name||"mesh_"+e),W(p,a),h.extensions&&z(i,p,h),t.assignFinalMaterial(p),u.push(p)}for(let n=0,i=u.length;n<i;n++)t.associations.set(u[n],{meshes:e,primitives:n});if(1===u.length)return a.extensions&&z(i,u[0],a),u[0];const d=new r.YJl;a.extensions&&z(i,d,a),t.associations.set(d,{meshes:e});for(let e=0,t=u.length;e<t;e++)d.add(u[e]);return d})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new r.ubm(r.cj9.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new r.qUd(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),W(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let e=0,i=t.joints.length;e<i;e++)n.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(e){const n=e.pop(),i=e,s=[],a=[];for(let e=0,o=i.length;e<o;e++){const o=i[e];if(o){s.push(o);const t=new r.kn4;null!==n&&t.fromArray(n.array,16*e),a.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new r.EAD(s,a)})}loadAnimation(e){const t=this.json,n=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,a=[],o=[],l=[],c=[],u=[];for(let e=0,t=i.channels.length;e<t;e++){const t=i.channels[e],n=i.samplers[t.sampler],r=t.target,s=r.node,d=void 0!==i.parameters?i.parameters[n.input]:n.input,h=void 0!==i.parameters?i.parameters[n.output]:n.output;void 0!==r.node&&(a.push(this.getDependency("node",s)),o.push(this.getDependency("accessor",d)),l.push(this.getDependency("accessor",h)),c.push(n),u.push(r))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(e){const t=e[0],i=e[1],a=e[2],o=e[3],l=e[4],c=[];for(let e=0,r=t.length;e<r;e++){const r=t[e],s=i[e],u=a[e],d=o[e],h=l[e];if(void 0===r)continue;r.updateMatrix&&r.updateMatrix();const p=n._createAnimationTracks(r,s,u,d,h);if(p)for(let e=0;e<p.length;e++)c.push(p[e])}return new r.tz3(s,void 0,c)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then(function(e){const t=n._getNodeRef(n.meshCache,i.mesh,e);return void 0!==i.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]}),t})}loadNode(e){const t=this,n=this.json.nodes[e],i=t._loadNodeShallow(e),r=[],s=n.children||[];for(let e=0,n=s.length;e<n;e++)r.push(t.getDependency("node",s[e]));const a=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([i,Promise.all(r),a]).then(function(e){const t=e[0],n=e[1],i=e[2];null!==i&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(i,J)});for(let e=0,i=n.length;e<i;e++)t.add(n[e]);return t})}_loadNodeShallow(e){const t=this.json,n=this.extensions,i=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const s=t.nodes[e],a=s.name?i.createUniqueName(s.name):"",o=[],l=i._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return l&&o.push(l),void 0!==s.camera&&o.push(i.getDependency("camera",s.camera).then(function(e){return i._getNodeRef(i.cameraCache,s.camera,e)})),i._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){o.push(e)}),this.nodeCache[e]=Promise.all(o).then(function(t){let o;if(o=!0===s.isBone?new r.$Kf:t.length>1?new r.YJl:1===t.length?t[0]:new r.B69,o!==t[0])for(let e=0,n=t.length;e<n;e++)o.add(t[e]);if(s.name&&(o.userData.name=s.name,o.name=a),W(o,s),s.extensions&&z(n,o,s),void 0!==s.matrix){const e=new r.kn4;e.fromArray(s.matrix),o.applyMatrix4(e)}else void 0!==s.translation&&o.position.fromArray(s.translation),void 0!==s.rotation&&o.quaternion.fromArray(s.rotation),void 0!==s.scale&&o.scale.fromArray(s.scale);return i.associations.has(o)||i.associations.set(o,{}),i.associations.get(o).nodes=e,o}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,s=new r.YJl;n.name&&(s.name=i.createUniqueName(n.name)),W(s,n),n.extensions&&z(t,s,n);const a=n.nodes||[],o=[];for(let e=0,t=a.length;e<t;e++)o.push(i.getDependency("node",a[e]));return Promise.all(o).then(function(e){for(let t=0,n=e.length;t<n;t++)s.add(e[t]);return i.associations=(e=>{const t=new Map;for(const[e,n]of i.associations)(e instanceof r.imn||e instanceof r.gPd)&&t.set(e,n);return e.traverse(e=>{const n=i.associations.get(e);null!=n&&t.set(e,n)}),t})(s),s})}_createAnimationTracks(e,t,n,i,s){const a=[],o=e.name?e.name:e.uuid,l=[];let c;switch(V[s.path]===V.weights?e.traverse(function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)}):l.push(o),V[s.path]){case V.weights:c=r.Hit;break;case V.rotation:c=r.MBL;break;case V.position:case V.scale:c=r.RiT;break;default:c=1===n.itemSize?r.Hit:r.RiT}const u=void 0!==i.interpolation?H[i.interpolation]:r.PJ3,d=this._getArrayFromAccessor(n);for(let e=0,n=l.length;e<n;e++){const n=new c(l[e]+"."+V[s.path],t.array,d,u);"CUBICSPLINE"===i.interpolation&&this._createCubicSplineTrackInterpolant(n),a.push(n)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=Y(t.constructor),n=new Float32Array(t.length);for(let i=0,r=t.length;i<r;i++)n[i]=t[i]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof r.MBL?N:_)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function K(e,t,n){const i=t.attributes,s=[];function a(t,i){return n.getDependency("accessor",t).then(function(t){e.setAttribute(i,t)})}for(const t in i){const n=Q[t]||t.toLowerCase();n in e.attributes||s.push(a(i[t],n))}if(void 0!==t.indices&&!e.index){const i=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});s.push(i)}return r.ppV.workingColorSpace!==r.Zr2&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${r.ppV.workingColorSpace}" not supported.`),W(e,t),function(e,t,n){const i=t.attributes,s=new r.NRn;if(void 0===i.POSITION)return;{const e=n.json.accessors[i.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(s.set(new r.Pq0(t[0],t[1],t[2]),new r.Pq0(a[0],a[1],a[2])),e.normalized){const t=Y(O[e.componentType]);s.min.multiplyScalar(t),s.max.multiplyScalar(t)}}const a=t.targets;if(void 0!==a){const e=new r.Pq0,t=new r.Pq0;for(let i=0,r=a.length;i<r;i++){const r=a[i];if(void 0!==r.POSITION){const i=n.json.accessors[r.POSITION],s=i.min,a=i.max;if(void 0!==s&&void 0!==a){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),i.normalized){const e=Y(O[i.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(e)}e.boundingBox=s;const o=new r.iyt;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=o}(e,t,n),Promise.all(s).then(function(){return void 0!==t.targets?function(e,t,n){let i=!1,r=!1,s=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(void 0!==n.POSITION&&(i=!0),void 0!==n.NORMAL&&(r=!0),void 0!==n.COLOR_0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(e);const a=[],o=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(i){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;a.push(t)}if(r){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;o.push(t)}if(s){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(t){const n=t[0],a=t[1],o=t[2];return i&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=a),s&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e})}(e,t.targets,n):e})}const $=new r.kn4,ee=new r.kn4;function te(e){const t=new Map,n=new Map,i=e.clone();return ne(e,i,function(e,i){t.set(i,e),n.set(e,i)}),i.traverse(function(e){if(!e.isSkinnedMesh)return;const i=e,r=t.get(e),s=r.skeleton.bones;i.skeleton=r.skeleton.clone(),i.bindMatrix.copy(r.bindMatrix),i.skeleton.bones=s.map(function(e){return n.get(e)}),i.bind(i.skeleton,i.bindMatrix)}),i}function ne(e,t,n){n(e,t);for(let i=0;i<e.children.length;i++)ne(e.children[i],t.children[i],n)}function ie(e,t){const n=t?.baseAssetPath??en;return new URL(`${t?.defaultXRHandProfileId??"generic-hand"}/${e}.glb`,n).href}function re(e,t,n,i,r){return{id:e,isPrimary:r,type:"hand",inputSource:t,pose:(s=t.hand,{data:new Float32Array(16*s.size)}),assetPath:ie(t.handedness,n),events:i};var s}function se({inputSource:e,pose:t},n,i){!function(e,t,n,i){const r=i.getReferenceSpace();if(null==r||null==t||"visible-blurred"===t.session.visibilityState||"hidden"===t.session.visibilityState)return;!function(e,t,n,i){if(!e.fillPoses(n.values(),t,i))return!1;$.fromArray(i,0),$.invert();for(let e=0;e<i.length;e+=16)ee.fromArray(i,e),ee.premultiply($),ee.toArray(i,e)}(t,r,n,e.data)}(t,n,e.hand,i,e.handedness)}const ae=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"];function oe(e){return null!=e&&"object"==typeof e&&"inputSource"in e}function le(e,t){const n=e=>t.push(e);return e.addEventListener("selectstart",n),e.addEventListener("selectend",n),e.addEventListener("select",n),e.addEventListener("squeeze",n),e.addEventListener("squeezestart",n),e.addEventListener("squeezeend",n),()=>{e.removeEventListener("selectstart",n),e.removeEventListener("selectend",n),e.removeEventListener("select",n),e.removeEventListener("squeeze",n),e.removeEventListener("squeezestart",n),e.removeEventListener("squeezeend",n)}}let ce=0;class ue extends r.V9B{constructor(){super({transparent:!0,toneMapped:!1,depthWrite:!1})}onBeforeCompile(e,t){super.onBeforeCompile(e,t),e.vertexShader="varying vec2 vLocalPosition;\n"+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>","#include <color_vertex>\n        vLocalPosition = position.xy * 2.0;"),e.fragmentShader="varying vec2 vLocalPosition;\n"+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","#include <color_fragment>\n          float value = max(0.0, 1.0 - sqrt(dot(vLocalPosition, vLocalPosition)));\n          diffuseColor.a = diffuseColor.a * value * value;")}}const de=new r.Pq0(0,0,1),he=new r.PTz,pe=new r.Pq0;function fe(e,t,n,i,r){const s=i.getIntersection();if(null==s||!i.getEnabled()||!0===s.object.isVoidObject||!ge(e))return void(t.visible=!1);t.visible=!0;const a="function"==typeof r.color?r.color(i):r.color;Array.isArray(a)?n.color.set(...a):n.color.set(a??"white"),n.opacity="function"==typeof r.opacity?r.opacity(i):r.opacity??.4,t.position.copy(s.pointOnFace),t.scale.setScalar(r.size??.1);const o=s.normal??s.face?.normal;null!=o&&(he.setFromUnitVectors(de,o),s.object.getWorldQuaternion(t.quaternion),t.quaternion.multiply(he),pe.set(0,0,r.cursorOffset??.01),pe.applyQuaternion(t.quaternion),t.position.add(pe)),t.updateMatrix()}function ge({visible:e,parent:t}){return!!e&&(null==t||ge(t))}class Ae extends r.V9B{constructor(){super({transparent:!0,toneMapped:!1})}onBeforeCompile(e,t){super.onBeforeCompile(e,t),e.vertexShader="varying float vFade;\n"+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>","#include <color_vertex>\n            vFade = position.z + 0.5;"),e.fragmentShader="varying float vFade;\n"+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>","#include <color_fragment>\n              diffuseColor.a *= vFade;")}}function me(e){return e.getButtonsDown().size>0?.6:Ee(e.getIntersection()?.distance??1/0,.07,0,.2,.4)}function ve(e){return e.getButtonsDown().size>0?.6:.4}function ye(e){return Ee(e.getIntersection()?.distance??1/0,.1,.03,.2,.6)}function Ee(e,t,n,i,r){return i+Math.max(0,Math.min(1,(e-t)/(n-t)))*(r-i)}function Se(e,t,n,i){e.updateWorldMatrix(!0,!1),i?.copy(e.matrix);const r=be(e.parent,e,i);return null!=r?r:(null!=i&&function(e,t,n){e.updateWorldMatrix(!0,!1),null!=t?(t.updateWorldMatrix(!0,!1),n.copy(t.matrixWorld).invert().multiply(e.matrixWorld)):n.copy(e.matrixWorld)}(e,t,i),n)}function be(e,t,n){if(null!=e)return null!=e.xrSpace?(null!=n&&n.copy(e.matrixWorld).invert().multiply(t.matrixWorld),e.xrSpace):be(e.parent,t,n)}var xe=n(2412);const we=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,s={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(i,r,s);return s},Ie=new r.Pq0,Ce=new r.Pq0,Te=new r.Pq0,Me=new r.PTz;function Be(){return navigator.userAgent.includes("Macintosh")&&null!=navigator.xr}function Re(e,t,{anchors:n=!0,handTracking:i=!Be(),layers:r=!0,meshDetection:s=!0,planeDetection:a=!0,customSessionInit:o,depthSensing:l=!1,hitTest:c=!0,domOverlay:u=!0,bodyTracking:d=!1,bounded:h}={}){if(null!=o)return o;const p=null==h?["local-floor"]:h?["bounded-floor"]:["unbounded","local-floor"],f=[];u instanceof Element&&(u=!0),Pe(n,"anchors",p,f),Pe(i,"hand-tracking",p,f),Pe(r,"layers",p,f),Pe(s,"mesh-detection",p,f),Pe(a,"plane-detection",p,f),Pe(l,"depth-sensing",p,f),Pe(u,"dom-overlay",p,f),Pe(c,"hit-test",p,f),Pe(d,"body-tracking",p,f);const g={requiredFeatures:p,optionalFeatures:f};return null!=t&&(g.domOverlay={root:t}),l&&Object.assign(g,{depthSensing:{usagePreference:["gpu-optimized"],dataFormatPreference:[]}}),g}function Pe(e,t,n,i){!1!==e&&(!0!==e?n.push(t):i.push(t))}function _e(e,t,n){return"function"==typeof e?e:("object"==typeof e&&(null!=t&&t in e?e=e[t]:"default"in e&&(e=e.default)),!1!==e&&(!0===e?n:e??n))}const De={session:void 0,mediaBinding:void 0,originReferenceSpace:void 0,visibilityState:void 0,mode:null,frameRate:void 0,inputSourceStates:[],detectedMeshes:[],detectedPlanes:[],layerEntries:[]};async function Ne(e,t,i){if("undefined"==typeof navigator)return!1;const[r,s]=await Promise.all([navigator.xr?.isSessionSupported("immersive-vr").catch(e=>(console.error(e),!1)),navigator.xr?.isSessionSupported("immersive-ar").catch(e=>(console.error(e),!1))]);if(s||r)return!1;const{emulate:a}=await n.e(374).then(n.bind(n,374));return i&&window.alert("emulator started"),e.setState({emulator:a(!0===t?"metaQuest3":t)}),!0}const Le=new r.Pq0,Oe=new r.Pq0;function ke(e){const t="undefined"==typeof HTMLElement?void 0:e?.domOverlay instanceof HTMLElement?e.domOverlay:document.createElement("div"),n=(s=()=>({...De,controller:e?.controller,hand:e?.hand,gaze:e?.gaze,screenInput:e?.screenInput,transientPointer:e?.transientPointer,domOverlayRoot:t}))?we(s):we,i=n.subscribe(({session:n},{session:i})=>{null!=i&&null==n&&null!=h&&Ue(h,e,t).catch(console.error)}),r=e?.emulate??"metaQuest3";var s;let a,o;if("undefined"!=typeof window&&0!=r){const i=("object"==typeof r?r.inject:void 0)??{hostname:"localhost"};(!0===i||"boolean"!=typeof i&&window.location.hostname===i.hostname)&&Ne(n,r,!1).then(n=>{n&&null!=h&&Ue(h,e,t)});const s=i=>{i.altKey&&i.metaKey&&"KeyE"===i.code&&Ne(n,r,!0).then(n=>{n&&null!=h&&Ue(h,e,t)})};window.addEventListener("keydown",s),a=()=>window.removeEventListener("keydown",s)}if(null!=t){if(null==t.parentNode){const e=e=>{t.style.display=null!=e.session?"block":"none"},i=n.subscribe(e);e(n.getState()),document.body.appendChild(t),o=()=>{t.remove(),i()}}document.body.append(t)}const l=function(e,t){const n=new Map,i=new nn(t),r=new Map;return(s,a,o)=>{if("remove-all"===o){for(const e of n.values())e();return a}const l=[...a];for(const{added:a,isPrimary:c,removed:u}of o){if(null!=u)for(const e of u){const t=l.findIndex(({inputSource:t,isPrimary:n})=>n===c&&t===e);-1!==t&&(l.splice(t,1),n.get(e)?.(),n.delete(e))}if(null!=a)for(const o of a){const a=[];let u=le(s,a);const d=`${o.handedness}-${o.hand?"hand":"nohand"}-${o.targetRayMode}-${o.profiles.join(",")}`;let h;if(null==(h=r.get(d))&&r.set(d,h=""+ce++),null!=o.hand)l.push(re(h,o,t,a,c));else switch(o.targetRayMode){case"gaze":l.push({id:h,isPrimary:c,type:"gaze",inputSource:o,events:a});break;case"screen":l.push({id:h,isPrimary:c,type:"screenInput",inputSource:o,events:a});break;case"transient-pointer":l.push({id:h,isPrimary:c,type:"transientPointer",inputSource:o,events:a});break;case"tracked-pointer":let t=!1;const n=u;u=()=>{n(),t=!0};const r=an(h,o,i,a,c);r instanceof Promise?r.then(n=>!t&&e(n)).catch(console.error):l.push(r)}n.set(o,u)}}return l}}(e=>n.setState({inputSourceStates:[...n.getState().inputSourceStates,e]}),e),c=function(e,t,n){let i;return r=>{if(i?.(),null==r)return{};const s=[];let a;const o=()=>{a=void 0,e.setState({inputSourceStates:t(r,e.getState().inputSourceStates,s)}),s.length=0},l=(e,t)=>{s.push({isPrimary:e,added:t.added,removed:t.removed}),null==a&&(n?a=setTimeout(o,100):o())},c=l.bind(null,!0);let u;if(r.addEventListener("inputsourceschange",c),n){const e=l.bind(null,!1);r.addEventListener("trackedsourceschange",e),u=()=>r.removeEventListener("trackedsourceschange",e)}const d=()=>e.setState({frameRate:r.frameRate,visibilityState:r.visibilityState});r.addEventListener("frameratechange",d),r.addEventListener("visibilitychange",d);const h=()=>{i?.(),i=void 0,e.setState({emulator:e.getState().emulator,...De})};r.addEventListener("end",h);const p=[{isPrimary:!0,added:r.inputSources}];n&&p.push({isPrimary:!1,added:r.trackedSources});const f=t(r,[],p);return i=()=>{u?.(),clearTimeout(a),t(r,e.getState().inputSourceStates,"remove-all"),r.removeEventListener("end",h),r.removeEventListener("frameratechange",d),r.removeEventListener("visibilitychange",d),r.removeEventListener("inputsourceschange",c)},{inputSourceStates:f,frameRate:r.frameRate,visibilityState:r.visibilityState,detectedMeshes:[],detectedPlanes:[],mode:"opaque"===r.environmentBlendMode?"immersive-vr":"immersive-ar",session:r,mediaBinding:"undefined"==typeof XRMediaBinding?void 0:new XRMediaBinding(r)}}}(n,l,e?.secondaryInputSources??!1),u=function(e=Ge,t){if("undefined"==typeof navigator||!1===e)return;!0===e&&(e=Ge);const n=async()=>{for(const n of e)await(navigator.xr?.isSessionSupported(n))&&t(n)};return navigator.xr?.addEventListener("sessiongranted",n),()=>navigator.xr?.removeEventListener("sessiongranted",n)}(e?.enterGrantedSession,n=>Qe(t,n,e,h)),d=[];let h;const p=()=>{n.setState(c(h.getSession()))};return Object.assign(n,{addLayerEntry(e){null!=n.getState().session&&n.setState({layerEntries:[...n.getState().layerEntries,e]})},removeLayerEntry(e){null!=n.getState().session&&n.setState({layerEntries:n.getState().layerEntries.filter(t=>t!=e)})},requestFrame:()=>new Promise(e=>d.push(e)),setWebXRManager(n){if(h===n)return;h?.removeEventListener("sessionstart",p),h=n,h.addEventListener("sessionstart",p);const{foveation:i,bounded:r}=e??{};h.setReferenceSpaceType(r?"bounded-floor":"local-floor"),null!=i&&h.setFoveation(i),Ue(h,e,t).catch(console.error)},setFrameRate(e){const{session:t}=n.getState();null!=t&&Fe(t,e)},setHand(e,t){if(null==t)return void n.setState({hand:e});const i=n.getState().hand,r={};"object"==typeof i&&Object.assign(r,i),Object.assign(r,{default:_e(i,void 0,{}),[t]:e}),n.setState({hand:r})},setController(e,t){if(null==t)return void n.setState({controller:e});const i=n.getState().controller,r={};"object"==typeof i&&Object.assign(r,i),Object.assign(r,{default:_e(i,void 0,{}),[t]:e}),n.setState({controller:r})},setTransientPointer(e,t){if(null==t)return void n.setState({transientPointer:e});const i=n.getState().transientPointer,r={};"object"==typeof i&&Object.assign(r,i),Object.assign(r,{default:_e(i,void 0,{}),[t]:e}),n.setState({transientPointer:r})},setGaze(e){n.setState({gaze:e})},setScreenInput(e){n.setState({screenInput:e})},destroy(){h?.removeEventListener("sessionstart",p),a?.(),o?.(),u?.(),i(),c(void 0)},enterXR:n=>Qe(t,n,e,h),enterAR:()=>Qe(t,"immersive-ar",e,h),enterVR:()=>Qe(t,"immersive-vr",e,h),onBeforeFrame(e,t,i){let r;const s=h?.getReferenceSpace()??void 0,a=n.getState(),o=t.parent??e;if(a.origin!=o&&(r??={},r.origin=o),s!=a.originReferenceSpace&&(r??={},r.originReferenceSpace=s),o.xrSpace=s,a.origin!=o&&null!=a.origin&&(a.origin.xrSpace=void 0),null!=i&&(null!=h&&function(e,t,n){const i=n.getReferenceSpace(),{detectedMeshes:r,detectedPlanes:s,session:a,inputSourceStates:o}=e.getState();if(null==i||null==a)return;const l=We(s,t.detectedPlanes),c=We(r,t.detectedMeshes);s==l&&r==c||e.setState({detectedPlanes:l,detectedMeshes:c});const u=o.length;for(let e=0;e<u;e++){const i=o[e];switch(i.type){case"controller":on(i);break;case"hand":se(i,t,n)}}}(n,i,h),a.body!=i.body&&(r??={},r.body=i.body)),null!=r&&n.setState(r),null!=i){const e=d.length;for(let t=0;t<e;t++)d[t](i);d.length=0}},onBeforeRender(){const{session:e,layerEntries:t}=n.getState();if(null==e||null==h)return;const i=h.getCamera();i.aspect=i.projectionMatrix.elements[5]/i.projectionMatrix.elements[0];const r=e?.renderState.layers;if(null==r)return;i.getWorldPosition(Le),t.sort((e,t)=>{const n=e.renderOrder-t.renderOrder;if(0!==n)return n;e.object3D.getWorldPosition(Oe);const i=Oe.distanceToSquared(Le);return t.object3D.getWorldPosition(Oe),Oe.distanceToSquared(Le)-i});let s=!1;const a=t.map(({layer:e},t)=>(e!=r[t]&&(s=!0),e));s&&(a.push(h.getBaseLayer()),e.updateRenderState({layers:a}))}})}async function Ue(e,t,n){const i=t?.offerSession??!0;if(null==navigator.xr?.offerSession||!1===i)return;let r;r=!0===i?await navigator.xr.isSessionSupported("immersive-ar")?"immersive-ar":"immersive-vr":i,Ve(await navigator.xr.offerSession(r,Re(0,n,t)),e,t)}async function Fe(e,t){if(!1===t)return;const{supportedFrameRates:n}=e;if(null==n||0===n.length)return;if("function"==typeof t){const i=t(n);if(!1===i)return;return void await e.updateTargetFrameRate(i)}const i="high"===t?1:"mid"===t?.5:0;await e.updateTargetFrameRate(n[Math.ceil((n.length-1)*i)])}async function Qe(e,t,n,i){if("undefined"==typeof navigator||null==navigator.xr)return Promise.reject(new Error("WebXR not supported"));if(null==i)return Promise.reject(new Error("not connected to three.js. You either might be missing the <XR> component or the canvas is not yet loaded?"));const r=await navigator.xr.requestSession(t,Re(0,e,n));return await Ve(r,i,n),r}async function Ve(e,t,n){await Promise.all([Fe(e,n?.frameRate??"high"),He(t,e,n)])}async function He(e,t,n){if(null==e)return;const i=XRWebGLLayer.getNativeFramebufferScaleFactor(t);let r=n?.frameBufferScaling;"function"==typeof r&&(r=r(i)),"string"==typeof r&&(r="high"===r?i:"mid"===r?1:.5),null!=r&&e?.setFramebufferScaleFactor(r),await(e?.setSession(t))}const Ge=["immersive-ar","immersive-vr","inline"],ze=[];function We(e,t){return null==t?ze:null!=e&&function(e,t){if(e.size!=t.length)return!1;for(const n of t)if(!e.has(n))return!1;return!0}(t,e)?e:Array.from(t)}async function Xe(e,t=$t){const{scene:n}=await t.loadAsync(e.assetPath);return n.clone(!0)}function je(e,t,n){const i=e.getObjectByName(n.valueNodeName);if(t.object=i,null==i)return()=>{};if("visibility"===n.valueNodeProperty)return()=>i.visible=n.states.includes(t.state);const r=e.getObjectByName(n.minNodeName),s=e.getObjectByName(n.maxNodeName);return null==r||null==s?()=>{}:()=>{const e=function(e,{componentProperty:t,states:n}){const i=n.includes(e.state);switch(t){case"xAxis":return i?Ye(e).x:.5;case"yAxis":return i?Ye(e).y:.5;case"button":return i?e.button??0:0;case"state":return i?1:0}}(t,n);i.quaternion.slerpQuaternions(r.quaternion,s.quaternion,e),i.position.lerpVectors(r.position,s.position,e),i.updateMatrix()}}r.B69,new r.iNn,r.eaF,new r.bdM,r.eaF;const qe=new r.I9Y;function Ye({xAxis:e=0,yAxis:t=0}){if(qe.lengthSq()>1){const n=Math.atan2(t,e);qe.set(Math.cos(n),Math.sin(n))}else qe.set(e,t);return qe.multiplyScalar(.5).addScalar(.5),qe}function Je(e,t){if(null!=t&&null!=t.createdAt&&t.createdAt>=e.lastChangedTime)return t;const n=new r.LoY;return n.setIndex(new r.THS(e.indices,1)),n.setAttribute("position",new r.THS(e.vertices,3)),Object.assign(n,{creationTime:e.lastChangedTime})}function Ze(e,t){return null!=t&&null!=t.createdAt&&t.createdAt>=e.lastChangedTime?t:Object.assign(function(e){if(0===e.length)return new r.LoY;const t=new r.ypk,n=e.map(({x:e,z:t})=>new r.I9Y(e,t));Ke.setFromPoints(n),Ke.getSize($e);for(const e of n)e.sub(Ke.min),e.divide($e);t.setFromPoints(n);const i=new r.MSw(t);return i.scale($e.x,$e.y,1),i.translate(Ke.min.x,Ke.min.y,0),i.rotateX(Math.PI/2),i}(e.polygon),{createdAt:e.lastChangedTime})}r.B69,r.B69,r.eaF;const Ke=new r.UtB,$e=new r.I9Y;function et(e,t=1){if(null!=e)return{x:tt(e.x),y:tt(e.y),z:tt(e.z),w:"w"in e?tt(e.w,t):t}}function tt(e,t=0){return isNaN(e)?t:e}r.eaF,r.YJl;const nt=60/180*Math.PI,it=60/180*Math.PI,rt=-30/180*Math.PI,st=30/180*Math.PI;const at=new r.kn4,ot=new r.Pq0,lt=new r.PTz,ct=new r.Pq0;function ut(e,t=ct){return e.decompose(ot,lt,t),t.x=tt(t.x),t.y=tt(t.y),t.z=tt(t.z),new XRRigidTransform(et(ot),et(lt))}const dt=64/Math.PI;function ht(e){return Math.ceil(e*dt)}function pt(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function ft(e,t={}){e.chromaticAberrationCorrection=t.chromaticAberrationCorrection,e.quality=t.quality??"default",e.blendTextureSourceAlpha=t.blendTextureSourceAlpha??!1,e instanceof XRCylinderLayer?e.centralAngle=t?.centralAngle??nt:e instanceof XREquirectLayer&&(e.centralHorizontalAngle=t?.centralHorizontalAngle??it,e.lowerVerticalAngle=t?.lowerVerticalAngle??rt,e.upperVerticalAngle=t?.upperVerticalAngle??st)}function gt(e,t,n,i){if("cylinder"===e){const e=(i.x+i.z)/2,r=e*(n??nt);t.radius=e,t.aspectRatio=0===i.y?1:r/i.y}else"quad"===e?(t.width=i.x/2,t.height=i.y/2):t.radius=(i.x+i.y+i.z)/3}function At(e,t,n){return new r.nWS(e*n,t*n,{minFilter:r.k6q,magFilter:r.k6q,type:r.ix0,depthTexture:new r.VCu(e,t)})}r.eaF;var mt=n(9437),vt=Object.defineProperty,yt=(e,t,n)=>(((e,t,n)=>{t in e?vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function Et(e,t,n,i,r){let s;if(e=e.subarray||e.slice?e:e.buffer,n=n.subarray||n.slice?n:n.buffer,e=t?e.subarray?e.subarray(t,r&&t+r):e.slice(t,r&&t+r):e,n.set)n.set(e,i);else for(s=0;s<e.length;s++)n[s+i]=e[s];return n}class St extends r.LoY{constructor(){super(),yt(this,"type","MeshLine"),yt(this,"isMeshLine",!0),yt(this,"positions",[]),yt(this,"previous",[]),yt(this,"next",[]),yt(this,"side",[]),yt(this,"width",[]),yt(this,"indices_array",[]),yt(this,"uvs",[]),yt(this,"counters",[]),yt(this,"widthCallback",null),yt(this,"_attributes"),yt(this,"_points",[]),yt(this,"points"),yt(this,"matrixWorld",new r.kn4),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){if(e=function(e){return e instanceof Float32Array?e:e instanceof r.LoY?e.getAttribute("position").array:e.map(e=>{const t=Array.isArray(e);return e instanceof r.Pq0?[e.x,e.y,e.z]:e instanceof r.I9Y?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}).flat()}(e),this._points=e,this.widthCallback=null!=t?t:null,this.positions=[],this.counters=[],e.length&&e[0]instanceof r.Pq0)for(let t=0;t<e.length;t++){const n=e[t],i=t/(e.length-1);this.positions.push(n.x,n.y,n.z),this.positions.push(n.x,n.y,n.z),this.counters.push(i),this.counters.push(i)}else for(let t=0;t<e.length;t+=3){const n=t/(e.length-1);this.positions.push(e[t],e[t+1],e[t+2]),this.positions.push(e[t],e[t+1],e[t+2]),this.counters.push(n),this.counters.push(n)}this.process()}compareV3(e,t){const n=6*e,i=6*t;return this.positions[n]===this.positions[i]&&this.positions[n+1]===this.positions[i+1]&&this.positions[n+2]===this.positions[i+2]}copyV3(e){const t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){const e=this.positions.length/6;let t,n;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],n=this.compareV3(0,e-1)?this.copyV3(e-2):this.copyV3(0),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(let i=0;i<e;i++){if(this.side.push(1),this.side.push(-1),t=this.widthCallback?this.widthCallback(i/(e-1)):1,this.width.push(t),this.width.push(t),this.uvs.push(i/(e-1),0),this.uvs.push(i/(e-1),1),i<e-1){n=this.copyV3(i),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);const e=2*i;this.indices_array.push(e,e+1,e+2),this.indices_array.push(e+2,e+1,e+3)}i>0&&(n=this.copyV3(i),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]))}n=this.compareV3(e-1,0)?this.copyV3(1):this.copyV3(e-1),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]),this._attributes&&this._attributes.position.count===this.counters.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new r.THS(new Float32Array(this.positions),3),previous:new r.THS(new Float32Array(this.previous),3),next:new r.THS(new Float32Array(this.next),3),side:new r.THS(new Float32Array(this.side),1),width:new r.THS(new Float32Array(this.width),1),uv:new r.THS(new Float32Array(this.uvs),2),index:new r.THS(new Uint16Array(this.indices_array),1),counters:new r.THS(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:n}){const i=this._attributes.position.array,r=this._attributes.previous.array,s=this._attributes.next.array,a=i.length;Et(i,0,r,0,a),Et(i,6,i,0,a-6),i[a-6]=e,i[a-5]=t,i[a-4]=n,i[a-3]=e,i[a-2]=t,i[a-1]=n,Et(i,6,s,0,a-6),s[a-6]=e,s[a-5]=t,s[a-4]=n,s[a-3]=e,s[a-2]=t,s[a-1]=n,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const bt=`\n  #include <fog_pars_fragment>\n  #include <logdepthbuf_pars_fragment>\n  #include <clipping_planes_pars_fragment>\n  \n  uniform sampler2D map;\n  uniform sampler2D alphaMap;\n  uniform float useGradient;\n  uniform float useMap;\n  uniform float useAlphaMap;\n  uniform float useDash;\n  uniform float dashArray;\n  uniform float dashOffset;\n  uniform float dashRatio;\n  uniform float visibility;\n  uniform float alphaTest;\n  uniform vec2 repeat;\n  uniform vec3 gradient[2];\n  \n  varying vec2 vUV;\n  varying vec4 vColor;\n  varying float vCounters;\n  \n  void main() {\n    #include <logdepthbuf_fragment>\n    vec4 diffuseColor = vColor;\n    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);\n    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);\n    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;\n    if (diffuseColor.a < alphaTest) discard;\n    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));\n    diffuseColor.a *= step(vCounters, visibility);\n    #include <clipping_planes_fragment>\n    gl_FragColor = diffuseColor;     \n    #include <fog_fragment>\n    #include <tonemapping_fragment>\n    #include <${(()=>parseInt(r.sPf.replace(/\D+/g,"")))()>=154?"colorspace_fragment":"encodings_fragment"}>\n  }\n`;class xt extends r.BKk{constructor(e){super({uniforms:{...mt.UniformsLib.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new r.Q1f(16777215)},gradient:{value:[new r.Q1f(16711680),new r.Q1f(65280)]},opacity:{value:1},resolution:{value:new r.I9Y(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new r.I9Y(1,1)}},vertexShader:"\n  #include <common>\n  #include <logdepthbuf_pars_vertex>\n  #include <fog_pars_vertex>\n  #include <clipping_planes_pars_vertex>\n\n  attribute vec3 previous;\n  attribute vec3 next;\n  attribute float side;\n  attribute float width;\n  attribute float counters;\n  \n  uniform vec2 resolution;\n  uniform float lineWidth;\n  uniform vec3 color;\n  uniform float opacity;\n  uniform float sizeAttenuation;\n  \n  varying vec2 vUV;\n  varying vec4 vColor;\n  varying float vCounters;\n  \n  vec2 fix(vec4 i, float aspect) {\n    vec2 res = i.xy / i.w;\n    res.x *= aspect;\n    return res;\n  }\n  \n  void main() {\n    float aspect = resolution.x / resolution.y;\n    vColor = vec4(color, opacity);\n    vUV = uv;\n    vCounters = counters;\n  \n    mat4 m = projectionMatrix * modelViewMatrix;\n    vec4 finalPosition = m * vec4(position, 1.0) * aspect;\n    vec4 prevPos = m * vec4(previous, 1.0);\n    vec4 nextPos = m * vec4(next, 1.0);\n  \n    vec2 currentP = fix(finalPosition, aspect);\n    vec2 prevP = fix(prevPos, aspect);\n    vec2 nextP = fix(nextPos, aspect);\n  \n    float w = lineWidth * width;\n  \n    vec2 dir;\n    if (nextP == currentP) dir = normalize(currentP - prevP);\n    else if (prevP == currentP) dir = normalize(nextP - currentP);\n    else {\n      vec2 dir1 = normalize(currentP - prevP);\n      vec2 dir2 = normalize(nextP - currentP);\n      dir = normalize(dir1 + dir2);\n  \n      vec2 perp = vec2(-dir1.y, dir1.x);\n      vec2 miter = vec2(-dir.y, dir.x);\n      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);\n    }\n  \n    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;\n    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);\n    normal.xy *= .5 * w;\n    //normal *= projectionMatrix;\n    if (sizeAttenuation == 0.) {\n      normal.xy *= finalPosition.w;\n      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;\n    }\n  \n    finalPosition.xy += normal.xy * side;\n    gl_Position = finalPosition;\n    #include <logdepthbuf_vertex>\n    #include <fog_vertex>\n    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n    #include <clipping_planes_vertex>\n    #include <fog_vertex>\n  }\n",fragmentShader:bt}),yt(this,"lineWidth"),yt(this,"map"),yt(this,"useMap"),yt(this,"alphaMap"),yt(this,"useAlphaMap"),yt(this,"color"),yt(this,"gradient"),yt(this,"resolution"),yt(this,"sizeAttenuation"),yt(this,"dashArray"),yt(this,"dashOffset"),yt(this,"dashRatio"),yt(this,"useDash"),yt(this,"useGradient"),yt(this,"visibility"),yt(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(e){this.uniforms.color.value=e}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(e){this.uniforms.gradient.value=e}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(e){this.uniforms.useDash.value=e}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(e){this.uniforms.useGradient.value=e}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}var wt=n(8823);const It=new r.O9p(0,0,0,"YXZ"),Ct=new r.PTz;function Tt(e={}){return(t,n,i,r)=>!(!function(e){return!0===e.userData.teleportTarget}(t)||null!=e.filter&&!e.filter(t,n,i,r))}class Mt extends r.eaF{multiplier;lineLengths;options={};constructor(e){const t=new St,n=new Float32Array(3*e.length);for(let t=0;t<e.length;t++)e[t].toArray(n,3*t);t.setPoints(n);const i=(3*e.length-3)/(3*e.length-1),r=new xt({lineWidth:.1,resolution:void 0,visibility:i});super(t,r),this.material.transparent=!0,this.multiplier=i,this.material=r,this.lineLengths=e.slice(0,-1).map((t,n)=>t.distanceTo(e[n+1]))}update(e){const t=e.getEnabled(),n=e.getIntersection();if(!t||0===e.getButtonsDown().size||null==n)return void(this.visible=!1);if(this.visible=!0,"lines"!=n.details.type)return void(this.material.visibility=this.multiplier);const{distanceOnLine:i,lineIndex:r}=n.details,s=this.lineLengths[r];this.material.visibility=this.multiplier*(r+i/s)/this.lineLengths.length;const{color:a="white",opacity:o=.4,size:l=.01}=this.options;this.material.lineWidth=l,this.material.opacity="function"==typeof o?o(e):o;const c="function"==typeof a?a(e):a;Array.isArray(c)?this.material.color.set(...c):this.material.color.set(c)}}const Bt=new r.kn4,Rt=new r.Pq0,Pt=new r.Pq0,_t=new r.PTz;async function Dt(e,t,n,i=["point","plane","mesh"]){"string"==typeof n&&(n=await t.requestReferenceSpace(n));const r=Array.isArray(i)?i:[i];let s,a,o;const l=e.getState();if(n instanceof XRSpace)s={space:n,entityTypes:r},o=l.origin;else{const e=Se(n,l.origin,l.originReferenceSpace,Bt);if(null==e)return;Bt.decompose(Rt,_t,Pt);const t=et(Rt);Rt.set(0,0,-1).applyQuaternion(_t),o=n,s={space:e,offsetRay:new XRRay(t,et(Rt,0)),entityTypes:r},a=e}const c=await(t?.requestHitTestSource?.(s));if(null!=c)return{source:c,getWorldMatrix:Lt.bind(null,e,a,o)}}async function Nt(e,t,n){const i=e.getState().session;if(null==i)return;const r=await Dt(e,i,t,n);if(null==r)return;const{source:s,getWorldMatrix:a}=r,o=await e.requestFrame(),l=o.getHitTestResults?.(s)??[];return s.cancel(),null!=l?{results:l,getWorldMatrix:a}:void 0}function Lt(e,t,n,i,r){if(t??=e.getState().originReferenceSpace,null==t)return!1;const s=r.getPose(t);return null!=s&&(i.fromArray(s.transform.matrix),null!=n&&(n.updateWorldMatrix(!0,!1),i.premultiply(n.matrixWorld)),!0)}const Ot=new r.Pq0(1,1,1),kt=new r.Pq0(0,0,0),Ut=new r.PTz,Ft=new r.kn4,Qt=new r.kn4,Vt=new r.PTz,Ht=new r.Pq0,Gt=new r.Pq0;async function zt(e,t){if("hit-test-result"===t.relativeTo)return t.hitTestResult.createAnchor?.(new XRRigidTransform(et(t.offsetPosition),et(t.offsetQuaternion)));let n,i;if("world"===t.relativeTo){n=t.frame??await e.requestFrame();const{origin:r,originReferenceSpace:s}=e.getState();if(null==s)return;i=s;const{worldPosition:a,worldQuaternion:o}=t;null!=r?(r.updateWorldMatrix(!0,!1),Ft.copy(r.matrixWorld).invert(),Qt.compose(a,o,Ot).multiply(Ft),Qt.decompose(Ht,Vt,Gt)):(Ht.copy(a),Vt.copy(o))}else{n=t.frame??await e.requestFrame(),i=t.space;const{offsetPosition:r,offsetQuaternion:s}=t;Ht.copy(r??kt),Vt.copy(s??Ut)}return n.createAnchor?.(new XRRigidTransform(et(Ht),et(Vt)),i)}const Wt=2,Xt="xr-standard-thumbstick",jt=new r.Pq0,qt=new r.PTz,Yt=new r.O9p,Jt=new r.Pq0,Zt=new r.Pq0;function Kt(e,t){return"controller"===e.type&&e.inputSource.handedness===t}const $t=new a,en="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/";function tn(e,...t){let n=e();for(const e of t)n=n instanceof Promise?n.then(e):e(n);return n}class nn{baseAssetPath;defaultProfileId;profilesListCache;profileCacheMap=new Map;constructor(e){this.baseAssetPath=e?.baseAssetPath??en,this.defaultProfileId=e?.defaultControllerProfileId??"generic-trigger"}load(e,t){return tn(()=>this.loadProfile(e),e=>{for(const n in e.layouts)if(n.includes(t))return e.layouts[n];throw new Error(`No matching layout for "${t}", in profile ${e.profileId} with layouts ${Object.keys(e.layouts).join(", ")}.`)})}loadAsync=this.load;loadProfile(e){return tn(()=>this.profilesListCache??rn(new URL("profilesList.json",this.baseAssetPath).href).then(e=>this.profilesListCache=e),t=>{const n=e.length;let i;for(let r=0;r<n&&(i=t[e[r]],null==i);r++);if(i??=t[this.defaultProfileId],null==i)throw new Error(`no matching profile found for profiles "${e.join(", ")}" in profile list ${JSON.stringify(t)}`);return this.loadProfileFromPath(i.path)})}loadProfileFromPath(e){const t=this.profileCacheMap.get(e);if(null!=t)return t;const n=new URL(e,this.baseAssetPath).href;return rn(n).then(t=>{for(const e in t.layouts){const i=t.layouts[e];null!=i&&(i.assetPath=new URL(i.assetPath,n).href)}return this.profileCacheMap.set(e,t),t})}}async function rn(e){let t=await fetch(e);return t.ok?t.json():Promise.reject(new Error(t.statusText))}function sn(e,t,n){const i=t.gamepad;if(null==i)return;const r=n.components;for(const t in r){let n=e[t];null==n&&(e[t]=n={});const{gamepadIndices:s}=r[t];let a=!1,o=!1;if(null!=s.button&&s.button<i.buttons.length){const e=i.buttons[s.button];n.button=(0,wt.clamp)(e.value,0,1),a||=e.pressed||1===n.button,o||=e.touched||n.button>.05}null!=s.xAxis&&s.xAxis<i.axes.length&&(n.xAxis=(0,wt.clamp)(i.axes[s.xAxis],-1,1),o||=Math.abs(n.xAxis)>.1),null!=s.yAxis&&s.yAxis<i.axes.length&&(n.yAxis=(0,wt.clamp)(i.axes[s.yAxis],-1,1),o||=Math.abs(n.yAxis)>.1),n.state=a?"pressed":o?"touched":"default"}}function an(e,t,n,i,r){return tn(()=>n.load(t.profiles,t.handedness),n=>{const s={};return sn(s,t,n),{id:e,isPrimary:r,events:i,type:"controller",inputSource:t,gamepad:s,layout:n}})}function on({gamepad:e,inputSource:t,layout:n}){sn(e,t,n)}var ln=n(5214),cn=n(6540);const un=(0,cn.createContext)(void 0),dn=(0,cn.createContext)(void 0),hn=(0,cn.createContext)(void 0),pn=(0,cn.createContext)(void 0),fn=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,s={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(i,r,s);return s};var gn=n(9242);const{useDebugValue:An}=cn,{useSyncExternalStoreWithSelector:mn}=gn;let vn=!1;const yn=e=>e;function En(e,t=yn,n){n&&!vn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vn=!0);const i=mn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return An(i),i}const Sn=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?fn(e):fn)(e):e,n=(e,n)=>En(t,e,n);return Object.assign(n,t),n};function bn(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Object.is(i,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var xn=n(6749);const wn=(0,cn.forwardRef)(({id:e,children:t,onPress:n,onRelease:i},r)=>{const s=Bi("controller"),[a,o]=(0,cn.useState)(void 0);if((0,cn.useImperativeHandle)(r,()=>a,[a]),In(s,e,e=>"pressed"===e?n?.():i?.()),(0,ln.D)(()=>o(s.gamepad[e]?.object)),null!=a)return(0,ln.o)(t,a)});function In(e,t,n){const i=(0,cn.useRef)(void 0);(0,ln.D)(()=>{const r=e?.gamepad[t]?.state;null!=r&&r!=i.current&&n(r),i.current=r})}const Cn=Symbol("loadXRControllerModel"),Tn=(0,cn.forwardRef)((e,t)=>{const n=Bi("controller"),s=(0,xn.DY)(Xe,[n.layout,void 0,Cn]);(function(e,t){e.renderOrder=t?.renderOrder??0,e.traverse(e=>{e instanceof r.eaF&&e.material instanceof r.imn&&(e.material.colorWrite=t?.colorWrite??!0)})})(s,e),n.object=s,(0,cn.useImperativeHandle)(t,()=>s,[s]);const a=(0,cn.useMemo)(()=>function(e,t,n){const i=[];for(const r in t.components){const s=t.components[r];let a=n[r];null==a&&(n[r]=a={state:"default"}),i.push(...Object.values(s.visualResponses).map(t=>je(e,a,t)))}return()=>{const e=i.length;for(let t=0;t<e;t++)i[t]()}}(s,n.layout,n.gamepad),[s,n.layout,n.gamepad]);return(0,ln.D)(a),(0,i.jsx)(Pi,{space:"grip-space",children:(0,i.jsx)("primitive",{object:s})})}),Mn=Symbol("loadXRControllerLayout");function Bn(e,t,{baseAssetPath:n,defaultControllerProfileId:i}={}){const r=(0,cn.useMemo)(()=>new nn({baseAssetPath:n,defaultControllerProfileId:i}),[n,i]);return(0,xn.DY)(()=>{const n=r.loadAsync(e,t);return n instanceof Promise?n:Promise.resolve(n)},[Mn,t,...e])}function Rn(e){return(0,xn.DY)(Xe,[e,void 0,Cn])}const Pn=(0,cn.forwardRef)((e,t)=>{const n=Bi("hand"),s=(0,ln.G)(a,n.assetPath),o=(0,cn.useMemo)(()=>function({scene:e}){const t=te(e),n=t.getObjectByProperty("type","SkinnedMesh");if(null==n)throw new Error("missing SkinnedMesh in loaded XRHand model");return n.frustumCulled=!1,t}(s),[s]);(function(e,t){e.renderOrder=t?.renderOrder??0,e.traverse(e=>{e instanceof r.eaF&&e.material instanceof r.imn&&(e.material.colorWrite=t?.colorWrite??!0)})})(o,e),n.object=o,(0,cn.useImperativeHandle)(t,()=>o,[o]);const l=_i(),c=(0,cn.useMemo)(()=>function(e,t,n){const i=new Float32Array(16*e.size),r=ae.map(e=>{const n=t.getObjectByName(e);if(null==n)throw new Error(`missing joint "${e}" in hand model`);return n.matrixAutoUpdate=!1,n});return t=>{const s="function"==typeof n?n():n;if(null==t||null==s)return;t.fillPoses(e.values(),s,i);const a=r.length;for(let e=0;e<a;e++)r[e].matrix.fromArray(i,16*e)}}(n.inputSource.hand,o,l),[n.inputSource,o,l]);return(0,ln.D)((e,t,n)=>c(n)),(0,i.jsx)("primitive",{object:o})}),_n=(0,cn.forwardRef)(({joint:e,children:t},n)=>(0,i.jsx)(Pi,{ref:n,space:e,children:t}));function Dn({children:e}){const t=(0,cn.useMemo)(()=>new xe.XO(!1),[]);return Hn(t),(0,i.jsx)(pn.Provider,{value:t,children:e})}function Nn(e){for(const t of Object.keys(e))delete e[t]}function Ln(e,t,n,i){const r=(0,cn.useMemo)(()=>({}),[]);Nn(r),Object.assign(r,n);const s=(0,ln.A)(),a=(0,cn.useMemo)(()=>(0,xe.qc)(()=>s.getState().camera,e,t,r,i),[s,e,t,r,i]);return Hn(a,n?.makeDefault),a}function On(e,t,n,i){const r=(0,cn.useMemo)(()=>({}),[]);Nn(r),Object.assign(r,n);const s=(0,ln.A)(),a=(0,cn.useMemo)(()=>(0,xe.Ke)(()=>s.getState().camera,e,t,r,i),[s,e,t,r,i]);return Hn(a,n?.makeDefault),a}function kn(e,t,n,i){const r=(0,cn.useMemo)(()=>({}),[]);Nn(r),Object.assign(r,n);const s=(0,ln.A)(),a=(0,cn.useMemo)(()=>(0,xe.t2)(()=>s.getState().camera,e,t,r,i),[s,e,t,r,i]);return Hn(a,n?.makeDefault),a}function Un(e,t,n,i){const r=(0,cn.useMemo)(()=>({}),[]);Nn(r),Object.assign(r,n);const s=(0,ln.A)(),a=(0,cn.useMemo)(()=>(0,xe.bd)(()=>s.getState().camera,e,t,r,i),[s,e,t,r,i]);return Hn(a,n?.makeDefault),a}const Fn=(0,cn.forwardRef)((e,t)=>{const n=(0,cn.useMemo)(()=>new(e.materialClass??Ae),[e.materialClass]),r=(0,cn.useRef)(null);return(0,cn.useImperativeHandle)(t,()=>r.current,[]),(0,ln.D)(()=>null!=r.current&&function(e,t,n,i){const r=n.getIntersection();if(!n.getEnabled()||null==r)return void(e.visible=!1);e.visible=!0;const s="function"==typeof i.color?i.color(n):i.color;Array.isArray(s)?t.color.set(...s):t.color.set(s??"white"),t.opacity="function"==typeof i.opacity?i.opacity(n):i.opacity??.4;const a=Math.min(i.maxLength??1,r.distance);e.position.z=-a/2;const o=i.size??.005;e.scale.set(o,o,a),e.updateMatrix()}(r.current,n,e.pointer,e)),(0,i.jsx)("mesh",{matrixAutoUpdate:!1,renderOrder:e.renderOrder??2,ref:r,material:n,children:(0,i.jsx)("boxGeometry",{})})}),Qn=(0,cn.forwardRef)((e,t)=>{const n=(0,cn.useMemo)(()=>new(e.materialClass??ue),[e.materialClass]),r=(0,cn.useRef)(null),s=(0,cn.useRef)(null);(0,cn.useImperativeHandle)(t,()=>r.current,[]),(0,ln.D)(()=>null!=r.current&&null!=s.current&&fe(s.current,r.current,n,e.pointer,e));const a=(0,ln.C)(e=>e.scene);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("group",{ref:s}),(0,ln.o)((0,i.jsx)("mesh",{renderOrder:e.renderOrder??1,ref:r,matrixAutoUpdate:!1,material:n,children:(0,i.jsx)("planeGeometry",{})}),a)]})});function Vn(e,t,n,i){const r=Ci(e=>e.session);(0,cn.useEffect)(()=>{if(null!=r)return function(e,t,n,i,r,s={}){const a=t=>{t.inputSource===n&&e.down(Object.assign(t,{button:s.button??0}))},o=t=>{t.inputSource===n&&e.up(Object.assign(t,{button:s.button??0}))},l=`${i}start`,c=`${i}end`,u=r.length;for(let e=0;e<u;e++){const t=r[e];switch(t.type){case l:a(t);break;case c:o(t)}}return t.addEventListener(l,a),t.addEventListener(c,o),()=>{t.removeEventListener(l,a),t.removeEventListener(c,o)}}(e,r,t,n,i)},[n,t,e,r,i])}function Hn(e,t=!1){const n=(0,cn.useContext)(pn);if(null==n)throw new Error("xr pointers can only be used inside the XR component");(0,cn.useEffect)(()=>{const i=n.register(e,t);return()=>{i()}},[n,e,t]),(0,cn.useEffect)(()=>{if(e instanceof xe.gm)return()=>e.exit({timeStamp:performance.now()})},[e])}function Gn({children:e,onTeleport:t}){const n=(0,cn.useRef)(null),s=(0,cn.useRef)(t);s.current=t;const a=(0,ln.A)();return(0,cn.useEffect)(()=>{if(null!=n.current)return function(e,t){e.traverse(e=>e.userData.teleportTarget=!0);const n=e=>{if("point"in e&&e.point instanceof r.Pq0){const n=t();((e,t)=>{s.current?.(e,t)})((new r.Pq0).setFromMatrixPosition(n.matrix).negate().setComponent(1,0).add(e.point),e)}};return e.addEventListener("pointerup",n),()=>{e.traverse(e=>e.userData.teleportTarget=!1),e.removeEventListener("pointerup",n)}}(n.current,()=>a.getState().camera)},[a]),(0,i.jsx)("group",{pointerEventsType:{allow:"teleport"},ref:n,children:e})}const zn=(0,cn.forwardRef)(({pointer:e,linePoints:t,...n},r)=>{const s=(0,cn.useMemo)(()=>new Mt(t),[t]);return(0,cn.useImperativeHandle)(r,()=>s,[s]),s.options=n,(0,ln.D)(()=>s.update(e)),(0,i.jsx)("primitive",{object:s})});function Wn(e,t,n){const r=(0,cn.useContext)(dn);if(null==r)throw new Error("DefaultXRInputSourceGrabPointer can only be used inside a XRInputSource");const s=(0,cn.useRef)(null),a=Ln(s,r,n);Vn(a,r.inputSource,e,r.events);const o=n.cursorModel;return(0,i.jsx)(Pi,{ref:s,space:t,children:!1!==o&&(0,i.jsx)(Qn,{pointer:a,opacity:me,...ni(o)})})}const Xn=Wn.bind(null,"select","index-finger-tip"),jn=Wn.bind(null,"squeeze","grip-space");function qn(e){const t=Bi(),n=(0,cn.useRef)(null),r=On(n,t,e);Vn(r,t.inputSource,"select",t.events);const s=e.rayModel,a=e.cursorModel;return(0,i.jsxs)(Pi,{ref:n,space:"target-ray-space",children:[!1!==s&&(0,i.jsx)(Fn,{pointer:r,opacity:ve,...ni(s)}),!1!==a&&(0,i.jsx)(Qn,{pointer:r,opacity:ve,...ni(a)})]})}function Yn(e){const t=Bi("hand"),n=(0,cn.useRef)(null),r=Un(n,t,e),s=e.cursorModel;return(0,i.jsx)(Pi,{ref:n,space:t.inputSource.hand.get("index-finger-tip"),children:!1!==s&&(0,i.jsx)(Qn,{pointer:r,opacity:ye,...ni(s)})})}function Jn(e){const t=e.model,n=e.grabPointer,r=e.rayPointer,s=e.teleportPointer??!1;return(0,i.jsxs)(i.Fragment,{children:[!1!==t&&(0,i.jsx)(cn.Suspense,{children:(0,i.jsx)(Tn,{...ni(t)})}),(0,i.jsxs)(Dn,{children:[!1!==n&&(0,i.jsx)(jn,{...ni(n)}),!1!==r&&(0,i.jsx)(qn,{makeDefault:!0,minDistance:.2,...ni(r)}),!1!==s&&(0,i.jsx)(ti,{...ni(s)})]})]})}function Zn(e){const t=e.model,n=e.grabPointer,r=e.rayPointer,s=e.touchPointer,a=e.teleportPointer??!1,o=!1!==r&&ni(r)?.rayModel;return(0,i.jsxs)(i.Fragment,{children:[!1!==t&&(0,i.jsx)(cn.Suspense,{children:(0,i.jsx)(Pn,{...ni(t)})}),(0,i.jsxs)(Dn,{children:[!1!==n&&(0,i.jsx)(Xn,{...ni(n)}),!1!==s&&(0,i.jsx)(Yn,{...ni(s)}),!1!==r&&(0,i.jsx)(qn,{makeDefault:!0,minDistance:.2,...ni(r),rayModel:!1!==o&&{maxLength:.2,...ni(o)}}),!1!==a&&(0,i.jsx)(ti,{...ni(a)})]})]})}function Kn(e){return(0,i.jsx)(qn,{...e,rayModel:!1})}function $n(e){return(0,i.jsx)(qn,{...e,rayModel:!1})}function ei(e){return(0,i.jsx)(qn,{...e,cursorModel:!1,rayModel:!1})}function ti(e){const t=(0,cn.useContext)(dn);if(null==t)throw new Error("DefaultXRInputSourceRayPointer can only be used inside a XRInputSource");const n=(0,cn.useRef)(null),s=(0,cn.useRef)(null),a=(0,cn.useMemo)(()=>new r.CV9(new r.Pq0(0,0,0),new r.Pq0(0,0,-8),new r.Pq0(0,-20,-15)).getPoints(20),[]),o=kn(s,t,{...e,linePoints:a,filter:Tt(e)},"teleport");Vn(o,t.inputSource,"select",t.events);const l=e.rayModel,c=e.cursorModel,u=(0,ln.C)(e=>e.scene),d=(0,cn.useRef)(null);return(0,ln.D)((e,t)=>{null!=d.current&&(d.current.visible=o.getEnabled()&&o.getButtonsDown().size>0);const i=s.current,r=n.current;var a,l,c;null!=i&&null!=r&&(l=i,c=1e3*t,(a=r).updateWorldMatrix(!0,!1),a.matrixWorld.decompose(l.position,Ct,l.scale),It.setFromQuaternion(Ct),It.z=0,It.x=(0,wt.clamp)(It.x-10*Math.PI/180,-Math.PI/2,1.1*Math.PI/4),Ct.setFromEuler(It),l.quaternion.slerp(Ct,c/100))}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Pi,{ref:n,space:"target-ray-space"}),(0,ln.o)((0,i.jsxs)("group",{ref:s,children:[!1!==l&&(0,i.jsx)(zn,{linePoints:a,pointer:o,opacity:ve,...ni(l)}),!1!==c&&(0,i.jsx)(Qn,{ref:d,pointer:o,opacity:ve,...ni(c)})]}),u)]})}function ni(e){if(!0!==e)return e}function ii(e,t){let n,i;if(null==t){const[e,t]=(0,cn.useState)(!1);n=t,i=e}else n=t;return(0,cn.useEffect)(()=>{const{current:t}=e;if(null==t)return;const i=new Set,r=e=>{0===i.size&&n(!0,e),i.add(e.pointerId)},s=e=>{i.delete(e.pointerId),0===i.size&&n(!1,e)};return t.addEventListener("pointerenter",r),t.addEventListener("pointerleave",s),()=>{t.removeEventListener("pointerenter",r),t.removeEventListener("pointerleave",s)}},[e,n]),i}function ri(){return Ci(e=>e.visibilityState)}function si(){return Ci(e=>e.session?.initiateRoomCapture?.bind(e.session))}function ai(e,t){const n=(0,cn.useRef)(t);n.current=t;const[i,r]=(0,cn.useMemo)(()=>{let t;return[i=>{let r=!1;return"undefined"==typeof navigator||null==navigator.xr?(t=!1,()=>{}):(navigator.xr.isSessionSupported(e).then(e=>{t=e,r||i()}).catch(e=>{r||n.current?.(e)}),()=>r=!0)},()=>t]},[e]);return(0,cn.useSyncExternalStore)(i,r)}const oi=ai;function li(e){return Ci(({session:t})=>t?.enabledFeatures?.includes(e)??!1)}const ci=li;let ui=0;const di=new Map;function hi(e){let t=di.get(e);return null==t&&di.set(e,t=ui++),t}function pi({children:e}){const t=Ci(e=>e.originReferenceSpace),n=Ci(e=>e.origin),r="visible"===ri(),s=(0,ln.A)(),a=(0,cn.useMemo)(()=>Object.assign({},s,{getState:()=>({...s.getState(),scene:n})}),[n,s]);return null==n||null==t?null:(0,i.jsx)(i.Fragment,{children:ln.r.createPortal((0,i.jsx)(ln.q.Provider,{value:s,children:(0,i.jsxs)(hn.Provider,{value:t,children:[(0,i.jsxs)("group",{matrixAutoUpdate:!1,visible:r,children:[(0,i.jsx)(fi,{}),(0,i.jsx)(gi,{}),(0,i.jsx)(Ai,{}),(0,i.jsx)(mi,{}),(0,i.jsx)(vi,{})]}),e]})}),a,null)})}function fi(){const e=Ci(e=>e.inputSourceStates.filter(e=>"controller"===e.type),bn);let t=Ci(e=>e.controller);return!1===t?null:(0,i.jsx)(i.Fragment,{children:e.map(e=>{const n=_e(t,e.inputSource.handedness,{});return!1===n?null:(0,i.jsx)(dn.Provider,{value:e,children:(0,i.jsx)(Pi,{space:"target-ray-space",children:(0,i.jsx)(cn.Suspense,{children:"function"==typeof n?(0,i.jsx)(n,{}):(0,i.jsx)(Jn,{...n})})})},e.id)})})}function gi(){const e=Ci(e=>e.inputSourceStates.filter(e=>"hand"===e.type),bn),t=Ci(e=>e.hand);return!1===t?null:(0,i.jsx)(i.Fragment,{children:e.map(e=>{const n=_e(t,e.inputSource.handedness,{});return!1===n?null:(0,i.jsx)(dn.Provider,{value:e,children:(0,i.jsx)(Pi,{space:"target-ray-space",children:(0,i.jsx)(cn.Suspense,{children:"function"==typeof n?(0,i.jsx)(n,{}):(0,i.jsx)(Zn,{...n})})})},hi(e))})})}function Ai(){const e=Ci(e=>e.inputSourceStates.filter(e=>"transientPointer"===e.type),bn),t=Ci(e=>e.transientPointer);return!1===t?null:(0,i.jsx)(i.Fragment,{children:e.map(e=>{const n=_e(t,e.inputSource.handedness,{});return!1===n?null:(0,i.jsx)(dn.Provider,{value:e,children:(0,i.jsx)(Pi,{space:"target-ray-space",children:(0,i.jsx)(cn.Suspense,{children:"function"==typeof n?(0,i.jsx)(n,{}):(0,i.jsx)(Kn,{...n})})})},hi(e))})})}function mi(){const e=Ci(e=>e.inputSourceStates.filter(e=>"gaze"===e.type),bn),t=Ci(e=>e.gaze);return!1===t?null:(0,i.jsx)(i.Fragment,{children:e.map(e=>(0,i.jsx)(dn.Provider,{value:e,children:(0,i.jsx)(Pi,{space:"target-ray-space",children:(0,i.jsx)(cn.Suspense,{children:"function"==typeof t?(0,i.jsx)(t,{}):(0,i.jsx)($n,{...yi(t)})})})},hi(e)))})}function vi(){const e=Ci(e=>e.inputSourceStates.filter(e=>"screenInput"===e.type),bn),t=Ci(e=>e.screenInput);return!1===t?null:(0,i.jsx)(i.Fragment,{children:e.map(e=>(0,i.jsx)(dn.Provider,{value:e,children:(0,i.jsx)(Pi,{space:"target-ray-space",children:(0,i.jsx)(cn.Suspense,{children:"function"==typeof t?(0,i.jsx)(t,{}):(0,i.jsx)(ei,{...yi(t)})})})},hi(e)))})}function yi(e){if(!0!==e)return e}function Ei(e){return ke(e)}function Si({children:e,store:t}){t.setWebXRManager((0,ln.C)(e=>e.gl.xr));const n=(0,ln.A)();return(0,cn.useEffect)(()=>{let e;return t.subscribe((t,i)=>{if(t.session!==i.session){if(null!=t.session){const{camera:t,gl:i}=n.getState();return e=t,void n.setState({camera:i.xr.getCamera()})}null!=e&&n.setState({camera:e})}})},[n,t]),(0,ln.D)((e,n,i)=>t.onBeforeFrame(e.scene,e.camera,i),-1e3),(0,ln.D)(()=>t.onBeforeRender()),(0,i.jsx)(un.Provider,{value:t,children:(0,i.jsxs)(xi,{children:[(0,i.jsx)(pi,{}),e]})})}function bi({children:e}){const t=(0,cn.useMemo)(()=>Ei(),[]);return(0,i.jsx)(un.Provider,{value:t,children:e})}function xi({children:e}){const t=wi(),n=(0,cn.useMemo)(()=>new xe.XO(!0),[]);return(0,cn.useEffect)(()=>function(e){const t=(e,t)=>{var i;null!=t&&e.visibilityState===t.visibilityState||(i="visible"===e.visibilityState,n.setEnabled(i,{timeStamp:performance.now()}))};return t(e.getState()),e.subscribe(t)}(t),[t,n]),(0,ln.D)(e=>n.move(e.scene,{timeStamp:performance.now()}),-50),(0,i.jsx)(pn.Provider,{value:n,children:e})}function wi(){const e=(0,cn.useContext)(un);if(null==e)throw new Error("XR features can only be used inside the <XR> component");return e}function Ii(){return(0,cn.useContext)(un)}function Ci(e=e=>e,t){return En(wi(),e,t)}function Ti(){return Ci(e=>e.inputSourceStates)}function Mi(e,t){return Ci(n=>n.inputSourceStates.find(n=>n.type===e&&(null==t||n.inputSource.handedness===t)))}function Bi(e){const t=(0,cn.useContext)(dn);if(null==t)throw new Error("useXRInputSourceStateContext() can only be used inside the xr store config");if(null!=e&&t.type!=e)throw new Error(`useXRInputSourceStateContext(${e}) can not be used inside a component for input type "${t.type}"`);return t}function Ri(e,t,n,i){const r=Ci(e=>e.session);(0,cn.useEffect)(()=>{if(null!=r&&null!=e)return function(e,t,n,i){const r=e=>{"all"!=t&&e.inputSource!=t||i(e)};return e.addEventListener(n,r),()=>e.removeEventListener(n,r)}(r,e,t,n)},[t,e,r,...i])}const Pi=(0,cn.forwardRef)(({space:e,children:t},n)=>{const r=(0,cn.useRef)(null),s="string"==typeof e?_i(e):e;(0,cn.useImperativeHandle)(n,()=>r.current,[]),Ni(r,s);const a=(0,cn.useCallback)(e=>{null!=e&&(e.transformReady=!1,e.visible=!1),r.current=e},[]);return(0,i.jsx)("group",{xrSpace:s,matrixAutoUpdate:!1,ref:a,children:s&&(0,i.jsx)(hn.Provider,{value:s,children:t})})});function _i(e){switch(e){case"grip-space":return Bi().inputSource.gripSpace;case"target-ray-space":return Bi().inputSource.targetRaySpace;case"wrist":case"thumb-metacarpal":case"thumb-phalanx-proximal":case"thumb-phalanx-distal":case"thumb-tip":case"index-finger-metacarpal":case"index-finger-phalanx-proximal":case"index-finger-phalanx-intermediate":case"index-finger-phalanx-distal":case"index-finger-tip":case"middle-finger-metacarpal":case"middle-finger-phalanx-proximal":case"middle-finger-phalanx-intermediate":case"middle-finger-phalanx-distal":case"middle-finger-tip":case"ring-finger-metacarpal":case"ring-finger-phalanx-proximal":case"ring-finger-phalanx-intermediate":case"ring-finger-phalanx-distal":case"ring-finger-tip":case"pinky-finger-metacarpal":case"pinky-finger-phalanx-proximal":case"pinky-finger-phalanx-intermediate":case"pinky-finger-phalanx-distal":case"pinky-finger-tip":return Bi("hand").inputSource.hand.get(e);case"root":case"hips":case"spine-lower":case"spine-middle":case"spine-upper":case"chest":case"neck":case"head":case"left-shoulder":case"left-scapula":case"left-arm-upper":case"left-arm-lower":case"left-hand-wrist-twist":case"right-shoulder":case"right-scapula":case"right-arm-upper":case"right-arm-lower":case"right-hand-wrist-twist":case"left-hand-palm":case"left-hand-wrist":case"left-hand-thumb-metacarpal":case"left-hand-thumb-phalanx-proximal":case"left-hand-thumb-phalanx-distal":case"left-hand-thumb-tip":case"left-hand-index-metacarpal":case"left-hand-index-phalanx-proximal":case"left-hand-index-phalanx-intermediate":case"left-hand-index-phalanx-distal":case"left-hand-index-tip":case"left-hand-middle-metacarpal":case"left-hand-middle-phalanx-proximal":case"left-hand-middle-phalanx-intermediate":case"left-hand-middle-phalanx-distal":case"left-hand-middle-tip":case"left-hand-ring-metacarpal":case"left-hand-ring-phalanx-proximal":case"left-hand-ring-phalanx-intermediate":case"left-hand-ring-phalanx-distal":case"left-hand-ring-tip":case"left-hand-little-metacarpal":case"left-hand-little-phalanx-proximal":case"left-hand-little-phalanx-intermediate":case"left-hand-little-phalanx-distal":case"left-hand-little-tip":case"right-hand-palm":case"right-hand-wrist":case"right-hand-thumb-metacarpal":case"right-hand-thumb-phalanx-proximal":case"right-hand-thumb-phalanx-distal":case"right-hand-thumb-tip":case"right-hand-index-metacarpal":case"right-hand-index-phalanx-proximal":case"right-hand-index-phalanx-intermediate":case"right-hand-index-phalanx-distal":case"right-hand-index-tip":case"right-hand-middle-metacarpal":case"right-hand-middle-phalanx-proximal":case"right-hand-middle-phalanx-intermediate":case"right-hand-middle-phalanx-distal":case"right-hand-middle-tip":case"right-hand-ring-metacarpal":case"right-hand-ring-phalanx-proximal":case"right-hand-ring-phalanx-intermediate":case"right-hand-ring-phalanx-distal":case"right-hand-ring-tip":case"right-hand-little-metacarpal":case"right-hand-little-phalanx-proximal":case"right-hand-little-phalanx-intermediate":case"right-hand-little-phalanx-distal":case"right-hand-little-tip":case"left-upper-leg":case"left-lower-leg":case"left-foot-ankle-twist":case"left-foot-ankle":case"left-foot-subtalar":case"left-foot-transverse":case"left-foot-ball":case"right-upper-leg":case"right-lower-leg":case"right-foot-ankle-twist":case"right-foot-ankle":case"right-foot-subtalar":case"right-foot-transverse":case"right-foot-ball":return Ci(e=>e.body)?.get(e)}if(null==e){const e=(0,cn.useContext)(hn);if(null==e)throw new Error("XR objects must be placed inside the XROrigin");return e}const[t,n]=(0,cn.useState)(void 0),i=Ci(e=>e.session);return(0,cn.useEffect)(()=>{if(null==i)return;let t=!1;return i.requestReferenceSpace(e).then(e=>{t||n(e)}),()=>{t=!0}},[i,e]),t}function Di(e){const t=(0,cn.useContext)(hn),n=Ci(e=>t??e.originReferenceSpace);return(0,cn.useMemo)(()=>null==e||null==n?void 0:function(e,t){return(n,i)=>{if(e===t)return n.identity(),!0;const r="function"==typeof t?t():t;if(null==r)return!1;const s=i?.getPose(e,r);return null!=s&&(n.fromArray(s.transform.matrix),!0)}}(e,n),[e,n])}function Ni(e,t,n){const i=Di(t);(0,ln.D)((t,r,s)=>{null!=e.current&&(e.current.visible=e.current.transformReady=i?.(e.current.matrix,s)??!1),n?.(t,r,s)},-100)}const Li=(0,cn.forwardRef)(({mesh:e,...t},n)=>{const r=ki(e);return(0,i.jsx)("mesh",{ref:n,geometry:r,...t})});function Oi(e){const t=Ci(e=>e.detectedMeshes);return(0,cn.useMemo)(()=>null==e?t:t.filter(t=>t.semanticLabel===e),[t,e])}function ki(e,t=!0){const[n,i]=(0,cn.useState)(Je(e,void 0));return(0,ln.D)(()=>i(t=>Je(e,t))),(0,cn.useEffect)(()=>{if(t)return()=>n.dispose()},[n]),n}const Ui=(0,cn.forwardRef)(({plane:e,...t},n)=>{const r=Qi(e);return(0,i.jsx)("mesh",{ref:n,geometry:r,...t})});function Fi(e){const t=Ci(e=>e.detectedPlanes);return(0,cn.useMemo)(()=>null==e?t:t.filter(t=>t.semanticLabel===e),[t,e])}function Qi(e,t=!0){const[n,i]=(0,cn.useState)(Ze(e,void 0));return(0,ln.D)(()=>i(t=>Ze(e,t))),(0,cn.useEffect)(()=>{if(t)return()=>n.dispose()},[n]),n}function Vi(e,t,n,i){const r=(0,ln.C)(e=>e.camera);(0,ln.D)(()=>{null!=e.current&&t(function(e,t,n,i){return t.getWorldQuaternion(Me),Ce.copy(n).applyQuaternion(Me),t.getWorldPosition(Te),e.getWorldPosition(Ie),Ie.sub(Te),Ie.angleTo(Ce)<i/2}(r,e.current,n,i))})}function Hi({children:e,direction:t,angle:n=Math.PI/2}){const r=(0,cn.useRef)(null);return Vi(r,e=>{null!=r.current&&(r.current.visible=e)},t,n),(0,i.jsx)("group",{ref:r,children:e})}function Gi({children:e,direction:t,angle:n=Math.PI/2}){const r=(0,cn.useRef)(null),[s,a]=(0,cn.useState)(!1);return Vi(r,a,t,n),(0,i.jsx)("group",{ref:r,children:s?e:null})}function zi(e,t){const n=Ci(e=>e.mode);return null!=t?Array.isArray(t)?!t.includes(n):t!=n:null!=e?Array.isArray(e)?e.includes(n):e===n:null!==n}function Wi({children:e,allow:t,deny:n}){const r=zi(t,n);return(0,i.jsx)("group",{visible:r,children:e})}function Xi({children:e,allow:t,deny:n}){return zi(t,n)?(0,i.jsx)(i.Fragment,{children:e}):null}function ji({children:e,mode:t}){const n=ai(t);return(0,i.jsx)("group",{visible:n,children:e})}function qi({children:e,mode:t}){return ai(t)?(0,i.jsx)(i.Fragment,{children:e}):null}function Yi({children:e}){const t=ri();return(0,i.jsx)("group",{visible:null==t||"visible"===t,children:e})}function Ji({children:e}){const t=ri();return"visible"!=t&&null!=t?null:(0,i.jsx)(i.Fragment,{children:e})}const Zi=(0,cn.forwardRef)(({children:e,disabled:t,...n},r)=>{const s=(0,ln.C)(e=>e.gl.xr.getCamera()),a=(0,cn.useRef)(null),o=Ci(e=>e.originReferenceSpace);return(0,cn.useImperativeHandle)(r,()=>a.current,[]),(0,cn.useEffect)(()=>{const e=a.current;if(null!=e&&!t)return e.add(s),()=>{e.remove(s)}},[t,s]),(0,i.jsx)("group",{ref:a,...n,children:(0,i.jsx)(hn.Provider,{value:o,children:e})})});function Ki(e,t){const[n,i]=(0,cn.useState)();return er(e,t,i),n}function $i(e,t,n){const i=(0,cn.useRef)(void 0);er(t,n,(0,cn.useCallback)(e=>i.current=e,[])),(0,ln.D)((t,n,r)=>{null!=e&&null!=r&&null!=i.current&&e(r.getHitTestResults(i.current.source),i.current.getWorldMatrix)})}function er(e,t,n){const i=wi(),r=En(i,e=>e.session);(0,cn.useEffect)(()=>{if(null==r)return;let s,a=!1;const o=e instanceof XRSpace||"string"==typeof e?e:e?.current;return null!=o?(Dt(i,r,o,t).then(e=>{a||(s=e,n(e))}),()=>{n(void 0),a=!0,s?.source.cancel()}):void 0},[r,i,e,t,n])}function tr(){const e=wi();return(0,cn.useCallback)((t,n)=>{const i=t instanceof XRSpace||"string"==typeof t?t:t.current;if(null!=i)return Nt(e,i,n)},[e])}const nr=(0,cn.forwardRef)(({trackableType:e,onResults:t,space:n,...r},s)=>{const a=(0,cn.useRef)(null);return(0,cn.useImperativeHandle)(s,()=>a.current),$i(t,n??a,e),(0,i.jsx)("group",{...r,ref:a})});function ir(){const e=wi();return(0,cn.useMemo)(()=>zt.bind(null,e),[e])}function rr(){const[e,t]=(0,cn.useState)(void 0),n=(0,cn.useRef)(()=>{}),i=wi(),r=(0,cn.useCallback)(async e=>{n.current?.(),n.current=void 0;let r=!1;n.current=()=>r=!0;const s=await zt(i,e);if(!r)return n.current=()=>s?.delete(),t(s),s;s?.delete()},[i]);return(0,cn.useEffect)(()=>()=>{n.current?.()},[]),[e,r]}var sr=n(5338);const ar=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,s={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(i,r,s);return s},{useDebugValue:or}=cn,{useSyncExternalStoreWithSelector:lr}=gn;let cr=!1;const ur=e=>e,dr=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?ar(e):ar)(e):e,n=(e,n)=>function(e,t=ur,n){n&&!cr&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cr=!0);const i=lr(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return or(i),i}(t,e,n);return Object.assign(n,t),n};var hr,pr;const fr="undefined"!=typeof window&&(null!=(hr=window.document)&&hr.createElement||"ReactNative"===(null==(pr=window.navigator)?void 0:pr.product))?cn.useLayoutEffect:cn.useEffect;function gr(){const e=(t=e=>({current:new Array,version:0,set:e}))?dr(t):dr;var t;return{In:({children:t})=>{const n=e(e=>e.set),i=e(e=>e.version);return fr(()=>{n(e=>({version:e.version+1}))},[]),fr(()=>(n(({current:e})=>({current:[...e,t]})),()=>n(({current:e})=>({current:e.filter(e=>e!==t)}))),[t,i]),null},Out:()=>{const t=e(e=>e.current);return cn.createElement(cn.Fragment,null,t)}}}const Ar=(0,cn.forwardRef)((e,t)=>{const n=Ci(e=>e.domOverlayRoot),{In:r,Out:s}=(0,cn.useMemo)(gr,[]);return(0,cn.useEffect)(()=>{if(null==n)return;const e=(0,sr.createRoot)(n);return e.render((0,i.jsx)(s,{})),()=>e.unmount()},[n,s]),(0,i.jsx)(r,{children:(0,i.jsx)("div",{...e,ref:t})})}),mr=(0,cn.forwardRef)(function({src:e,pixelWidth:t=1024,pixelHeight:n=1024,dpr:s=1,renderPriority:a=0,children:o,customRender:l,...c},u){const[d,h]=(0,cn.useState)(!1),p=(0,cn.useRef)(null),f=(0,cn.useRef)(void 0),g=(0,cn.useRef)(void 0);(0,cn.useEffect)(()=>{h(!1);let t=!1;return async function(e){if(e instanceof HTMLImageElement&&!e.complete&&await new Promise(t=>{const n=()=>{t(),e.removeEventListener("load",n)};e.addEventListener("load",n)}),e instanceof HTMLVideoElement&&e.readyState<1)return new Promise(t=>{const n=()=>{t(),e.removeEventListener("loadedmetadata",n)};e.addEventListener("loadedmetadata",n)})}(e).then(()=>!t&&h(!0)),()=>{t=!0}},[e]);const A=li("layers"),m=(0,cn.useMemo)(()=>function(e,t){switch(e){case"cylinder":const e=t.centralAngle??nt;return new r.Ho_(1,1,1,ht(e),1,!0,Math.PI-e/2,e).scale(-1,1,1);case"equirect":{const e=t.centralHorizontalAngle??it,n=t.upperVerticalAngle??st,i=n-(t.lowerVerticalAngle??rt);return new r.Gu$(1,ht(e),ht(i),-Math.PI/2-e/2,e,Math.PI/2-n,i).scale(-1,1,1)}case"quad":return new r.bdM}}(c.shape??"quad",{centralAngle:c.centralAngle,centralHorizontalAngle:c.centralHorizontalAngle,lowerVerticalAngle:c.lowerVerticalAngle,upperVerticalAngle:c.upperVerticalAngle}),[c.centralAngle,c.centralHorizontalAngle,c.lowerVerticalAngle,c.shape,c.upperVerticalAngle]),v=Sr(t,n,s);return function(e,t,n){(0,cn.useEffect)(()=>{const{current:n}=t;if(null==n)return;let i;const r=(e,t)=>{if(e.camera===t?.camera&&e.scene===t.scene)return;i?.();const{destroy:r,update:s}=(0,xe.GS)(n,()=>e.camera,e.scene),a=(0,ln.j)(s);i=()=>{r(),a()}};r(e.getState());const s=e.subscribe(r);return()=>{s(),i?.()}},[e,t,...n])}(v,p,[d,A]),(0,cn.useImperativeHandle)(u,()=>p.current,[d,A]),d?(0,i.jsxs)(i.Fragment,{children:[null==e&&(0,i.jsx)(Ir,{customRender:l,store:v,renderPriority:a,renderTargetRef:f,layerEntryRef:A?g:void 0,children:o}),A?(0,i.jsx)(vr,{renderTargetRef:f,layerEntryRef:g,pixelWidth:t,pixelHeight:n,dpr:s,ref:p,...c,src:e,geometry:m}):(0,i.jsx)(yr,{renderTargetRef:f,ref:p,...c,src:e,pixelWidth:t,pixelHeight:n,dpr:s,geometry:m})]}):null}),vr=(0,cn.forwardRef)(({src:e,shape:t,colorFormat:n,depthFormat:s,layout:a,mipLevels:o,renderOrder:l=0,blendTextureSourceAlpha:c,centralAngle:u,centralHorizontalAngle:d,chromaticAberrationCorrection:h,lowerVerticalAngle:p,quality:f,upperVerticalAngle:g,invertStereo:A,pixelWidth:m,pixelHeight:v,dpr:y,renderTargetRef:E,layerEntryRef:S,...b},x)=>{const w=(0,cn.useRef)(null),I=(0,ln.C)(e=>e.gl),C=wi(),T={blendTextureSourceAlpha:c,centralAngle:u,centralHorizontalAngle:d,chromaticAberrationCorrection:h,lowerVerticalAngle:p,quality:f,upperVerticalAngle:g},M=(0,cn.useRef)(T);M.current=T;const B=(0,cn.useRef)(l);B.current=l;const R=Ci(e=>e.originReferenceSpace);return(0,cn.useEffect)(()=>{if(null==w.current||null==R)return;const i=e??(E.current=At(m,v,y)),l=function(e,t,n,i,s,a,o){return e instanceof HTMLVideoElement?function(e,t,n,i,{invertStereo:r,layout:s,shape:a="quad"},o={}){const l={invertStereo:r,layout:s,space:Se(i,t.origin,n,at),transform:ut(at,ct)};gt(a,l,o.centralAngle,ct);const c=`create${pt(a)}Layer`,u=t.mediaBinding?.[c](e,l);if(null!=u)return ft(u,o),u}(e,t,n,s,a,o):function(e,t,n,i,s,{shape:a="quad",...o},l={}){const c=Se(s,t,n,at),u=ut(at,ct),d={...o,isStatic:!(e instanceof r.nWS),textureType:"texture",viewPixelWidth:"stereo-left-right"===o.layout?e.width/2:e.width,viewPixelHeight:"stereo-top-bottom"===o.layout?e.height/2:e.height,space:c,transform:u};gt(a,d,l.centralAngle,ct);const h=`create${pt(a)}Layer`,p=i.getBinding()?.[h](d);if(null!=p)return ft(p,l),p}(e,t.origin,n,i,s,a,o)}(i,C.getState(),R,I.xr,w.current,{colorFormat:n,depthFormat:s,invertStereo:A,layout:a,mipLevels:o,shape:t},M.current);if(null==l)return;const c=S.current={layer:l,renderOrder:B.current,object3D:w.current};if(C.addLayerEntry(c),i instanceof HTMLVideoElement||i instanceof r.nWS)return()=>{C.removeLayerEntry(c),l.destroy()};const u=function(e,t,n,i){let r=!1;const s=async()=>{const s=await t.requestFrame();r||function(e,t,n,i){const r=e.getContext(),s=e.xr.getBinding().getSubImage(t,n);e.state.bindTexture(r.TEXTURE_2D,s.colorTexture),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.texSubImage2D(r.TEXTURE_2D,0,0,0,i.width,i.height,r.RGBA,r.UNSIGNED_BYTE,i)}(e,n,s,i)};return n.addEventListener("redraw",s),s(),()=>{r=!0,n.removeEventListener("redraw",s)}}(I,C,l,i);return()=>{C.removeLayerEntry(c),u(),l.destroy()}},[R,n,s,A,S,a,o,v,m,y,E,I,t,e,C]),null!=S.current&&(S.current.renderOrder=l),null!=S.current&&ft(S.current.layer,M.current),(0,ln.D)(()=>{null!=S.current&&null!=w.current&&function(e,t,n,i){var r;null!=e.originReferenceSpace&&(t.space=Se(i,e.origin,e.originReferenceSpace,at),t.transform=ut(at,ct),gt((r=t)instanceof XRCylinderLayer?"cylinder":r instanceof XREquirectLayer?"equirect":"quad",t,n,ct))}(C.getState(),S.current.layer,M.current.centralAngle,w.current)}),(0,cn.useImperativeHandle)(x,()=>w.current,[]),(0,i.jsx)("mesh",{...b,renderOrder:-1/0,ref:w,children:(0,i.jsx)("meshBasicMaterial",{colorWrite:!1})})}),yr=(0,cn.forwardRef)(({src:e,renderTargetRef:t,dpr:n,renderOrder:s,pixelWidth:a,pixelHeight:o,...l},c)=>{const u=(0,cn.useRef)(null);return(0,cn.useEffect)(()=>{if(null==u.current)return;const i=e??(t.current=At(a,o,n)),s=function(e){if(e instanceof r.nWS)return e.texture;const t=e instanceof HTMLVideoElement?new r.Nv2(e):new r.gPd(e);return t.colorSpace=r.er$,t.needsUpdate=!0,t}(i);return u.current.map=s,u.current.needsUpdate=!0,()=>{i instanceof r.nWS?i.dispose():s.dispose()}},[e,a,o,n,t]),(0,i.jsx)("mesh",{ref:c,...l,children:(0,i.jsx)("meshBasicMaterial",{ref:u,toneMapped:!1})})}),Er=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"];function Sr(e,t,n){const i=(0,ln.A)(),s=(0,cn.useMemo)(()=>{let e=i.getState();const t=new r.ubm(50,1,.1,1e3);t.position.set(0,0,5);const n=new r.I9Y;let s={events:{enabled:!1,priority:0},size:{width:1,height:1,left:0,top:0},camera:t,scene:new r.Z58,raycaster:new r.tBo,pointer:n,mouse:n,previousRoot:i};const a=(o=(n,i)=>{const a=()=>{const n={};for(const t in e)Er.includes(t)||(n[t]=e[t]);return Object.assign(n,s,{events:{...e.events,...s.events},viewport:Object.assign({},e.viewport,e.viewport.getCurrentViewport(t,new r.Pq0,s.size))})},o=()=>n(a());return{...e,set(e){"function"==typeof e&&(e=e(i())),Object.assign(s,e),o()},setPreviousState(t){e=t,o()},get:i,setEvents(){},...a()}})?Sn(o):Sn;var o;return Object.assign(a,{setState(e){a.getState().set(e)}})},[i]);return(0,cn.useEffect)(()=>i.subscribe(s.getState().setPreviousState),[i,s]),(0,cn.useEffect)(()=>{const i={factor:1,distance:0,dpr:n,initialDpr:n,left:0,top:0,getCurrentViewport:()=>i,width:e,height:t,aspect:e/t};s.setState({size:{width:e,height:t,top:0,left:0},viewport:i})},[e,t,n,s,i]),s}const br=new r.IUQ;function xr(e){return this.getViewport(br),e.x=br.z-br.x,e.y=br.w-br.y,e}const wr=new r.IUQ;function Ir({renderPriority:e,children:t,layerEntryRef:n,renderTargetRef:s,store:a,customRender:o}){let l,c,u,d,h,p;return(0,cn.useEffect)(()=>{const e=(e,t)=>{const{size:n,camera:i}=e;i instanceof r.qUd?(i.left=n.width/-2,i.right=n.width/2,i.top=n.height/2,i.bottom=n.height/-2):i.aspect=n.width/n.height,n===t?.size&&i===t.camera||(i.updateProjectionMatrix(),i.updateMatrixWorld())};return e(a.getState()),a.subscribe(e)},[a]),(0,ln.D)((e,t,i)=>{if(null==s.current||null!=n&&(null==n.current||null==i))return;const r=a.getState(),{gl:f,scene:g,camera:A}=r;l=f.autoClear,c=f.xr.enabled,u=f.xr.isPresenting,d=f.getRenderTarget(),p=f.getSize,h=f.getDrawingBufferSize,f.getViewport(wr),f.autoClear=!0,f.xr.enabled=!1,f.xr.isPresenting=!1;const m=s.current;f.setViewport(0,0,m.width,m.height),f.getSize=xr,f.getDrawingBufferSize=xr,function(e,t,n,i){if(null!=n&&null!=i){const r=e.xr.getBinding().getSubImage(n.layer,i);e.setRenderTargetTextures(t,r.colorTexture)}e.setRenderTarget(t)}(f,m,n?.current,i),null!=o?o(m,r,t,i):f.render(g,A),f.setRenderTarget(d),f.setViewport(wr),f.autoClear=l,f.xr.enabled=c,f.xr.isPresenting=u,f.getSize=p,f.getDrawingBufferSize=h},e),(0,i.jsx)(i.Fragment,{children:ln.r.createPortal((0,i.jsx)(ln.q.Provider,{value:a,children:t}),a,null)})}function Cr(e,t={},n={},i="left"){const s=wi(),a=(0,cn.useMemo)(()=>function(){let e=!0;return(t,n,i,s,a={},o={},l="left",...c)=>{const{inputSourceStates:u}=n.getState(),d="left"===l?"right":"left",h=u.find(e=>Kt(e,l)),p=u.find(e=>Kt(e,d));if(null==h||null==p)return;const f=h.gamepad[Xt],g=f?.xAxis??0,A=f?.yAxis??0,m=p.gamepad[Xt]?.xAxis??0;let v;!1!==o&&(!0===o&&(o={}),"smooth"===o.type?Math.abs(m)>(o.deadZone??.5)&&(v=(m<0?-1:1)*s*(o.speed??2)):Math.abs(m)<(o.deadZone??.5)?e=!0:e&&(e=!1,v=(m>0?-1:1)*r.cj9.degToRad(o.degrees??45)));const y=0!=g||0!=A;if(!1!==a&&y){!0===a&&(a={});const{speed:e=Wt}=a;jt.set(g*e,0,A*e),i.matrixWorld.decompose(Jt,qt,Zt),jt.applyQuaternion(qt),v&&jt.applyEuler(Yt.set(0,v,0,"YXZ"))}(y||null!=v)&&("function"!=typeof t?null!=t&&(t.position.x+=jt.x*s,t.position.z+=jt.z*s,t.rotation.y+=v??0):t(jt,v??0,...c))}}(),[]);(0,ln.D)((r,o,l)=>a("function"==typeof e?e:e.current,s,r.camera,o,t,n,i,o,r,l))}function Tr({batchEvents:e,clickThesholdMs:t,clickThresholdMs:n,contextMenuButton:i,customSort:r,dblClickThresholdMs:s,filter:a,forwardPointerCapture:o,intersectEveryFrame:l,pointerTypePrefix:c}){const u=(0,ln.C)(e=>e.gl.domElement),d=(0,ln.C)(e=>"always"===e.frameloop),h=(0,ln.C)(e=>e.camera),p=(0,ln.C)(e=>e.scene);return(0,cn.useEffect)(()=>{const{destroy:f,update:g}=(0,xe.ar)(u,()=>h,p,{batchEvents:e??d,clickThesholdMs:t,clickThresholdMs:n,contextMenuButton:i,customSort:r,dblClickThresholdMs:s,filter:a,forwardPointerCapture:o,intersectEveryFrame:l,pointerTypePrefix:c}),A=(0,ln.j)(g);return()=>{A(),f()}},[u,h,p,d,e,n,t,i,r,s,a,o,l,c]),null}const Mr=()=>({enabled:!1,priority:0}),Br=(0,cn.forwardRef)(({store:e,mode:t,onError:n,children:r,...s},a)=>{const o=En(e,e=>e.session),l=ai(t,n);return(0,i.jsx)("button",{ref:a,...s,onClick:()=>null!=o?o.end():e.enterXR(t).catch(n),children:"function"==typeof r?r(l?null!=o?"entered":"exited":"unsupported"):r})}),Rr=(0,cn.forwardRef)((e,t)=>(0,i.jsx)(Br,{ref:t,mode:"immersive-ar",...e})),Pr=(0,cn.forwardRef)((e,t)=>(0,i.jsx)(Br,{ref:t,mode:"immersive-vr",...e})),_r={onBlur:"pointerleave",onHover:"pointerenter",onMove:"pointermove",onSelect:{type:"click",filter:e=>"ray"===e.pointerType},onSelectEnd:{type:"pointerup",filter:e=>"ray"===e.pointerType},onSelectStart:{type:"pointerdown",filter:e=>"ray"===e.pointerType},onSqueeze:{type:"click",filter:e=>"grab"===e.pointerType},onSqueezeEnd:{type:"pointerup",filter:e=>"grab"===e.pointerType},onSqueezeStart:{type:"pointerdown",filter:e=>"grab"===e.pointerType}};function Dr(e,t,n){const i=(0,cn.useRef)(n);i.current=n,(0,cn.useEffect)(()=>{const{current:n}=e;if(null==n)return;const r=_r[t],s="string"==typeof r?e=>i.current?.({intersection:e,intersections:[e],target:e.pointerState}):e=>{e instanceof xe.Ox&&!r.filter(e)||i.current?.({intersection:e,intersections:[e],target:e.pointerState})},a="string"==typeof r?r:r.type;return n.addEventListener(a,s),()=>n.removeEventListener(a,s)},[e,t])}function Nr(e,t,{handedness:n}={}){const i=Ci(e=>e.session),r=(0,cn.useRef)(t);r.current=t,(0,cn.useEffect)(()=>{if(null==i)return;const t=e=>{r.current?.({type:e.type,data:e.inputSource})};return i.addEventListener(e,t),()=>i.removeEventListener(e,t)},[i,n,e])}function Lr(e){return null==e?Bi("transientPointer"):Mi("transientPointer",e)}function Or(){return Bi("gaze")}function kr(){return Bi("screenInput")}function Ur(e){return null==e?Bi("hand"):Mi("hand",e)}function Fr(e){return null==e?Bi("controller"):Mi("controller",e)}const Qr=_i,Vr=(0,cn.forwardRef)(({onHover:e,onBlur:t,onSelectStart:n,onSelectEnd:r,onSelect:s,onSqueezeStart:a,onSqueezeEnd:o,onSqueeze:l,onMove:c,children:u},d)=>{const h=(0,cn.useRef)(null);return(0,cn.useImperativeHandle)(d,()=>h.current),Dr(h,"onHover",e),Dr(h,"onBlur",t),Dr(h,"onSelectStart",n),Dr(h,"onSelectEnd",r),Dr(h,"onSelect",s),Dr(h,"onSqueezeStart",a),Dr(h,"onSqueezeEnd",o),Dr(h,"onSqueeze",l),Dr(h,"onMove",c),(0,i.jsx)("group",{ref:h,children:u})}),Hr=(0,cn.forwardRef)(function({onSelectStart:e,onSelectEnd:t,children:n,...s},a){const o=(0,cn.useRef)(void 0),l=(0,cn.useRef)(null),c=(0,cn.useMemo)(()=>new r.kn4,[]);return(0,cn.useImperativeHandle)(a,()=>l.current),(0,ln.D)(()=>{const e=o.current,t=l.current;t&&e&&(t.applyMatrix4(c),e.updateWorldMatrix(!0,!1),t.applyMatrix4(e.matrixWorld),t.updateMatrixWorld(),c.copy(e.matrixWorld).invert())}),(0,i.jsx)(Vr,{ref:l,onSelectStart:t=>{!oe(t.target)||"controller"!==t.target.type&&"hand"!==t.target.type||null==t.target.object||(o.current=t.target.object,t.target.object.updateWorldMatrix(!0,!1),c.copy(t.target.object.matrixWorld).invert(),e?.(t))},onSelectEnd:e=>{e.target.controller===o.current&&(o.current=void 0),t?.(e)},...s,children:n})})},9318(e,t,n){"use strict";n.d(t,{Af:()=>o,Nz:()=>r,u5:()=>l,y3:()=>d});var i=n(6540);function r(e,t,n){if(!e)return;if(!0===n(e))return e;let i=t?e.return:e.child;for(;i;){const e=r(i,t,n);if(e)return e;i=t?null:i.sibling}}function s(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product))})()?i.useLayoutEffect:i.useEffect;const a=s(i.createContext(null));class o extends i.Component{render(){return i.createElement(a.Provider,{value:this._reactInternals},this.props.children)}}function l(){const e=i.useContext(a);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=i.useId();return i.useMemo(()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=r(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}const c=Symbol.for("react.context"),u=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c;function d(){const e=function(){const e=l(),[t]=i.useState(()=>new Map);t.clear();let n=e;for(;n;){const e=n.type;u(e)&&e!==a&&!t.has(e)&&t.set(e,i.use(s(e))),n=n.return}return t}();return i.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>i.createElement(t,null,i.createElement(n.Provider,{...r,value:e.get(n)})),e=>i.createElement(o,{...e})),[e])}},4922(e,t,n){"use strict";n.d(t,{$EB:()=>A,$Ed:()=>Io,$Kf:()=>Qa,$NF:()=>du,$O9:()=>Se,$Yl:()=>Q,$_I:()=>Te,$ei:()=>T,$p8:()=>Pu,A$4:()=>vs,AKb:()=>Vc,ALV:()=>Pi,AQS:()=>ni,Am1:()=>Xu,B69:()=>Or,B6O:()=>cl,BER:()=>le,BH$:()=>Qo,BKk:()=>Ys,BND:()=>ph,BRH:()=>pu,BXX:()=>it,B_h:()=>ht,CMB:()=>We,CR7:()=>gn,CSG:()=>_c,CV9:()=>vl,CVz:()=>lt,CWW:()=>Pt,Cfg:()=>be,CmU:()=>ku,CwR:()=>dd,D$Q:()=>Ic,DAe:()=>Ht,DXC:()=>Uo,Df:()=>Bc,Dmk:()=>Qe,E0M:()=>vh,EAD:()=>za,EQC:()=>kt,EZo:()=>y,EdD:()=>S,F1T:()=>na,F1l:()=>Jd,FCc:()=>Fo,FFZ:()=>Tn,FNr:()=>Nc,FV:()=>re,FXf:()=>w,FZo:()=>Nu,Fn:()=>It,Fpm:()=>zd,FvD:()=>Jo,Fvi:()=>ce,Fvt:()=>Lc,G3T:()=>_t,GBG:()=>Jc,GJx:()=>Ae,GOR:()=>$o,GWd:()=>Ge,GYF:()=>Va,GZZ:()=>gl,G_z:()=>Pc,Gu$:()=>Ac,Gwm:()=>q,GxU:()=>us,H23:()=>Ct,H2z:()=>Sh,HIg:()=>He,HLH:()=>on,HO_:()=>Rt,HPb:()=>hn,HXV:()=>at,HgN:()=>yi,HiM:()=>Tu,Hit:()=>Yc,Ho_:()=>Cl,Hrb:()=>ms,Hrq:()=>Nn,I46:()=>Fa,I9Y:()=>$n,IE4:()=>et,IUQ:()=>Ii,IWo:()=>hh,Iit:()=>Xs,Ipv:()=>tl,Iw4:()=>xd,IzY:()=>yh,Jnc:()=>l,K52:()=>Y,KDk:()=>ut,KLL:()=>nn,KPJ:()=>iu,KRh:()=>K,Ke9:()=>Vt,Kef:()=>Mt,Ktl:()=>Rn,Kwu:()=>E,Kzg:()=>Gu,Kzv:()=>ze,LAk:()=>ae,Ld9:()=>Eh,LiQ:()=>P,LlO:()=>qs,LoY:()=>Rs,LuO:()=>Bd,MBL:()=>Zc,MOq:()=>Ln,MSw:()=>gc,MW4:()=>Es,Mjd:()=>ne,Mmk:()=>di,N1A:()=>No,N2s:()=>hd,N5j:()=>jt,NRn:()=>Oi,NTi:()=>v,NZq:()=>Me,Nex:()=>bh,Nt7:()=>L,Nv2:()=>qo,Nwf:()=>yd,Nz6:()=>tt,O0B:()=>Ci,O3Y:()=>vc,O49:()=>zt,O9p:()=>yr,ONl:()=>Wo,OUM:()=>Be,Oax:()=>Ss,Om:()=>ge,OuU:()=>D,P5j:()=>Ed,PFK:()=>ah,PJ3:()=>Ot,PPD:()=>ao,PTz:()=>_i,Pdi:()=>Gc,Pem:()=>Yo,Pf$:()=>rd,Pq0:()=>Di,Q1f:()=>ts,QCA:()=>cc,QP0:()=>d,Qev:()=>Vn,Qrf:()=>gt,R1W:()=>eh,RJ4:()=>Gt,ROr:()=>ln,RQf:()=>Le,RcT:()=>An,RiT:()=>$c,Riy:()=>ct,Rkk:()=>Xt,RlV:()=>lr,RoJ:()=>da,RrE:()=>F,Ru$:()=>cn,RyA:()=>p,S$4:()=>wt,S20:()=>nl,SUR:()=>Uu,ScU:()=>hu,T6I:()=>qc,TDQ:()=>Nl,THS:()=>ps,TMh:()=>vn,Tap:()=>fu,TdN:()=>Fn,TiK:()=>xn,TkQ:()=>Ze,U3G:()=>j,UJ6:()=>Xc,UPV:()=>yc,UTZ:()=>ue,Ufg:()=>hc,UpK:()=>Ba,UtB:()=>Fd,UtX:()=>Wu,V3x:()=>Fe,V9B:()=>ss,VCu:()=>el,VGF:()=>Ke,VT0:()=>qe,VVr:()=>sn,Vb5:()=>o,VnP:()=>Al,Vnu:()=>Bn,Vwu:()=>xh,VxR:()=>tn,W9U:()=>Tt,WBB:()=>dc,WNZ:()=>a,WTh:()=>ch,Wdf:()=>Un,Wew:()=>ke,Wk7:()=>h,Wyr:()=>kn,XG_:()=>Bt,XIg:()=>m,XJ7:()=>Sc,XMJ:()=>wd,XTe:()=>Fu,XrR:()=>$,Y9S:()=>lu,YHV:()=>Ld,YJl:()=>jo,YOZ:()=>jc,YRT:()=>uu,Yhb:()=>Wc,Yuy:()=>De,Z0B:()=>pl,Z58:()=>oa,ZLX:()=>$a,ZM4:()=>fh,ZQM:()=>Ye,Zcv:()=>io,Zpd:()=>mc,Zr2:()=>en,ZyN:()=>Ru,_4j:()=>Cc,_QJ:()=>vt,_Ut:()=>js,_xc:()=>qd,a$r:()=>xe,a55:()=>Wn,a5J:()=>mt,aEY:()=>k,aHM:()=>su,aJ8:()=>oe,aMy:()=>Dt,aVO:()=>Dc,agE:()=>Mn,amv:()=>En,b4q:()=>ia,bC7:()=>St,bCz:()=>b,bI3:()=>Jt,bTm:()=>u,baL:()=>gs,bdM:()=>pc,bkx:()=>Ne,brA:()=>W,bw0:()=>J,c5h:()=>Ko,c90:()=>$e,cHt:()=>_e,cRK:()=>sa,cZY:()=>Hd,caT:()=>Z,cj9:()=>Kn,czI:()=>pt,dAo:()=>ml,dYF:()=>Ri,dcC:()=>je,dhZ:()=>Qt,dth:()=>Au,dwI:()=>ei,dzP:()=>Md,e0p:()=>V,eB$:()=>la,eHc:()=>G,eHs:()=>ua,eaF:()=>Hs,eoi:()=>wn,er$:()=>$t,ezk:()=>zc,f4X:()=>R,fBL:()=>Pe,fJr:()=>un,fP5:()=>sd,fTw:()=>th,fc6:()=>As,g7M:()=>se,gJ2:()=>Ue,gO9:()=>x,gPd:()=>wi,gWB:()=>Cn,ghU:()=>me,h2z:()=>Ft,hB5:()=>f,hIf:()=>_n,hZF:()=>Kc,h_9:()=>ru,hdd:()=>N,hgQ:()=>U,hjs:()=>Od,hsX:()=>g,hxR:()=>ye,hy7:()=>de,hzE:()=>nh,i7d:()=>Js,i7u:()=>Qn,iNn:()=>zs,iOZ:()=>Zo,iUH:()=>Ce,ibB:()=>il,ie2:()=>_,imn:()=>rs,ix0:()=>Oe,iyt:()=>er,j6:()=>Ec,jGm:()=>Sl,jR7:()=>nt,jUj:()=>aa,jej:()=>ci,jf0:()=>Kt,jsO:()=>fn,jut:()=>Lu,jzd:()=>In,k6Q:()=>rt,k6q:()=>we,k8v:()=>Yt,kBv:()=>r,kEx:()=>cu,kG0:()=>an,kLi:()=>Si,kO0:()=>bn,kRr:()=>Ie,kTW:()=>ve,kTp:()=>st,kYr:()=>pn,k_V:()=>kd,keZ:()=>Ju,klZ:()=>mn,kn4:()=>cr,kqe:()=>rn,kxk:()=>Ia,kyO:()=>te,l2R:()=>nu,lGu:()=>z,lGw:()=>Hc,lMl:()=>Jr,lPF:()=>ai,lc7:()=>Nt,ljd:()=>Lt,lxW:()=>Ws,lyL:()=>Et,mcG:()=>li,mrM:()=>Co,nCl:()=>bu,nEu:()=>Bl,nNL:()=>ie,nST:()=>I,nWS:()=>Ti,nZQ:()=>Zu,nc$:()=>Cd,nzx:()=>xl,o6l:()=>ra,oVO:()=>dn,oh6:()=>Rd,ojh:()=>M,ojs:()=>xt,ov9:()=>H,pBf:()=>ot,pFK:()=>Ml,pHI:()=>Ee,pPE:()=>Sd,paN:()=>Je,ppV:()=>gi,psI:()=>At,q2:()=>wc,qBx:()=>Rc,qFE:()=>Tl,qU7:()=>wl,qUd:()=>Mu,qa3:()=>dt,qad:()=>B,qq$:()=>si,qtW:()=>bs,r6x:()=>Ou,rFo:()=>Mi,rKP:()=>fc,rOG:()=>On,rQf:()=>Ut,rSH:()=>ft,rYR:()=>Wt,rrX:()=>Id,s0K:()=>fl,sKt:()=>yn,sPf:()=>i,tBo:()=>_d,tJf:()=>Re,tXL:()=>Mc,tcD:()=>Il,tz3:()=>eu,uB5:()=>yt,uSd:()=>Tc,uV5:()=>fe,uWO:()=>Wa,uXQ:()=>Pn,ubm:()=>ea,uov:()=>Dn,ure:()=>_u,veJ:()=>gu,vim:()=>Sn,vmz:()=>ys,vyJ:()=>Zt,wAk:()=>bl,wTz:()=>qt,wfO:()=>pe,wn6:()=>O,wrO:()=>Ve,wtR:()=>s,wvS:()=>fs,xFO:()=>he,xJ6:()=>ac,xOk:()=>Du,xSv:()=>X,xZx:()=>ud,xfg:()=>yl,xiE:()=>ui,y3Z:()=>bt,y9J:()=>Bi,y_p:()=>ee,ypk:()=>Ll,ywQ:()=>c,zD7:()=>Ku,zdS:()=>Xe,zgK:()=>Er,znC:()=>C});const i="172",r={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,o=1,l=2,c=3,u=0,d=1,h=2,p=3,f=0,g=1,A=2,m=0,v=1,y=2,E=3,S=4,b=5,x=100,w=101,I=102,C=103,T=104,M=200,B=201,R=202,P=203,_=204,D=205,N=206,L=207,O=208,k=209,U=210,F=211,Q=212,V=213,H=214,G=0,z=1,W=2,X=3,j=4,q=5,Y=6,J=7,Z=0,K=1,$=2,ee=0,te=1,ne=2,ie=3,re=4,se=5,ae=6,oe=7,le="attached",ce="detached",ue=300,de=301,he=302,pe=303,fe=304,ge=306,Ae=1e3,me=1001,ve=1002,ye=1003,Ee=1004,Se=1004,be=1005,xe=1005,we=1006,Ie=1007,Ce=1007,Te=1008,Me=1008,Be=1009,Re=1010,Pe=1011,_e=1012,De=1013,Ne=1014,Le=1015,Oe=1016,ke=1017,Ue=1018,Fe=1020,Qe=35902,Ve=1021,He=1022,Ge=1023,ze=1024,We=1025,Xe=1026,je=1027,qe=1028,Ye=1029,Je=1030,Ze=1031,Ke=1032,$e=1033,et=33776,tt=33777,nt=33778,it=33779,rt=35840,st=35841,at=35842,ot=35843,lt=36196,ct=37492,ut=37496,dt=37808,ht=37809,pt=37810,ft=37811,gt=37812,At=37813,mt=37814,vt=37815,yt=37816,Et=37817,St=37818,bt=37819,xt=37820,wt=37821,It=36492,Ct=36494,Tt=36495,Mt=36283,Bt=36284,Rt=36285,Pt=36286,_t=2200,Dt=2201,Nt=2202,Lt=2300,Ot=2301,kt=2302,Ut=2400,Ft=2401,Qt=2402,Vt=2500,Ht=2501,Gt=0,zt=1,Wt=2,Xt=3200,jt=3201,qt=3202,Yt=3203,Jt=0,Zt=1,Kt="",$t="srgb",en="srgb-linear",tn="linear",nn="srgb",rn=0,sn=7680,an=7681,on=7682,ln=7683,cn=34055,un=34056,dn=5386,hn=512,pn=513,fn=514,gn=515,An=516,mn=517,vn=518,yn=519,En=512,Sn=513,bn=514,xn=515,wn=516,In=517,Cn=518,Tn=519,Mn=35044,Bn=35048,Rn=35040,Pn=35045,_n=35049,Dn=35041,Nn=35046,Ln=35050,On=35042,kn="100",Un="300 es",Fn=2e3,Qn=2001;class Vn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e);e.target=null}}}const Hn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Gn=1234567;const zn=Math.PI/180,Wn=180/Math.PI;function Xn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Hn[255&e]+Hn[e>>8&255]+Hn[e>>16&255]+Hn[e>>24&255]+"-"+Hn[255&t]+Hn[t>>8&255]+"-"+Hn[t>>16&15|64]+Hn[t>>24&255]+"-"+Hn[63&n|128]+Hn[n>>8&255]+"-"+Hn[n>>16&255]+Hn[n>>24&255]+Hn[255&i]+Hn[i>>8&255]+Hn[i>>16&255]+Hn[i>>24&255]).toLowerCase()}function jn(e,t,n){return Math.max(t,Math.min(n,e))}function qn(e,t){return(e%t+t)%t}function Yn(e,t,n){return(1-n)*e+n*t}function Jn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Zn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Kn={DEG2RAD:zn,RAD2DEG:Wn,generateUUID:Xn,clamp:jn,euclideanModulo:qn,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Yn,damp:function(e,t,n,i){return Yn(e,t,1-Math.exp(-n*i))},pingpong:function(e,t=1){return t-Math.abs(qn(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Gn=e);let t=Gn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*zn},radToDeg:function(e){return e*Wn},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((t+i)/2),u=a((t+i)/2),d=s((t-i)/2),h=a((t-i)/2),p=s((i-t)/2),f=a((i-t)/2);switch(r){case"XYX":e.set(o*u,l*d,l*h,o*c);break;case"YZY":e.set(l*h,o*u,l*d,o*c);break;case"ZXZ":e.set(l*d,l*h,o*u,o*c);break;case"XZX":e.set(o*u,l*f,l*p,o*c);break;case"YXY":e.set(l*p,o*u,l*f,o*c);break;case"ZYZ":e.set(l*f,l*p,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:Zn,denormalize:Jn};class $n{constructor(e=0,t=0){$n.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=jn(this.x,e.x,t.x),this.y=jn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=jn(this.x,e,t),this.y=jn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(jn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(jn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ei{constructor(e,t,n,i,r,s,a,o,l){ei.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,s,a,o,l)}set(e,t,n,i,r,s,a,o,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=o,c[6]=n,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[3],o=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=i[0],g=i[3],A=i[6],m=i[1],v=i[4],y=i[7],E=i[2],S=i[5],b=i[8];return r[0]=s*f+a*m+o*E,r[3]=s*g+a*v+o*S,r[6]=s*A+a*y+o*b,r[1]=l*f+c*m+u*E,r[4]=l*g+c*v+u*S,r[7]=l*A+c*y+u*b,r[2]=d*f+h*m+p*E,r[5]=d*g+h*v+p*S,r[8]=d*A+h*y+p*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*s*c-t*a*l-n*r*c+n*a*o+i*r*l-i*s*o}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=c*s-a*l,d=a*o-c*r,h=l*r-s*o,p=t*u+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(i*l-c*n)*f,e[2]=(a*n-i*s)*f,e[3]=d*f,e[4]=(c*t-i*o)*f,e[5]=(i*r-a*t)*f,e[6]=h*f,e[7]=(n*o-l*t)*f,e[8]=(s*t-n*r)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,s,a){const o=Math.cos(r),l=Math.sin(r);return this.set(n*o,n*l,-n*(o*s+l*a)+s+e,-i*l,i*o,-i*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(ti.makeScale(e,t)),this}rotate(e){return this.premultiply(ti.makeRotation(-e)),this}translate(e,t){return this.premultiply(ti.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const ti=new ei;function ni(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const ii={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ri(e,t){return new ii[e](t)}function si(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function ai(){const e=si("canvas");return e.style.display="block",e}const oi={};function li(e){e in oi||(oi[e]=!0,console.warn(e))}function ci(e,t,n){return new Promise(function(i,r){setTimeout(function s(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:r();break;case e.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}},n)})}function ui(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function di(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}const hi=(new ei).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),pi=(new ei).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function fi(){const e={enabled:!0,workingColorSpace:en,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===nn&&(e.r=Ai(e.r),e.g=Ai(e.g),e.b=Ai(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===nn&&(e.r=mi(e.r),e.g=mi(e.g),e.b=mi(e.b)),e):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===Kt?tn:this.spaces[e].transfer},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return e.define({[en]:{primaries:t,whitePoint:i,transfer:tn,toXYZ:hi,fromXYZ:pi,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:$t},outputColorSpaceConfig:{drawingBufferColorSpace:$t}},[$t]:{primaries:t,whitePoint:i,transfer:nn,toXYZ:hi,fromXYZ:pi,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:$t}}}),e}const gi=fi();function Ai(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function mi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let vi;class yi{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vi&&(vi=si("canvas")),vi.width=e.width,vi.height=e.height;const n=vi.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vi}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=si("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*Ai(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Ai(t[e]/255)):t[e]=Ai(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ei=0;class Si{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ei++}),this.uuid=Xn(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(bi(i[t].image)):e.push(bi(i[t]))}else e=bi(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function bi(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?yi.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let xi=0;class wi extends Vn{constructor(e=wi.DEFAULT_IMAGE,t=wi.DEFAULT_MAPPING,n=me,i=me,r=we,s=Te,a=Ge,o=Be,l=wi.DEFAULT_ANISOTROPY,c=Kt){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xi++}),this.uuid=Xn(),this.name="",this.source=new Si(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new $n(0,0),this.repeat=new $n(1,1),this.center=new $n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ei,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ue)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ae:e.x=e.x-Math.floor(e.x);break;case me:e.x=e.x<0?0:1;break;case ve:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ae:e.y=e.y-Math.floor(e.y);break;case me:e.y=e.y<0?0:1;break;case ve:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}wi.DEFAULT_IMAGE=null,wi.DEFAULT_MAPPING=ue,wi.DEFAULT_ANISOTROPY=1;class Ii{constructor(e=0,t=0,n=0,i=1){Ii.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const s=.01,a=.1,o=e.elements,l=o[0],c=o[4],u=o[8],d=o[1],h=o[5],p=o[9],f=o[2],g=o[6],A=o[10];if(Math.abs(c-d)<s&&Math.abs(u-f)<s&&Math.abs(p-g)<s){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+g)<a&&Math.abs(l+h+A-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,o=(h+1)/2,m=(A+1)/2,v=(c+d)/4,y=(u+f)/4,E=(p+g)/4;return e>o&&e>m?e<s?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=v/n,r=y/n):o>m?o<s?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(o),n=v/i,r=E/i):m<s?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(m),n=y/r,i=E/r),this.set(n,i,r,t),this}let m=Math.sqrt((g-p)*(g-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(m)<.001&&(m=1),this.x=(g-p)/m,this.y=(u-f)/m,this.z=(d-c)/m,this.w=Math.acos((l+h+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=jn(this.x,e.x,t.x),this.y=jn(this.y,e.y,t.y),this.z=jn(this.z,e.z,t.z),this.w=jn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=jn(this.x,e,t),this.y=jn(this.y,e,t),this.z=jn(this.z,e,t),this.w=jn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(jn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ci extends Vn{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ii(0,0,e,t),this.scissorTest=!1,this.viewport=new Ii(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:we,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const r=new wi(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);r.flipY=!1,r.generateMipmaps=n.generateMipmaps,r.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let e=0;e<s;e++)this.textures[e]=r.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++)this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new Si(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ti extends Ci{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Mi extends wi{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=ye,this.minFilter=ye,this.wrapR=me,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Bi extends Ti{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Mi(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ri extends wi{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=ye,this.minFilter=ye,this.wrapR=me,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pi extends Ti{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Ri(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class _i{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,s,a){let o=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[s+0],h=r[s+1],p=r[s+2],f=r[s+3];if(0===a)return e[t+0]=o,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||o!==d||l!==h||c!==p){let e=1-a;const t=o*d+l*h+c*p+u*f,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),s=Math.atan2(r,t*n);e=Math.sin(e*s)/r,a=Math.sin(a*s)/r}const r=a*n;if(o=o*e+d*r,l=l*e+h*r,c=c*e+p*r,u=u*e+f*r,e===1-a){const e=1/Math.sqrt(o*o+l*l+c*c+u*u);o*=e,l*=e,c*=e,u*=e}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,s){const a=n[i],o=n[i+1],l=n[i+2],c=n[i+3],u=r[s],d=r[s+1],h=r[s+2],p=r[s+3];return e[t]=a*p+c*u+o*h-l*d,e[t+1]=o*p+c*d+l*u-a*h,e[t+2]=l*p+c*h+a*d-o*u,e[t+3]=c*p-a*u-o*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,r=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(n/2),c=a(i/2),u=a(r/2),d=o(n/2),h=o(i/2),p=o(r/2);switch(s){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],s=t[1],a=t[5],o=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-o)*e,this._y=(r-l)*e,this._z=(s-i)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-o)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(r+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(r-l)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(s-i)/e,this._x=(r+l)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,s=e._w,a=t._x,o=t._y,l=t._z,c=t._w;return this._x=n*c+s*a+i*l-r*o,this._y=i*c+s*o+r*a-n*l,this._z=r*c+s*l+n*o-i*a,this._w=s*c-n*a-i*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,s=this._w;let a=s*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this}const l=Math.sqrt(o),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=s*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Di{constructor(e=0,t=0,n=0){Di.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Li.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Li.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,a=e.z,o=e.w,l=2*(s*i-a*n),c=2*(a*t-r*i),u=2*(r*n-s*t);return this.x=t+o*l+s*u-a*c,this.y=n+o*c+a*l-r*u,this.z=i+o*u+r*c-s*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=jn(this.x,e.x,t.x),this.y=jn(this.y,e.y,t.y),this.z=jn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=jn(this.x,e,t),this.y=jn(this.y,e,t),this.z=jn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(jn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=i*o-r*a,this.y=r*s-n*o,this.z=n*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ni.copy(this).projectOnVector(e),this.sub(Ni)}reflect(e){return this.sub(Ni.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(jn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ni=new Di,Li=new _i;class Oi{constructor(e=new Di(1/0,1/0,1/0),t=new Di(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ui.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Ui.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ui.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===t&&void 0!==i&&!0!==e.isInstancedMesh)for(let t=0,n=i.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Ui):Ui.fromBufferAttribute(i,t),Ui.applyMatrix4(e.matrixWorld),this.expandByPoint(Ui);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Fi.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Fi.copy(n.boundingBox)),Fi.applyMatrix4(e.matrixWorld),this.union(Fi)}const i=e.children;for(let e=0,n=i.length;e<n;e++)this.expandByObject(i[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ui),Ui.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xi),ji.subVectors(this.max,Xi),Qi.subVectors(e.a,Xi),Vi.subVectors(e.b,Xi),Hi.subVectors(e.c,Xi),Gi.subVectors(Vi,Qi),zi.subVectors(Hi,Vi),Wi.subVectors(Qi,Hi);let t=[0,-Gi.z,Gi.y,0,-zi.z,zi.y,0,-Wi.z,Wi.y,Gi.z,0,-Gi.x,zi.z,0,-zi.x,Wi.z,0,-Wi.x,-Gi.y,Gi.x,0,-zi.y,zi.x,0,-Wi.y,Wi.x,0];return!!Ji(t,Qi,Vi,Hi,ji)&&(t=[1,0,0,0,1,0,0,0,1],!!Ji(t,Qi,Vi,Hi,ji)&&(qi.crossVectors(Gi,zi),t=[qi.x,qi.y,qi.z],Ji(t,Qi,Vi,Hi,ji)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ui).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ui).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ki[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ki[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ki[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ki[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ki[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ki[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ki[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ki[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ki)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ki=[new Di,new Di,new Di,new Di,new Di,new Di,new Di,new Di],Ui=new Di,Fi=new Oi,Qi=new Di,Vi=new Di,Hi=new Di,Gi=new Di,zi=new Di,Wi=new Di,Xi=new Di,ji=new Di,qi=new Di,Yi=new Di;function Ji(e,t,n,i,r){for(let s=0,a=e.length-3;s<=a;s+=3){Yi.fromArray(e,s);const a=r.x*Math.abs(Yi.x)+r.y*Math.abs(Yi.y)+r.z*Math.abs(Yi.z),o=t.dot(Yi),l=n.dot(Yi),c=i.dot(Yi);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>a)return!1}return!0}const Zi=new Oi,Ki=new Di,$i=new Di;class er{constructor(e=new Di,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Zi.setFromPoints(e).getCenter(n);let i=0;for(let t=0,r=e.length;t<r;t++)i=Math.max(i,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ki.subVectors(e,this.center);const t=Ki.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Ki,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):($i.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ki.copy(e.center).add($i)),this.expandByPoint(Ki.copy(e.center).sub($i))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const tr=new Di,nr=new Di,ir=new Di,rr=new Di,sr=new Di,ar=new Di,or=new Di;class lr{constructor(e=new Di,t=new Di(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,tr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=tr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(tr.copy(this.origin).addScaledVector(this.direction,t),tr.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){nr.copy(e).add(t).multiplyScalar(.5),ir.copy(t).sub(e).normalize(),rr.copy(this.origin).sub(nr);const r=.5*e.distanceTo(t),s=-this.direction.dot(ir),a=rr.dot(this.direction),o=-rr.dot(ir),l=rr.lengthSq(),c=Math.abs(1-s*s);let u,d,h,p;if(c>0)if(u=s*o-a,d=s*a-o,p=r*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+s*d+2*a)+d*(s*u+d+2*o)+l}else d=r,u=Math.max(0,-(s*d+a)),h=-u*u+d*(d+2*o)+l;else d=-r,u=Math.max(0,-(s*d+a)),h=-u*u+d*(d+2*o)+l;else d<=-p?(u=Math.max(0,-(-s*r+a)),d=u>0?-r:Math.min(Math.max(-r,-o),r),h=-u*u+d*(d+2*o)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-o),r),h=d*(d+2*o)+l):(u=Math.max(0,-(s*r+a)),d=u>0?r:Math.min(Math.max(-r,-o),r),h=-u*u+d*(d+2*o)+l);else d=s>0?-r:r,u=Math.max(0,-(s*d+a)),h=-u*u+d*(d+2*o)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(nr).addScaledVector(ir,d),h}intersectSphere(e,t){tr.subVectors(e.center,this.origin);const n=tr.dot(this.direction),i=tr.dot(tr)-n*n,r=e.radius*e.radius;if(i>r)return null;const s=Math.sqrt(r-i),a=n-s,o=n+s;return o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,s,a,o;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),n>s||r>i?null:((r>n||isNaN(n))&&(n=r),(s<i||isNaN(i))&&(i=s),u>=0?(a=(e.min.z-d.z)*u,o=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,o=(e.min.z-d.z)*u),n>o||a>i?null:((a>n||n!=n)&&(n=a),(o<i||i!=i)&&(i=o),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,tr)}intersectTriangle(e,t,n,i,r){sr.subVectors(t,e),ar.subVectors(n,e),or.crossVectors(sr,ar);let s,a=this.direction.dot(or);if(a>0){if(i)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}rr.subVectors(this.origin,e);const o=s*this.direction.dot(ar.crossVectors(rr,ar));if(o<0)return null;const l=s*this.direction.dot(sr.cross(rr));if(l<0)return null;if(o+l>a)return null;const c=-s*rr.dot(or);return c<0?null:this.at(c/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class cr{constructor(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g){cr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g)}set(e,t,n,i,r,s,a,o,l,c,u,d,h,p,f,g){const A=this.elements;return A[0]=e,A[4]=t,A[8]=n,A[12]=i,A[1]=r,A[5]=s,A[9]=a,A[13]=o,A[2]=l,A[6]=c,A[10]=u,A[14]=d,A[3]=h,A[7]=p,A[11]=f,A[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new cr).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/ur.setFromMatrixColumn(e,0).length(),r=1/ur.setFromMatrixColumn(e,1).length(),s=1/ur.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=s*c,n=s*u,i=a*c,r=a*u;t[0]=o*c,t[4]=-o*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-a*o,t[2]=r-e*l,t[6]=i+n*l,t[10]=s*o}else if("YXZ"===e.order){const e=o*c,n=o*u,i=l*c,r=l*u;t[0]=e+r*a,t[4]=i*a-n,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-a,t[2]=n*a-i,t[6]=r+e*a,t[10]=s*o}else if("ZXY"===e.order){const e=o*c,n=o*u,i=l*c,r=l*u;t[0]=e-r*a,t[4]=-s*u,t[8]=i+n*a,t[1]=n+i*a,t[5]=s*c,t[9]=r-e*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){const e=s*c,n=s*u,i=a*c,r=a*u;t[0]=o*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=o*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){const e=s*o,n=s*l,i=a*o,r=a*l;t[0]=o*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=s*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=s*o,n=s*l,i=a*o,r=a*l;t[0]=o*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=s*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=a*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hr,e,pr)}lookAt(e,t,n){const i=this.elements;return Ar.subVectors(e,t),0===Ar.lengthSq()&&(Ar.z=1),Ar.normalize(),fr.crossVectors(n,Ar),0===fr.lengthSq()&&(1===Math.abs(n.z)?Ar.x+=1e-4:Ar.z+=1e-4,Ar.normalize(),fr.crossVectors(n,Ar)),fr.normalize(),gr.crossVectors(Ar,fr),i[0]=fr.x,i[4]=gr.x,i[8]=Ar.x,i[1]=fr.y,i[5]=gr.y,i[9]=Ar.y,i[2]=fr.z,i[6]=gr.z,i[10]=Ar.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[4],o=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],g=n[10],A=n[14],m=n[3],v=n[7],y=n[11],E=n[15],S=i[0],b=i[4],x=i[8],w=i[12],I=i[1],C=i[5],T=i[9],M=i[13],B=i[2],R=i[6],P=i[10],_=i[14],D=i[3],N=i[7],L=i[11],O=i[15];return r[0]=s*S+a*I+o*B+l*D,r[4]=s*b+a*C+o*R+l*N,r[8]=s*x+a*T+o*P+l*L,r[12]=s*w+a*M+o*_+l*O,r[1]=c*S+u*I+d*B+h*D,r[5]=c*b+u*C+d*R+h*N,r[9]=c*x+u*T+d*P+h*L,r[13]=c*w+u*M+d*_+h*O,r[2]=p*S+f*I+g*B+A*D,r[6]=p*b+f*C+g*R+A*N,r[10]=p*x+f*T+g*P+A*L,r[14]=p*w+f*M+g*_+A*O,r[3]=m*S+v*I+y*B+E*D,r[7]=m*b+v*C+y*R+E*N,r[11]=m*x+v*T+y*P+E*L,r[15]=m*w+v*M+y*_+E*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],a=e[5],o=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+r*o*u-i*l*u-r*a*d+n*l*d+i*a*h-n*o*h)+e[7]*(+t*o*h-t*l*d+r*s*d-i*s*h+i*l*c-r*o*c)+e[11]*(+t*l*u-t*a*h-r*s*u+n*s*h+r*a*c-n*l*c)+e[15]*(-i*a*c-t*o*u+t*a*d+i*s*u-n*s*d+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],g=e[14],A=e[15],m=u*g*l-f*d*l+f*o*h-a*g*h-u*o*A+a*d*A,v=p*d*l-c*g*l-p*o*h+s*g*h+c*o*A-s*d*A,y=c*f*l-p*u*l+p*a*h-s*f*h-c*a*A+s*u*A,E=p*u*o-c*f*o-p*a*d+s*f*d+c*a*g-s*u*g,S=t*m+n*v+i*y+r*E;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/S;return e[0]=m*b,e[1]=(f*d*r-u*g*r-f*i*h+n*g*h+u*i*A-n*d*A)*b,e[2]=(a*g*r-f*o*r+f*i*l-n*g*l-a*i*A+n*o*A)*b,e[3]=(u*o*r-a*d*r-u*i*l+n*d*l+a*i*h-n*o*h)*b,e[4]=v*b,e[5]=(c*g*r-p*d*r+p*i*h-t*g*h-c*i*A+t*d*A)*b,e[6]=(p*o*r-s*g*r-p*i*l+t*g*l+s*i*A-t*o*A)*b,e[7]=(s*d*r-c*o*r+c*i*l-t*d*l-s*i*h+t*o*h)*b,e[8]=y*b,e[9]=(p*u*r-c*f*r-p*n*h+t*f*h+c*n*A-t*u*A)*b,e[10]=(s*f*r-p*a*r+p*n*l-t*f*l-s*n*A+t*a*A)*b,e[11]=(c*a*r-s*u*r-c*n*l+t*u*l+s*n*h-t*a*h)*b,e[12]=E*b,e[13]=(c*f*i-p*u*i+p*n*d-t*f*d-c*n*g+t*u*g)*b,e[14]=(p*a*i-s*f*i-p*n*o+t*f*o+s*n*g-t*a*g)*b,e[15]=(s*u*i-c*a*i+c*n*o-t*u*o-s*n*d+t*a*d)*b,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,a=e.y,o=e.z,l=r*s,c=r*a;return this.set(l*s+n,l*a-i*o,l*o+i*a,0,l*a+i*o,c*a+n,c*o-i*s,0,l*o-i*a,c*o+i*s,r*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,s){return this.set(1,n,r,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,s=t._y,a=t._z,o=t._w,l=r+r,c=s+s,u=a+a,d=r*l,h=r*c,p=r*u,f=s*c,g=s*u,A=a*u,m=o*l,v=o*c,y=o*u,E=n.x,S=n.y,b=n.z;return i[0]=(1-(f+A))*E,i[1]=(h+y)*E,i[2]=(p-v)*E,i[3]=0,i[4]=(h-y)*S,i[5]=(1-(d+A))*S,i[6]=(g+m)*S,i[7]=0,i[8]=(p+v)*b,i[9]=(g-m)*b,i[10]=(1-(d+f))*b,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=ur.set(i[0],i[1],i[2]).length();const s=ur.set(i[4],i[5],i[6]).length(),a=ur.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],dr.copy(this);const o=1/r,l=1/s,c=1/a;return dr.elements[0]*=o,dr.elements[1]*=o,dr.elements[2]*=o,dr.elements[4]*=l,dr.elements[5]*=l,dr.elements[6]*=l,dr.elements[8]*=c,dr.elements[9]*=c,dr.elements[10]*=c,t.setFromRotationMatrix(dr),n.x=r,n.y=s,n.z=a,this}makePerspective(e,t,n,i,r,s,a=Fn){const o=this.elements,l=2*r/(t-e),c=2*r/(n-i),u=(t+e)/(t-e),d=(n+i)/(n-i);let h,p;if(a===Fn)h=-(s+r)/(s-r),p=-2*s*r/(s-r);else{if(a!==Qn)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-s/(s-r),p=-s*r/(s-r)}return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,i,r,s,a=Fn){const o=this.elements,l=1/(t-e),c=1/(n-i),u=1/(s-r),d=(t+e)*l,h=(n+i)*c;let p,f;if(a===Fn)p=(s+r)*u,f=-2*u;else{if(a!==Qn)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=r*u,f=-1*u}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=f,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ur=new Di,dr=new cr,hr=new Di(0,0,0),pr=new Di(1,1,1),fr=new Di,gr=new Di,Ar=new Di,mr=new cr,vr=new _i;class yr{constructor(e=0,t=0,n=0,i=yr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],s=i[4],a=i[8],o=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-jn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-jn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-jn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return mr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mr,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return vr.setFromEuler(this),this.setFromQuaternion(vr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}yr.DEFAULT_ORDER="XYZ";class Er{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Sr=0;const br=new Di,xr=new _i,wr=new cr,Ir=new Di,Cr=new Di,Tr=new Di,Mr=new _i,Br=new Di(1,0,0),Rr=new Di(0,1,0),Pr=new Di(0,0,1),_r={type:"added"},Dr={type:"removed"},Nr={type:"childadded",child:null},Lr={type:"childremoved",child:null};class Or extends Vn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Sr++}),this.uuid=Xn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Or.DEFAULT_UP.clone();const e=new Di,t=new yr,n=new _i,i=new Di(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new cr},normalMatrix:{value:new ei}}),this.matrix=new cr,this.matrixWorld=new cr,this.matrixAutoUpdate=Or.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Or.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Er,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return xr.setFromAxisAngle(e,t),this.quaternion.multiply(xr),this}rotateOnWorldAxis(e,t){return xr.setFromAxisAngle(e,t),this.quaternion.premultiply(xr),this}rotateX(e){return this.rotateOnAxis(Br,e)}rotateY(e){return this.rotateOnAxis(Rr,e)}rotateZ(e){return this.rotateOnAxis(Pr,e)}translateOnAxis(e,t){return br.copy(e).applyQuaternion(this.quaternion),this.position.add(br.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Br,e)}translateY(e){return this.translateOnAxis(Rr,e)}translateZ(e){return this.translateOnAxis(Pr,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(wr.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ir.copy(e):Ir.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Cr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wr.lookAt(Cr,Ir,this.up):wr.lookAt(Ir,Cr,this.up),this.quaternion.setFromRotationMatrix(wr),i&&(wr.extractRotation(i.matrixWorld),xr.setFromRotationMatrix(wr),this.quaternion.premultiply(xr.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_r),Nr.child=e,this.dispatchEvent(Nr),Nr.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Dr),Lr.child=e,this.dispatchEvent(Lr),Lr.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),wr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),wr.multiply(e.parent.matrixWorld)),e.applyMatrix4(wr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_r),Nr.child=e,this.dispatchEvent(Nr),Nr.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cr,e,Tr),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cr,Mr,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(i.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),null!==this.boundingBox&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=s(e.geometries),i=s(e.materials),r=s(e.textures),a=s(e.images),o=s(e.shapes),l=s(e.skeletons),c=s(e.animations),u=s(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),a.length>0&&(n.images=a),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function s(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}Or.DEFAULT_UP=new Di(0,1,0),Or.DEFAULT_MATRIX_AUTO_UPDATE=!0,Or.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const kr=new Di,Ur=new Di,Fr=new Di,Qr=new Di,Vr=new Di,Hr=new Di,Gr=new Di,zr=new Di,Wr=new Di,Xr=new Di,jr=new Ii,qr=new Ii,Yr=new Ii;class Jr{constructor(e=new Di,t=new Di,n=new Di){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),kr.subVectors(e,t),i.cross(kr);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){kr.subVectors(i,t),Ur.subVectors(n,t),Fr.subVectors(e,t);const s=kr.dot(kr),a=kr.dot(Ur),o=kr.dot(Fr),l=Ur.dot(Ur),c=Ur.dot(Fr),u=s*l-a*a;if(0===u)return r.set(0,0,0),null;const d=1/u,h=(l*o-a*c)*d,p=(s*c-a*o)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return null!==this.getBarycoord(e,t,n,i,Qr)&&Qr.x>=0&&Qr.y>=0&&Qr.x+Qr.y<=1}static getInterpolation(e,t,n,i,r,s,a,o){return null===this.getBarycoord(e,t,n,i,Qr)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(r,Qr.x),o.addScaledVector(s,Qr.y),o.addScaledVector(a,Qr.z),o)}static getInterpolatedAttribute(e,t,n,i,r,s){return jr.setScalar(0),qr.setScalar(0),Yr.setScalar(0),jr.fromBufferAttribute(e,t),qr.fromBufferAttribute(e,n),Yr.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(jr,r.x),s.addScaledVector(qr,r.y),s.addScaledVector(Yr,r.z),s}static isFrontFacing(e,t,n,i){return kr.subVectors(n,t),Ur.subVectors(e,t),kr.cross(Ur).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return kr.subVectors(this.c,this.b),Ur.subVectors(this.a,this.b),.5*kr.cross(Ur).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,r){return Jr.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Jr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let s,a;Vr.subVectors(i,n),Hr.subVectors(r,n),zr.subVectors(e,n);const o=Vr.dot(zr),l=Hr.dot(zr);if(o<=0&&l<=0)return t.copy(n);Wr.subVectors(e,i);const c=Vr.dot(Wr),u=Hr.dot(Wr);if(c>=0&&u<=c)return t.copy(i);const d=o*u-c*l;if(d<=0&&o>=0&&c<=0)return s=o/(o-c),t.copy(n).addScaledVector(Vr,s);Xr.subVectors(e,r);const h=Vr.dot(Xr),p=Hr.dot(Xr);if(p>=0&&h<=p)return t.copy(r);const f=h*l-o*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(Hr,a);const g=c*p-h*u;if(g<=0&&u-c>=0&&h-p>=0)return Gr.subVectors(r,i),a=(u-c)/(u-c+(h-p)),t.copy(i).addScaledVector(Gr,a);const A=1/(g+f+d);return s=f*A,a=d*A,t.copy(n).addScaledVector(Vr,s).addScaledVector(Hr,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Zr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kr={h:0,s:0,l:0},$r={h:0,s:0,l:0};function es(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class ts{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=$t){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,gi.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=gi.workingColorSpace){return this.r=e,this.g=t,this.b=n,gi.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=gi.workingColorSpace){if(e=qn(e,1),t=jn(t,0,1),n=jn(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=es(r,i,e+1/3),this.g=es(r,i,e),this.b=es(r,i,e-1/3)}return gi.toWorkingColorSpace(this,i),this}setStyle(e,t=$t){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=i[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(6===r)return this.setHex(parseInt(n,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=$t){const n=Zr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ai(e.r),this.g=Ai(e.g),this.b=Ai(e.b),this}copyLinearToSRGB(e){return this.r=mi(e.r),this.g=mi(e.g),this.b=mi(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$t){return gi.fromWorkingColorSpace(ns.copy(this),e),65536*Math.round(jn(255*ns.r,0,255))+256*Math.round(jn(255*ns.g,0,255))+Math.round(jn(255*ns.b,0,255))}getHexString(e=$t){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=gi.workingColorSpace){gi.fromWorkingColorSpace(ns.copy(this),t);const n=ns.r,i=ns.g,r=ns.b,s=Math.max(n,i,r),a=Math.min(n,i,r);let o,l;const c=(a+s)/2;if(a===s)o=0,l=0;else{const e=s-a;switch(l=c<=.5?e/(s+a):e/(2-s-a),s){case n:o=(i-r)/e+(i<r?6:0);break;case i:o=(r-n)/e+2;break;case r:o=(n-i)/e+4}o/=6}return e.h=o,e.s=l,e.l=c,e}getRGB(e,t=gi.workingColorSpace){return gi.fromWorkingColorSpace(ns.copy(this),t),e.r=ns.r,e.g=ns.g,e.b=ns.b,e}getStyle(e=$t){gi.fromWorkingColorSpace(ns.copy(this),e);const t=ns.r,n=ns.g,i=ns.b;return e!==$t?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(e,t,n){return this.getHSL(Kr),this.setHSL(Kr.h+e,Kr.s+t,Kr.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Kr),e.getHSL($r);const n=Yn(Kr.h,$r.h,t),i=Yn(Kr.s,$r.s,t),r=Yn(Kr.l,$r.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ns=new ts;ts.NAMES=Zr;let is=0;class rs extends Vn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:is++}),this.uuid=Xn(),this.name="",this.type="Material",this.blending=v,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=_,this.blendDst=D,this.blendEquation=x,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ts(0,0,0),this.blendAlpha=0,this.depthFunc=X,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=sn,this.stencilZFail=sn,this.stencilZPass=sn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==v&&(n.blending=this.blending),this.side!==f&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==_&&(n.blendSrc=this.blendSrc),this.blendDst!==D&&(n.blendDst=this.blendDst),this.blendEquation!==x&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==X&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yn&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==sn&&(n.stencilFail=this.stencilFail),this.stencilZFail!==sn&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==sn&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class ss extends rs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ts(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yr,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const as=os();function os(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(i[e]=0,i[256|e]=32768,r[e]=24,r[256|e]=24):t<-14?(i[e]=1024>>-t-14,i[256|e]=1024>>-t-14|32768,r[e]=-t-1,r[256|e]=-t-1):t<=15?(i[e]=t+15<<10,i[256|e]=t+15<<10|32768,r[e]=13,r[256|e]=13):t<128?(i[e]=31744,i[256|e]=64512,r[e]=24,r[256|e]=24):(i[e]=31744,i[256|e]=64512,r[e]=13,r[256|e]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;!(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,s[e]=t|n}for(let e=1024;e<2048;++e)s[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)a[e]=e<<23;a[31]=1199570944,a[32]=2147483648;for(let e=33;e<63;++e)a[e]=2147483648+(e-32<<23);a[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(o[e]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function ls(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=jn(e,-65504,65504),as.floatView[0]=e;const t=as.uint32View[0],n=t>>23&511;return as.baseTable[n]+((8388607&t)>>as.shiftTable[n])}function cs(e){const t=e>>10;return as.uint32View[0]=as.mantissaTable[as.offsetTable[t]+(1023&e)]+as.exponentTable[t],as.floatView[0]}const us={toHalfFloat:ls,fromHalfFloat:cs},ds=new Di,hs=new $n;class ps{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Mn,this.updateRanges=[],this.gpuType=Le,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)hs.fromBufferAttribute(this,t),hs.applyMatrix3(e),this.setXY(t,hs.x,hs.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyMatrix3(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyMatrix4(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.applyNormalMatrix(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ds.fromBufferAttribute(this,t),ds.transformDirection(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Jn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Zn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Jn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Jn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Jn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Jn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array),i=Zn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array),i=Zn(i,this.array),r=Zn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Mn&&(e.usage=this.usage),e}}class fs extends ps{constructor(e,t,n){super(new Int8Array(e),t,n)}}class gs extends ps{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class As extends ps{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class ms extends ps{constructor(e,t,n){super(new Int16Array(e),t,n)}}class vs extends ps{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class ys extends ps{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Es extends ps{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Ss extends ps{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=cs(this.array[e*this.itemSize]);return this.normalized&&(t=Jn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize]=ls(t),this}getY(e){let t=cs(this.array[e*this.itemSize+1]);return this.normalized&&(t=Jn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize+1]=ls(t),this}getZ(e){let t=cs(this.array[e*this.itemSize+2]);return this.normalized&&(t=Jn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize+2]=ls(t),this}getW(e){let t=cs(this.array[e*this.itemSize+3]);return this.normalized&&(t=Jn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Zn(t,this.array)),this.array[e*this.itemSize+3]=ls(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array)),this.array[e+0]=ls(t),this.array[e+1]=ls(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array),i=Zn(i,this.array)),this.array[e+0]=ls(t),this.array[e+1]=ls(n),this.array[e+2]=ls(i),this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array),i=Zn(i,this.array),r=Zn(r,this.array)),this.array[e+0]=ls(t),this.array[e+1]=ls(n),this.array[e+2]=ls(i),this.array[e+3]=ls(r),this}}class bs extends ps{constructor(e,t,n){super(new Float32Array(e),t,n)}}let xs=0;const ws=new cr,Is=new Or,Cs=new Di,Ts=new Oi,Ms=new Oi,Bs=new Di;class Rs extends Vn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xs++}),this.uuid=Xn(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ni(e)?Es:vs)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new ei).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ws.makeRotationFromQuaternion(e),this.applyMatrix4(ws),this}rotateX(e){return ws.makeRotationX(e),this.applyMatrix4(ws),this}rotateY(e){return ws.makeRotationY(e),this.applyMatrix4(ws),this}rotateZ(e){return ws.makeRotationZ(e),this.applyMatrix4(ws),this}translate(e,t,n){return ws.makeTranslation(e,t,n),this.applyMatrix4(ws),this}scale(e,t,n){return ws.makeScale(e,t,n),this.applyMatrix4(ws),this}lookAt(e){return Is.lookAt(e),Is.updateMatrix(),this.applyMatrix4(Is.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cs).negate(),this.translate(Cs.x,Cs.y,Cs.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}this.setAttribute("position",new bs(t,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const n=e[i];t.setXYZ(i,n.x,n.y,n.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Oi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Di(-1/0,-1/0,-1/0),new Di(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Ts.setFromBufferAttribute(n),this.morphTargetsRelative?(Bs.addVectors(this.boundingBox.min,Ts.min),this.boundingBox.expandByPoint(Bs),Bs.addVectors(this.boundingBox.max,Ts.max),this.boundingBox.expandByPoint(Bs)):(this.boundingBox.expandByPoint(Ts.min),this.boundingBox.expandByPoint(Ts.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new er);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Di,1/0);if(e){const n=this.boundingSphere.center;if(Ts.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Ms.setFromBufferAttribute(n),this.morphTargetsRelative?(Bs.addVectors(Ts.min,Ms.min),Ts.expandByPoint(Bs),Bs.addVectors(Ts.max,Ms.max),Ts.expandByPoint(Bs)):(Ts.expandByPoint(Ms.min),Ts.expandByPoint(Ms.max))}Ts.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)Bs.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(Bs));if(t)for(let r=0,s=t.length;r<s;r++){const s=t[r],a=this.morphTargetsRelative;for(let t=0,r=s.count;t<r;t++)Bs.fromBufferAttribute(s,t),a&&(Cs.fromBufferAttribute(e,t),Bs.add(Cs)),i=Math.max(i,n.distanceToSquared(Bs))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,i=t.normal,r=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ps(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],o=[];for(let e=0;e<n.count;e++)a[e]=new Di,o[e]=new Di;const l=new Di,c=new Di,u=new Di,d=new $n,h=new $n,p=new $n,f=new Di,g=new Di;function A(e,t,i){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),p.fromBufferAttribute(r,i),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const s=1/(h.x*p.y-p.x*h.y);isFinite(s)&&(f.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(s),g.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(s),a[e].add(f),a[t].add(f),a[i].add(f),o[e].add(g),o[t].add(g),o[i].add(g))}let m=this.groups;0===m.length&&(m=[{start:0,count:e.count}]);for(let t=0,n=m.length;t<n;++t){const n=m[t],i=n.start;for(let t=i,r=i+n.count;t<r;t+=3)A(e.getX(t+0),e.getX(t+1),e.getX(t+2))}const v=new Di,y=new Di,E=new Di,S=new Di;function b(e){E.fromBufferAttribute(i,e),S.copy(E);const t=a[e];v.copy(t),v.sub(E.multiplyScalar(E.dot(t))).normalize(),y.crossVectors(S,t);const n=y.dot(o[e])<0?-1:1;s.setXYZW(e,v.x,v.y,v.z,n)}for(let t=0,n=m.length;t<n;++t){const n=m[t],i=n.start;for(let t=i,r=i+n.count;t<r;t+=3)b(e.getX(t+0)),b(e.getX(t+1)),b(e.getX(t+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new ps(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new Di,r=new Di,s=new Di,a=new Di,o=new Di,l=new Di,c=new Di,u=new Di;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,f),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),a.fromBufferAttribute(n,h),o.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),o.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,o.x,o.y,o.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),c.subVectors(s,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Bs.fromBufferAttribute(e,t),Bs.normalize(),e.setXYZ(t,Bs.x,Bs.y,Bs.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,s=new n.constructor(t.length*i);let a=0,o=0;for(let r=0,l=t.length;r<l;r++){a=e.isInterleavedBufferAttribute?t[r]*e.data.stride+e.offset:t[r]*i;for(let e=0;e<i;e++)s[o++]=n[a++]}return new ps(s,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Rs,n=this.index.array,i=this.attributes;for(const r in i){const s=e(i[r],n);t.setAttribute(r,s)}const r=this.morphAttributes;for(const i in r){const s=[],a=r[i];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);s.push(i)}t.morphAttributes[i]=s}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let e=0,n=s.length;e<n;e++){const n=s[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const i=n[t];e.data.attributes[t]=i.toJSON(e.data)}const i={};let r=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],s=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];s.push(i.toJSON(e.data))}s.length>0&&(i[t]=s,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const e in i){const n=i[e];this.setAttribute(e,n.clone(t))}const r=e.morphAttributes;for(const e in r){const n=[],i=r[e];for(let e=0,r=i.length;e<r;e++)n.push(i[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let e=0,t=s.length;e<t;e++){const t=s[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ps=new cr,_s=new lr,Ds=new er,Ns=new Di,Ls=new Di,Os=new Di,ks=new Di,Us=new Di,Fs=new Di,Qs=new Di,Vs=new Di;class Hs extends Or{constructor(e=new Rs,t=new ss){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(r&&a){Fs.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=a[n],o=r[n];0!==i&&(Us.fromBufferAttribute(o,e),s?Fs.addScaledVector(Us,i):Fs.addScaledVector(Us.sub(t),i))}t.add(Fs)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),Ds.copy(n.boundingSphere),Ds.applyMatrix4(r),_s.copy(e.ray).recast(e.near),!1===Ds.containsPoint(_s.origin)){if(null===_s.intersectSphere(Ds,Ns))return;if(_s.origin.distanceToSquared(Ns)>(e.far-e.near)**2)return}Ps.copy(r).invert(),_s.copy(e.ray).applyMatrix4(Ps),null!==n.boundingBox&&!1===_s.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,_s)}}_computeIntersections(e,t,n){let i;const r=this.geometry,s=this.material,a=r.index,o=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==a)if(Array.isArray(s))for(let r=0,o=d.length;r<o;r++){const o=d[r],p=s[o.materialIndex];for(let r=Math.max(o.start,h.start),s=Math.min(a.count,Math.min(o.start+o.count,h.start+h.count));r<s;r+=3)i=Gs(this,p,e,n,l,c,u,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=o.materialIndex,t.push(i))}else for(let r=Math.max(0,h.start),o=Math.min(a.count,h.start+h.count);r<o;r+=3)i=Gs(this,s,e,n,l,c,u,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),t.push(i));else if(void 0!==o)if(Array.isArray(s))for(let r=0,a=d.length;r<a;r++){const a=d[r],p=s[a.materialIndex];for(let r=Math.max(a.start,h.start),s=Math.min(o.count,Math.min(a.start+a.count,h.start+h.count));r<s;r+=3)i=Gs(this,p,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=a.materialIndex,t.push(i))}else for(let r=Math.max(0,h.start),a=Math.min(o.count,h.start+h.count);r<a;r+=3)i=Gs(this,s,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}function Gs(e,t,n,i,r,s,a,o,l,c){e.getVertexPosition(o,Ls),e.getVertexPosition(l,Os),e.getVertexPosition(c,ks);const u=function(e,t,n,i,r,s,a,o){let l;if(l=t.side===g?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,t.side===f,o),null===l)return null;Vs.copy(o),Vs.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Vs);return c<n.near||c>n.far?null:{distance:c,point:Vs.clone(),object:e}}(e,t,n,i,Ls,Os,ks,Qs);if(u){const e=new Di;Jr.getBarycoord(Qs,Ls,Os,ks,e),r&&(u.uv=Jr.getInterpolatedAttribute(r,o,l,c,e,new $n)),s&&(u.uv1=Jr.getInterpolatedAttribute(s,o,l,c,e,new $n)),a&&(u.normal=Jr.getInterpolatedAttribute(a,o,l,c,e,new Di),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const t={a:o,b:l,c,normal:new Di,materialIndex:0};Jr.getNormal(Ls,Os,ks,t.normal),u.face=t,u.barycoord=e}return u}class zs extends Rs{constructor(e=1,t=1,n=1,i=1,r=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:s};const a=this;i=Math.floor(i),r=Math.floor(r),s=Math.floor(s);const o=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,i,r,s,p,f,g,A,m){const v=s/g,y=p/A,E=s/2,S=p/2,b=f/2,x=g+1,w=A+1;let I=0,C=0;const T=new Di;for(let s=0;s<w;s++){const a=s*y-S;for(let o=0;o<x;o++){const d=o*v-E;T[e]=d*i,T[t]=a*r,T[n]=b,l.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=f>0?1:-1,c.push(T.x,T.y,T.z),u.push(o/g),u.push(1-s/A),I+=1}}for(let e=0;e<A;e++)for(let t=0;t<g;t++){const n=d+t+x*e,i=d+t+x*(e+1),r=d+(t+1)+x*(e+1),s=d+(t+1)+x*e;o.push(n,i,s),o.push(i,r,s),C+=6}a.addGroup(h,C,m),h+=C,d+=I}p("z","y","x",-1,-1,n,t,e,s,r,0),p("z","y","x",1,-1,n,t,-e,s,r,1),p("x","z","y",1,1,e,n,t,i,s,2),p("x","z","y",1,-1,e,n,-t,i,s,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(o),this.setAttribute("position",new bs(l,3)),this.setAttribute("normal",new bs(c,3)),this.setAttribute("uv",new bs(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ws(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Xs(e){const t={};for(let n=0;n<e.length;n++){const i=Ws(e[n]);for(const e in i)t[e]=i[e]}return t}function js(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:gi.workingColorSpace}const qs={clone:Ws,merge:Xs};class Ys extends rs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ws(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Js extends Or{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cr,this.projectionMatrix=new cr,this.projectionMatrixInverse=new cr,this.coordinateSystem=Fn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Zs=new Di,Ks=new $n,$s=new $n;class ea extends Js{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Wn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*zn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Wn*Math.atan(Math.tan(.5*zn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Zs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Zs.x,Zs.y).multiplyScalar(-e/Zs.z),Zs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Zs.x,Zs.y).multiplyScalar(-e/Zs.z)}getViewSize(e,t){return this.getViewBounds(e,Ks,$s),t.subVectors($s,Ks)}setViewOffset(e,t,n,i,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*zn*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const e=s.fullWidth,a=s.fullHeight;r+=s.offsetX*i/e,t-=s.offsetY*n/a,i*=s.width/e,n*=s.height/a}const a=this.filmOffset;0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ta=-90;class na extends Or{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ea(ta,1,e,t);i.layers=this.layers,this.add(i);const r=new ea(ta,1,e,t);r.layers=this.layers,this.add(r);const s=new ea(ta,1,e,t);s.layers=this.layers,this.add(s);const a=new ea(ta,1,e,t);a.layers=this.layers,this.add(a);const o=new ea(ta,1,e,t);o.layers=this.layers,this.add(o);const l=new ea(ta,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,s,a,o]=t;for(const e of t)this.remove(e);if(e===Fn)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(e!==Qn)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,a,o,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,r),e.setRenderTarget(n,1,i),e.render(t,s),e.setRenderTarget(n,2,i),e.render(t,a),e.setRenderTarget(n,3,i),e.render(t,o),e.setRenderTarget(n,4,i),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5,i),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class ia extends wi{constructor(e,t,n,i,r,s,a,o,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:de,n,i,r,s,a,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ra extends Ti{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new ia(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:we}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new zs(5,5,5),a=new Ys({name:"CubemapFromEquirect",uniforms:Ws(n),vertexShader:i,fragmentShader:r,side:g,blending:m});a.uniforms.tEquirect.value=t;const o=new Hs(s,a),l=t.minFilter;return t.minFilter===Te&&(t.minFilter=we),new na(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,n,i);e.setRenderTarget(r)}}class sa{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ts(e),this.density=t}clone(){return new sa(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class aa{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new ts(e),this.near=t,this.far=n}clone(){return new aa(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class oa extends Or{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new yr,this.environmentIntensity=1,this.environmentRotation=new yr,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class la{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Mn,this.updateRanges=[],this.version=0,this.uuid=Xn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ca=new Di;class ua{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ca.fromBufferAttribute(this,t),ca.applyMatrix4(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ca.fromBufferAttribute(this,t),ca.applyNormalMatrix(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ca.fromBufferAttribute(this,t),ca.transformDirection(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Jn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Zn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Zn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Zn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Zn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Zn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Jn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Jn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Jn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Jn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array),i=Zn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zn(t,this.array),n=Zn(n,this.array),i=Zn(i,this.array),r=Zn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new ps(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ua(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class da extends rs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ts(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ha;const pa=new Di,fa=new Di,ga=new Di,Aa=new $n,ma=new $n,va=new cr,ya=new Di,Ea=new Di,Sa=new Di,ba=new $n,xa=new $n,wa=new $n;class Ia extends Or{constructor(e=new da){if(super(),this.isSprite=!0,this.type="Sprite",void 0===ha){ha=new Rs;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new la(e,5);ha.setIndex([0,1,2,0,2,3]),ha.setAttribute("position",new ua(t,3,0,!1)),ha.setAttribute("uv",new ua(t,2,3,!1))}this.geometry=ha,this.material=e,this.center=new $n(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fa.setFromMatrixScale(this.matrixWorld),va.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ga.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&fa.multiplyScalar(-ga.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;Ca(ya.set(-.5,-.5,0),ga,s,fa,i,r),Ca(Ea.set(.5,-.5,0),ga,s,fa,i,r),Ca(Sa.set(.5,.5,0),ga,s,fa,i,r),ba.set(0,0),xa.set(1,0),wa.set(1,1);let a=e.ray.intersectTriangle(ya,Ea,Sa,!1,pa);if(null===a&&(Ca(Ea.set(-.5,.5,0),ga,s,fa,i,r),xa.set(0,1),a=e.ray.intersectTriangle(ya,Sa,Ea,!1,pa),null===a))return;const o=e.ray.origin.distanceTo(pa);o<e.near||o>e.far||t.push({distance:o,point:pa.clone(),uv:Jr.getInterpolation(pa,ya,Ea,Sa,ba,xa,wa,new $n),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Ca(e,t,n,i,r,s){Aa.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(ma.x=s*Aa.x-r*Aa.y,ma.y=r*Aa.x+s*Aa.y):ma.copy(Aa),e.copy(t),e.x+=ma.x,e.y+=ma.y,e.applyMatrix4(va)}const Ta=new Di,Ma=new Di;class Ba extends Or{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.addLevel(n.object.clone(),n.distance,n.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Ta.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Ta);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ta.setFromMatrixPosition(e.matrixWorld),Ma.setFromMatrixPosition(this.matrixWorld);const n=Ta.distanceTo(Ma)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r;i++){let e=t[i].distance;if(t[i].object.visible&&(e-=e*t[i].hysteresis),!(n>=e))break;t[i-1].object.visible=!1,t[i].object.visible=!0}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let e=0,i=n.length;e<i;e++){const i=n[e];t.object.levels.push({object:i.object.uuid,distance:i.distance,hysteresis:i.hysteresis})}return t}}const Ra=new Di,Pa=new Ii,_a=new Ii,Da=new Di,Na=new cr,La=new Di,Oa=new er,ka=new cr,Ua=new lr;class Fa extends Hs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=le,this.bindMatrix=new cr,this.bindMatrixInverse=new cr,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Oi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,La),this.boundingBox.expandByPoint(La)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new er),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let e=0;e<t.count;e++)this.getVertexPosition(e,La),this.boundingSphere.expandByPoint(La)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Oa.copy(this.boundingSphere),Oa.applyMatrix4(i),!1!==e.ray.intersectsSphere(Oa)&&(ka.copy(i).invert(),Ua.copy(e.ray).applyMatrix4(ka),null!==this.boundingBox&&!1===Ua.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Ua)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ii,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===le?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ce?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;Pa.fromBufferAttribute(i.attributes.skinIndex,e),_a.fromBufferAttribute(i.attributes.skinWeight,e),Ra.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const i=_a.getComponent(e);if(0!==i){const r=Pa.getComponent(e);Na.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(Da.copy(Ra).applyMatrix4(Na),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Qa extends Or{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Va extends wi{constructor(e=null,t=1,n=1,i,r,s,a,o,l=ye,c=ye,u,d){super(null,s,a,o,l,c,i,r,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Ha=new cr,Ga=new cr;class za{constructor(e=[],t=[]){this.uuid=Xn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new cr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new cr;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=e.length;i<r;i++){const r=e[i]?e[i].matrixWorld:Ga;Ha.multiplyMatrices(r,t[i]),Ha.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new za(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Va(t,e,e,Ge,Le);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new Qa),this.bones.push(r),this.boneInverses.push((new cr).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const s=n[i];e.boneInverses.push(s.toArray())}return e}}class Wa extends ps{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xa=new cr,ja=new cr,qa=[],Ya=new Oi,Ja=new cr,Za=new Hs,Ka=new er;class $a extends Hs{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Wa(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<n;e++)this.setMatrixAt(e,Ja)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Oi),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Xa),Ya.copy(e.boundingBox).applyMatrix4(Xa),this.boundingBox.union(Ya)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new er),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Xa),Ka.copy(e.boundingSphere).applyMatrix4(Xa),this.boundingSphere.union(Ka)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,r=e*(n.length+1)+1;for(let e=0;e<n.length;e++)n[e]=i[r+e]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Za.geometry=this.geometry,Za.material=this.material,void 0!==Za.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ka.copy(this.boundingSphere),Ka.applyMatrix4(n),!1!==e.ray.intersectsSphere(Ka)))for(let r=0;r<i;r++){this.getMatrixAt(r,Xa),ja.multiplyMatrices(n,Xa),Za.matrixWorld=ja,Za.raycast(e,qa);for(let e=0,n=qa.length;e<n;e++){const n=qa[e];n.instanceId=r,n.object=this,t.push(n)}qa.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Wa(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new Va(new Float32Array(i*this.count),i,this.count,qe,Le));const r=this.morphTexture.source.data.data;let s=0;for(let e=0;e<n.length;e++)s+=n[e];const a=this.geometry.morphTargetsRelative?1:1-s,o=i*e;r[o]=a,r.set(n,o+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const eo=new Di,to=new Di,no=new ei;class io{constructor(e=new Di(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=eo.subVectors(n,t).cross(to.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(eo),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||no.getNormalMatrix(e),i=this.coplanarPoint(eo).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ro=new er,so=new Di;class ao{constructor(e=new io,t=new io,n=new io,i=new io,r=new io,s=new io){this.planes=[e,t,n,i,r,s]}set(e,t,n,i,r,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Fn){const n=this.planes,i=e.elements,r=i[0],s=i[1],a=i[2],o=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],p=i[9],f=i[10],g=i[11],A=i[12],m=i[13],v=i[14],y=i[15];if(n[0].setComponents(o-r,d-l,g-h,y-A).normalize(),n[1].setComponents(o+r,d+l,g+h,y+A).normalize(),n[2].setComponents(o+s,d+c,g+p,y+m).normalize(),n[3].setComponents(o-s,d-c,g-p,y-m).normalize(),n[4].setComponents(o-a,d-u,g-f,y-v).normalize(),t===Fn)n[5].setComponents(o+a,d+u,g+f,y+v).normalize();else{if(t!==Qn)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,f,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ro.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ro.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ro)}intersectsSprite(e){return ro.center.set(0,0,0),ro.radius=.7071067811865476,ro.applyMatrix4(e.matrixWorld),this.intersectsSphere(ro)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(so.x=i.normal.x>0?e.max.x:e.min.x,so.y=i.normal.y>0?e.max.y:e.min.y,so.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(so)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function oo(e,t){return e-t}function lo(e,t){return e.z-t.z}function co(e,t){return t.z-e.z}class uo{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const a=r[this.index];s.push(a),this.index++,a.start=e,a.count=t,a.z=n,a.index=i}reset(){this.list.length=0,this.index=0}}const ho=new cr,po=new ts(1,1,1),fo=new ao,go=new Oi,Ao=new er,mo=new Di,vo=new Di,yo=new Di,Eo=new uo,So=new Hs,bo=[];function xo(e,t,n=0){const i=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const r=e.count;for(let s=0;s<r;s++)for(let r=0;r<i;r++)t.setComponent(s+n,r,e.getComponent(s,r))}else t.array.set(e.array,n*i);t.needsUpdate=!0}function wo(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)t[i]=e[i]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class Io extends Hs{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=2*t,i){super(new Rs,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Va(t,e,e,Ge,Le);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Va(t,e,e,Ye,Ne);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Va(t,e,e,Ge,Le);n.colorSpace=gi.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(const i in e.attributes){const r=e.getAttribute(i),{array:s,itemSize:a,normalized:o}=r,l=new s.constructor(n*a),c=new ps(l,a,o);t.setAttribute(i,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new ps(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),r=t.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Oi);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,ho),this.getBoundingBoxAt(i,go).applyMatrix4(ho),e.union(go)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new er);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(!1===t[n].active)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,ho),this.getBoundingSphereAt(i,Ao).applyMatrix4(ho),e.union(Ao)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(oo),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const i=this._matricesTexture;ho.identity().toArray(i.image.data,16*n),i.needsUpdate=!0;const r=this._colorsTexture;return r&&(po.toArray(r.image.data,4*n),r.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const s=e.getIndex();if(null!==s&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=-1===n?s.count:n),-1!==i.indexStart&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let a;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(oo),a=this._availableGeometryIds.shift(),r[a]=i):(a=this._geometryCount,this._geometryCount++,r.push(i)),this.setGeometryAt(a,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,a}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=null!==n.getIndex(),r=n.getIndex(),s=t.getIndex(),a=this._geometryInfo[e];if(i&&s.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const o=a.vertexStart,l=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const e in n.attributes){const i=t.getAttribute(e),r=n.getAttribute(e);xo(i,r,o);const s=i.itemSize;for(let e=i.count,t=l;e<t;e++){const t=o+e;for(let e=0;e<s;e++)r.setComponent(t,e,0)}r.needsUpdate=!0,r.addUpdateRange(o*s,l*s)}if(i){const e=a.indexStart,n=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let t=0;t<s.count;t++)r.setX(e+t,o+s.getX(t));for(let t=s.count,i=n;t<i;t++)r.setX(e+t,o);r.needsUpdate=!0,r.addUpdateRange(e,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,null!==t.boundingBox&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,null!==t.boundingSphere&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let t=0,i=n.length;t<i;t++)n[t].geometryIndex===e&&this.deleteInstance(t);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),r=this.geometry;for(let s=0,a=n.length;s<a;s++){const a=i[s],o=n[a];if(!1!==o.active){if(null!==r.index){if(o.indexStart!==t){const{indexStart:n,vertexStart:i,reservedIndexCount:s}=o,a=r.index,l=a.array,c=e-i;for(let e=n;e<n+s;e++)l[e]=l[e]+c;a.array.copyWithin(t,n,n+s),a.addUpdateRange(t,s),o.indexStart=t}t+=o.reservedIndexCount}if(o.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=o,i=r.attributes;for(const r in i){const s=i[r],{array:a,itemSize:o}=s;a.copyWithin(e*o,t*o,(t+n)*o),s.addUpdateRange(e*o,n*o)}o.vertexStart=e}e+=o.reservedVertexCount,o.start=r.index?o.indexStart:o.vertexStart,this._nextIndexStart=r.index?o.indexStart+o.reservedIndexCount:0,this._nextVertexStart=o.vertexStart+o.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingBox){const e=new Oi,t=n.index,r=n.attributes.position;for(let n=i.start,s=i.start+i.count;n<s;n++){let i=n;t&&(i=t.getX(i)),e.expandByPoint(mo.fromBufferAttribute(r,i))}i.boundingBox=e}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(null===i.boundingSphere){const t=new er;this.getBoundingBoxAt(e,go),go.getCenter(t.center);const r=n.index,s=n.attributes.position;let a=0;for(let e=i.start,n=i.start+i.count;e<n;e++){let n=e;r&&(n=r.getX(n)),mo.fromBufferAttribute(s,n),a=Math.max(a,t.center.distanceToSquared(mo))}t.radius=Math.sqrt(a),i.boundingSphere=t}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(oo);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),r=new Int32Array(e);wo(this._multiDrawCounts,i),wo(this._multiDrawStarts,r),this._multiDrawCounts=i,this._multiDrawStarts=r,this._maxInstanceCount=e;const s=this._indirectTexture,a=this._matricesTexture,o=this._colorsTexture;s.dispose(),this._initIndirectTexture(),wo(s.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),wo(a.image.data,this._matricesTexture.image.data),o&&(o.dispose(),this._initColorsTexture(),wo(o.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Rs,this._initializeGeometry(i));const r=this.geometry;i.index&&wo(i.index.array,r.index.array);for(const e in i.attributes)wo(i.attributes[e].array,r.attributes[e].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,r=this.matrixWorld,s=this.geometry;So.material=this.material,So.geometry.index=s.index,So.geometry.attributes=s.attributes,null===So.geometry.boundingBox&&(So.geometry.boundingBox=new Oi),null===So.geometry.boundingSphere&&(So.geometry.boundingSphere=new er);for(let s=0,a=n.length;s<a;s++){if(!n[s].visible||!n[s].active)continue;const a=n[s].geometryIndex,o=i[a];So.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(s,So.matrixWorld).premultiply(r),this.getBoundingBoxAt(a,So.geometry.boundingBox),this.getBoundingSphereAt(a,So.geometry.boundingSphere),So.raycast(e,bo);for(let e=0,n=bo.length;e<n;e++){const n=bo[e];n.object=this,n.batchId=s,t.push(n)}bo.length=0}So.material=null,So.geometry.index=null,So.geometry.attributes={},So.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>({...e})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,i,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=null===s?1:s.array.BYTES_PER_ELEMENT,o=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data;d&&(ho.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),fo.setFromProjectionMatrix(ho,e.coordinateSystem));let f=0;if(this.sortObjects){ho.copy(this.matrixWorld).invert(),mo.setFromMatrixPosition(n.matrixWorld).applyMatrix4(ho),vo.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(ho);for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){const t=o[e].geometryIndex;this.getMatrixAt(e,ho),this.getBoundingSphereAt(t,Ao).applyMatrix4(ho);let n=!1;if(d&&(n=!fo.intersectsSphere(Ao)),!n){const n=u[t],i=yo.subVectors(Ao.center,mo).dot(vo);Eo.push(n.start,n.count,i,e)}}const e=Eo.list,t=this.customSort;null===t?e.sort(r.transparent?co:lo):t.call(this,e,n);for(let t=0,n=e.length;t<n;t++){const n=e[t];l[f]=n.start*a,c[f]=n.count,p[f]=n.index,f++}Eo.reset()}else for(let e=0,t=o.length;e<t;e++)if(o[e].visible&&o[e].active){const t=o[e].geometryIndex;let n=!1;if(d&&(this.getMatrixAt(e,ho),this.getBoundingSphereAt(t,Ao).applyMatrix4(ho),n=!fo.intersectsSphere(Ao)),!n){const n=u[t];l[f]=n.start*a,c[f]=n.count,p[f]=e,f++}}h.needsUpdate=!0,this._multiDrawCount=f,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,r,s){this.onBeforeRender(e,null,i,r,s)}}class Co extends rs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ts(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const To=new Di,Mo=new Di,Bo=new cr,Ro=new lr,Po=new er,_o=new Di,Do=new Di;class No extends Or{constructor(e=new Rs,t=new Co){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)To.fromBufferAttribute(t,e-1),Mo.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=To.distanceTo(Mo);e.setAttribute("lineDistance",new bs(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Po.copy(n.boundingSphere),Po.applyMatrix4(i),Po.radius+=r,!1===e.ray.intersectsSphere(Po))return;Bo.copy(i).invert(),Ro.copy(e.ray).applyMatrix4(Bo);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,s.start),i=Math.min(c.count,s.start+s.count);for(let r=n,s=i-1;r<s;r+=l){const n=c.getX(r),i=c.getX(r+1),s=Lo(this,e,Ro,o,n,i);s&&t.push(s)}if(this.isLineLoop){const r=c.getX(i-1),s=c.getX(n),a=Lo(this,e,Ro,o,r,s);a&&t.push(a)}}else{const n=Math.max(0,s.start),i=Math.min(u.count,s.start+s.count);for(let r=n,s=i-1;r<s;r+=l){const n=Lo(this,e,Ro,o,r,r+1);n&&t.push(n)}if(this.isLineLoop){const r=Lo(this,e,Ro,o,i-1,n);r&&t.push(r)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Lo(e,t,n,i,r,s){const a=e.geometry.attributes.position;if(To.fromBufferAttribute(a,r),Mo.fromBufferAttribute(a,s),n.distanceSqToSegment(To,Mo,_o,Do)>i)return;_o.applyMatrix4(e.matrixWorld);const o=t.ray.origin.distanceTo(_o);return o<t.near||o>t.far?void 0:{distance:o,point:Do.clone().applyMatrix4(e.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:e}}const Oo=new Di,ko=new Di;class Uo extends No{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)Oo.fromBufferAttribute(t,e),ko.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Oo.distanceTo(ko);e.setAttribute("lineDistance",new bs(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Fo extends No{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Qo extends rs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ts(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Vo=new cr,Ho=new lr,Go=new er,zo=new Di;class Wo extends Or{constructor(e=new Rs,t=new Qo){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Go.copy(n.boundingSphere),Go.applyMatrix4(i),Go.radius+=r,!1===e.ray.intersectsSphere(Go))return;Vo.copy(i).invert(),Ho.copy(e.ray).applyMatrix4(Vo);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=n.index,c=n.attributes.position;if(null!==l)for(let n=Math.max(0,s.start),r=Math.min(l.count,s.start+s.count);n<r;n++){const r=l.getX(n);zo.fromBufferAttribute(c,r),Xo(zo,r,o,i,e,t,this)}else for(let n=Math.max(0,s.start),r=Math.min(c.count,s.start+s.count);n<r;n++)zo.fromBufferAttribute(c,n),Xo(zo,n,o,i,e,t,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Xo(e,t,n,i,r,s,a){const o=Ho.distanceSqToPoint(e);if(o<n){const n=new Di;Ho.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:a})}}class jo extends Or{constructor(){super(),this.isGroup=!0,this.type="Group"}}class qo extends wi{constructor(e,t,n,i,r,s,a,o,l){super(e,t,n,i,r,s,a,o,l),this.isVideoTexture=!0,this.minFilter=void 0!==s?s:we,this.magFilter=void 0!==r?r:we,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Yo extends wi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ye,this.minFilter=ye,this.generateMipmaps=!1,this.needsUpdate=!0}}class Jo extends wi{constructor(e,t,n,i,r,s,a,o,l,c,u,d){super(null,s,a,o,l,c,i,r,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Zo extends Jo{constructor(e,t,n,i,r,s){super(e,t,n,r,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=me,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ko extends Jo{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,de),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $o extends wi{constructor(e,t,n,i,r,s,a,o,l){super(e,t,n,i,r,s,a,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class el extends wi{constructor(e,t,n,i,r,s,a,o,l,c=Xe){if(c!==Xe&&c!==je)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Xe&&(n=Ne),void 0===n&&c===je&&(n=Fe),super(null,i,r,s,a,o,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:ye,this.minFilter=void 0!==o?o:ye,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class tl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const r=n.length;let s;s=t||e*n[r-1];let a,o=0,l=r-1;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),a=n[i]-s,a<0)o=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(i=l,n[i]===s)return i/(r-1);const c=n[i];return(i+(s-c)/(n[i+1]-c))/(r-1)}getTangent(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),a=this.getPoint(r),o=t||(s.isVector2?new $n:new Di);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Di,i=[],r=[],s=[],a=new Di,o=new cr;for(let t=0;t<=e;t++){const n=t/e;i[t]=this.getTangentAt(n,new Di)}r[0]=new Di,s[0]=new Di;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),s[0].crossVectors(i[0],r[0]);for(let t=1;t<=e;t++){if(r[t]=r[t-1].clone(),s[t]=s[t-1].clone(),a.crossVectors(i[t-1],i[t]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(jn(i[t-1].dot(i[t]),-1,1));r[t].applyMatrix4(o.makeRotationAxis(a,e))}s[t].crossVectors(i[t],r[t])}if(!0===t){let t=Math.acos(jn(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(o.makeRotationAxis(i[n],t*n)),s[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nl extends tl{constructor(e=0,t=0,n=1,i=1,r=0,s=2*Math.PI,a=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e,t=new $n){const n=t,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=s?0:i),!0!==this.aClockwise||s||(r===i?r=-i:r-=i);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,i=l-this.aY;o=n*e-i*t+this.aX,l=n*t+i*e+this.aY}return n.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class il extends nl{constructor(e,t,n,i,r,s){super(e,t,n,n,i,r,s),this.isArcCurve=!0,this.type="ArcCurve"}}function rl(){let e=0,t=0,n=0,i=0;function r(r,s,a,o){e=r,t=a,n=-3*r+3*s-2*a-o,i=2*r-2*s+a+o}return{initCatmullRom:function(e,t,n,i,s){r(t,n,s*(n-e),s*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,s,a,o){let l=(t-e)/s-(n-e)/(s+a)+(n-t)/a,c=(n-t)/a-(i-t)/(a+o)+(i-n)/o;l*=a,c*=a,r(t,n,l,c)},calc:function(r){const s=r*r;return e+t*r+n*s+i*(s*r)}}}const sl=new Di,al=new rl,ol=new rl,ll=new rl;class cl extends tl{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new Di){const n=t,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e;let a,o,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?a=i[(l-1)%r]:(sl.subVectors(i[0],i[1]).add(i[0]),a=sl);const u=i[l%r],d=i[(l+1)%r];if(this.closed||l+2<r?o=i[(l+2)%r]:(sl.subVectors(i[r-1],i[r-2]).add(i[r-1]),o=sl),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(d),e),i=Math.pow(d.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),al.initNonuniformCatmullRom(a.x,u.x,d.x,o.x,t,n,i),ol.initNonuniformCatmullRom(a.y,u.y,d.y,o.y,t,n,i),ll.initNonuniformCatmullRom(a.z,u.z,d.z,o.z,t,n,i)}else"catmullrom"===this.curveType&&(al.initCatmullRom(a.x,u.x,d.x,o.x,this.tension),ol.initCatmullRom(a.y,u.y,d.y,o.y,this.tension),ll.initCatmullRom(a.z,u.z,d.z,o.z,this.tension));return n.set(al.calc(c),ol.calc(c),ll.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Di).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ul(e,t,n,i,r){const s=.5*(i-t),a=.5*(r-n),o=e*e;return(2*n-2*i+s+a)*(e*o)+(-3*n+3*i-2*s-a)*o+s*e+n}function dl(e,t,n,i){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function hl(e,t,n,i,r){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}class pl extends tl{constructor(e=new $n,t=new $n,n=new $n,i=new $n){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new $n){const n=t,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(hl(e,i.x,r.x,s.x,a.x),hl(e,i.y,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class fl extends tl{constructor(e=new Di,t=new Di,n=new Di,i=new Di){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Di){const n=t,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(hl(e,i.x,r.x,s.x,a.x),hl(e,i.y,r.y,s.y,a.y),hl(e,i.z,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gl extends tl{constructor(e=new $n,t=new $n){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new $n){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $n){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Al extends tl{constructor(e=new Di,t=new Di){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Di){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Di){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ml extends tl{constructor(e=new $n,t=new $n,n=new $n){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $n){const n=t,i=this.v0,r=this.v1,s=this.v2;return n.set(dl(e,i.x,r.x,s.x),dl(e,i.y,r.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vl extends tl{constructor(e=new Di,t=new Di,n=new Di){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Di){const n=t,i=this.v0,r=this.v1,s=this.v2;return n.set(dl(e,i.x,r.x,s.x),dl(e,i.y,r.y,s.y),dl(e,i.z,r.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yl extends tl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new $n){const n=t,i=this.points,r=(i.length-1)*e,s=Math.floor(r),a=r-s,o=i[0===s?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],u=i[s>i.length-3?i.length-1:s+2];return n.set(ul(a,o.x,l.x,c.x,u.x),ul(a,o.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new $n).fromArray(n))}return this}}var El=Object.freeze({__proto__:null,ArcCurve:il,CatmullRomCurve3:cl,CubicBezierCurve:pl,CubicBezierCurve3:fl,EllipseCurve:nl,LineCurve:gl,LineCurve3:Al,QuadraticBezierCurve:ml,QuadraticBezierCurve3:vl,SplineCurve:yl});class Sl extends tl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new El[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=n){const e=i[r]-n,s=this.curves[r],a=s.getLength(),o=0===a?0:1-e/a;return s.getPointAt(o,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],a=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let e=0;e<o.length;e++){const i=o[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new El[n.type]).fromJSON(n))}return this}}class bl extends Sl{constructor(e){super(),this.type="Path",this.currentPoint=new $n,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new gl(this.currentPoint.clone(),new $n(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new ml(this.currentPoint.clone(),new $n(e,t),new $n(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,s){const a=new pl(this.currentPoint.clone(),new $n(e,t),new $n(n,i),new $n(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new yl(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,i,r,s),this}absarc(e,t,n,i,r,s){return this.absellipse(e,t,n,n,i,r,s),this}ellipse(e,t,n,i,r,s,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,s,a,o),this}absellipse(e,t,n,i,r,s,a,o){const l=new nl(e,t,n,i,r,s,a,o);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class xl extends Rs{constructor(e=[new $n(0,-.5),new $n(.5,0),new $n(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=jn(i,0,2*Math.PI);const r=[],s=[],a=[],o=[],l=[],c=1/t,u=new Di,d=new $n,h=new Di,p=new Di,f=new Di;let g=0,A=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:g=e[t+1].x-e[t].x,A=e[t+1].y-e[t].y,h.x=1*A,h.y=-g,h.z=0*A,f.copy(h),h.normalize(),o.push(h.x,h.y,h.z);break;case e.length-1:o.push(f.x,f.y,f.z);break;default:g=e[t+1].x-e[t].x,A=e[t+1].y-e[t].y,h.x=1*A,h.y=-g,h.z=0*A,p.copy(h),h.x+=f.x,h.y+=f.y,h.z+=f.z,h.normalize(),o.push(h.x,h.y,h.z),f.copy(p)}for(let r=0;r<=t;r++){const h=n+r*c*i,p=Math.sin(h),f=Math.cos(h);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*p,u.y=e[n].y,u.z=e[n].x*f,s.push(u.x,u.y,u.z),d.x=r/t,d.y=n/(e.length-1),a.push(d.x,d.y);const i=o[3*n+0]*p,c=o[3*n+1],h=o[3*n+0]*f;l.push(i,c,h)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const i=t+n*e.length,s=i,a=i+e.length,o=i+e.length+1,l=i+1;r.push(s,a,l),r.push(o,l,a)}this.setIndex(r),this.setAttribute("position",new bs(s,3)),this.setAttribute("uv",new bs(a,2)),this.setAttribute("normal",new bs(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xl(e.points,e.segments,e.phiStart,e.phiLength)}}class wl extends xl{constructor(e=1,t=1,n=4,i=8){const r=new bl;r.absarc(0,-t/2,e,1.5*Math.PI,0),r.absarc(0,t/2,e,0,.5*Math.PI),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new wl(e.radius,e.length,e.capSegments,e.radialSegments)}}class Il extends Rs{constructor(e=1,t=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],s=[],a=[],o=[],l=new Di,c=new $n;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let r=0,u=3;r<=t;r++,u+=3){const d=n+r/t*i;l.x=e*Math.cos(d),l.y=e*Math.sin(d),s.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(s[u]/e+1)/2,c.y=(s[u+1]/e+1)/2,o.push(c.x,c.y)}for(let e=1;e<=t;e++)r.push(e,e+1,0);this.setIndex(r),this.setAttribute("position",new bs(s,3)),this.setAttribute("normal",new bs(a,3)),this.setAttribute("uv",new bs(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Il(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Cl extends Rs{constructor(e=1,t=1,n=1,i=32,r=1,s=!1,a=0,o=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],d=[],h=[];let p=0;const f=[],g=n/2;let A=0;function m(n){const r=p,s=new $n,f=new Di;let m=0;const v=!0===n?e:t,y=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,g*y,0),d.push(0,y,0),h.push(.5,.5),p++;const E=p;for(let e=0;e<=i;e++){const t=e/i*o+a,n=Math.cos(t),r=Math.sin(t);f.x=v*r,f.y=g*y,f.z=v*n,u.push(f.x,f.y,f.z),d.push(0,y,0),s.x=.5*n+.5,s.y=.5*r*y+.5,h.push(s.x,s.y),p++}for(let e=0;e<i;e++){const t=r+e,i=E+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),m+=3}l.addGroup(A,m,!0===n?1:2),A+=m}!function(){const s=new Di,m=new Di;let v=0;const y=(t-e)/n;for(let l=0;l<=r;l++){const c=[],A=l/r,v=A*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*o+a,l=Math.sin(r),f=Math.cos(r);m.x=v*l,m.y=-A*n+g,m.z=v*f,u.push(m.x,m.y,m.z),s.set(l,y,f).normalize(),d.push(s.x,s.y,s.z),h.push(t,1-A),c.push(p++)}f.push(c)}for(let n=0;n<i;n++)for(let i=0;i<r;i++){const s=f[i][n],a=f[i+1][n],o=f[i+1][n+1],l=f[i][n+1];(e>0||0!==i)&&(c.push(s,a,l),v+=3),(t>0||i!==r-1)&&(c.push(a,o,l),v+=3)}l.addGroup(A,v,0),A+=v}(),!1===s&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(c),this.setAttribute("position",new bs(u,3)),this.setAttribute("normal",new bs(d,3)),this.setAttribute("uv",new bs(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tl extends Cl{constructor(e=1,t=1,n=32,i=1,r=!1,s=0,a=2*Math.PI){super(0,e,t,n,i,r,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Tl(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ml extends Rs{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],s=[];function a(e,t,n,i){const r=i+1,s=[];for(let i=0;i<=r;i++){s[i]=[];const a=e.clone().lerp(n,i/r),o=t.clone().lerp(n,i/r),l=r-i;for(let e=0;e<=l;e++)s[i][e]=0===e&&i===r?a:a.clone().lerp(o,e/l)}for(let e=0;e<r;e++)for(let t=0;t<2*(r-e)-1;t++){const n=Math.floor(t/2);t%2==0?(o(s[e][n+1]),o(s[e+1][n]),o(s[e][n])):(o(s[e][n+1]),o(s[e+1][n+1]),o(s[e+1][n]))}}function o(e){r.push(e.x,e.y,e.z)}function l(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new Di,i=new Di,r=new Di;for(let s=0;s<t.length;s+=3)l(t[s+0],n),l(t[s+1],i),l(t[s+2],r),a(n,i,r,e)}(i),function(e){const t=new Di;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){const e=new Di;for(let t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];const n=u(e)/2/Math.PI+.5,i=d(e)/Math.PI+.5;s.push(n,1-i)}(function(){const e=new Di,t=new Di,n=new Di,i=new Di,a=new $n,o=new $n,l=new $n;for(let d=0,h=0;d<r.length;d+=9,h+=6){e.set(r[d+0],r[d+1],r[d+2]),t.set(r[d+3],r[d+4],r[d+5]),n.set(r[d+6],r[d+7],r[d+8]),a.set(s[h+0],s[h+1]),o.set(s[h+2],s[h+3]),l.set(s[h+4],s[h+5]),i.copy(e).add(t).add(n).divideScalar(3);const p=u(i);c(a,h+0,e,p),c(o,h+2,t,p),c(l,h+4,n,p)}})(),function(){for(let e=0;e<s.length;e+=6){const t=s[e+0],n=s[e+2],i=s[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);r>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),i<.2&&(s[e+4]+=1))}}()}(),this.setAttribute("position",new bs(r,3)),this.setAttribute("normal",new bs(r.slice(),3)),this.setAttribute("uv",new bs(s,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ml(e.vertices,e.indices,e.radius,e.details)}}class Bl extends Ml{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bl(e.radius,e.detail)}}const Rl=new Di,Pl=new Di,_l=new Di,Dl=new Jr;class Nl extends Rs{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,i=Math.pow(10,n),r=Math.cos(zn*t),s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<o;e+=3){s?(l[0]=s.getX(e),l[1]=s.getX(e+1),l[2]=s.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:o}=Dl;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),o.fromBufferAttribute(a,l[2]),Dl.getNormal(_l),u[0]=`${Math.round(t.x*i)},${Math.round(t.y*i)},${Math.round(t.z*i)}`,u[1]=`${Math.round(n.x*i)},${Math.round(n.y*i)},${Math.round(n.z*i)}`,u[2]=`${Math.round(o.x*i)},${Math.round(o.y*i)},${Math.round(o.z*i)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],s=Dl[c[e]],a=Dl[c[t]],o=`${n}_${i}`,p=`${i}_${n}`;p in d&&d[p]?(_l.dot(d[p].normal)<=r&&(h.push(s.x,s.y,s.z),h.push(a.x,a.y,a.z)),d[p]=null):o in d||(d[o]={index0:l[e],index1:l[t],normal:_l.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];Rl.fromBufferAttribute(a,t),Pl.fromBufferAttribute(a,n),h.push(Rl.x,Rl.y,Rl.z),h.push(Pl.x,Pl.y,Pl.z)}this.setAttribute("position",new bs(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ll extends bl{constructor(e){super(e),this.uuid=Xn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new bl).fromJSON(n))}return this}}function Ol(e,t,n,i,r){let s,a;if(r===function(e,t,n,i){let r=0;for(let s=t,a=n-i;s<n;s+=i)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}(e,t,n,i)>0)for(s=t;s<n;s+=i)a=ic(s,e[s],e[s+1],a);else for(s=n-i;s>=t;s-=i)a=ic(s,e[s],e[s+1],a);return a&&Zl(a,a.next)&&(rc(a),a=a.next),a}function kl(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!Zl(i,i.next)&&0!==Jl(i.prev,i,i.next))i=i.next;else{if(rc(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function Ul(e,t,n,i,r,s,a){if(!e)return;!a&&s&&function(e,t,n,i){let r=e;do{0===r.z&&(r.z=Xl(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n,i,r,s,a,o,l,c=1;do{for(n=e,e=null,s=null,a=0;n;){for(a++,i=n,o=0,t=0;t<c&&(o++,i=i.nextZ,i);t++);for(l=c;o>0||l>0&&i;)0!==o&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,s);let o,l,c=e;for(;e.prev!==e.next;)if(o=e.prev,l=e.next,s?Ql(e,i,r,s):Fl(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),rc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Ul(e=Vl(kl(e),t,n),t,n,i,r,s,2):2===a&&Hl(e,t,n,i,r,s):Ul(kl(e),t,n,i,r,s,1);break}}function Fl(e){const t=e.prev,n=e,i=e.next;if(Jl(t,n,i)>=0)return!1;const r=t.x,s=n.x,a=i.x,o=t.y,l=n.y,c=i.y,u=r<s?r<a?r:a:s<a?s:a,d=o<l?o<c?o:c:l<c?l:c,h=r>s?r>a?r:a:s>a?s:a,p=o>l?o>c?o:c:l>c?l:c;let f=i.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&ql(r,o,s,l,a,c,f.x,f.y)&&Jl(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Ql(e,t,n,i){const r=e.prev,s=e,a=e.next;if(Jl(r,s,a)>=0)return!1;const o=r.x,l=s.x,c=a.x,u=r.y,d=s.y,h=a.y,p=o<l?o<c?o:c:l<c?l:c,f=u<d?u<h?u:h:d<h?d:h,g=o>l?o>c?o:c:l>c?l:c,A=u>d?u>h?u:h:d>h?d:h,m=Xl(p,f,t,n,i),v=Xl(g,A,t,n,i);let y=e.prevZ,E=e.nextZ;for(;y&&y.z>=m&&E&&E.z<=v;){if(y.x>=p&&y.x<=g&&y.y>=f&&y.y<=A&&y!==r&&y!==a&&ql(o,u,l,d,c,h,y.x,y.y)&&Jl(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,E.x>=p&&E.x<=g&&E.y>=f&&E.y<=A&&E!==r&&E!==a&&ql(o,u,l,d,c,h,E.x,E.y)&&Jl(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;y&&y.z>=m;){if(y.x>=p&&y.x<=g&&y.y>=f&&y.y<=A&&y!==r&&y!==a&&ql(o,u,l,d,c,h,y.x,y.y)&&Jl(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;E&&E.z<=v;){if(E.x>=p&&E.x<=g&&E.y>=f&&E.y<=A&&E!==r&&E!==a&&ql(o,u,l,d,c,h,E.x,E.y)&&Jl(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Vl(e,t,n){let i=e;do{const r=i.prev,s=i.next.next;!Zl(r,s)&&Kl(r,i,i.next,s)&&tc(r,s)&&tc(s,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(s.i/n|0),rc(i),rc(i.next),i=e=s),i=i.next}while(i!==e);return kl(i)}function Hl(e,t,n,i,r,s){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&Yl(a,e)){let o=nc(a,e);return a=kl(a,a.next),o=kl(o,o.next),Ul(a,t,n,i,r,s,0),void Ul(o,t,n,i,r,s,0)}e=e.next}a=a.next}while(a!==e)}function Gl(e,t){return e.x-t.x}function zl(e,t){const n=function(e,t){let n,i=t,r=-1/0;const s=e.x,a=e.y;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){const e=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=s&&e>r&&(r=e,n=i.x<i.next.x?i:i.next,e===s))return n}i=i.next}while(i!==t);if(!n)return null;const o=n,l=n.x,c=n.y;let u,d=1/0;i=n;do{s>=i.x&&i.x>=l&&s!==i.x&&ql(a<c?s:r,a,l,c,a<c?r:s,a,i.x,i.y)&&(u=Math.abs(a-i.y)/(s-i.x),tc(i,e)&&(u<d||u===d&&(i.x>n.x||i.x===n.x&&Wl(n,i)))&&(n=i,d=u)),i=i.next}while(i!==o);return n}(e,t);if(!n)return t;const i=nc(n,e);return kl(i,i.next),kl(n,n.next)}function Wl(e,t){return Jl(e.prev,e,t.prev)<0&&Jl(t.next,e,e.next)<0}function Xl(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function jl(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function ql(e,t,n,i,r,s,a,o){return(r-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(i-o)>=(n-a)*(t-o)&&(n-a)*(s-o)>=(r-a)*(i-o)}function Yl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Kl(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(tc(e,t)&&tc(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Jl(e.prev,e,t.prev)||Jl(e,t.prev,t))||Zl(e,t)&&Jl(e.prev,e,e.next)>0&&Jl(t.prev,t,t.next)>0)}function Jl(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Zl(e,t){return e.x===t.x&&e.y===t.y}function Kl(e,t,n,i){const r=ec(Jl(e,t,n)),s=ec(Jl(e,t,i)),a=ec(Jl(n,i,e)),o=ec(Jl(n,i,t));return r!==s&&a!==o||!(0!==r||!$l(e,n,t))||!(0!==s||!$l(e,i,t))||!(0!==a||!$l(n,e,i))||!(0!==o||!$l(n,t,i))}function $l(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ec(e){return e>0?1:e<0?-1:0}function tc(e,t){return Jl(e.prev,e,e.next)<0?Jl(e,t,e.next)>=0&&Jl(e,e.prev,t)>=0:Jl(e,t,e.prev)<0||Jl(e,e.next,t)<0}function nc(e,t){const n=new sc(e.i,e.x,e.y),i=new sc(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function ic(e,t,n,i){const r=new sc(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function rc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function sc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class ac{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return ac.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];oc(e),lc(n,e);let s=e.length;t.forEach(oc);for(let e=0;e<t.length;e++)i.push(s),s+=t[e].length,lc(n,t[e]);const a=function(e,t,n=2){const i=t&&t.length,r=i?t[0]*n:e.length;let s=Ol(e,0,r,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,d,h,p;if(i&&(s=function(e,t,n,i){const r=[];let s,a,o,l,c;for(s=0,a=t.length;s<a;s++)o=t[s]*i,l=s<a-1?t[s+1]*i:e.length,c=Ol(e,o,l,i,!1),c===c.next&&(c.steiner=!0),r.push(jl(c));for(r.sort(Gl),s=0;s<r.length;s++)n=zl(r[s],n);return n}(e,t,s,n)),e.length>80*n){o=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)d=e[t],h=e[t+1],d<o&&(o=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);p=Math.max(c-o,u-l),p=0!==p?32767/p:0}return Ul(s,a,n,o,l,p,0),a}(n,i);for(let e=0;e<a.length;e+=3)r.push(a.slice(e,e+3));return r}}function oc(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function lc(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class cc extends Rs{constructor(e=new Ll([new $n(.5,.5),new $n(-.5,.5),new $n(-.5,-.5),new $n(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let t=0,n=e.length;t<n;t++)s(e[t]);function s(e){const s=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,g=void 0!==t.UVGenerator?t.UVGenerator:uc;let A,m,v,y,E,S=!1;f&&(A=f.getSpacedPoints(o),S=!0,c=!1,m=f.computeFrenetFrames(o,!1),v=new Di,y=new Di,E=new Di),c||(p=0,u=0,d=0,h=0);const b=e.extractPoints(a);let x=b.shape;const w=b.holes;if(!ac.isClockWise(x)){x=x.reverse();for(let e=0,t=w.length;e<t;e++){const t=w[e];ac.isClockWise(t)&&(w[e]=t.reverse())}}const I=ac.triangulateShape(x,w),C=x;for(let e=0,t=w.length;e<t;e++){const t=w[e];x=x.concat(t)}function T(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const M=x.length,B=I.length;function R(e,t,n){let i,r,s;const a=e.x-t.x,o=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+o*o,d=a*c-o*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),p=t.x-o/d,f=t.y+a/d,g=((n.x-c/h-p)*c-(n.y+l/h-f)*l)/(a*c-o*l);i=p+a*g-e.x,r=f+o*g-e.y;const A=i*i+r*r;if(A<=2)return new $n(i,r);s=Math.sqrt(A/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(c)&&(e=!0),e?(i=-o,r=a,s=Math.sqrt(u)):(i=a,r=o,s=Math.sqrt(u/2))}return new $n(i/s,r/s)}const P=[];for(let e=0,t=C.length,n=t-1,i=e+1;e<t;e++,n++,i++)n===t&&(n=0),i===t&&(i=0),P[e]=R(C[e],C[n],C[i]);const _=[];let D,N=P.concat();for(let e=0,t=w.length;e<t;e++){const t=w[e];D=[];for(let e=0,n=t.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[e]=R(t[e],t[i],t[r]);_.push(D),N=N.concat(D)}for(let e=0;e<p;e++){const t=e/p,n=u*Math.cos(t*Math.PI/2),i=d*Math.sin(t*Math.PI/2)+h;for(let e=0,t=C.length;e<t;e++){const t=T(C[e],P[e],i);k(t.x,t.y,-n)}for(let e=0,t=w.length;e<t;e++){const t=w[e];D=_[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],D[e],i);k(r.x,r.y,-n)}}}const L=d+h;for(let e=0;e<M;e++){const t=c?T(x[e],N[e],L):x[e];S?(y.copy(m.normals[0]).multiplyScalar(t.x),v.copy(m.binormals[0]).multiplyScalar(t.y),E.copy(A[0]).add(y).add(v),k(E.x,E.y,E.z)):k(t.x,t.y,0)}for(let e=1;e<=o;e++)for(let t=0;t<M;t++){const n=c?T(x[t],N[t],L):x[t];S?(y.copy(m.normals[e]).multiplyScalar(n.x),v.copy(m.binormals[e]).multiplyScalar(n.y),E.copy(A[e]).add(y).add(v),k(E.x,E.y,E.z)):k(n.x,n.y,l/o*e)}for(let e=p-1;e>=0;e--){const t=e/p,n=u*Math.cos(t*Math.PI/2),i=d*Math.sin(t*Math.PI/2)+h;for(let e=0,t=C.length;e<t;e++){const t=T(C[e],P[e],i);k(t.x,t.y,l+n)}for(let e=0,t=w.length;e<t;e++){const t=w[e];D=_[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],D[e],i);S?k(r.x,r.y+A[o-1].y,A[o-1].x+n):k(r.x,r.y,l+n)}}}function O(e,t){let n=e.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=o+2*p;e<n;e++){const n=M*e,s=M*(e+1);F(t+i+n,t+r+n,t+r+s,t+i+s)}}}function k(e,t,n){s.push(e),s.push(t),s.push(n)}function U(e,t,r){Q(e),Q(t),Q(r);const s=i.length/3,a=g.generateTopUV(n,i,s-3,s-2,s-1);V(a[0]),V(a[1]),V(a[2])}function F(e,t,r,s){Q(e),Q(t),Q(s),Q(t),Q(r),Q(s);const a=i.length/3,o=g.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);V(o[0]),V(o[1]),V(o[3]),V(o[1]),V(o[2]),V(o[3])}function Q(e){i.push(s[3*e+0]),i.push(s[3*e+1]),i.push(s[3*e+2])}function V(e){r.push(e.x),r.push(e.y)}!function(){const e=i.length/3;if(c){let e=0,t=M*e;for(let e=0;e<B;e++){const n=I[e];U(n[2]+t,n[1]+t,n[0]+t)}e=o+2*p,t=M*e;for(let e=0;e<B;e++){const n=I[e];U(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<B;e++){const t=I[e];U(t[2],t[1],t[0])}for(let e=0;e<B;e++){const t=I[e];U(t[0]+M*o,t[1]+M*o,t[2]+M*o)}}n.addGroup(e,i.length/3-e,0)}(),function(){const e=i.length/3;let t=0;O(C,t),t+=C.length;for(let e=0,n=w.length;e<n;e++){const n=w[e];O(n,t),t+=n.length}n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new bs(i,3)),this.setAttribute("uv",new bs(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,i=e.length;t<i;t++){const i=e[t];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new El[i.type]).fromJSON(i)),new cc(n,e.options)}}const uc={generateTopUV:function(e,t,n,i,r){const s=t[3*n],a=t[3*n+1],o=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new $n(s,a),new $n(o,l),new $n(c,u)]},generateSideWallUV:function(e,t,n,i,r,s){const a=t[3*n],o=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],f=t[3*r+2],g=t[3*s],A=t[3*s+1],m=t[3*s+2];return Math.abs(o-u)<Math.abs(a-c)?[new $n(a,1-l),new $n(c,1-d),new $n(h,1-f),new $n(g,1-m)]:[new $n(o,1-l),new $n(u,1-d),new $n(p,1-f),new $n(A,1-m)]}};class dc extends Ml{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dc(e.radius,e.detail)}}class hc extends Ml{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hc(e.radius,e.detail)}}class pc extends Rs{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,s=t/2,a=Math.floor(n),o=Math.floor(i),l=a+1,c=o+1,u=e/a,d=t/o,h=[],p=[],f=[],g=[];for(let e=0;e<c;e++){const t=e*d-s;for(let n=0;n<l;n++){const i=n*u-r;p.push(i,-t,0),f.push(0,0,1),g.push(n/a),g.push(1-e/o)}}for(let e=0;e<o;e++)for(let t=0;t<a;t++){const n=t+l*e,i=t+l*(e+1),r=t+1+l*(e+1),s=t+1+l*e;h.push(n,i,s),h.push(i,r,s)}this.setIndex(h),this.setAttribute("position",new bs(p,3)),this.setAttribute("normal",new bs(f,3)),this.setAttribute("uv",new bs(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pc(e.width,e.height,e.widthSegments,e.heightSegments)}}class fc extends Rs{constructor(e=.5,t=1,n=32,i=1,r=0,s=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},n=Math.max(3,n);const a=[],o=[],l=[],c=[];let u=e;const d=(t-e)/(i=Math.max(1,i)),h=new Di,p=new $n;for(let e=0;e<=i;e++){for(let e=0;e<=n;e++){const i=r+e/n*s;h.x=u*Math.cos(i),h.y=u*Math.sin(i),o.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let e=0;e<i;e++){const t=e*(n+1);for(let e=0;e<n;e++){const i=e+t,r=i,s=i+n+1,o=i+n+2,l=i+1;a.push(r,s,l),a.push(s,o,l)}}this.setIndex(a),this.setAttribute("position",new bs(o,3)),this.setAttribute("normal",new bs(l,3)),this.setAttribute("uv",new bs(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fc(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class gc extends Rs{constructor(e=new Ll([new $n(0,.5),new $n(-.5,-.5),new $n(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],s=[];let a=0,o=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(a,o,t),a+=o,o=0;function l(e){const a=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===ac.isClockWise(c)&&(c=c.reverse());for(let e=0,t=u.length;e<t;e++){const t=u[e];!0===ac.isClockWise(t)&&(u[e]=t.reverse())}const d=ac.triangulateShape(c,u);for(let e=0,t=u.length;e<t;e++){const t=u[e];c=c.concat(t)}for(let e=0,t=c.length;e<t;e++){const t=c[e];i.push(t.x,t.y,0),r.push(0,0,1),s.push(t.x,t.y)}for(let e=0,t=d.length;e<t;e++){const t=d[e],i=t[0]+a,r=t[1]+a,s=t[2]+a;n.push(i,r,s),o+=3}}this.setIndex(n),this.setAttribute("position",new bs(i,3)),this.setAttribute("normal",new bs(r,3)),this.setAttribute("uv",new bs(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}return new gc(n,e.curveSegments)}}class Ac extends Rs{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(s+a,Math.PI);let l=0;const c=[],u=new Di,d=new Di,h=[],p=[],f=[],g=[];for(let h=0;h<=n;h++){const A=[],m=h/n;let v=0;0===h&&0===s?v=.5/t:h===n&&o===Math.PI&&(v=-.5/t);for(let n=0;n<=t;n++){const o=n/t;u.x=-e*Math.cos(i+o*r)*Math.sin(s+m*a),u.y=e*Math.cos(s+m*a),u.z=e*Math.sin(i+o*r)*Math.sin(s+m*a),p.push(u.x,u.y,u.z),d.copy(u).normalize(),f.push(d.x,d.y,d.z),g.push(o+v,1-m),A.push(l++)}c.push(A)}for(let e=0;e<n;e++)for(let i=0;i<t;i++){const t=c[e][i+1],r=c[e][i],a=c[e+1][i],l=c[e+1][i+1];(0!==e||s>0)&&h.push(t,r,l),(e!==n-1||o<Math.PI)&&h.push(r,a,l)}this.setIndex(h),this.setAttribute("position",new bs(p,3)),this.setAttribute("normal",new bs(f,3)),this.setAttribute("uv",new bs(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ac(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class mc extends Ml{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mc(e.radius,e.detail)}}class vc extends Rs{constructor(e=1,t=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],o=[],l=[],c=new Di,u=new Di,d=new Di;for(let s=0;s<=n;s++)for(let h=0;h<=i;h++){const p=h/i*r,f=s/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),a.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),o.push(d.x,d.y,d.z),l.push(h/i),l.push(s/n)}for(let e=1;e<=n;e++)for(let t=1;t<=i;t++){const n=(i+1)*e+t-1,r=(i+1)*(e-1)+t-1,a=(i+1)*(e-1)+t,o=(i+1)*e+t;s.push(n,r,o),s.push(r,a,o)}this.setIndex(s),this.setAttribute("position",new bs(a,3)),this.setAttribute("normal",new bs(o,3)),this.setAttribute("uv",new bs(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class yc extends Rs{constructor(e=1,t=.4,n=64,i=8,r=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},n=Math.floor(n),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new Di,d=new Di,h=new Di,p=new Di,f=new Di,g=new Di,A=new Di;for(let a=0;a<=n;++a){const v=a/n*r*Math.PI*2;m(v,r,s,e,h),m(v+.01,r,s,e,p),g.subVectors(p,h),A.addVectors(p,h),f.crossVectors(g,A),A.crossVectors(f,g),f.normalize(),A.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,s=-t*Math.cos(r),p=t*Math.sin(r);u.x=h.x+(s*A.x+p*f.x),u.y=h.y+(s*A.y+p*f.y),u.z=h.z+(s*A.z+p*f.z),o.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(a/n),c.push(e/i)}}for(let e=1;e<=n;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),s=(i+1)*e+t,o=(i+1)*(e-1)+t;a.push(n,r,o),a.push(r,s,o)}function m(e,t,n,i,r){const s=Math.cos(e),a=Math.sin(e),o=n/t*e,l=Math.cos(o);r.x=i*(2+l)*.5*s,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(o)*.5}this.setIndex(a),this.setAttribute("position",new bs(o,3)),this.setAttribute("normal",new bs(l,3)),this.setAttribute("uv",new bs(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yc(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ec extends Rs{constructor(e=new vl(new Di(-1,-1,0),new Di(-1,1,0),new Di(1,1,0)),t=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const s=e.computeFrenetFrames(t,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new Di,o=new Di,l=new $n;let c=new Di;const u=[],d=[],h=[],p=[];function f(r){c=e.getPointAt(r/t,c);const l=s.normals[r],h=s.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),s=-Math.cos(t);o.x=s*l.x+r*h.x,o.y=s*l.y+r*h.y,o.z=s*l.z+r*h.z,o.normalize(),d.push(o.x,o.y,o.z),a.x=c.x+n*o.x,a.y=c.y+n*o.y,a.z=c.z+n*o.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)f(e);f(!1===r?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),s=(i+1)*e+t,a=(i+1)*(e-1)+t;p.push(n,r,a),p.push(r,s,a)}}()}(),this.setIndex(p),this.setAttribute("position",new bs(u,3)),this.setAttribute("normal",new bs(d,3)),this.setAttribute("uv",new bs(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ec((new El[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Sc extends Rs{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new Di,r=new Di;if(null!==e.index){const s=e.attributes.position,a=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],c=l.start;for(let e=c,o=c+l.count;e<o;e+=3)for(let o=0;o<3;o++){const l=a.getX(e+o),c=a.getX(e+(o+1)%3);i.fromBufferAttribute(s,l),r.fromBufferAttribute(s,c),!0===bc(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const s=e.attributes.position;for(let e=0,a=s.count/3;e<a;e++)for(let a=0;a<3;a++){const o=3*e+a,l=3*e+(a+1)%3;i.fromBufferAttribute(s,o),r.fromBufferAttribute(s,l),!0===bc(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new bs(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function bc(e,t,n){const i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var xc=Object.freeze({__proto__:null,BoxGeometry:zs,CapsuleGeometry:wl,CircleGeometry:Il,ConeGeometry:Tl,CylinderGeometry:Cl,DodecahedronGeometry:Bl,EdgesGeometry:Nl,ExtrudeGeometry:cc,IcosahedronGeometry:dc,LatheGeometry:xl,OctahedronGeometry:hc,PlaneGeometry:pc,PolyhedronGeometry:Ml,RingGeometry:fc,ShapeGeometry:gc,SphereGeometry:Ac,TetrahedronGeometry:mc,TorusGeometry:vc,TorusKnotGeometry:yc,TubeGeometry:Ec,WireframeGeometry:Sc});class wc extends rs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ts(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Ic extends Ys{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Cc extends rs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ts(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ts(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jt,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Tc extends Cc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $n(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ts(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ts(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ts(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Mc extends rs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ts(16777215),this.specular=new ts(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ts(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jt,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yr,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bc extends rs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ts(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ts(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jt,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Rc extends rs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jt,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Pc extends rs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ts(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ts(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jt,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yr,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _c extends rs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Xt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Dc extends rs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Nc extends rs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ts(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jt,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lc extends Co{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Oc(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function kc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uc(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort(function(t,n){return e[t]-e[n]}),n}function Fc(e,t,n){const i=e.length,r=new e.constructor(i);for(let s=0,a=0;a!==i;++s){const i=n[s]*t;for(let n=0;n!==t;++n)r[a++]=e[i+n]}return r}function Qc(e,t,n,i){let r=1,s=e[0];for(;void 0!==s&&void 0===s[i];)s=e[r++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do{a=s[i],void 0!==a&&(t.push(s.time),n.push.apply(n,a)),s=e[r++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[i],void 0!==a&&(t.push(s.time),a.toArray(n,n.length)),s=e[r++]}while(void 0!==s);else do{a=s[i],void 0!==a&&(t.push(s.time),n.push(a)),s=e[r++]}while(void 0!==s)}const Vc={convertArray:Oc,isTypedArray:kc,getKeyframeOrder:Uc,sortedArray:Fc,flattenJSON:Qc,subclip:function(e,t,n,i,r=30){const s=e.clone();s.name=t;const a=[];for(let e=0;e<s.tracks.length;++e){const t=s.tracks[e],o=t.getValueSize(),l=[],c=[];for(let e=0;e<t.times.length;++e){const s=t.times[e]*r;if(!(s<n||s>=i)){l.push(t.times[e]);for(let n=0;n<o;++n)c.push(t.values[e*o+n])}}0!==l.length&&(t.times=Oc(l,t.times.constructor),t.values=Oc(c,t.values.constructor),a.push(t))}s.tracks=a;let o=1/0;for(let e=0;e<s.tracks.length;++e)o>s.tracks[e].times[0]&&(o=s.tracks[e].times[0]);for(let e=0;e<s.tracks.length;++e)s.tracks[e].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(e,t=0,n=e,i=30){i<=0&&(i=30);const r=n.tracks.length,s=t/i;for(let t=0;t<r;++t){const i=n.tracks[t],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const a=e.tracks.find(function(e){return e.name===i.name&&e.ValueTypeName===r});if(void 0===a)continue;let o=0;const l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=i.times.length-1;let h;if(s<=i.times[0]){const e=o,t=l-o;h=i.values.slice(e,t)}else if(s>=i.times[d]){const e=d*l+o,t=e+l-o;h=i.values.slice(e,t)}else{const e=i.createInterpolant(),t=o,n=l-o;e.evaluate(s),h=e.resultBuffer.slice(t,n)}"quaternion"===r&&(new _i).fromArray(h).normalize().conjugate().toArray(h);const p=a.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===r)_i.multiplyQuaternionsFlat(a.values,t,h,0,a.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)a.values[t+n]-=h[n]}}}return e.blendMode=Ht,e}};class Hc{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let s=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=r)){const a=t[1];e<a&&(n=2,r=a);for(let s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0;break n}break e}for(;n<s;){const i=n+s>>>1;e<t[i]?s=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let e=0;e!==i;++e)t[e]=n[r+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Gc extends Hc{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ut,endingEnd:Ut}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,s=e+1,a=i[r],o=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case Ft:r=e,a=2*t-n;break;case Qt:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case Ft:s=e,o=2*n-t;break;case Qt:s=1,o=n+i[1]-i[0];break;default:s=e-1,o=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-n),this._offsetPrev=r*c,this._offsetNext=s*c}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),f=p*p,g=f*p,A=-d*g+2*d*f-d*p,m=(1+d)*g+(-1.5-2*d)*f+(-.5+d)*p+1,v=(-1-h)*g+(1.5+h)*f+.5*p,y=h*g-h*f;for(let e=0;e!==a;++e)r[e]=A*s[c+e]+m*s[l+e]+v*s[o+e]+y*s[u+e];return r}}class zc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=(n-t)/(i-t),u=1-c;for(let e=0;e!==a;++e)r[e]=s[l+e]*u+s[o+e]*c;return r}}class Wc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xc{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Oc(t,this.TimeBufferType),this.values=Oc(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Oc(e.times,Array),values:Oc(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Wc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Gc(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Lt:t=this.InterpolantFactoryMethodDiscrete;break;case Ot:t=this.InterpolantFactoryMethodLinear;break;case kt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lt;case this.InterpolantFactoryMethodLinear:return Ot;case this.InterpolantFactoryMethodSmooth:return kt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==r||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const e=this.getValueSize();this.times=n.slice(r,s),this.values=this.values.slice(r*e,s*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let t=0;t!==r;t++){const i=n[t];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,i),e=!1;break}if(null!==s&&s>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,i,s),e=!1;break}s=i}if(void 0!==i&&kc(i))for(let t=0,n=i.length;t!==n;++t){const n=i[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===kt,r=e.length-1;let s=1;for(let a=1;a<r;++a){let r=!1;const o=e[a];if(o!==e[a+1]&&(1!==a||o!==e[0]))if(i)r=!0;else{const e=a*n,i=e-n,s=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[i+a]||n!==t[s+a]){r=!0;break}}}if(r){if(a!==s){e[s]=e[a];const i=a*n,r=s*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++s}}if(r>0){e[s]=e[r];for(let e=r*n,i=s*n,a=0;a!==n;++a)t[i+a]=t[e+a];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Xc.prototype.TimeBufferType=Float32Array,Xc.prototype.ValueBufferType=Float32Array,Xc.prototype.DefaultInterpolation=Ot;class jc extends Xc{constructor(e,t,n){super(e,t,n)}}jc.prototype.ValueTypeName="bool",jc.prototype.ValueBufferType=Array,jc.prototype.DefaultInterpolation=Lt,jc.prototype.InterpolantFactoryMethodLinear=void 0,jc.prototype.InterpolantFactoryMethodSmooth=void 0;class qc extends Xc{}qc.prototype.ValueTypeName="color";class Yc extends Xc{}Yc.prototype.ValueTypeName="number";class Jc extends Hc{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-t)/(i-t);let l=e*a;for(let e=l+a;l!==e;l+=4)_i.slerpFlat(r,0,s,l-a,s,l,o);return r}}class Zc extends Xc{InterpolantFactoryMethodLinear(e){return new Jc(this.times,this.values,this.getValueSize(),e)}}Zc.prototype.ValueTypeName="quaternion",Zc.prototype.InterpolantFactoryMethodSmooth=void 0;class Kc extends Xc{constructor(e,t,n){super(e,t,n)}}Kc.prototype.ValueTypeName="string",Kc.prototype.ValueBufferType=Array,Kc.prototype.DefaultInterpolation=Lt,Kc.prototype.InterpolantFactoryMethodLinear=void 0,Kc.prototype.InterpolantFactoryMethodSmooth=void 0;class $c extends Xc{}$c.prototype.ValueTypeName="vector";class eu{constructor(e="",t=-1,n=[],i=Vt){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Xn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let e=0,r=n.length;e!==r;++e)t.push(tu(n[e]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,i=n.length;e!==i;++e)t.push(Xc.toJSON(n[e]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,s=[];for(let e=0;e<r;e++){let a=[],o=[];a.push((e+r-1)%r,e,(e+1)%r),o.push(0,1,0);const l=Uc(a);a=Fc(a,1,l),o=Fc(o,1,l),i||0!==a[0]||(a.push(r),o.push(o[0])),s.push(new Yc(".morphTargetInfluences["+t[e].name+"]",a,o).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],s=n.name.match(r);if(s&&s.length>1){const e=s[1];let t=i[e];t||(i[e]=t=[]),t.push(n)}}const s=[];for(const e in i)s.push(this.CreateFromMorphTargetSequence(e,i[e],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const s=[],a=[];Qc(n,s,a,i),0!==s.length&&r.push(new e(t,s,a))}},i=[],r=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const r=l[e].keys;if(r&&0!==r.length)if(r[0].morphTargets){const e={};let t;for(t=0;t<r.length;t++)if(r[t].morphTargets)for(let n=0;n<r[t].morphTargets.length;n++)e[r[t].morphTargets[n]]=-1;for(const n in e){const e=[],s=[];for(let i=0;i!==r[t].morphTargets.length;++i){const i=r[t];e.push(i.time),s.push(i.morphTarget===n?1:0)}i.push(new Yc(".morphTargetInfluence["+n+"]",e,s))}o=e.length*s}else{const s=".bones["+t[e].name+"]";n($c,s+".position",r,"pos",i),n(Zc,s+".quaternion",r,"rot",i),n($c,s+".scale",r,"scl",i)}}return 0===i.length?null:new this(r,o,i,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tu(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yc;case"vector":case"vector2":case"vector3":case"vector4":return $c;case"color":return qc;case"quaternion":return Zc;case"bool":case"boolean":return jc;case"string":return Kc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Qc(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const nu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class iu{constructor(e,t,n){const i=this;let r,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===s&&void 0!==i.onStart&&i.onStart(e,a,o),s=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(s=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const ru=new iu;class su{constructor(e){this.manager=void 0!==e?e:ru,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}su.DEFAULT_MATERIAL_NAME="__DEFAULT";const au={};class ou extends Error{constructor(e,t){super(e),this.response=t}}class lu extends su{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=nu.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==au[e])return void au[e].push({onLoad:t,onProgress:n,onError:i});au[e]=[],au[e].push({onLoad:t,onProgress:n,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(s).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=au[e],i=t.body.getReader(),r=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),s=r?parseInt(r):0,a=0!==s;let o=0;const l=new ReadableStream({start(e){!function t(){i.read().then(({done:i,value:r})=>{if(i)e.close();else{o+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:s});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(r),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new ou(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,a));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,i=new TextDecoder(n);return e.arrayBuffer().then(e=>i.decode(e))}}}).then(t=>{nu.add(e,t);const n=au[e];delete au[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{const n=au[e];if(void 0===n)throw this.manager.itemError(e),t;delete au[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class cu extends su{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new lu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=eu.parse(e[n]);t.push(i)}return t}}class uu extends su{constructor(e){super(e)}load(e,t,n,i){const r=this,s=[],a=new Jo,o=new lu(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials);let l=0;function c(c){o.load(e[c],function(e){const n=r.parse(e,!0);s[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=we),a.image=s,a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)c(t);else o.load(e,function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){s[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)s[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),s[t].format=n.format,s[t].width=n.width,s[t].height=n.height}a.image=s}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=we),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}}class du extends su{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=nu.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const a=si("img");function o(){c(),nu.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class hu extends su{constructor(e){super(e)}load(e,t,n,i){const r=new ia;r.colorSpace=$t;const s=new du(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(n){s.load(e[n],function(e){r.images[n]=e,a++,6===a&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let t=0;t<e.length;++t)o(t);return r}}class pu extends su{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new Va,a=new lu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(e){let n;try{n=r.parse(e)}catch(e){if(void 0===i)return void console.error(e);i(e)}void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:me,s.wrapT=void 0!==n.wrapT?n.wrapT:me,s.magFilter=void 0!==n.magFilter?n.magFilter:we,s.minFilter=void 0!==n.minFilter?n.minFilter:we,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(s.colorSpace=n.colorSpace),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=Te),1===n.mipmapCount&&(s.minFilter=we),void 0!==n.generateMipmaps&&(s.generateMipmaps=n.generateMipmaps),s.needsUpdate=!0,t&&t(s,n)},n,i),s}}class fu extends su{constructor(e){super(e)}load(e,t,n,i){const r=new wi,s=new du(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}}class gu extends Or{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ts(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class Au extends gu{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Or.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ts(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const mu=new cr,vu=new Di,yu=new Di;class Eu{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $n(512,512),this.map=null,this.mapPass=null,this.matrix=new cr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ao,this._frameExtents=new $n(1,1),this._viewportCount=1,this._viewports=[new Ii(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;vu.setFromMatrixPosition(e.matrixWorld),t.position.copy(vu),yu.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yu),t.updateMatrixWorld(),mu.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mu),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(mu)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Su extends Eu{constructor(){super(new ea(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Wn*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bu extends gu{constructor(e,t,n=0,i=Math.PI/3,r=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Or.DEFAULT_UP),this.updateMatrix(),this.target=new Or,this.distance=n,this.angle=i,this.penumbra=r,this.decay=s,this.map=null,this.shadow=new Su}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const xu=new cr,wu=new Di,Iu=new Di;class Cu extends Eu{constructor(){super(new ea(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $n(4,2),this._viewportCount=6,this._viewports=[new Ii(2,1,1,1),new Ii(0,1,1,1),new Ii(3,1,1,1),new Ii(1,1,1,1),new Ii(3,0,1,1),new Ii(1,0,1,1)],this._cubeDirections=[new Di(1,0,0),new Di(-1,0,0),new Di(0,0,1),new Di(0,0,-1),new Di(0,1,0),new Di(0,-1,0)],this._cubeUps=[new Di(0,1,0),new Di(0,1,0),new Di(0,1,0),new Di(0,1,0),new Di(0,0,1),new Di(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),wu.setFromMatrixPosition(e.matrixWorld),n.position.copy(wu),Iu.copy(n.position),Iu.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Iu),n.updateMatrixWorld(),i.makeTranslation(-wu.x,-wu.y,-wu.z),xu.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xu)}}class Tu extends gu{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Cu}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Mu extends Js{constructor(e=-1,t=1,n=1,i=-1,r=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,s=n+e,a=i+t,o=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,s=r+e*this.view.width,a-=t*this.view.offsetY,o=a-t*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class Bu extends Eu{constructor(){super(new Mu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ru extends gu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Or.DEFAULT_UP),this.updateMatrix(),this.target=new Or,this.shadow=new Bu}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Pu extends gu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class _u extends gu{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Du{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Di)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*r),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],n*i*1.092548),t.addScaledVector(s[5],i*r*1.092548),t.addScaledVector(s[6],.315392*(3*r*r-1)),t.addScaledVector(s[7],n*r*1.092548),t.addScaledVector(s[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*i),t.addScaledVector(s[2],1.023328*r),t.addScaledVector(s[3],1.023328*n),t.addScaledVector(s[4],.858086*n*i),t.addScaledVector(s[5],.858086*i*r),t.addScaledVector(s[6],.743125*r*r-.247708),t.addScaledVector(s[7],.858086*n*r),t.addScaledVector(s[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class Nu extends gu{constructor(e=new Du,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Lu extends su{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,s=new lu(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new ts).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(i.dispersion=e.dispersion),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(i.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(i.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(i.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(i.depthFunc=e.depthFunc),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(i.blendSrc=e.blendSrc),void 0!==e.blendDst&&(i.blendDst=e.blendDst),void 0!==e.blendEquation&&(i.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(i.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(i.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(i.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(i.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),void 0!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const r=e.uniforms[t];switch(i.uniforms[t]={},r.type){case"t":i.uniforms[t].value=n(r.value);break;case"c":i.uniforms[t].value=(new ts).setHex(r.value);break;case"v2":i.uniforms[t].value=(new $n).fromArray(r.value);break;case"v3":i.uniforms[t].value=(new Di).fromArray(r.value);break;case"v4":i.uniforms[t].value=(new Ii).fromArray(r.value);break;case"m3":i.uniforms[t].value=(new ei).fromArray(r.value);break;case"m4":i.uniforms[t].value=(new cr).fromArray(r.value);break;default:i.uniforms[t].value=r.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(const t in e.extensions)i.extensions[t]=e.extensions[t];if(void 0!==e.lights&&(i.lights=e.lights),void 0!==e.clipping&&(i.clipping=e.clipping),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new $n).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapRotation&&i.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new $n).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(i.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Lu.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:wc,SpriteMaterial:da,RawShaderMaterial:Ic,ShaderMaterial:Ys,PointsMaterial:Qo,MeshPhysicalMaterial:Tc,MeshStandardMaterial:Cc,MeshPhongMaterial:Mc,MeshToonMaterial:Bc,MeshNormalMaterial:Rc,MeshLambertMaterial:Pc,MeshDepthMaterial:_c,MeshDistanceMaterial:Dc,MeshBasicMaterial:ss,MeshMatcapMaterial:Nc,LineDashedMaterial:Lc,LineBasicMaterial:Co,Material:rs}[e]}}class Ou{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class ku extends Rs{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Uu extends su{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new lu(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(t){i?i(t):console.error(t),r.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(e,i){if(void 0!==t[i])return t[i];const r=e.interleavedBuffers[i],s=function(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers[t],r=new Uint32Array(i).buffer;return n[t]=r,r}(e,r.buffer),a=ri(r.type,s),o=new la(a,r.stride);return o.uuid=r.uuid,t[i]=o,o}const r=e.isInstancedBufferGeometry?new ku:new Rs,s=e.data.index;if(void 0!==s){const e=ri(s.type,s.array);r.setIndex(new ps(e,1))}const a=e.data.attributes;for(const t in a){const n=a[t];let s;if(n.isInterleavedBufferAttribute){const t=i(e.data,n.data);s=new ua(t,n.itemSize,n.offset,n.normalized)}else{const e=ri(n.type,n.array);s=new(n.isInstancedBufferAttribute?Wa:ps)(e,n.itemSize,n.normalized)}void 0!==n.name&&(s.name=n.name),void 0!==n.usage&&s.setUsage(n.usage),r.setAttribute(t,s)}const o=e.data.morphAttributes;if(o)for(const t in o){const n=o[t],s=[];for(let t=0,r=n.length;t<r;t++){const r=n[t];let a;if(r.isInterleavedBufferAttribute){const t=i(e.data,r.data);a=new ua(t,r.itemSize,r.offset,r.normalized)}else{const e=ri(r.type,r.array);a=new ps(e,r.itemSize,r.normalized)}void 0!==r.name&&(a.name=r.name),s.push(a)}r.morphAttributes[t]=s}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){const t=l[e];r.addGroup(t.start,t.count,t.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new Di;void 0!==c.center&&e.fromArray(c.center),r.boundingSphere=new er(e,c.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}}class Fu extends su{constructor(e){super(e)}load(e,t,n,i){const r=this,s=""===this.path?Ou.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new lu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){let s=null;try{s=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(s,t)},n,i)}async loadAsync(e,t){const n=""===this.path?Ou.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const i=new lu(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const r=await i.loadAsync(e,t),s=JSON.parse(r),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){void 0!==t&&t(l)}),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in s)if(s[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,i,a,s,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),this.bindLightTargets(o),o}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new Ll).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(e){e.isBone&&(i[e.uuid]=e)}),void 0!==e)for(let t=0,r=e.length;t<r;t++){const r=(new za).fromJSON(e[t],i);n[r.uuid]=r}return n}parseGeometries(e,t){const n={};if(void 0!==e){const i=new Uu;for(let r=0,s=e.length;r<s;r++){let s;const a=e[r];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(a);break;default:a.type in xc?s=xc[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new Lu;r.setTextures(t);for(let t=0,s=e.length;t<s;t++){const s=e[t];void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=eu.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function s(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),r.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:ri(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new iu(t);r=new du(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n.url;if(Array.isArray(r)){const e=[];for(let t=0,n=r.length;t<n;t++){const n=s(r[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Va(n.data,n.width,n.height)))}i[n.uuid]=new Si(e)}else{const e=s(n.url);i[n.uuid]=new Si(e)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(e){if("string"==typeof e){const n=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await i.loadAsync(r)}return e.data?{data:ri(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){i=new du(this.manager),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],s=i.url;if(Array.isArray(s)){const e=[];for(let t=0,n=s.length;t<n;t++){const n=s[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new Va(i.data,i.width,i.height)))}n[i.uuid]=new Si(e)}else{const e=await r(i.url);n[i.uuid]=new Si(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,s=e.length;r<s;r++){const s=e[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const a=t[s.image],o=a.data;let l;Array.isArray(o)?(l=new ia,6===o.length&&(l.needsUpdate=!0)):(l=o&&o.data?new Va:new wi,o&&(l.needsUpdate=!0)),l.source=a,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=n(s.mapping,Qu)),void 0!==s.channel&&(l.channel=s.channel),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.center&&l.center.fromArray(s.center),void 0!==s.rotation&&(l.rotation=s.rotation),void 0!==s.wrap&&(l.wrapS=n(s.wrap[0],Vu),l.wrapT=n(s.wrap[1],Vu)),void 0!==s.format&&(l.format=s.format),void 0!==s.internalFormat&&(l.internalFormat=s.internalFormat),void 0!==s.type&&(l.type=s.type),void 0!==s.colorSpace&&(l.colorSpace=s.colorSpace),void 0!==s.minFilter&&(l.minFilter=n(s.minFilter,Hu)),void 0!==s.magFilter&&(l.magFilter=n(s.magFilter,Hu)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),void 0!==s.generateMipmaps&&(l.generateMipmaps=s.generateMipmaps),void 0!==s.premultiplyAlpha&&(l.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(l.unpackAlignment=s.unpackAlignment),void 0!==s.compareFunction&&(l.compareFunction=s.compareFunction),void 0!==s.userData&&(l.userData=s.userData),i[s.uuid]=l}return i}parseObject(e,t,n,i,r){let s,a,o;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":s=new oa,void 0!==e.background&&(Number.isInteger(e.background)?s.background=new ts(e.background):s.background=u(e.background)),void 0!==e.environment&&(s.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new aa(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new sa(e.fog.color,e.fog.density)),""!==e.fog.name&&(s.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(s.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(s.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&s.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(s.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new ea(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Mu(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Pu(e.color,e.intensity);break;case"DirectionalLight":s=new Ru(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new Tu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new _u(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new bu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Au(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=(new Nu).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),o=c(e.material),s=new Fa(a,o),void 0!==e.bindMode&&(s.bindMode=e.bindMode),void 0!==e.bindMatrix&&s.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(s.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),o=c(e.material),s=new Hs(a,o);break;case"InstancedMesh":a=l(e.geometry),o=c(e.material);const t=e.count,n=e.instanceMatrix,i=e.instanceColor;s=new $a(a,o,t),s.instanceMatrix=new Wa(new Float32Array(n.array),16),void 0!==i&&(s.instanceColor=new Wa(new Float32Array(i.array),i.itemSize));break;case"BatchedMesh":a=l(e.geometry),o=c(e.material),s=new Io(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,o),s.geometry=a,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(e=>{const t=new Oi;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new er;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=u(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(s._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":s=new Ba;break;case"Line":s=new No(l(e.geometry),c(e.material));break;case"LineLoop":s=new Fo(l(e.geometry),c(e.material));break;case"LineSegments":s=new Uo(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new Wo(l(e.geometry),c(e.material));break;case"Sprite":s=new Ia(c(e.material));break;case"Group":s=new jo;break;case"Bone":s=new Qa;break;default:s=new Or}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(s.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.up&&s.up.fromArray(e.up),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(s.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(s.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.frustumCulled&&(s.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(s.renderOrder=e.renderOrder),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.layers&&(s.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)s.add(this.parseObject(a[e],t,n,i,r))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];s.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(s.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=s.getObjectByProperty("uuid",n.object);void 0!==i&&s.addLevel(i,n.distance,n.hysteresis)}}return s}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);t.target=void 0!==i?i:new Or}})}}const Qu={UVMapping:ue,CubeReflectionMapping:de,CubeRefractionMapping:he,EquirectangularReflectionMapping:pe,EquirectangularRefractionMapping:fe,CubeUVReflectionMapping:ge},Vu={RepeatWrapping:Ae,ClampToEdgeWrapping:me,MirroredRepeatWrapping:ve},Hu={NearestFilter:ye,NearestMipmapNearestFilter:Ee,NearestMipmapLinearFilter:be,LinearFilter:we,LinearMipmapNearestFilter:Ie,LinearMipmapLinearFilter:Te};class Gu extends su{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=nu.get(e);if(void 0!==s)return r.manager.itemStart(e),s.then?void s.then(n=>{t&&t(n),r.manager.itemEnd(e)}).catch(e=>{i&&i(e)}):(setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const o=fetch(e,a).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){return nu.add(e,n),t&&t(n),r.manager.itemEnd(e),n}).catch(function(t){i&&i(t),nu.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});nu.add(e,o),r.manager.itemStart(e)}}let zu;class Wu{static getContext(){return void 0===zu&&(zu=new(window.AudioContext||window.webkitAudioContext)),zu}static setContext(e){zu=e}}class Xu extends su{constructor(e){super(e)}load(e,t,n,i){const r=this,s=new lu(this.manager);function a(t){i?i(t):console.error(t),r.manager.itemError(e)}s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(e){try{const n=e.slice(0);Wu.getContext().decodeAudioData(n,function(e){t(e)}).catch(a)}catch(e){a(e)}},n,i)}}const ju=new cr,qu=new cr,Yu=new cr;class Ju{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ea,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ea,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Yu.copy(e.projectionMatrix);const n=t.eyeSep/2,i=n*t.near/t.focus,r=t.near*Math.tan(zn*t.fov*.5)/t.zoom;let s,a;qu.elements[12]=-n,ju.elements[12]=n,s=-r*t.aspect+i,a=r*t.aspect+i,Yu.elements[0]=2*t.near/(a-s),Yu.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(Yu),s=-r*t.aspect-i,a=r*t.aspect-i,Yu.elements[0]=2*t.near/(a-s),Yu.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(Yu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qu),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ju)}}class Zu extends ea{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ku{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$u(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$u();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $u(){return performance.now()}const ed=new Di,td=new _i,nd=new Di,id=new Di;class rd extends Or{constructor(){super(),this.type="AudioListener",this.context=Wu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ku}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ed,td,nd),id.set(0,0,-1).applyQuaternion(td),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ed.x,e),t.positionY.linearRampToValueAtTime(ed.y,e),t.positionZ.linearRampToValueAtTime(ed.z,e),t.forwardX.linearRampToValueAtTime(id.x,e),t.forwardY.linearRampToValueAtTime(id.y,e),t.forwardZ.linearRampToValueAtTime(id.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(ed.x,ed.y,ed.z),t.setOrientation(id.x,id.y,id.z,n.x,n.y,n.z)}}class sd extends Or{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ad=new Di,od=new _i,ld=new Di,cd=new Di;class ud extends sd{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(ad,od,ld),cd.set(0,0,1).applyQuaternion(od);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ad.x,e),t.positionY.linearRampToValueAtTime(ad.y,e),t.positionZ.linearRampToValueAtTime(ad.z,e),t.orientationX.linearRampToValueAtTime(cd.x,e),t.orientationY.linearRampToValueAtTime(cd.y,e),t.orientationZ.linearRampToValueAtTime(cd.z,e)}else t.setPosition(ad.x,ad.y,ad.z),t.setOrientation(cd.x,cd.y,cd.z)}}class dd{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class hd{constructor(e,t,n){let i,r,s;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==i;++e)n[r+e]=n[e];s=t}else{s+=t;const e=t/s;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let e=t,r=t+t;e!==r;++e)if(n[e]!==n[e+t]){a.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let e=n,r=i;e!==r;++e)t[e]=t[i+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)e[t+i]=e[n+i]}_slerp(e,t,n,i){_i.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const s=this._workIndex*r;_i.multiplyQuaternionsFlat(e,s,e,t,e,n),_i.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,n,i,r){const s=1-i;for(let a=0;a!==r;++a){const r=t+a;e[r]=e[r]*s+e[n+a]*i}}_lerpAdditive(e,t,n,i,r){for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]+e[n+s]*i}}}const pd="\\[\\]\\.:\\/",fd=new RegExp("["+pd+"]","g"),gd="[^"+pd+"]",Ad="[^"+pd.replace("\\.","")+"]",md=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",gd)+/(WCOD+)?/.source.replace("WCOD",Ad)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gd)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gd)+"$"),vd=["material","materials","bones","map"];class yd{constructor(e,t,n){this.path=t,this.parsedPath=n||yd.parseTrackName(t),this.node=yd.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new yd.Composite(e,t,n):new yd(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fd,"")}static parseTrackName(e){const t=md.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==vd.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const s=n(r.children);if(s)return s}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=yd.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const s=e[i];if(void 0===s){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?a=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yd.Composite=class{constructor(e,t,n){const i=n||yd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},yd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},yd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},yd.prototype.GetterByBindingType=[yd.prototype._getValue_direct,yd.prototype._getValue_array,yd.prototype._getValue_arrayElement,yd.prototype._getValue_toArray],yd.prototype.SetterByBindingTypeAndVersioning=[[yd.prototype._setValue_direct,yd.prototype._setValue_direct_setNeedsUpdate,yd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yd.prototype._setValue_array,yd.prototype._setValue_array_setNeedsUpdate,yd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yd.prototype._setValue_arrayElement,yd.prototype._setValue_arrayElement_setNeedsUpdate,yd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yd.prototype._setValue_fromArray,yd.prototype._setValue_fromArray_setNeedsUpdate,yd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ed{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let a,o=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=o++,t[d]=h,e.push(u);for(let e=0,t=s;e!==t;++e)r[e].push(new yd(u,n[e],i[e]))}else if(h<l){a=e[h];const o=--l,c=e[o];t[c.uuid]=h,e[h]=c,t[d]=o,e[o]=u;for(let e=0,t=s;e!==t;++e){const t=r[e],s=t[o];let a=t[h];t[h]=s,void 0===a&&(a=new yd(u,n[e],i[e])),t[o]=a}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],o=a.uuid,l=t[o];if(void 0!==l&&l>=r){const s=r++,c=e[s];t[c.uuid]=l,e[l]=c,t[o]=s,e[s]=a;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[s],r=t[l];t[l]=i,t[s]=r}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a].uuid,l=t[o];if(void 0!==l)if(delete t[o],l<r){const a=--r,o=e[a],c=--s,u=e[c];t[o.uuid]=l,e[l]=o,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[a],r=t[c];t[l]=i,t[a]=r,t.pop()}}else{const r=--s,a=e[r];r>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[l]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,s.push(e),a.push(t),r.push(u);for(let n=c,i=o.length;n!==i;++n){const i=o[n];u[n]=new yd(i,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a];t[e[a]]=n,s[n]=o,s.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}class Sd{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,s=r.length,a=new Array(s),o={endingStart:Ut,endingEnd:Ut};for(let e=0;e!==s;++e){const t=r[e].createInterpolant(null);a[e]=t,t.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Dt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,s=n/i;e.warp(1,r,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,o[1]=r+n,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Ht)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(s),t[n].accumulateAdditive(a);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(s),t[n].accumulate(i,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const s=n===Nt;if(0===e)return-1===r||!s||1&~r?i:t-i;if(n===_t){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(s&&!(1&~r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Ft,i.endingEnd=Ft):(i.endingStart=e?this.zeroSlopeAtStart?Ft:Ut:Qt,i.endingEnd=t?this.zeroSlopeAtEnd?Ft:Ut:Qt)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=r,o[0]=t,a[1]=r+e,o[1]=n,this}}const bd=new Float32Array(1);class xd extends Vn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,a=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let e=0;e!==r;++e){const r=i[e],l=r.name;let u=c[l];if(void 0!==u)++u.referenceCount,s[e]=u;else{if(u=s[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,o,l));continue}const i=t&&t._propertyBindings[e].binding.parsedPath;u=new hd(yd.create(n,l,i),r.ValueTypeName,r.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,o,l),s[e]=u}a[e].resultBuffer=u.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,a=s[r],o=a.knownActions,l=o[o.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete s[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[t];void 0===s&&(s={},i[t]=s),s[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,a=s[i],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[r],0===Object.keys(a).length&&delete s[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new zc(new Float32Array(2),new Float32Array(2),1,bd),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let s="string"==typeof e?eu.findByName(i,e):e;const a=null!==s?s.uuid:e,o=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==s?s.blendMode:Vt),void 0!==o){const e=o.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new Sd(this,s,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r="string"==typeof e?eu.findByName(n,e):e,s=r?r.uuid:e,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let a=0;a!==n;++a)t[a]._update(i,e,r,s);const a=this._bindings,o=this._nActiveBindings;for(let e=0;e!==o;++e)a[e].apply(s);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,s=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=r,t[r]=s,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const i=n[e].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[t];if(void 0!==i)for(const e in i){const t=i[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class wd extends Ci{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new Ri(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Id extends Ci{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=n,this.texture=new Mi(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Cd{constructor(e){this.value=e}clone(){return new Cd(void 0===this.value.clone?this.value:this.value.clone())}}let Td=0;class Md extends Vn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Td++}),this.name="",this.usage=Mn,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let e=0,n=t.length;e<n;e++){const n=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0;e<n.length;e++)this.uniforms.push(n[e].clone())}return this}clone(){return(new this.constructor).copy(this)}}class Bd extends la{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Rd{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Pd=new cr;class _d{constructor(e,t,n=0,i=1/0){this.ray=new lr(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Er,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Pd.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Pd),this}intersectObject(e,t=!0,n=[]){return Nd(e,this,n,t),n.sort(Dd),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)Nd(e[i],this,n,t);return n.sort(Dd),n}}function Dd(e,t){return e.distance-t.distance}function Nd(e,t,n,i){let r=!0;if(e.layers.test(t.layers)&&!1===e.raycast(t,n)&&(r=!1),!0===r&&!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)Nd(i[e],t,n,!0)}}class Ld{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=jn(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(jn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Od{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}class kd{constructor(e,t,n,i){kd.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=i,this}}const Ud=new $n;class Fd{constructor(e=new $n(1/0,1/0),t=new $n(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ud.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ud).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Qd=new Di,Vd=new Di;class Hd{constructor(e=new Di,t=new Di){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Qd.subVectors(e,this.start),Vd.subVectors(this.end,this.start);const n=Vd.dot(Vd);let i=Vd.dot(Qd)/n;return t&&(i=jn(i,0,1)),i}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Gd=new Di;class zd extends Or{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Rs,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){const r=e/n*Math.PI*2,s=t/n*Math.PI*2;i.push(Math.cos(r),Math.sin(r),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new bs(i,3));const r=new Co({fog:!1,toneMapped:!1});this.cone=new Uo(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Gd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Gd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wd=new Di,Xd=new cr,jd=new cr;class qd extends Uo{constructor(e){const t=Yd(e),n=new Rs,i=[],r=[],s=new ts(0,0,1),a=new ts(0,1,0);for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(a.r,a.g,a.b))}n.setAttribute("position",new bs(i,3)),n.setAttribute("color",new bs(r,3)),super(n,new Co({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");jd.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){const r=t[e];r.parent&&r.parent.isBone&&(Xd.multiplyMatrices(jd,r.matrixWorld),Wd.setFromMatrixPosition(Xd),i.setXYZ(n,Wd.x,Wd.y,Wd.z),Xd.multiplyMatrices(jd,r.parent.matrixWorld),Wd.setFromMatrixPosition(Xd),i.setXYZ(n+1,Wd.x,Wd.y,Wd.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yd(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Yd(e.children[n]));return t}class Jd extends Hs{constructor(e,t,n){super(new Ac(t,4,2),new ss({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Zd=new Di,Kd=new ts,$d=new ts;class eh extends Or{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new hc(t);i.rotateY(.5*Math.PI),this.material=new ss({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),s=new Float32Array(3*r.count);i.setAttribute("color",new ps(s,3)),this.add(new Hs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Kd.copy(this.light.color),$d.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?Kd:$d;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Zd.setFromMatrixPosition(this.light.matrixWorld).negate())}}class th extends Uo{constructor(e=10,t=10,n=4473924,i=8947848){n=new ts(n),i=new ts(i);const r=t/2,s=e/t,a=e/2,o=[],l=[];for(let e=0,c=0,u=-a;e<=t;e++,u+=s){o.push(-a,0,u,a,0,u),o.push(u,0,-a,u,0,a);const t=e===r?n:i;t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3}const c=new Rs;c.setAttribute("position",new bs(o,3)),c.setAttribute("color",new bs(l,3)),super(c,new Co({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class nh extends Uo{constructor(e=10,t=16,n=8,i=64,r=4473924,s=8947848){r=new ts(r),s=new ts(s);const a=[],o=[];if(t>1)for(let n=0;n<t;n++){const i=n/t*(2*Math.PI),l=Math.sin(i)*e,c=Math.cos(i)*e;a.push(0,0,0),a.push(l,0,c);const u=1&n?r:s;o.push(u.r,u.g,u.b),o.push(u.r,u.g,u.b)}for(let t=0;t<n;t++){const l=1&t?r:s,c=e-e/n*t;for(let e=0;e<i;e++){let t=e/i*(2*Math.PI),n=Math.sin(t)*c,r=Math.cos(t)*c;a.push(n,0,r),o.push(l.r,l.g,l.b),t=(e+1)/i*(2*Math.PI),n=Math.sin(t)*c,r=Math.cos(t)*c,a.push(n,0,r),o.push(l.r,l.g,l.b)}}const l=new Rs;l.setAttribute("position",new bs(a,3)),l.setAttribute("color",new bs(o,3)),super(l,new Co({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ih=new Di,rh=new Di,sh=new Di;class ah extends Or{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new Rs;i.setAttribute("position",new bs([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Co({fog:!1,toneMapped:!1});this.lightPlane=new No(i,r),this.add(this.lightPlane),i=new Rs,i.setAttribute("position",new bs([0,0,0,0,0,1],3)),this.targetLine=new No(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ih.setFromMatrixPosition(this.light.matrixWorld),rh.setFromMatrixPosition(this.light.target.matrixWorld),sh.subVectors(rh,ih),this.lightPlane.lookAt(rh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rh),this.targetLine.scale.z=sh.length()}}const oh=new Di,lh=new Js;class ch extends Uo{constructor(e){const t=new Rs,n=new Co({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],s={};function a(e,t){o(e),o(t)}function o(e){i.push(0,0,0),r.push(0,0,0),void 0===s[e]&&(s[e]=[]),s[e].push(i.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new bs(i,3)),t.setAttribute("color",new bs(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const l=new ts(16755200),c=new ts(16711680),u=new ts(43775),d=new ts(16777215),h=new ts(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,i,r){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,r.r,r.g,r.b),s.setXYZ(41,r.r,r.g,r.b),s.setXYZ(42,r.r,r.g,r.b),s.setXYZ(43,r.r,r.g,r.b),s.setXYZ(44,r.r,r.g,r.b),s.setXYZ(45,r.r,r.g,r.b),s.setXYZ(46,r.r,r.g,r.b),s.setXYZ(47,r.r,r.g,r.b),s.setXYZ(48,r.r,r.g,r.b),s.setXYZ(49,r.r,r.g,r.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;lh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===Fn?-1:0;uh("c",t,e,lh,0,0,n),uh("t",t,e,lh,0,0,1),uh("n1",t,e,lh,-1,-1,n),uh("n2",t,e,lh,1,-1,n),uh("n3",t,e,lh,-1,1,n),uh("n4",t,e,lh,1,1,n),uh("f1",t,e,lh,-1,-1,1),uh("f2",t,e,lh,1,-1,1),uh("f3",t,e,lh,-1,1,1),uh("f4",t,e,lh,1,1,1),uh("u1",t,e,lh,.7,1.1,n),uh("u2",t,e,lh,-.7,1.1,n),uh("u3",t,e,lh,0,2,n),uh("cf1",t,e,lh,-1,0,1),uh("cf2",t,e,lh,1,0,1),uh("cf3",t,e,lh,0,-1,1),uh("cf4",t,e,lh,0,1,1),uh("cn1",t,e,lh,-1,0,n),uh("cn2",t,e,lh,1,0,n),uh("cn3",t,e,lh,0,-1,n),uh("cn4",t,e,lh,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function uh(e,t,n,i,r,s,a){oh.set(r,s,a).unproject(i);const o=t[e];if(void 0!==o){const e=n.getAttribute("position");for(let t=0,n=o.length;t<n;t++)e.setXYZ(o[t],oh.x,oh.y,oh.z)}}const dh=new Oi;class hh extends Uo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Rs;r.setIndex(new ps(n,1)),r.setAttribute("position",new ps(i,3)),super(r,new Co({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&dh.setFromObject(this.object),dh.isEmpty())return;const t=dh.min,n=dh.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ph extends Uo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Rs;i.setIndex(new ps(n,1)),i.setAttribute("position",new bs([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new Co({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class fh extends No{constructor(e,t=1,n=16776960){const i=n,r=new Rs;r.setAttribute("position",new bs([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new Co({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=new Rs;s.setAttribute("position",new bs([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),s.computeBoundingSphere(),this.add(new Hs(s,new ss({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gh=new Di;let Ah,mh;class vh extends Or{constructor(e=new Di(0,0,1),t=new Di(0,0,0),n=1,i=16776960,r=.2*n,s=.2*r){super(),this.type="ArrowHelper",void 0===Ah&&(Ah=new Rs,Ah.setAttribute("position",new bs([0,0,0,0,1,0],3)),mh=new Cl(0,.5,1,5,1),mh.translate(0,-.5,0)),this.position.copy(t),this.line=new No(Ah,new Co({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hs(mh,new ss({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gh.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gh,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class yh extends Uo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Rs;n.setAttribute("position",new bs(t,3)),n.setAttribute("color",new bs([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new Co({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const i=new ts,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Eh{constructor(){this.type="ShapePath",this.color=new ts,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new bl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,s){return this.currentPath.bezierCurveTo(e,t,n,i,r,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let i=!1;for(let r=n-1,s=0;s<n;r=s++){let n=t[r],a=t[s],o=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[s],o=-o,a=t[r],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-o*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return i}const n=ac.isClockWise,i=this.subPaths;if(0===i.length)return[];let r,s,a;const o=[];if(1===i.length)return s=i[0],a=new Ll,a.curves=s.curves,o.push(a),o;let l=!n(i[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,p=[],f=0;u[f]=void 0,p[f]=[];for(let t=0,a=i.length;t<a;t++)s=i[t],d=s.getPoints(),r=n(d),r=e?!r:r,r?(!l&&u[f]&&f++,u[f]={s:new Ll,p:d},u[f].s.curves=s.curves,l&&f++,p[f]=[]):p[f].push({h:s,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new Ll;r.curves=i.curves,t.push(r)}return t}(i);if(u.length>1){let e=!1,n=0;for(let e=0,t=u.length;e<t;e++)c[e]=[];for(let i=0,r=u.length;i<r;i++){const r=p[i];for(let s=0;s<r.length;s++){const a=r[s];let o=!0;for(let r=0;r<u.length;r++)t(a.p,u[r].p)&&(i!==r&&n++,o?(o=!1,c[r].push(a)):e=!0);o&&c[i].push(a)}}n>0&&!1===e&&(p=c)}for(let e=0,t=u.length;e<t;e++){a=u[e].s,o.push(a),h=p[e];for(let e=0,t=h.length;e<t;e++)a.holes.push(h[e].h)}return o}}class Sh extends Vn{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function bh(e,t,n,i){const r=function(e){switch(e){case Be:case Re:return{byteLength:1,components:1};case _e:case Pe:case Oe:return{byteLength:2,components:1};case ke:case Ue:return{byteLength:2,components:4};case Ne:case De:case Le:return{byteLength:4,components:1};case Qe:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(i);switch(n){case Ve:case ze:return e*t;case We:return e*t*2;case qe:case Ye:return e*t/r.components*r.byteLength;case Je:case Ze:return e*t*2/r.components*r.byteLength;case He:return e*t*3/r.components*r.byteLength;case Ge:case $e:return e*t*4/r.components*r.byteLength;case et:case tt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case nt:case it:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case st:case ot:return Math.max(e,16)*Math.max(t,8)/4;case rt:case at:return Math.max(e,8)*Math.max(t,8)/2;case lt:case ct:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case ut:case dt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case ht:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case pt:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case ft:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case gt:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case At:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case mt:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case vt:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case yt:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Et:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case St:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case bt:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case xt:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case wt:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case It:case Ct:case Tt:return Math.ceil(e/4)*Math.ceil(t/4)*16;case Mt:case Bt:return Math.ceil(e/4)*Math.ceil(t/4)*8;case Rt:case Pt:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}const xh={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:bh};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:i}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=i)},9437(e,t,n){"use strict";n.r(t),n.d(t,{ACESFilmicToneMapping:()=>i.FV,AddEquation:()=>i.gO9,AddOperation:()=>i.XrR,AdditiveAnimationBlendMode:()=>i.DAe,AdditiveBlending:()=>i.EZo,AgXToneMapping:()=>i.LAk,AlphaFormat:()=>i.wrO,AlwaysCompare:()=>i.FFZ,AlwaysDepth:()=>i.lGu,AlwaysStencilFunc:()=>i.sKt,AmbientLight:()=>i.$p8,AnimationAction:()=>i.pPE,AnimationClip:()=>i.tz3,AnimationLoader:()=>i.kEx,AnimationMixer:()=>i.Iw4,AnimationObjectGroup:()=>i.P5j,AnimationUtils:()=>i.AKb,ArcCurve:()=>i.ibB,ArrayCamera:()=>i.nZQ,ArrowHelper:()=>i.E0M,AttachedBindMode:()=>i.BER,Audio:()=>i.fP5,AudioAnalyser:()=>i.CwR,AudioContext:()=>i.UtX,AudioListener:()=>i.Pf$,AudioLoader:()=>i.Am1,AxesHelper:()=>i.IzY,BackSide:()=>i.hsX,BasicDepthPacking:()=>i.Rkk,BasicShadowMap:()=>i.bTm,BatchedMesh:()=>i.$Ed,Bone:()=>i.$Kf,BooleanKeyframeTrack:()=>i.YOZ,Box2:()=>i.UtB,Box3:()=>i.NRn,Box3Helper:()=>i.BND,BoxGeometry:()=>i.iNn,BoxHelper:()=>i.IWo,BufferAttribute:()=>i.THS,BufferGeometry:()=>i.LoY,BufferGeometryLoader:()=>i.SUR,ByteType:()=>i.tJf,Cache:()=>i.l2R,Camera:()=>i.i7d,CameraHelper:()=>i.WTh,CanvasTexture:()=>i.GOR,CapsuleGeometry:()=>i.qU7,CatmullRomCurve3:()=>i.B6O,CineonToneMapping:()=>i.nNL,CircleGeometry:()=>i.tcD,ClampToEdgeWrapping:()=>i.ghU,Clock:()=>i.zD7,Color:()=>i.Q1f,ColorKeyframeTrack:()=>i.T6I,ColorManagement:()=>i.ppV,CompressedArrayTexture:()=>i.iOZ,CompressedCubeTexture:()=>i.c5h,CompressedTexture:()=>i.FvD,CompressedTextureLoader:()=>i.YRT,ConeGeometry:()=>i.qFE,ConstantAlphaFactor:()=>i.e0p,ConstantColorFactor:()=>i.RrE,Controls:()=>i.H2z,CubeCamera:()=>i.F1T,CubeReflectionMapping:()=>i.hy7,CubeRefractionMapping:()=>i.xFO,CubeTexture:()=>i.b4q,CubeTextureLoader:()=>i.ScU,CubeUVReflectionMapping:()=>i.Om,CubicBezierCurve:()=>i.Z0B,CubicBezierCurve3:()=>i.s0K,CubicInterpolant:()=>i.Pdi,CullFaceBack:()=>i.Vb5,CullFaceFront:()=>i.Jnc,CullFaceFrontBack:()=>i.ywQ,CullFaceNone:()=>i.WNZ,Curve:()=>i.Ipv,CurvePath:()=>i.jGm,CustomBlending:()=>i.bCz,CustomToneMapping:()=>i.g7M,CylinderGeometry:()=>i.Ho_,Cylindrical:()=>i.hjs,Data3DTexture:()=>i.dYF,DataArrayTexture:()=>i.rFo,DataTexture:()=>i.GYF,DataTextureLoader:()=>i.BRH,DataUtils:()=>i.GxU,DecrementStencilOp:()=>i.ROr,DecrementWrapStencilOp:()=>i.fJr,DefaultLoadingManager:()=>i.h_9,DepthFormat:()=>i.zdS,DepthStencilFormat:()=>i.dcC,DepthTexture:()=>i.VCu,DetachedBindMode:()=>i.Fvi,DirectionalLight:()=>i.ZyN,DirectionalLightHelper:()=>i.PFK,DiscreteInterpolant:()=>i.Yhb,DodecahedronGeometry:()=>i.nEu,DoubleSide:()=>i.$EB,DstAlphaFactor:()=>i.hdd,DstColorFactor:()=>i.wn6,DynamicCopyUsage:()=>i.MOq,DynamicDrawUsage:()=>i.Vnu,DynamicReadUsage:()=>i.hIf,EdgesGeometry:()=>i.TDQ,EllipseCurve:()=>i.S20,EqualCompare:()=>i.kO0,EqualDepth:()=>i.U3G,EqualStencilFunc:()=>i.jsO,EquirectangularReflectionMapping:()=>i.wfO,EquirectangularRefractionMapping:()=>i.uV5,Euler:()=>i.O9p,EventDispatcher:()=>i.Qev,ExtrudeGeometry:()=>i.QCA,FileLoader:()=>i.Y9S,Float16BufferAttribute:()=>i.Oax,Float32BufferAttribute:()=>i.qtW,FloatType:()=>i.RQf,Fog:()=>i.jUj,FogExp2:()=>i.cRK,FramebufferTexture:()=>i.Pem,FrontSide:()=>i.hB5,Frustum:()=>i.PPD,GLBufferAttribute:()=>i.oh6,GLSL1:()=>i.Wyr,GLSL3:()=>i.Wdf,GreaterCompare:()=>i.eoi,GreaterDepth:()=>i.K52,GreaterEqualCompare:()=>i.gWB,GreaterEqualDepth:()=>i.Gwm,GreaterEqualStencilFunc:()=>i.TMh,GreaterStencilFunc:()=>i.RcT,GridHelper:()=>i.fTw,Group:()=>i.YJl,HalfFloatType:()=>i.ix0,HemisphereLight:()=>i.dth,HemisphereLightHelper:()=>i.R1W,IcosahedronGeometry:()=>i.WBB,ImageBitmapLoader:()=>i.Kzg,ImageLoader:()=>i.$NF,ImageUtils:()=>i.HgN,IncrementStencilOp:()=>i.HLH,IncrementWrapStencilOp:()=>i.Ru$,InstancedBufferAttribute:()=>i.uWO,InstancedBufferGeometry:()=>i.CmU,InstancedInterleavedBuffer:()=>i.LuO,InstancedMesh:()=>i.ZLX,Int16BufferAttribute:()=>i.Hrb,Int32BufferAttribute:()=>i.vmz,Int8BufferAttribute:()=>i.wvS,IntType:()=>i.Yuy,InterleavedBuffer:()=>i.eB$,InterleavedBufferAttribute:()=>i.eHs,Interpolant:()=>i.lGw,InterpolateDiscrete:()=>i.ljd,InterpolateLinear:()=>i.PJ3,InterpolateSmooth:()=>i.EQC,InvertStencilOp:()=>i.oVO,KeepStencilOp:()=>i.VVr,KeyframeTrack:()=>i.UJ6,LOD:()=>i.UpK,LatheGeometry:()=>i.nzx,Layers:()=>i.zgK,LessCompare:()=>i.vim,LessDepth:()=>i.brA,LessEqualCompare:()=>i.TiK,LessEqualDepth:()=>i.xSv,LessEqualStencilFunc:()=>i.CR7,LessStencilFunc:()=>i.kYr,Light:()=>i.veJ,LightProbe:()=>i.FZo,Line:()=>i.N1A,Line3:()=>i.cZY,LineBasicMaterial:()=>i.mrM,LineCurve:()=>i.GZZ,LineCurve3:()=>i.VnP,LineDashedMaterial:()=>i.Fvt,LineLoop:()=>i.FCc,LineSegments:()=>i.DXC,LinearFilter:()=>i.k6q,LinearInterpolant:()=>i.ezk,LinearMipMapLinearFilter:()=>i.NZq,LinearMipMapNearestFilter:()=>i.iUH,LinearMipmapLinearFilter:()=>i.$_I,LinearMipmapNearestFilter:()=>i.kRr,LinearSRGBColorSpace:()=>i.Zr2,LinearToneMapping:()=>i.kyO,LinearTransfer:()=>i.VxR,Loader:()=>i.aHM,LoaderUtils:()=>i.r6x,LoadingManager:()=>i.KPJ,LoopOnce:()=>i.G3T,LoopPingPong:()=>i.lc7,LoopRepeat:()=>i.aMy,LuminanceAlphaFormat:()=>i.CMB,LuminanceFormat:()=>i.Kzv,MOUSE:()=>i.kBv,Material:()=>i.imn,MaterialLoader:()=>i.jut,MathUtils:()=>i.cj9,Matrix2:()=>i.k_V,Matrix3:()=>i.dwI,Matrix4:()=>i.kn4,MaxEquation:()=>i.$ei,Mesh:()=>i.eaF,MeshBasicMaterial:()=>i.V9B,MeshDepthMaterial:()=>i.CSG,MeshDistanceMaterial:()=>i.aVO,MeshLambertMaterial:()=>i.G_z,MeshMatcapMaterial:()=>i.FNr,MeshNormalMaterial:()=>i.qBx,MeshPhongMaterial:()=>i.tXL,MeshPhysicalMaterial:()=>i.uSd,MeshStandardMaterial:()=>i._4j,MeshToonMaterial:()=>i.Df,MinEquation:()=>i.znC,MirroredRepeatWrapping:()=>i.kTW,MixOperation:()=>i.KRh,MultiplyBlending:()=>i.EdD,MultiplyOperation:()=>i.caT,NearestFilter:()=>i.hxR,NearestMipMapLinearFilter:()=>i.a$r,NearestMipMapNearestFilter:()=>i.$O9,NearestMipmapLinearFilter:()=>i.Cfg,NearestMipmapNearestFilter:()=>i.pHI,NeutralToneMapping:()=>i.aJ8,NeverCompare:()=>i.amv,NeverDepth:()=>i.eHc,NeverStencilFunc:()=>i.HPb,NoBlending:()=>i.XIg,NoColorSpace:()=>i.jf0,NoToneMapping:()=>i.y_p,NormalAnimationBlendMode:()=>i.Ke9,NormalBlending:()=>i.NTi,NotEqualCompare:()=>i.jzd,NotEqualDepth:()=>i.bw0,NotEqualStencilFunc:()=>i.klZ,NumberKeyframeTrack:()=>i.Hit,Object3D:()=>i.B69,ObjectLoader:()=>i.XTe,ObjectSpaceNormalMap:()=>i.vyJ,OctahedronGeometry:()=>i.Ufg,OneFactor:()=>i.qad,OneMinusConstantAlphaFactor:()=>i.ov9,OneMinusConstantColorFactor:()=>i.$Yl,OneMinusDstAlphaFactor:()=>i.Nt7,OneMinusDstColorFactor:()=>i.aEY,OneMinusSrcAlphaFactor:()=>i.OuU,OneMinusSrcColorFactor:()=>i.LiQ,OrthographicCamera:()=>i.qUd,PCFShadowMap:()=>i.QP0,PCFSoftShadowMap:()=>i.Wk7,PMREMGenerator:()=>M,Path:()=>i.wAk,PerspectiveCamera:()=>i.ubm,Plane:()=>i.Zcv,PlaneGeometry:()=>i.bdM,PlaneHelper:()=>i.ZM4,PointLight:()=>i.HiM,PointLightHelper:()=>i.F1l,Points:()=>i.ONl,PointsMaterial:()=>i.BH$,PolarGridHelper:()=>i.hzE,PolyhedronGeometry:()=>i.pFK,PositionalAudio:()=>i.xZx,PropertyBinding:()=>i.Nwf,PropertyMixer:()=>i.N2s,QuadraticBezierCurve:()=>i.dAo,QuadraticBezierCurve3:()=>i.CV9,Quaternion:()=>i.PTz,QuaternionKeyframeTrack:()=>i.MBL,QuaternionLinearInterpolant:()=>i.GBG,RED_GREEN_RGTC2_Format:()=>i.HO_,RED_RGTC1_Format:()=>i.Kef,REVISION:()=>i.sPf,RGBADepthPacking:()=>i.N5j,RGBAFormat:()=>i.GWd,RGBAIntegerFormat:()=>i.c90,RGBA_ASTC_10x10_Format:()=>i.y3Z,RGBA_ASTC_10x5_Format:()=>i.uB5,RGBA_ASTC_10x6_Format:()=>i.lyL,RGBA_ASTC_10x8_Format:()=>i.bC7,RGBA_ASTC_12x10_Format:()=>i.ojs,RGBA_ASTC_12x12_Format:()=>i.S$4,RGBA_ASTC_4x4_Format:()=>i.qa3,RGBA_ASTC_5x4_Format:()=>i.B_h,RGBA_ASTC_5x5_Format:()=>i.czI,RGBA_ASTC_6x5_Format:()=>i.rSH,RGBA_ASTC_6x6_Format:()=>i.Qrf,RGBA_ASTC_8x5_Format:()=>i.psI,RGBA_ASTC_8x6_Format:()=>i.a5J,RGBA_ASTC_8x8_Format:()=>i._QJ,RGBA_BPTC_Format:()=>i.Fn,RGBA_ETC2_EAC_Format:()=>i.KDk,RGBA_PVRTC_2BPPV1_Format:()=>i.pBf,RGBA_PVRTC_4BPPV1_Format:()=>i.HXV,RGBA_S3TC_DXT1_Format:()=>i.Nz6,RGBA_S3TC_DXT3_Format:()=>i.jR7,RGBA_S3TC_DXT5_Format:()=>i.BXX,RGBDepthPacking:()=>i.wTz,RGBFormat:()=>i.HIg,RGBIntegerFormat:()=>i.VGF,RGB_BPTC_SIGNED_Format:()=>i.H23,RGB_BPTC_UNSIGNED_Format:()=>i.W9U,RGB_ETC1_Format:()=>i.CVz,RGB_ETC2_Format:()=>i.Riy,RGB_PVRTC_2BPPV1_Format:()=>i.kTp,RGB_PVRTC_4BPPV1_Format:()=>i.k6Q,RGB_S3TC_DXT1_Format:()=>i.IE4,RGDepthPacking:()=>i.k8v,RGFormat:()=>i.paN,RGIntegerFormat:()=>i.TkQ,RawShaderMaterial:()=>i.D$Q,Ray:()=>i.RlV,Raycaster:()=>i.tBo,RectAreaLight:()=>i.ure,RedFormat:()=>i.VT0,RedIntegerFormat:()=>i.ZQM,ReinhardToneMapping:()=>i.Mjd,RenderTarget:()=>i.O0B,RenderTarget3D:()=>i.XMJ,RenderTargetArray:()=>i.rrX,RepeatWrapping:()=>i.GJx,ReplaceStencilOp:()=>i.kG0,ReverseSubtractEquation:()=>i.nST,RingGeometry:()=>i.rKP,SIGNED_RED_GREEN_RGTC2_Format:()=>i.CWW,SIGNED_RED_RGTC1_Format:()=>i.XG_,SRGBColorSpace:()=>i.er$,SRGBTransfer:()=>i.KLL,Scene:()=>i.Z58,ShaderChunk:()=>a,ShaderLib:()=>l,ShaderMaterial:()=>i.BKk,ShadowMaterial:()=>i.q2,Shape:()=>i.ypk,ShapeGeometry:()=>i.MSw,ShapePath:()=>i.Ld9,ShapeUtils:()=>i.xJ6,ShortType:()=>i.fBL,Skeleton:()=>i.EAD,SkeletonHelper:()=>i._xc,SkinnedMesh:()=>i.I46,Source:()=>i.kLi,Sphere:()=>i.iyt,SphereGeometry:()=>i.Gu$,Spherical:()=>i.YHV,SphericalHarmonics3:()=>i.xOk,SplineCurve:()=>i.xfg,SpotLight:()=>i.nCl,SpotLightHelper:()=>i.Fpm,Sprite:()=>i.kxk,SpriteMaterial:()=>i.RoJ,SrcAlphaFactor:()=>i.ie2,SrcAlphaSaturateFactor:()=>i.hgQ,SrcColorFactor:()=>i.f4X,StaticCopyUsage:()=>i.Hrq,StaticDrawUsage:()=>i.agE,StaticReadUsage:()=>i.uXQ,StereoCamera:()=>i.keZ,StreamCopyUsage:()=>i.rOG,StreamDrawUsage:()=>i.Ktl,StreamReadUsage:()=>i.uov,StringKeyframeTrack:()=>i.hZF,SubtractEquation:()=>i.FXf,SubtractiveBlending:()=>i.Kwu,TOUCH:()=>i.wtR,TangentSpaceNormalMap:()=>i.bI3,TetrahedronGeometry:()=>i.Zpd,Texture:()=>i.gPd,TextureLoader:()=>i.Tap,TextureUtils:()=>i.Vwu,TorusGeometry:()=>i.O3Y,TorusKnotGeometry:()=>i.UPV,Triangle:()=>i.lMl,TriangleFanDrawMode:()=>i.rYR,TriangleStripDrawMode:()=>i.O49,TrianglesDrawMode:()=>i.RJ4,TubeGeometry:()=>i.j6,UVMapping:()=>i.UTZ,Uint16BufferAttribute:()=>i.A$4,Uint32BufferAttribute:()=>i.MW4,Uint8BufferAttribute:()=>i.baL,Uint8ClampedBufferAttribute:()=>i.fc6,Uniform:()=>i.nc$,UniformsGroup:()=>i.dzP,UniformsLib:()=>o,UniformsUtils:()=>i.LlO,UnsignedByteType:()=>i.OUM,UnsignedInt248Type:()=>i.V3x,UnsignedInt5999Type:()=>i.Dmk,UnsignedIntType:()=>i.bkx,UnsignedShort4444Type:()=>i.Wew,UnsignedShort5551Type:()=>i.gJ2,UnsignedShortType:()=>i.cHt,VSMShadowMap:()=>i.RyA,Vector2:()=>i.I9Y,Vector3:()=>i.Pq0,Vector4:()=>i.IUQ,VectorKeyframeTrack:()=>i.RiT,VideoTexture:()=>i.Nv2,WebGL3DRenderTarget:()=>i.ALV,WebGLArrayRenderTarget:()=>i.y9J,WebGLCoordinateSystem:()=>i.TdN,WebGLCubeRenderTarget:()=>i.o6l,WebGLRenderTarget:()=>i.nWS,WebGLRenderer:()=>Ut,WebGLUtils:()=>Bt,WebGPUCoordinateSystem:()=>i.i7u,WireframeGeometry:()=>i.XJ7,WrapAroundEnding:()=>i.dhZ,ZeroCurvatureEnding:()=>i.rQf,ZeroFactor:()=>i.ojh,ZeroSlopeEnding:()=>i.h2z,ZeroStencilOp:()=>i.kqe,createCanvasElement:()=>i.lPF});var i=n(4922);function r(){let e=null,t=!1,n=null,i=null;function r(t,s){n(t,s),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function s(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const r=t.get(n);if(void 0===r)t.set(n,function(t,n){const i=t.array,r=t.usage,s=i.byteLength,a=e.createBuffer();let o;if(e.bindBuffer(n,a),e.bufferData(n,i,r),t.onUploadCallback(),i instanceof Float32Array)o=e.FLOAT;else if(i instanceof Uint16Array)o=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)o=e.SHORT;else if(i instanceof Uint32Array)o=e.UNSIGNED_INT;else if(i instanceof Int32Array)o=e.INT;else if(i instanceof Int8Array)o=e.BYTE;else if(i instanceof Uint8Array)o=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);o=e.UNSIGNED_BYTE}return{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:s}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,i){const r=n.array,s=n.updateRanges;if(e.bindBuffer(i,t),0===s.length)e.bufferSubData(i,0,r);else{s.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<s.length;e++){const n=s[t],i=s[e];i.start<=n.start+n.count+1?n.count=Math.max(n.count,i.start+i.count-n.start):(++t,s[t]=i)}s.length=t+1;for(let t=0,n=s.length;t<n;t++){const n=s[t];e.bufferSubData(i,n.start*r.BYTES_PER_ELEMENT,r,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}const a={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},o={common:{diffuse:{value:new i.Q1f(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new i.dwI},alphaMap:{value:null},alphaMapTransform:{value:new i.dwI},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new i.dwI}},envmap:{envMap:{value:null},envMapRotation:{value:new i.dwI},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new i.dwI}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new i.dwI}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new i.dwI},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new i.dwI},normalScale:{value:new i.I9Y(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new i.dwI},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new i.dwI}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new i.dwI}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new i.dwI}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new i.Q1f(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new i.Q1f(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new i.dwI},alphaTest:{value:0},uvTransform:{value:new i.dwI}},sprite:{diffuse:{value:new i.Q1f(16777215)},opacity:{value:1},center:{value:new i.I9Y(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new i.dwI},alphaMap:{value:null},alphaMapTransform:{value:new i.dwI},alphaTest:{value:0}}},l={basic:{uniforms:(0,i.Iit)([o.common,o.specularmap,o.envmap,o.aomap,o.lightmap,o.fog]),vertexShader:a.meshbasic_vert,fragmentShader:a.meshbasic_frag},lambert:{uniforms:(0,i.Iit)([o.common,o.specularmap,o.envmap,o.aomap,o.lightmap,o.emissivemap,o.bumpmap,o.normalmap,o.displacementmap,o.fog,o.lights,{emissive:{value:new i.Q1f(0)}}]),vertexShader:a.meshlambert_vert,fragmentShader:a.meshlambert_frag},phong:{uniforms:(0,i.Iit)([o.common,o.specularmap,o.envmap,o.aomap,o.lightmap,o.emissivemap,o.bumpmap,o.normalmap,o.displacementmap,o.fog,o.lights,{emissive:{value:new i.Q1f(0)},specular:{value:new i.Q1f(1118481)},shininess:{value:30}}]),vertexShader:a.meshphong_vert,fragmentShader:a.meshphong_frag},standard:{uniforms:(0,i.Iit)([o.common,o.envmap,o.aomap,o.lightmap,o.emissivemap,o.bumpmap,o.normalmap,o.displacementmap,o.roughnessmap,o.metalnessmap,o.fog,o.lights,{emissive:{value:new i.Q1f(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:a.meshphysical_vert,fragmentShader:a.meshphysical_frag},toon:{uniforms:(0,i.Iit)([o.common,o.aomap,o.lightmap,o.emissivemap,o.bumpmap,o.normalmap,o.displacementmap,o.gradientmap,o.fog,o.lights,{emissive:{value:new i.Q1f(0)}}]),vertexShader:a.meshtoon_vert,fragmentShader:a.meshtoon_frag},matcap:{uniforms:(0,i.Iit)([o.common,o.bumpmap,o.normalmap,o.displacementmap,o.fog,{matcap:{value:null}}]),vertexShader:a.meshmatcap_vert,fragmentShader:a.meshmatcap_frag},points:{uniforms:(0,i.Iit)([o.points,o.fog]),vertexShader:a.points_vert,fragmentShader:a.points_frag},dashed:{uniforms:(0,i.Iit)([o.common,o.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:a.linedashed_vert,fragmentShader:a.linedashed_frag},depth:{uniforms:(0,i.Iit)([o.common,o.displacementmap]),vertexShader:a.depth_vert,fragmentShader:a.depth_frag},normal:{uniforms:(0,i.Iit)([o.common,o.bumpmap,o.normalmap,o.displacementmap,{opacity:{value:1}}]),vertexShader:a.meshnormal_vert,fragmentShader:a.meshnormal_frag},sprite:{uniforms:(0,i.Iit)([o.sprite,o.fog]),vertexShader:a.sprite_vert,fragmentShader:a.sprite_frag},background:{uniforms:{uvTransform:{value:new i.dwI},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:a.background_vert,fragmentShader:a.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new i.dwI}},vertexShader:a.backgroundCube_vert,fragmentShader:a.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:a.cube_vert,fragmentShader:a.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:a.equirect_vert,fragmentShader:a.equirect_frag},distanceRGBA:{uniforms:(0,i.Iit)([o.common,o.displacementmap,{referencePosition:{value:new i.Pq0},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:a.distanceRGBA_vert,fragmentShader:a.distanceRGBA_frag},shadow:{uniforms:(0,i.Iit)([o.lights,o.fog,{color:{value:new i.Q1f(0)},opacity:{value:1}}]),vertexShader:a.shadow_vert,fragmentShader:a.shadow_frag}};l.physical={uniforms:(0,i.Iit)([l.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new i.dwI},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new i.dwI},clearcoatNormalScale:{value:new i.I9Y(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new i.dwI},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new i.dwI},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new i.dwI},sheen:{value:0},sheenColor:{value:new i.Q1f(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new i.dwI},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new i.dwI},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new i.dwI},transmissionSamplerSize:{value:new i.I9Y},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new i.dwI},attenuationDistance:{value:0},attenuationColor:{value:new i.Q1f(0)},specularColor:{value:new i.Q1f(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new i.dwI},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new i.dwI},anisotropyVector:{value:new i.I9Y},anisotropyMap:{value:null},anisotropyMapTransform:{value:new i.dwI}}]),vertexShader:a.meshphysical_vert,fragmentShader:a.meshphysical_frag};const c={r:0,b:0,g:0},u=new i.O9p,d=new i.kn4;function h(e,t,n,r,s,a,o){const h=new i.Q1f(0);let p,f,g=!0===a?0:1,A=null,m=0,v=null;function y(e){let i=!0===e.isScene?e.background:null;return i&&i.isTexture&&(i=(e.backgroundBlurriness>0?n:t).get(i)),i}function E(t,n){t.getRGB(c,(0,i._Ut)(e)),r.buffers.color.setClear(c.r,c.g,c.b,n,o)}return{getClearColor:function(){return h},setClearColor:function(e,t=1){h.set(e),g=t,E(h,g)},getClearAlpha:function(){return g},setClearAlpha:function(e){g=e,E(h,g)},render:function(t){let n=!1;const i=y(t);null===i?E(h,g):i&&i.isColor&&(E(i,1),n=!0);const s=e.xr.getEnvironmentBlendMode();"additive"===s?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===s&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=y(n);r&&(r.isCubeTexture||r.mapping===i.Om)?(void 0===f&&(f=new i.eaF(new i.iNn(1,1,1),new i.BKk({name:"BackgroundCubeMaterial",uniforms:(0,i.lxW)(l.backgroundCube.uniforms),vertexShader:l.backgroundCube.vertexShader,fragmentShader:l.backgroundCube.fragmentShader,side:i.hsX,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(f)),u.copy(n.backgroundRotation),u.x*=-1,u.y*=-1,u.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(u.y*=-1,u.z*=-1),f.material.uniforms.envMap.value=r,f.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,f.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(d.makeRotationFromEuler(u)),f.material.toneMapped=i.ppV.getTransfer(r.colorSpace)!==i.KLL,A===r&&m===r.version&&v===e.toneMapping||(f.material.needsUpdate=!0,A=r,m=r.version,v=e.toneMapping),f.layers.enableAll(),t.unshift(f,f.geometry,f.material,0,0,null)):r&&r.isTexture&&(void 0===p&&(p=new i.eaF(new i.bdM(2,2),new i.BKk({name:"BackgroundMaterial",uniforms:(0,i.lxW)(l.background.uniforms),vertexShader:l.background.vertexShader,fragmentShader:l.background.fragmentShader,side:i.hB5,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=r,p.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,p.material.toneMapped=i.ppV.getTransfer(r.colorSpace)!==i.KLL,!0===r.matrixAutoUpdate&&r.updateMatrix(),p.material.uniforms.uvTransform.value.copy(r.matrix),A===r&&m===r.version&&v===e.toneMapping||(p.material.needsUpdate=!0,A=r,m=r.version,v=e.toneMapping),p.layers.enableAll(),t.unshift(p,p.geometry,p.material,0,0,null))},dispose:function(){void 0!==f&&(f.geometry.dispose(),f.material.dispose()),void 0!==p&&(p.geometry.dispose(),p.material.dispose())}}}function p(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},s=u(null);let a=s,o=!1;function l(t){return e.bindVertexArray(t)}function c(t){return e.deleteVertexArray(t)}function u(e){const t=[],i=[],r=[];for(let e=0;e<n;e++)t[e]=0,i[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:r,object:e,attributes:{},index:null}}function d(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function h(e){p(e,0)}function p(t,n){const i=a.newAttributes,r=a.enabledAttributes,s=a.attributeDivisors;i[t]=1,0===r[t]&&(e.enableVertexAttribArray(t),r[t]=1),s[t]!==n&&(e.vertexAttribDivisor(t,n),s[t]=n)}function f(){const t=a.newAttributes,n=a.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function g(t,n,i,r,s,a,o){!0===o?e.vertexAttribIPointer(t,n,i,s,a):e.vertexAttribPointer(t,n,i,r,s,a)}function A(){m(),o=!0,a!==s&&(a=s,l(a.object))}function m(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:function(n,s,c,A,m){let v=!1;const y=function(t,n,i){const s=!0===i.wireframe;let a=r[t.id];void 0===a&&(a={},r[t.id]=a);let o=a[n.id];void 0===o&&(o={},a[n.id]=o);let l=o[s];return void 0===l&&(l=u(e.createVertexArray()),o[s]=l),l}(A,c,s);a!==y&&(a=y,l(a.object)),v=function(e,t,n,i){const r=a.attributes,s=t.attributes;let o=0;const l=n.getAttributes();for(const t in l)if(l[t].location>=0){const n=r[t];let i=s[t];if(void 0===i&&("instanceMatrix"===t&&e.instanceMatrix&&(i=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(i=e.instanceColor)),void 0===n)return!0;if(n.attribute!==i)return!0;if(i&&n.data!==i.data)return!0;o++}return a.attributesNum!==o||a.index!==i}(n,A,c,m),v&&function(e,t,n,i){const r={},s=t.attributes;let o=0;const l=n.getAttributes();for(const t in l)if(l[t].location>=0){let n=s[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const i={};i.attribute=n,n&&n.data&&(i.data=n.data),r[t]=i,o++}a.attributes=r,a.attributesNum=o,a.index=i}(n,A,c,m),null!==m&&t.update(m,e.ELEMENT_ARRAY_BUFFER),(v||o)&&(o=!1,function(n,r,s,a){d();const o=a.attributes,l=s.getAttributes(),c=r.defaultAttributeValues;for(const r in l){const s=l[r];if(s.location>=0){let l=o[r];if(void 0===l&&("instanceMatrix"===r&&n.instanceMatrix&&(l=n.instanceMatrix),"instanceColor"===r&&n.instanceColor&&(l=n.instanceColor)),void 0!==l){const r=l.normalized,o=l.itemSize,c=t.get(l);if(void 0===c)continue;const u=c.buffer,d=c.type,f=c.bytesPerElement,A=d===e.INT||d===e.UNSIGNED_INT||l.gpuType===i.Yuy;if(l.isInterleavedBufferAttribute){const t=l.data,i=t.stride,c=l.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<s.locationSize;e++)p(s.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<s.locationSize;e++)h(s.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<s.locationSize;e++)g(s.location+e,o/s.locationSize,d,r,i*f,(c+o/s.locationSize*e)*f,A)}else{if(l.isInstancedBufferAttribute){for(let e=0;e<s.locationSize;e++)p(s.location+e,l.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=l.meshPerAttribute*l.count)}else for(let e=0;e<s.locationSize;e++)h(s.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<s.locationSize;e++)g(s.location+e,o/s.locationSize,d,r,o*f,o/s.locationSize*e*f,A)}}else if(void 0!==c){const t=c[r];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(s.location,t);break;case 3:e.vertexAttrib3fv(s.location,t);break;case 4:e.vertexAttrib4fv(s.location,t);break;default:e.vertexAttrib1fv(s.location,t)}}}}f()}(n,s,c,A),null!==m&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(m).buffer))},reset:A,resetDefaultState:m,dispose:function(){A();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)c(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const e in t){const n=t[e];for(const e in n)c(n[e].object),delete n[e];delete t[e]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)c(i[e].object),delete i[e];delete n[e.id]}},initAttributes:d,enableAttribute:h,disableUnusedAttributes:f}}function f(e,t,n){let i;function r(t,r,s){0!==s&&(e.drawArraysInstanced(i,t,r,s),n.update(r,i,s))}this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(e,r,s){if(0===s)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,e,0,r,0,s);let a=0;for(let e=0;e<s;e++)a+=r[e];n.update(a,i,1)},this.renderMultiDrawInstances=function(e,s,a,o){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)r(e[t],s[t],o[t]);else{l.multiDrawArraysInstancedWEBGL(i,e,0,s,0,o,0,a);let t=0;for(let e=0;e<a;e++)t+=s[e]*o[e];n.update(t,i,1)}}}function g(e,t,n,r){let s;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=!0===n.logarithmicDepthBuffer,u=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==s)return s;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");s=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s},getMaxPrecision:a,textureFormatReadable:function(t){return t===i.GWd||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const s=n===i.ix0&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==i.OUM&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==i.RQf&&!s)},precision:o,logarithmicDepthBuffer:c,reverseDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:h>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function A(e){const t=this;let n=null,r=0,s=!1,a=!1;const o=new i.Zcv,l=new i.dwI,c={value:null,needsUpdate:!1};function u(e,n,i,r){const s=null!==e?e.length:0;let a=null;if(0!==s){if(a=c.value,!0!==r||null===a){const t=i+4*s,r=n.matrixWorldInverse;l.getNormalMatrix(r),(null===a||a.length<t)&&(a=new Float32Array(t));for(let t=0,n=i;t!==s;++t,n+=4)o.copy(e[t]).applyMatrix4(r,l),o.normal.toArray(a,n),a[n+3]=o.constant}c.value=a,c.needsUpdate=!0}return t.numPlanes=s,t.numIntersection=0,a}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||s;return s=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(i,o,l){const d=i.clippingPlanes,h=i.clipIntersection,p=i.clipShadows,f=e.get(i);if(!s||null===d||0===d.length||a&&!p)a?u(null):(c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0);else{const e=a?0:r,t=4*e;let i=f.clippingState||null;c.value=i,i=u(d,o,t,l);for(let e=0;e!==t;++e)i[e]=n[e];f.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function m(e){let t=new WeakMap;function n(e,t){return t===i.wfO?e.mapping=i.hy7:t===i.uV5&&(e.mapping=i.xFO),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(s){if(s&&s.isTexture){const a=s.mapping;if(a===i.wfO||a===i.uV5){if(t.has(s))return n(t.get(s).texture,s.mapping);{const a=s.image;if(a&&a.height>0){const o=new i.o6l(a.height);return o.fromEquirectangularTexture(e,s),t.set(s,o),s.addEventListener("dispose",r),n(o.texture,s.mapping)}return null}}}return s},dispose:function(){t=new WeakMap}}}const v=[.125,.215,.35,.446,.526,.582],y=new i.qUd,E=new i.Q1f;let S=null,b=0,x=0,w=!1;const I=(1+Math.sqrt(5))/2,C=1/I,T=[new i.Pq0(-I,C,0),new i.Pq0(I,C,0),new i.Pq0(-C,0,I),new i.Pq0(C,0,I),new i.Pq0(0,I,-C),new i.Pq0(0,I,C),new i.Pq0(-1,1,-1),new i.Pq0(1,1,-1),new i.Pq0(-1,1,1),new i.Pq0(1,1,1)];class M{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){S=this._renderer.getRenderTarget(),b=this._renderer.getActiveCubeFace(),x=this._renderer.getActiveMipmapLevel(),w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=_(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=P(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(S,b,x),this._renderer.xr.enabled=w,e.scissorTest=!1,R(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===i.hy7||e.mapping===i.xFO?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),S=this._renderer.getRenderTarget(),b=this._renderer.getActiveCubeFace(),x=this._renderer.getActiveMipmapLevel(),w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:i.k6q,minFilter:i.k6q,generateMipmaps:!1,type:i.ix0,format:i.GWd,colorSpace:i.Zr2,depthBuffer:!1},r=B(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=B(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let s=e;const a=e-4+1+v.length;for(let o=0;o<a;o++){const a=Math.pow(2,s);n.push(a);let l=1/a;o>e-4?l=v[o-e+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,f=6,g=3,A=2,m=1,y=new Float32Array(g*f*p),E=new Float32Array(A*f*p),S=new Float32Array(m*f*p);for(let e=0;e<p;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];y.set(i,g*f*e),E.set(h,A*f*e);const r=[e,e,e,e,e,e];S.set(r,m*f*e)}const b=new i.LoY;b.setAttribute("position",new i.THS(y,g)),b.setAttribute("uv",new i.THS(E,A)),b.setAttribute("faceIndex",new i.THS(S,m)),t.push(b),s>4&&s--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(20),s=new i.Pq0(0,1,0);return new i.BKk({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:i.XIg,depthTest:!1,depthWrite:!1})}(r,e,t)}return r}_compileMaterial(e){const t=new i.eaF(this._lodPlanes[0],e);this._renderer.compile(t,y)}_sceneToCubeUV(e,t,n,r){const s=new i.ubm(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(E),l.toneMapping=i.y_p,l.autoClear=!1;const d=new i.V9B({name:"PMREM.Background",side:i.hsX,depthWrite:!1,depthTest:!1}),h=new i.eaF(new i.iNn,d);let p=!1;const f=e.background;f?f.isColor&&(d.color.copy(f),e.background=null,p=!0):(d.color.copy(E),p=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(s.up.set(0,a[t],0),s.lookAt(o[t],0,0)):1===n?(s.up.set(0,0,a[t]),s.lookAt(0,o[t],0)):(s.up.set(0,a[t],0),s.lookAt(0,0,o[t]));const i=this._cubeSize;R(r,n*i,t>2?i:0,i,i),l.setRenderTarget(r),p&&l.render(h,s),l.render(e,s)}h.geometry.dispose(),h.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=f}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===i.hy7||e.mapping===i.xFO;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=_()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=P());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new i.eaF(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const o=this._cubeSize;R(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,y)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let t=1;t<i;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=T[(i-t-1)%T.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,i,r){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",r),this._halfBlur(s,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,r,s,a,o){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new i.eaF(this._lodPlanes[r],c),d=c.uniforms,h=this._sizeLods[n]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,f=s/p,g=isFinite(s)?1+Math.floor(3*f):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const A=[];let m=0;for(let e=0;e<20;++e){const t=e/f,n=Math.exp(-t*t/2);A.push(n),0===e?m+=n:e<g&&(m+=2*n)}for(let e=0;e<A.length;e++)A[e]=A[e]/m;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=A,d.latitudinal.value="latitudinal"===a,o&&(d.poleAxis.value=o);const{_lodMax:v}=this;d.dTheta.value=p,d.mipInt.value=v-n;const E=this._sizeLods[r];R(t,3*E*(r>v-4?r-v+4:0),4*(this._cubeSize-E),3*E,2*E),l.setRenderTarget(t),l.render(u,y)}}function B(e,t,n){const r=new i.nWS(e,t,n);return r.texture.mapping=i.Om,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function R(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function P(){return new i.BKk({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:i.XIg,depthTest:!1,depthWrite:!1})}function _(){return new i.BKk({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:i.XIg,depthTest:!1,depthWrite:!1})}function D(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(s){if(s&&s.isTexture){const a=s.mapping,o=a===i.wfO||a===i.uV5,l=a===i.hy7||a===i.xFO;if(o||l){let i=t.get(s);const a=void 0!==i?i.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==a)return null===n&&(n=new M(e)),i=o?n.fromEquirectangular(s,i):n.fromCubemap(s,i),i.texture.pmremVersion=s.pmremVersion,t.set(s,i),i.texture;if(void 0!==i)return i.texture;{const a=s.image;return o&&a&&a.height>0||l&&a&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(a)?(null===n&&(n=new M(e)),i=o?n.fromEquirectangular(s):n.fromCubemap(s),i.texture.pmremVersion=s.pmremVersion,t.set(s,i),s.addEventListener("dispose",r),i.texture):null}}}return s},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function N(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&(0,i.mcG)("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function L(e,t,n,r){const s={},a=new WeakMap;function o(e){const i=e.target;null!==i.index&&t.remove(i.index);for(const e in i.attributes)t.remove(i.attributes[e]);i.removeEventListener("dispose",o),delete s[i.id];const l=a.get(i);l&&(t.remove(l),a.delete(i)),r.releaseStatesOfGeometry(i),!0===i.isInstancedBufferGeometry&&delete i._maxInstanceCount,n.memory.geometries--}function l(e){const n=[],r=e.index,s=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],s=e[t+2];n.push(i,r,r,s,s,i)}}else{if(void 0===s)return;{const e=s.array;o=s.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}}const l=new((0,i.AQS)(n)?i.MW4:i.A$4)(n,1);l.version=o;const c=a.get(e);c&&t.remove(c),a.set(e,l)}return{get:function(e,t){return!0===s[t.id]||(t.addEventListener("dispose",o),s[t.id]=!0,n.memory.geometries++),t},update:function(n){const i=n.attributes;for(const n in i)t.update(i[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&l(e)}else l(e);return a.get(e)}}}function O(e,t,n){let i,r,s;function a(t,a,o){0!==o&&(e.drawElementsInstanced(i,a,r,t*s,o),n.update(a,i,o))}this.setMode=function(e){i=e},this.setIndex=function(e){r=e.type,s=e.bytesPerElement},this.render=function(t,a){e.drawElements(i,a,r,t*s),n.update(a,i,1)},this.renderInstances=a,this.renderMultiDraw=function(e,s,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,s,0,r,e,0,a);let o=0;for(let e=0;e<a;e++)o+=s[e];n.update(o,i,1)},this.renderMultiDrawInstances=function(e,o,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)a(e[t]/s,o[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(i,o,0,r,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=o[e]*c[e];n.update(t,i,1)}}}function k(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function U(e,t,n){const r=new WeakMap,s=new i.IUQ;return{update:function(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=void 0!==u?u.length:0;let h=r.get(o);if(void 0===h||h.count!==d){void 0!==h&&h.texture.dispose();const p=void 0!==o.morphAttributes.position,f=void 0!==o.morphAttributes.normal,g=void 0!==o.morphAttributes.color,A=o.morphAttributes.position||[],m=o.morphAttributes.normal||[],v=o.morphAttributes.color||[];let y=0;!0===p&&(y=1),!0===f&&(y=2),!0===g&&(y=3);let E=o.attributes.position.count*y,S=1;E>t.maxTextureSize&&(S=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);const b=new Float32Array(E*S*4*d),x=new i.rFo(b,E,S,d);x.type=i.RQf,x.needsUpdate=!0;const w=4*y;for(let C=0;C<d;C++){const T=A[C],M=m[C],B=v[C],R=E*S*4*C;for(let P=0;P<T.count;P++){const _=P*w;!0===p&&(s.fromBufferAttribute(T,P),b[R+_+0]=s.x,b[R+_+1]=s.y,b[R+_+2]=s.z,b[R+_+3]=0),!0===f&&(s.fromBufferAttribute(M,P),b[R+_+4]=s.x,b[R+_+5]=s.y,b[R+_+6]=s.z,b[R+_+7]=0),!0===g&&(s.fromBufferAttribute(B,P),b[R+_+8]=s.x,b[R+_+9]=s.y,b[R+_+10]=s.z,b[R+_+11]=4===B.itemSize?s.w:1)}}function I(){x.dispose(),r.delete(o),o.removeEventListener("dispose",I)}h={count:d,texture:x,size:new i.I9Y(E,S)},r.set(o,h),o.addEventListener("dispose",I)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)l.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let D=0;for(let L=0;L<c.length;L++)D+=c[L];const N=o.morphTargetsRelative?1:1-D;l.getUniforms().setValue(e,"morphTargetBaseInfluence",N),l.getUniforms().setValue(e,"morphTargetInfluences",c)}l.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}function F(e,t,n,i){let r=new WeakMap;function s(e){const t=e.target;t.removeEventListener("dispose",s),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const o=i.render.frame,l=a.geometry,c=t.get(a,l);if(r.get(c)!==o&&(t.update(c),r.set(c,o)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",s)&&a.addEventListener("dispose",s),r.get(a)!==o&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),r.set(a,o))),a.isSkinnedMesh){const e=a.skeleton;r.get(e)!==o&&(e.update(),r.set(e,o))}return c},dispose:function(){r=new WeakMap}}}const Q=new i.gPd,V=new i.VCu(1,1),H=new i.rFo,G=new i.dYF,z=new i.b4q,W=[],X=[],j=new Float32Array(16),q=new Float32Array(9),Y=new Float32Array(4);function J(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let s=W[r];if(void 0===s&&(s=new Float32Array(r),W[r]=s),0!==t){i.toArray(s,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(s,r)}return s}function Z(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function K(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function $(e,t){let n=X[t];void 0===n&&(n=new Int32Array(t),X[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function ee(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function te(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Z(n,t))return;e.uniform2fv(this.addr,t),K(n,t)}}function ne(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Z(n,t))return;e.uniform3fv(this.addr,t),K(n,t)}}function ie(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Z(n,t))return;e.uniform4fv(this.addr,t),K(n,t)}}function re(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Z(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),K(n,t)}else{if(Z(n,i))return;Y.set(i),e.uniformMatrix2fv(this.addr,!1,Y),K(n,i)}}function se(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Z(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),K(n,t)}else{if(Z(n,i))return;q.set(i),e.uniformMatrix3fv(this.addr,!1,q),K(n,i)}}function ae(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Z(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),K(n,t)}else{if(Z(n,i))return;j.set(i),e.uniformMatrix4fv(this.addr,!1,j),K(n,i)}}function oe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function le(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Z(n,t))return;e.uniform2iv(this.addr,t),K(n,t)}}function ce(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Z(n,t))return;e.uniform3iv(this.addr,t),K(n,t)}}function ue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Z(n,t))return;e.uniform4iv(this.addr,t),K(n,t)}}function de(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function he(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Z(n,t))return;e.uniform2uiv(this.addr,t),K(n,t)}}function pe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Z(n,t))return;e.uniform3uiv(this.addr,t),K(n,t)}}function fe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Z(n,t))return;e.uniform4uiv(this.addr,t),K(n,t)}}function ge(e,t,n){const r=this.cache,s=n.allocateTextureUnit();let a;r[0]!==s&&(e.uniform1i(this.addr,s),r[0]=s),this.type===e.SAMPLER_2D_SHADOW?(V.compareFunction=i.TiK,a=V):a=Q,n.setTexture2D(t||a,s)}function Ae(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||G,r)}function me(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||z,r)}function ve(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||H,r)}function ye(e,t){e.uniform1fv(this.addr,t)}function Ee(e,t){const n=J(t,this.size,2);e.uniform2fv(this.addr,n)}function Se(e,t){const n=J(t,this.size,3);e.uniform3fv(this.addr,n)}function be(e,t){const n=J(t,this.size,4);e.uniform4fv(this.addr,n)}function xe(e,t){const n=J(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function we(e,t){const n=J(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ie(e,t){const n=J(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ce(e,t){e.uniform1iv(this.addr,t)}function Te(e,t){e.uniform2iv(this.addr,t)}function Me(e,t){e.uniform3iv(this.addr,t)}function Be(e,t){e.uniform4iv(this.addr,t)}function Re(e,t){e.uniform1uiv(this.addr,t)}function Pe(e,t){e.uniform2uiv(this.addr,t)}function _e(e,t){e.uniform3uiv(this.addr,t)}function De(e,t){e.uniform4uiv(this.addr,t)}function Ne(e,t,n){const i=this.cache,r=t.length,s=$(n,r);Z(i,s)||(e.uniform1iv(this.addr,s),K(i,s));for(let e=0;e!==r;++e)n.setTexture2D(t[e]||Q,s[e])}function Le(e,t,n){const i=this.cache,r=t.length,s=$(n,r);Z(i,s)||(e.uniform1iv(this.addr,s),K(i,s));for(let e=0;e!==r;++e)n.setTexture3D(t[e]||G,s[e])}function Oe(e,t,n){const i=this.cache,r=t.length,s=$(n,r);Z(i,s)||(e.uniform1iv(this.addr,s),K(i,s));for(let e=0;e!==r;++e)n.setTextureCube(t[e]||z,s[e])}function ke(e,t,n){const i=this.cache,r=t.length,s=$(n,r);Z(i,s)||(e.uniform1iv(this.addr,s),K(i,s));for(let e=0;e!==r;++e)n.setTexture2DArray(t[e]||H,s[e])}class Ue{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return ee;case 35664:return te;case 35665:return ne;case 35666:return ie;case 35674:return re;case 35675:return se;case 35676:return ae;case 5124:case 35670:return oe;case 35667:case 35671:return le;case 35668:case 35672:return ce;case 35669:case 35673:return ue;case 5125:return de;case 36294:return he;case 36295:return pe;case 36296:return fe;case 35678:case 36198:case 36298:case 36306:case 35682:return ge;case 35679:case 36299:case 36307:return Ae;case 35680:case 36300:case 36308:case 36293:return me;case 36289:case 36303:case 36311:case 36292:return ve}}(t.type)}}class Fe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ye;case 35664:return Ee;case 35665:return Se;case 35666:return be;case 35674:return xe;case 35675:return we;case 35676:return Ie;case 5124:case 35670:return Ce;case 35667:case 35671:return Te;case 35668:case 35672:return Me;case 35669:case 35673:return Be;case 5125:return Re;case 36294:return Pe;case 36295:return _e;case 36296:return De;case 35678:case 36198:case 36298:case 36306:case 35682:return Ne;case 35679:case 36299:case 36307:return Le;case 35680:case 36300:case 36308:case 36293:return Oe;case 36289:case 36303:case 36311:case 36292:return ke}}(t.type)}}class Qe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const s=i[r];s.setValue(e,t[s.id],n)}}}const Ve=/(\w+)(\])?(\[|\.)?/g;function He(e,t){e.seq.push(t),e.map[t.id]=t}function Ge(e,t,n){const i=e.name,r=i.length;for(Ve.lastIndex=0;;){const s=Ve.exec(i),a=Ve.lastIndex;let o=s[1];const l="]"===s[2],c=s[3];if(l&&(o|=0),void 0===c||"["===c&&a+2===r){He(n,void 0===c?new Ue(o,e,t):new Fe(o,e,t));break}{let e=n.map[o];void 0===e&&(e=new Qe(o),He(n,e)),n=e}}}class ze{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);Ge(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,s=t.length;r!==s;++r){const s=t[r],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function We(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let Xe=0;const je=new i.dwI;function qe(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const i=parseInt(s[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),s=Math.min(t+6,n.length);for(let e=r;e<s;e++){const r=e+1;i.push(`${r===t?">":" "} ${r}: ${n[e]}`)}return i.join("\n")}(e.getShaderSource(t),i)}return r}function Ye(e,t){const n=function(e){i.ppV._getMatrix(je,i.ppV.workingColorSpace,e);const t=`mat3( ${je.elements.map(e=>e.toFixed(4))} )`;switch(i.ppV.getTransfer(e)){case i.VxR:return[t,"LinearTransferOETF"];case i.KLL:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function Je(e,t){let n;switch(t){case i.kyO:n="Linear";break;case i.Mjd:n="Reinhard";break;case i.nNL:n="Cineon";break;case i.FV:n="ACESFilmic";break;case i.LAk:n="AgX";break;case i.aJ8:n="Neutral";break;case i.g7M:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Ze=new i.Pq0;function Ke(e){return""!==e}function $e(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function et(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const tt=/^[ \t]*#include +<([\w\d./]+)>/gm;function nt(e){return e.replace(tt,rt)}const it=new Map;function rt(e,t){let n=a[t];if(void 0===n){const e=it.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=a[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return nt(n)}const st=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function at(e){return e.replace(st,ot)}function ot(e,t,n,i){let r="";for(let e=parseInt(t);e<parseInt(n);e++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return r}function lt(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ct(e,t,n,r){const s=e.getContext(),o=n.defines;let l=n.vertexShader,c=n.fragmentShader;const u=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===i.QP0?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===i.Wk7?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===i.RyA&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case i.hy7:case i.xFO:t="ENVMAP_TYPE_CUBE";break;case i.Om:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===i.xFO&&(t="ENVMAP_MODE_REFRACTION"),t}(n),p=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case i.caT:t="ENVMAP_BLENDING_MULTIPLY";break;case i.KRh:t="ENVMAP_BLENDING_MIX";break;case i.XrR:t="ENVMAP_BLENDING_ADD"}return t}(n),f=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),g=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ke).join("\n")}(n),A=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),m=s.createProgram();let v,y,E=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A].filter(Ke).join("\n"),v.length>0&&(v+="\n"),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A].filter(Ke).join("\n"),y.length>0&&(y+="\n")):(v=[lt(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ke).join("\n"),y=[lt(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,A,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==i.y_p?"#define TONE_MAPPING":"",n.toneMapping!==i.y_p?a.tonemapping_pars_fragment:"",n.toneMapping!==i.y_p?Je("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",a.colorspace_pars_fragment,Ye("linearToOutputTexel",n.outputColorSpace),(i.ppV.getLuminanceCoefficients(Ze),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${Ze.x.toFixed(4)}, ${Ze.y.toFixed(4)}, ${Ze.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ke).join("\n")),l=nt(l),l=$e(l,n),l=et(l,n),c=nt(c),c=$e(c,n),c=et(c,n),l=at(l),c=at(c),!0!==n.isRawShaderMaterial&&(E="#version 300 es\n",v=[g,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,y=["#define varying in",n.glslVersion===i.Wdf?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===i.Wdf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const S=E+v+l,b=E+y+c,x=We(s,s.VERTEX_SHADER,S),w=We(s,s.FRAGMENT_SHADER,b);function I(t){if(e.debug.checkShaderErrors){const n=s.getProgramInfoLog(m).trim(),i=s.getShaderInfoLog(x).trim(),r=s.getShaderInfoLog(w).trim();let a=!0,o=!0;if(!1===s.getProgramParameter(m,s.LINK_STATUS))if(a=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(s,m,x,w);else{const e=qe(s,x,"vertex"),i=qe(s,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(m,s.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+i)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==i&&""!==r||(o=!1);o&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:i,prefix:v},fragmentShader:{log:r,prefix:y}})}s.deleteShader(x),s.deleteShader(w),C=new ze(s,m),T=function(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),s=i.name;let a=1;i.type===e.FLOAT_MAT2&&(a=2),i.type===e.FLOAT_MAT3&&(a=3),i.type===e.FLOAT_MAT4&&(a=4),n[s]={type:i.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(s,m)}let C,T;s.attachShader(m,x),s.attachShader(m,w),void 0!==n.index0AttributeName?s.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&s.bindAttribLocation(m,0,"position"),s.linkProgram(m),this.getUniforms=function(){return void 0===C&&I(this),C},this.getAttributes=function(){return void 0===T&&I(this),T};let M=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=s.getProgramParameter(m,37297)),M},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Xe++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}let ut=0;class dt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return!1===s.has(i)&&(s.add(i),i.usedTimes++),!1===s.has(r)&&(s.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new ht(e),t.set(e,n)),n}}class ht{constructor(e){this.id=ut++,this.code=e,this.usedTimes=0}}function pt(e,t,n,r,s,a,o){const c=new i.zgK,u=new dt,d=new Set,h=[],p=s.logarithmicDepthBuffer,f=s.vertexTextures;let g=s.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return d.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(a,c,h,v,y){const E=v.fog,S=y.geometry,b=a.isMeshStandardMaterial?v.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),w=x&&x.mapping===i.Om?x.image.height:null,I=A[a.type];null!==a.precision&&(g=s.getMaxPrecision(a.precision),g!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",g,"instead."));const C=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,T=void 0!==C?C.length:0;let M,B,R,P,_=0;if(void 0!==S.morphAttributes.position&&(_=1),void 0!==S.morphAttributes.normal&&(_=2),void 0!==S.morphAttributes.color&&(_=3),I){const e=l[I];M=e.vertexShader,B=e.fragmentShader}else M=a.vertexShader,B=a.fragmentShader,u.update(a),R=u.getVertexShaderID(a),P=u.getFragmentShaderID(a);const D=e.getRenderTarget(),N=e.state.buffers.depth.getReversed(),L=!0===y.isInstancedMesh,O=!0===y.isBatchedMesh,k=!!a.map,U=!!a.matcap,F=!!x,Q=!!a.aoMap,V=!!a.lightMap,H=!!a.bumpMap,G=!!a.normalMap,z=!!a.displacementMap,W=!!a.emissiveMap,X=!!a.metalnessMap,j=!!a.roughnessMap,q=a.anisotropy>0,Y=a.clearcoat>0,J=a.dispersion>0,Z=a.iridescence>0,K=a.sheen>0,$=a.transmission>0,ee=q&&!!a.anisotropyMap,te=Y&&!!a.clearcoatMap,ne=Y&&!!a.clearcoatNormalMap,ie=Y&&!!a.clearcoatRoughnessMap,re=Z&&!!a.iridescenceMap,se=Z&&!!a.iridescenceThicknessMap,ae=K&&!!a.sheenColorMap,oe=K&&!!a.sheenRoughnessMap,le=!!a.specularMap,ce=!!a.specularColorMap,ue=!!a.specularIntensityMap,de=$&&!!a.transmissionMap,he=$&&!!a.thicknessMap,pe=!!a.gradientMap,fe=!!a.alphaMap,ge=a.alphaTest>0,Ae=!!a.alphaHash,me=!!a.extensions;let ve=i.y_p;a.toneMapped&&(null!==D&&!0!==D.isXRRenderTarget||(ve=e.toneMapping));const ye={shaderID:I,shaderType:a.type,shaderName:a.name,vertexShader:M,fragmentShader:B,defines:a.defines,customVertexShaderID:R,customFragmentShaderID:P,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:g,batching:O,batchingColor:O&&null!==y._colorsTexture,instancing:L,instancingColor:L&&null!==y.instanceColor,instancingMorph:L&&null!==y.morphTexture,supportsVertexTextures:f,outputColorSpace:null===D?e.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:i.Zr2,alphaToCoverage:!!a.alphaToCoverage,map:k,matcap:U,envMap:F,envMapMode:F&&x.mapping,envMapCubeUVHeight:w,aoMap:Q,lightMap:V,bumpMap:H,normalMap:G,displacementMap:f&&z,emissiveMap:W,normalMapObjectSpace:G&&a.normalMapType===i.vyJ,normalMapTangentSpace:G&&a.normalMapType===i.bI3,metalnessMap:X,roughnessMap:j,anisotropy:q,anisotropyMap:ee,clearcoat:Y,clearcoatMap:te,clearcoatNormalMap:ne,clearcoatRoughnessMap:ie,dispersion:J,iridescence:Z,iridescenceMap:re,iridescenceThicknessMap:se,sheen:K,sheenColorMap:ae,sheenRoughnessMap:oe,specularMap:le,specularColorMap:ce,specularIntensityMap:ue,transmission:$,transmissionMap:de,thicknessMap:he,gradientMap:pe,opaque:!1===a.transparent&&a.blending===i.NTi&&!1===a.alphaToCoverage,alphaMap:fe,alphaTest:ge,alphaHash:Ae,combine:a.combine,mapUv:k&&m(a.map.channel),aoMapUv:Q&&m(a.aoMap.channel),lightMapUv:V&&m(a.lightMap.channel),bumpMapUv:H&&m(a.bumpMap.channel),normalMapUv:G&&m(a.normalMap.channel),displacementMapUv:z&&m(a.displacementMap.channel),emissiveMapUv:W&&m(a.emissiveMap.channel),metalnessMapUv:X&&m(a.metalnessMap.channel),roughnessMapUv:j&&m(a.roughnessMap.channel),anisotropyMapUv:ee&&m(a.anisotropyMap.channel),clearcoatMapUv:te&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:ne&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ie&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:se&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:oe&&m(a.sheenRoughnessMap.channel),specularMapUv:le&&m(a.specularMap.channel),specularColorMapUv:ce&&m(a.specularColorMap.channel),specularIntensityMapUv:ue&&m(a.specularIntensityMap.channel),transmissionMapUv:de&&m(a.transmissionMap.channel),thicknessMapUv:he&&m(a.thicknessMap.channel),alphaMapUv:fe&&m(a.alphaMap.channel),vertexTangents:!!S.attributes.tangent&&(G||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!S.attributes.color&&4===S.attributes.color.itemSize,pointsUvs:!0===y.isPoints&&!!S.attributes.uv&&(k||fe),fog:!!E,useFog:!0===a.fog,fogExp2:!!E&&E.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:p,reverseDepthBuffer:N,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==S.morphAttributes.position,morphNormals:void 0!==S.morphAttributes.normal,morphColors:void 0!==S.morphAttributes.color,morphTargetsCount:T,morphTextureStride:_,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numSpotLightMaps:c.spotLightMap.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numDirLightShadows:c.directionalShadowMap.length,numPointLightShadows:c.pointShadowMap.length,numSpotLightShadows:c.spotShadowMap.length,numSpotLightShadowsWithMaps:c.numSpotLightShadowsWithMaps,numLightProbes:c.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.length>0,shadowMapType:e.shadowMap.type,toneMapping:ve,decodeVideoTexture:k&&!0===a.map.isVideoTexture&&i.ppV.getTransfer(a.map.colorSpace)===i.KLL,decodeVideoTextureEmissive:W&&!0===a.emissiveMap.isVideoTexture&&i.ppV.getTransfer(a.emissiveMap.colorSpace)===i.KLL,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===i.$EB,flipSided:a.side===i.hsX,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:me&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===a.extensions.multiDraw||O)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ye.vertexUv1s=d.has(1),ye.vertexUv2s=d.has(2),ye.vertexUv3s=d.has(3),d.clear(),ye},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){c.disableAll(),t.supportsVertexTextures&&c.enable(0),t.instancing&&c.enable(1),t.instancingColor&&c.enable(2),t.instancingMorph&&c.enable(3),t.matcap&&c.enable(4),t.envMap&&c.enable(5),t.normalMapObjectSpace&&c.enable(6),t.normalMapTangentSpace&&c.enable(7),t.clearcoat&&c.enable(8),t.iridescence&&c.enable(9),t.alphaTest&&c.enable(10),t.vertexColors&&c.enable(11),t.vertexAlphas&&c.enable(12),t.vertexUv1s&&c.enable(13),t.vertexUv2s&&c.enable(14),t.vertexUv3s&&c.enable(15),t.vertexTangents&&c.enable(16),t.anisotropy&&c.enable(17),t.alphaHash&&c.enable(18),t.batching&&c.enable(19),t.dispersion&&c.enable(20),t.batchingColor&&c.enable(21),e.push(c.mask),c.disableAll(),t.fog&&c.enable(0),t.useFog&&c.enable(1),t.flatShading&&c.enable(2),t.logarithmicDepthBuffer&&c.enable(3),t.reverseDepthBuffer&&c.enable(4),t.skinning&&c.enable(5),t.morphTargets&&c.enable(6),t.morphNormals&&c.enable(7),t.morphColors&&c.enable(8),t.premultipliedAlpha&&c.enable(9),t.shadowMapEnabled&&c.enable(10),t.doubleSided&&c.enable(11),t.flipSided&&c.enable(12),t.useDepthPacking&&c.enable(13),t.dithering&&c.enable(14),t.transmission&&c.enable(15),t.sheen&&c.enable(16),t.opaque&&c.enable(17),t.pointsUvs&&c.enable(18),t.decodeVideoTexture&&c.enable(19),t.decodeVideoTextureEmissive&&c.enable(20),t.alphaToCoverage&&c.enable(21),e.push(c.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=A[e.type];let n;if(t){const e=l[t];n=i.LlO.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,t=h.length;e<t;e++){const t=h[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new ct(e,n,t,a),h.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=h.indexOf(e);h[t]=h[h.length-1],h.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:h,dispose:function(){u.dispose()}}}function ft(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function gt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function At(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function mt(){const e=[];let t=0;const n=[],i=[],r=[];function s(n,i,r,s,a,o){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:s,renderOrder:n.renderOrder,z:a,group:o},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=s,l.renderOrder=n.renderOrder,l.z=a,l.group=o),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,a,o,l,c){const u=s(e,t,a,o,l,c);a.transmission>0?i.push(u):!0===a.transparent?r.push(u):n.push(u)},unshift:function(e,t,a,o,l,c){const u=s(e,t,a,o,l,c);a.transmission>0?i.unshift(u):!0===a.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||gt),i.length>1&&i.sort(t||At),r.length>1&&r.sort(t||At)}}}function vt(){let e=new WeakMap;return{get:function(t,n){const i=e.get(t);let r;return void 0===i?(r=new mt,e.set(t,[r])):n>=i.length?(r=new mt,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function yt(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new i.Pq0,color:new i.Q1f};break;case"SpotLight":n={position:new i.Pq0,direction:new i.Pq0,color:new i.Q1f,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new i.Pq0,color:new i.Q1f,distance:0,decay:0};break;case"HemisphereLight":n={direction:new i.Pq0,skyColor:new i.Q1f,groundColor:new i.Q1f};break;case"RectAreaLight":n={color:new i.Q1f,position:new i.Pq0,halfWidth:new i.Pq0,halfHeight:new i.Pq0}}return e[t.id]=n,n}}}let Et=0;function St(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function bt(e){const t=new yt,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new i.I9Y};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new i.I9Y,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new i.Pq0);const s=new i.Pq0,a=new i.kn4,l=new i.kn4;return{setup:function(i){let s=0,a=0,l=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let c=0,u=0,d=0,h=0,p=0,f=0,g=0,A=0,m=0,v=0,y=0;i.sort(St);for(let e=0,o=i.length;e<o;e++){const o=i[e],E=o.color,S=o.intensity,b=o.distance,x=o.shadow&&o.shadow.map?o.shadow.map.texture:null;if(o.isAmbientLight)s+=E.r*S,a+=E.g*S,l+=E.b*S;else if(o.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(o.sh.coefficients[e],S);y++}else if(o.isDirectionalLight){const e=t.get(o);if(e.color.copy(o.color).multiplyScalar(o.intensity),o.castShadow){const e=o.shadow,t=n.get(o);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[c]=t,r.directionalShadowMap[c]=x,r.directionalShadowMatrix[c]=o.shadow.matrix,f++}r.directional[c]=e,c++}else if(o.isSpotLight){const e=t.get(o);e.position.setFromMatrixPosition(o.matrixWorld),e.color.copy(E).multiplyScalar(S),e.distance=b,e.coneCos=Math.cos(o.angle),e.penumbraCos=Math.cos(o.angle*(1-o.penumbra)),e.decay=o.decay,r.spot[d]=e;const i=o.shadow;if(o.map&&(r.spotLightMap[m]=o.map,m++,i.updateMatrices(o),o.castShadow&&v++),r.spotLightMatrix[d]=i.matrix,o.castShadow){const e=n.get(o);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[d]=e,r.spotShadowMap[d]=x,A++}d++}else if(o.isRectAreaLight){const e=t.get(o);e.color.copy(E).multiplyScalar(S),e.halfWidth.set(.5*o.width,0,0),e.halfHeight.set(0,.5*o.height,0),r.rectArea[h]=e,h++}else if(o.isPointLight){const e=t.get(o);if(e.color.copy(o.color).multiplyScalar(o.intensity),e.distance=o.distance,e.decay=o.decay,o.castShadow){const e=o.shadow,t=n.get(o);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[u]=t,r.pointShadowMap[u]=x,r.pointShadowMatrix[u]=o.shadow.matrix,g++}r.point[u]=e,u++}else if(o.isHemisphereLight){const e=t.get(o);e.skyColor.copy(o.color).multiplyScalar(S),e.groundColor.copy(o.groundColor).multiplyScalar(S),r.hemi[p]=e,p++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=o.LTC_FLOAT_1,r.rectAreaLTC2=o.LTC_FLOAT_2):(r.rectAreaLTC1=o.LTC_HALF_1,r.rectAreaLTC2=o.LTC_HALF_2)),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=l;const E=r.hash;E.directionalLength===c&&E.pointLength===u&&E.spotLength===d&&E.rectAreaLength===h&&E.hemiLength===p&&E.numDirectionalShadows===f&&E.numPointShadows===g&&E.numSpotShadows===A&&E.numSpotMaps===m&&E.numLightProbes===y||(r.directional.length=c,r.spot.length=d,r.rectArea.length=h,r.point.length=u,r.hemi.length=p,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=A+m-v,r.spotLightMap.length=m,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,E.directionalLength=c,E.pointLength=u,E.spotLength=d,E.rectAreaLength=h,E.hemiLength=p,E.numDirectionalShadows=f,E.numPointShadows=g,E.numSpotShadows=A,E.numSpotMaps=m,E.numLightProbes=y,r.version=Et++)},setupView:function(e,t){let n=0,i=0,o=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){const h=e[t];if(h.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),s.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(d),n++}else if(h.isSpotLight){const e=r.spot[o];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),s.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(d),o++}else if(h.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),l.identity(),a.copy(h.matrixWorld),a.premultiply(d),l.extractRotation(a),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(l),e.halfHeight.applyMatrix4(l),c++}else if(h.isPointLight){const e=r.point[i];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),i++}else if(h.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function xt(e){const t=new bt(e),n=[],i=[],r={lightsArray:n,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){r.camera=e,n.length=0,i.length=0},state:r,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function wt(e){let t=new WeakMap;return{get:function(n,i=0){const r=t.get(n);let s;return void 0===r?(s=new xt(e),t.set(n,[s])):i>=r.length?(s=new xt(e),r.push(s)):s=r[i],s},dispose:function(){t=new WeakMap}}}function It(e,t,n){let r=new i.PPD;const s=new i.I9Y,a=new i.I9Y,o=new i.IUQ,l=new i.CSG({depthPacking:i.N5j}),c=new i.aVO,u={},d=n.maxTextureSize,h={[i.hB5]:i.hsX,[i.hsX]:i.hB5,[i.$EB]:i.$EB},p=new i.BKk({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new i.I9Y},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=p.clone();f.defines.HORIZONTAL_PASS=1;const g=new i.LoY;g.setAttribute("position",new i.THS(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new i.eaF(g,p),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i.QP0;let v=this.type;function y(n,r){const a=t.update(A);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new i.nWS(s.x,s.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,p,A,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,A,null)}function E(t,n,r,s){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=a.uuid,t=n.uuid;let i=u[e];void 0===i&&(i={},u[e]=i);let r=i[t];void 0===r&&(r=a.clone(),i[t]=r,n.addEventListener("dispose",b)),a=r}return a.visible=n.visible,a.wireframe=n.wireframe,s===i.RyA?a.side=null!==n.shadowSide?n.shadowSide:n.side:a.side=null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial&&(e.properties.get(a).light=r),a}function S(n,s,a,o,l){if(!1===n.visible)return;if(n.layers.test(s.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&l===i.RyA)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const i=t.update(n),r=n.material;if(Array.isArray(r)){const t=i.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=r[u.materialIndex];if(d&&d.visible){const t=E(n,d,o,l);n.onBeforeShadow(e,n,s,a,i,t,u),e.renderBufferDirect(a,null,i,t,n,u),n.onAfterShadow(e,n,s,a,i,t,u)}}}else if(r.visible){const t=E(n,r,o,l);n.onBeforeShadow(e,n,s,a,i,t,null),e.renderBufferDirect(a,null,i,t,n,null),n.onAfterShadow(e,n,s,a,i,t,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)S(c[e],s,a,o,l)}function b(e){e.target.removeEventListener("dispose",b);for(const t in u){const n=u[t],i=e.target.uuid;i in n&&(n[i].dispose(),delete n[i])}}this.render=function(t,n,l){if(!1===m.enabled)return;if(!1===m.autoUpdate&&!1===m.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.state;p.setBlending(i.XIg),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);const f=v!==i.RyA&&this.type===i.RyA,g=v===i.RyA&&this.type!==i.RyA;for(let c=0,u=t.length;c<u;c++){const u=t[c],h=u.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;s.copy(h.mapSize);const A=h.getFrameExtents();if(s.multiply(A),a.copy(h.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(a.x=Math.floor(d/A.x),s.x=a.x*A.x,h.mapSize.x=a.x),s.y>d&&(a.y=Math.floor(d/A.y),s.y=a.y*A.y,h.mapSize.y=a.y)),null===h.map||!0===f||!0===g){const e=this.type!==i.RyA?{minFilter:i.hxR,magFilter:i.hxR}:{};null!==h.map&&h.map.dispose(),h.map=new i.nWS(s.x,s.y,e),h.map.texture.name=u.name+".shadowMap",h.camera.updateProjectionMatrix()}e.setRenderTarget(h.map),e.clear();const m=h.getViewportCount();for(let e=0;e<m;e++){const t=h.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),p.viewport(o),h.updateMatrices(u,e),r=h.getFrustum(),S(n,l,h.camera,u,this.type)}!0!==h.isPointLightShadow&&this.type===i.RyA&&y(h,l),h.needsUpdate=!1}v=this.type,m.needsUpdate=!1,e.setRenderTarget(c,u,h)}}const Ct={[i.eHc]:i.lGu,[i.brA]:i.K52,[i.U3G]:i.bw0,[i.xSv]:i.Gwm,[i.lGu]:i.eHc,[i.K52]:i.brA,[i.bw0]:i.U3G,[i.Gwm]:i.xSv};function Tt(e,t){const n=new function(){let t=!1;const n=new i.IUQ;let r=null;const s=new i.IUQ(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,i,r,a,o){!0===o&&(t*=a,i*=a,r*=a),n.set(t,i,r,a),!1===s.equals(n)&&(e.clearColor(t,i,r,a),s.copy(n))},reset:function(){t=!1,r=null,s.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,s=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const e=t.get("EXT_clip_control");r?e.clipControlEXT(e.LOWER_LEFT_EXT,e.ZERO_TO_ONE_EXT):e.clipControlEXT(e.LOWER_LEFT_EXT,e.NEGATIVE_ONE_TO_ONE_EXT);const n=o;o=null,this.setClear(n)}r=e},getReversed:function(){return r},setTest:function(t){t?V(e.DEPTH_TEST):H(e.DEPTH_TEST)},setMask:function(t){s===t||n||(e.depthMask(t),s=t)},setFunc:function(t){if(r&&(t=Ct[t]),a!==t){switch(t){case i.eHc:e.depthFunc(e.NEVER);break;case i.lGu:e.depthFunc(e.ALWAYS);break;case i.brA:e.depthFunc(e.LESS);break;case i.xSv:e.depthFunc(e.LEQUAL);break;case i.U3G:e.depthFunc(e.EQUAL);break;case i.Gwm:e.depthFunc(e.GEQUAL);break;case i.K52:e.depthFunc(e.GREATER);break;case i.bw0:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,s=null,a=null,o=null,r=!1}}},s=new function(){let t=!1,n=null,i=null,r=null,s=null,a=null,o=null,l=null,c=null;return{setTest:function(n){t||(n?V(e.STENCIL_TEST):H(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&s===a||(e.stencilFunc(t,n,a),i=t,r=n,s=a)},setOp:function(t,n,i){a===t&&o===n&&l===i||(e.stencilOp(t,n,i),a=t,o=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,s=null,a=null,o=null,l=null,c=null}}},a=new WeakMap,o=new WeakMap;let l={},c={},u=new WeakMap,d=[],h=null,p=!1,f=null,g=null,A=null,m=null,v=null,y=null,E=null,S=new i.Q1f(0,0,0),b=0,x=!1,w=null,I=null,C=null,T=null,M=null;const B=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let R=!1,P=0;const _=e.getParameter(e.VERSION);-1!==_.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(_)[1]),R=P>=1):-1!==_.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(_)[1]),R=P>=2);let D=null,N={};const L=e.getParameter(e.SCISSOR_BOX),O=e.getParameter(e.VIEWPORT),k=(new i.IUQ).fromArray(L),U=(new i.IUQ).fromArray(O);function F(t,n,i,r){const s=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let a=0;a<i;a++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,r,0,e.RGBA,e.UNSIGNED_BYTE,s):e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,s);return a}const Q={};function V(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function H(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}Q[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),Q[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),Q[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),Q[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),s.setClear(0),V(e.DEPTH_TEST),r.setFunc(i.xSv),X(!1),j(i.Vb5),V(e.CULL_FACE),W(i.XIg);const G={[i.gO9]:e.FUNC_ADD,[i.FXf]:e.FUNC_SUBTRACT,[i.nST]:e.FUNC_REVERSE_SUBTRACT};G[i.znC]=e.MIN,G[i.$ei]=e.MAX;const z={[i.ojh]:e.ZERO,[i.qad]:e.ONE,[i.f4X]:e.SRC_COLOR,[i.ie2]:e.SRC_ALPHA,[i.hgQ]:e.SRC_ALPHA_SATURATE,[i.wn6]:e.DST_COLOR,[i.hdd]:e.DST_ALPHA,[i.LiQ]:e.ONE_MINUS_SRC_COLOR,[i.OuU]:e.ONE_MINUS_SRC_ALPHA,[i.aEY]:e.ONE_MINUS_DST_COLOR,[i.Nt7]:e.ONE_MINUS_DST_ALPHA,[i.RrE]:e.CONSTANT_COLOR,[i.$Yl]:e.ONE_MINUS_CONSTANT_COLOR,[i.e0p]:e.CONSTANT_ALPHA,[i.ov9]:e.ONE_MINUS_CONSTANT_ALPHA};function W(t,n,r,s,a,o,l,c,u,d){if(t!==i.XIg){if(!1===p&&(V(e.BLEND),p=!0),t===i.bCz)a=a||n,o=o||r,l=l||s,n===g&&a===v||(e.blendEquationSeparate(G[n],G[a]),g=n,v=a),r===A&&s===m&&o===y&&l===E||(e.blendFuncSeparate(z[r],z[s],z[o],z[l]),A=r,m=s,y=o,E=l),!1!==c.equals(S)&&u===b||(e.blendColor(c.r,c.g,c.b,u),S.copy(c),b=u),f=t,x=!1;else if(t!==f||d!==x){if(g===i.gO9&&v===i.gO9||(e.blendEquation(e.FUNC_ADD),g=i.gO9,v=i.gO9),d)switch(t){case i.NTi:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case i.EZo:e.blendFunc(e.ONE,e.ONE);break;case i.Kwu:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case i.EdD:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case i.NTi:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case i.EZo:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case i.Kwu:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case i.EdD:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}A=null,m=null,y=null,E=null,S.set(0,0,0),b=0,f=t,x=d}}else!0===p&&(H(e.BLEND),p=!1)}function X(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function j(t){t!==i.WNZ?(V(e.CULL_FACE),t!==I&&(t===i.Vb5?e.cullFace(e.BACK):t===i.Jnc?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):H(e.CULL_FACE),I=t}function q(t,n,i){t?(V(e.POLYGON_OFFSET_FILL),T===n&&M===i||(e.polygonOffset(n,i),T=n,M=i)):H(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:s},enable:V,disable:H,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let i=d,r=!1;if(t){i=u.get(n),void 0===i&&(i=[],u.set(n,i));const s=t.textures;if(i.length!==s.length||i[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=s.length;t<n;t++)i[t]=e.COLOR_ATTACHMENT0+t;i.length=s.length,r=!0}}else i[0]!==e.BACK&&(i[0]=e.BACK,r=!0);r&&e.drawBuffers(i)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:W,setMaterial:function(t,a){t.side===i.$EB?H(e.CULL_FACE):V(e.CULL_FACE);let o=t.side===i.hsX;a&&(o=!o),X(o),t.blending===i.NTi&&!1===t.transparent?W(i.XIg):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const l=t.stencilWrite;s.setTest(l),l&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?V(e.SAMPLE_ALPHA_TO_COVERAGE):H(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:X,setCullFace:j,setLineWidth:function(t){t!==C&&(R&&e.lineWidth(t),C=t)},setPolygonOffset:q,setScissorTest:function(t){t?V(e.SCISSOR_TEST):H(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+B-1),D!==t&&(e.activeTexture(t),D=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===D?e.TEXTURE0+B-1:D);let r=N[i];void 0===r&&(r={type:void 0,texture:void 0},N[i]=r),r.type===t&&r.texture===n||(D!==i&&(e.activeTexture(i),D=i),e.bindTexture(t,n||Q[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=N[D];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let i=o.get(n);void 0===i&&(i=new WeakMap,o.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){const i=o.get(n).get(t);a.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),a.set(n,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===k.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),k.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},D=null,N={},c={},u=new WeakMap,d=[],h=null,p=!1,f=null,g=null,A=null,m=null,v=null,y=null,E=null,S=new i.Q1f(0,0,0),b=0,x=!1,w=null,I=null,C=null,T=null,M=null,k.set(0,0,e.canvas.width,e.canvas.height),U.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),s.reset()}}}function Mt(e,t,n,r,s,a,o){const l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,c="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),u=new i.I9Y,d=new WeakMap;let h;const p=new WeakMap;let f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function g(e,t){return f?new OffscreenCanvas(e,t):(0,i.qq$)("canvas")}function A(e,t,n){let i=1;const r=H(e);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(i*r.width),s=Math.floor(i*r.height);void 0===h&&(h=g(n,s));const a=t?g(n,s):h;return a.width=n,a.height=s,a.getContext("2d").drawImage(e,0,0,n,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),e}return e}function m(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function E(n,r,s,a,o=!1){if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;if(r===e.RED&&(s===e.FLOAT&&(l=e.R32F),s===e.HALF_FLOAT&&(l=e.R16F),s===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RED_INTEGER&&(s===e.UNSIGNED_BYTE&&(l=e.R8UI),s===e.UNSIGNED_SHORT&&(l=e.R16UI),s===e.UNSIGNED_INT&&(l=e.R32UI),s===e.BYTE&&(l=e.R8I),s===e.SHORT&&(l=e.R16I),s===e.INT&&(l=e.R32I)),r===e.RG&&(s===e.FLOAT&&(l=e.RG32F),s===e.HALF_FLOAT&&(l=e.RG16F),s===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RG_INTEGER&&(s===e.UNSIGNED_BYTE&&(l=e.RG8UI),s===e.UNSIGNED_SHORT&&(l=e.RG16UI),s===e.UNSIGNED_INT&&(l=e.RG32UI),s===e.BYTE&&(l=e.RG8I),s===e.SHORT&&(l=e.RG16I),s===e.INT&&(l=e.RG32I)),r===e.RGB_INTEGER&&(s===e.UNSIGNED_BYTE&&(l=e.RGB8UI),s===e.UNSIGNED_SHORT&&(l=e.RGB16UI),s===e.UNSIGNED_INT&&(l=e.RGB32UI),s===e.BYTE&&(l=e.RGB8I),s===e.SHORT&&(l=e.RGB16I),s===e.INT&&(l=e.RGB32I)),r===e.RGBA_INTEGER&&(s===e.UNSIGNED_BYTE&&(l=e.RGBA8UI),s===e.UNSIGNED_SHORT&&(l=e.RGBA16UI),s===e.UNSIGNED_INT&&(l=e.RGBA32UI),s===e.BYTE&&(l=e.RGBA8I),s===e.SHORT&&(l=e.RGBA16I),s===e.INT&&(l=e.RGBA32I)),r===e.RGB&&s===e.UNSIGNED_INT_5_9_9_9_REV&&(l=e.RGB9_E5),r===e.RGBA){const t=o?i.VxR:i.ppV.getTransfer(a);s===e.FLOAT&&(l=e.RGBA32F),s===e.HALF_FLOAT&&(l=e.RGBA16F),s===e.UNSIGNED_BYTE&&(l=t===i.KLL?e.SRGB8_ALPHA8:e.RGBA8),s===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),s===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)}return l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function S(t,n){let r;return t?null===n||n===i.bkx||n===i.V3x?r=e.DEPTH24_STENCIL8:n===i.RQf?r=e.DEPTH32F_STENCIL8:n===i.cHt&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===i.bkx||n===i.V3x?r=e.DEPTH_COMPONENT24:n===i.RQf?r=e.DEPTH_COMPONENT32F:n===i.cHt&&(r=e.DEPTH_COMPONENT16),r}function b(e,t){return!0===m(e)||e.isFramebufferTexture&&e.minFilter!==i.hxR&&e.minFilter!==i.k6q?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function x(e){const t=e.target;t.removeEventListener("dispose",x),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=p.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&I(e),0===Object.keys(i).length&&p.delete(n)}r.remove(e)}(t),t.isVideoTexture&&d.delete(t)}function w(t){const n=t.target;n.removeEventListener("dispose",w),function(t){const n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let i=0;i<n.__webglFramebuffer[t].length;i++)e.deleteFramebuffer(n.__webglFramebuffer[t][i]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let t=0,n=i.length;t<n;t++){const n=r.get(i[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),o.memory.textures--),r.remove(i[t])}r.remove(t)}(n)}function I(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete p.get(i)[n.__cacheKey],o.memory.textures--}let C=0;function T(t,i){const s=r.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&s.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void D(s,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,s.__webglTexture,e.TEXTURE0+i)}const M={[i.GJx]:e.REPEAT,[i.ghU]:e.CLAMP_TO_EDGE,[i.kTW]:e.MIRRORED_REPEAT},B={[i.hxR]:e.NEAREST,[i.pHI]:e.NEAREST_MIPMAP_NEAREST,[i.Cfg]:e.NEAREST_MIPMAP_LINEAR,[i.k6q]:e.LINEAR,[i.kRr]:e.LINEAR_MIPMAP_NEAREST,[i.$_I]:e.LINEAR_MIPMAP_LINEAR},R={[i.amv]:e.NEVER,[i.FFZ]:e.ALWAYS,[i.vim]:e.LESS,[i.TiK]:e.LEQUAL,[i.kO0]:e.EQUAL,[i.gWB]:e.GEQUAL,[i.eoi]:e.GREATER,[i.jzd]:e.NOTEQUAL};function P(n,a){if(a.type!==i.RQf||!1!==t.has("OES_texture_float_linear")||a.magFilter!==i.k6q&&a.magFilter!==i.kRr&&a.magFilter!==i.Cfg&&a.magFilter!==i.$_I&&a.minFilter!==i.k6q&&a.minFilter!==i.kRr&&a.minFilter!==i.Cfg&&a.minFilter!==i.$_I||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,M[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,M[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,M[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,B[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,B[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,R[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===i.hxR)return;if(a.minFilter!==i.Cfg&&a.minFilter!==i.$_I)return;if(a.type===i.RQf&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const i=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,s.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function _(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));const r=n.source;let s=p.get(r);void 0===s&&(s={},p.set(r,s));const a=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(a!==t.__cacheKey){void 0===s[a]&&(s[a]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,i=!0),s[a].usedTimes++;const r=s[t.__cacheKey];void 0!==r&&(s[t.__cacheKey].usedTimes--,0===r.usedTimes&&I(n)),t.__cacheKey=a,t.__webglTexture=s[a].texture}return i}function D(t,o,l){let c=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(c=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(c=e.TEXTURE_3D);const u=_(t,o),d=o.source;n.bindTexture(c,t.__webglTexture,e.TEXTURE0+l);const h=r.get(d);if(d.version!==h.__version||!0===u){n.activeTexture(e.TEXTURE0+l);const t=i.ppV.getPrimaries(i.ppV.workingColorSpace),r=o.colorSpace===i.jf0?null:i.ppV.getPrimaries(o.colorSpace),p=o.colorSpace===i.jf0||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let f=A(o.image,!1,s.maxTextureSize);f=V(o,f);const g=a.convert(o.format,o.colorSpace),y=a.convert(o.type);let x,w=E(o.internalFormat,g,y,o.colorSpace,o.isVideoTexture);P(c,o);const I=o.mipmaps,C=!0!==o.isVideoTexture,T=void 0===h.__version||!0===u,M=d.dataReady,B=b(o,f);if(o.isDepthTexture)w=S(o.format===i.dcC,o.type),T&&(C?n.texStorage2D(e.TEXTURE_2D,1,w,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,w,f.width,f.height,0,g,y,null));else if(o.isDataTexture)if(I.length>0){C&&T&&n.texStorage2D(e.TEXTURE_2D,B,w,I[0].width,I[0].height);for(let t=0,i=I.length;t<i;t++)x=I[t],C?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,x.width,x.height,g,y,x.data):n.texImage2D(e.TEXTURE_2D,t,w,x.width,x.height,0,g,y,x.data);o.generateMipmaps=!1}else C?(T&&n.texStorage2D(e.TEXTURE_2D,B,w,f.width,f.height),M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,f.width,f.height,g,y,f.data)):n.texImage2D(e.TEXTURE_2D,0,w,f.width,f.height,0,g,y,f.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){C&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,B,w,I[0].width,I[0].height,f.depth);for(let t=0,r=I.length;t<r;t++)if(x=I[t],o.format!==i.GWd)if(null!==g)if(C){if(M)if(o.layerUpdates.size>0){const r=(0,i.Nex)(x.width,x.height,o.format,o.type);for(const i of o.layerUpdates){const s=x.data.subarray(i*r/x.data.BYTES_PER_ELEMENT,(i+1)*r/x.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,x.width,x.height,1,g,s)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,x.width,x.height,f.depth,g,x.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,w,x.width,x.height,f.depth,0,x.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else C?M&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,x.width,x.height,f.depth,g,y,x.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,w,x.width,x.height,f.depth,0,g,y,x.data)}else{C&&T&&n.texStorage2D(e.TEXTURE_2D,B,w,I[0].width,I[0].height);for(let t=0,r=I.length;t<r;t++)x=I[t],o.format!==i.GWd?null!==g?C?M&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,x.width,x.height,g,x.data):n.compressedTexImage2D(e.TEXTURE_2D,t,w,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,x.width,x.height,g,y,x.data):n.texImage2D(e.TEXTURE_2D,t,w,x.width,x.height,0,g,y,x.data)}else if(o.isDataArrayTexture)if(C){if(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,B,w,f.width,f.height,f.depth),M)if(o.layerUpdates.size>0){const t=(0,i.Nex)(f.width,f.height,o.format,o.type);for(const i of o.layerUpdates){const r=f.data.subarray(i*t/f.data.BYTES_PER_ELEMENT,(i+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,i,f.width,f.height,1,g,y,r)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,g,y,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,w,f.width,f.height,f.depth,0,g,y,f.data);else if(o.isData3DTexture)C?(T&&n.texStorage3D(e.TEXTURE_3D,B,w,f.width,f.height,f.depth),M&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,g,y,f.data)):n.texImage3D(e.TEXTURE_3D,0,w,f.width,f.height,f.depth,0,g,y,f.data);else if(o.isFramebufferTexture){if(T)if(C)n.texStorage2D(e.TEXTURE_2D,B,w,f.width,f.height);else{let t=f.width,i=f.height;for(let r=0;r<B;r++)n.texImage2D(e.TEXTURE_2D,r,w,t,i,0,g,y,null),t>>=1,i>>=1}}else if(I.length>0){if(C&&T){const t=H(I[0]);n.texStorage2D(e.TEXTURE_2D,B,w,t.width,t.height)}for(let t=0,i=I.length;t<i;t++)x=I[t],C?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,g,y,x):n.texImage2D(e.TEXTURE_2D,t,w,g,y,x);o.generateMipmaps=!1}else if(C){if(T){const t=H(f);n.texStorage2D(e.TEXTURE_2D,B,w,t.width,t.height)}M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,y,f)}else n.texImage2D(e.TEXTURE_2D,0,w,g,y,f);m(o)&&v(c),h.__version=d.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function N(t,i,s,o,c,u){const d=a.convert(s.format,s.colorSpace),h=a.convert(s.type),p=E(s.internalFormat,d,h,s.colorSpace),f=r.get(i),g=r.get(s);if(g.__renderTarget=i,!f.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,r,i.depth,0,d,h,null):n.texImage2D(c,u,p,t,r,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),Q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,o,c,g.__webglTexture,0,F(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,o,c,g.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function L(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const r=n.depthTexture,s=r&&r.isDepthTexture?r.type:null,a=S(n.stencilBuffer,s),o=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=F(n);Q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,a,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,a,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,o,e.RENDERBUFFER,t)}else{const t=n.textures;for(let r=0;r<t.length;r++){const s=t[r],o=a.convert(s.format,s.colorSpace),c=a.convert(s.type),u=E(s.internalFormat,o,c,s.colorSpace),d=F(n);i&&!1===Q(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):Q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function O(t){const s=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(s.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(s.__depthDisposeCallback&&s.__depthDisposeCallback(),e){const t=()=>{delete s.__boundDepthTexture,delete s.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),s.__depthDisposeCallback=t}s.__boundDepthTexture=e}if(t.depthTexture&&!s.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,s){if(s&&s.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!s.depthTexture||!s.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const a=r.get(s.depthTexture);a.__renderTarget=s,a.__webglTexture&&s.depthTexture.image.width===s.width&&s.depthTexture.image.height===s.height||(s.depthTexture.image.width=s.width,s.depthTexture.image.height=s.height,s.depthTexture.needsUpdate=!0),T(s.depthTexture,0);const o=a.__webglTexture,c=F(s);if(s.depthTexture.format===i.zdS)Q(s)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(s.depthTexture.format!==i.dcC)throw new Error("Unknown depthTexture format");Q(s)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(s.__webglFramebuffer,t)}else if(a){s.__webglDepthbuffer=[];for(let i=0;i<6;i++)if(n.bindFramebuffer(e.FRAMEBUFFER,s.__webglFramebuffer[i]),void 0===s.__webglDepthbuffer[i])s.__webglDepthbuffer[i]=e.createRenderbuffer(),L(s.__webglDepthbuffer[i],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=s.__webglDepthbuffer[i];e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,s.__webglFramebuffer),void 0===s.__webglDepthbuffer)s.__webglDepthbuffer=e.createRenderbuffer(),L(s.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,i=s.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,i),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,i)}n.bindFramebuffer(e.FRAMEBUFFER,null)}const k=[],U=[];function F(e){return Math.min(s.maxSamples,e.samples)}function Q(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,t){const n=e.colorSpace,r=e.format,s=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==i.Zr2&&n!==i.jf0&&(i.ppV.getTransfer(n)===i.KLL?r===i.GWd&&s===i.OUM||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function H(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(u.width=e.naturalWidth||e.width,u.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(u.width=e.displayWidth,u.height=e.displayHeight):(u.width=e.width,u.height=e.height),u}this.allocateTextureUnit=function(){const e=C;return e>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+s.maxTextures),C+=1,e},this.resetTextureUnits=function(){C=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){const s=r.get(t);t.version>0&&s.__version!==t.version?D(s,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,s.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const s=r.get(t);t.version>0&&s.__version!==t.version?D(s,t,i):n.bindTexture(e.TEXTURE_3D,s.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){const l=r.get(t);t.version>0&&l.__version!==t.version?function(t,o,l){if(6!==o.image.length)return;const c=_(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+l);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+l);const t=i.ppV.getPrimaries(i.ppV.workingColorSpace),r=o.colorSpace===i.jf0?null:i.ppV.getPrimaries(o.colorSpace),h=o.colorSpace===i.jf0||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const p=o.isCompressedTexture||o.image[0].isCompressedTexture,f=o.image[0]&&o.image[0].isDataTexture,g=[];for(let e=0;e<6;e++)g[e]=p||f?f?o.image[e].image:o.image[e]:A(o.image[e],!0,s.maxCubemapSize),g[e]=V(o,g[e]);const y=g[0],S=a.convert(o.format,o.colorSpace),x=a.convert(o.type),w=E(o.internalFormat,S,x,o.colorSpace),I=!0!==o.isVideoTexture,C=void 0===d.__version||!0===c,T=u.dataReady;let M,B=b(o,y);if(P(e.TEXTURE_CUBE_MAP,o),p){I&&C&&n.texStorage2D(e.TEXTURE_CUBE_MAP,B,w,y.width,y.height);for(let t=0;t<6;t++){M=g[t].mipmaps;for(let r=0;r<M.length;r++){const s=M[r];o.format!==i.GWd?null!==S?I?T&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,s.width,s.height,S,s.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,w,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):I?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,s.width,s.height,S,x,s.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,w,s.width,s.height,0,S,x,s.data)}}}else{if(M=o.mipmaps,I&&C){M.length>0&&B++;const t=H(g[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,B,w,t.width,t.height)}for(let t=0;t<6;t++)if(f){I?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,g[t].width,g[t].height,S,x,g[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,w,g[t].width,g[t].height,0,S,x,g[t].data);for(let i=0;i<M.length;i++){const r=M[i].image[t].image;I?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,r.width,r.height,S,x,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,w,r.width,r.height,0,S,x,r.data)}}else{I?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,S,x,g[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,w,S,x,g[t]);for(let i=0;i<M.length;i++){const r=M[i];I?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,S,x,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,w,S,x,r.image[t])}}}m(o)&&v(e.TEXTURE_CUBE_MAP),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(l,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){const s=r.get(t);void 0!==n&&N(s.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&O(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",w);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===Q(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const i=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const r=a.convert(i.format,i.colorSpace),o=a.convert(i.type),l=E(i.internalFormat,r,o,i.colorSpace,!0===t.isXRRenderTarget),u=F(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),L(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),P(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)N(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else N(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);m(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=c.length;i<a;i++){const a=c[i],o=r.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),P(e.TEXTURE_2D,a),N(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),m(a)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),P(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)N(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else N(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);m(i)&&v(r),n.unbindTexture()}t.depthBuffer&&O(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,s=t.length;i<s;i++){const s=t[i];if(m(s)){const t=y(e),i=r.get(s).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===Q(t)){const i=t.textures,s=t.width,a=t.height;let o=e.COLOR_BUFFER_BIT;const l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,s,a,0,0,s,a,o,e.NEAREST),!0===c&&(k.length=0,U.length=0,k.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(k.push(l),U.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,U)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,k))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const s=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,s,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&c){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=O,this.setupFrameBufferTexture=N,this.useMultisampledRTT=Q}function Bt(e,t){return{convert:function(n,r=i.jf0){let s;const a=i.ppV.getTransfer(r);if(n===i.OUM)return e.UNSIGNED_BYTE;if(n===i.Wew)return e.UNSIGNED_SHORT_4_4_4_4;if(n===i.gJ2)return e.UNSIGNED_SHORT_5_5_5_1;if(n===i.Dmk)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===i.tJf)return e.BYTE;if(n===i.fBL)return e.SHORT;if(n===i.cHt)return e.UNSIGNED_SHORT;if(n===i.Yuy)return e.INT;if(n===i.bkx)return e.UNSIGNED_INT;if(n===i.RQf)return e.FLOAT;if(n===i.ix0)return e.HALF_FLOAT;if(n===i.wrO)return e.ALPHA;if(n===i.HIg)return e.RGB;if(n===i.GWd)return e.RGBA;if(n===i.Kzv)return e.LUMINANCE;if(n===i.CMB)return e.LUMINANCE_ALPHA;if(n===i.zdS)return e.DEPTH_COMPONENT;if(n===i.dcC)return e.DEPTH_STENCIL;if(n===i.VT0)return e.RED;if(n===i.ZQM)return e.RED_INTEGER;if(n===i.paN)return e.RG;if(n===i.TkQ)return e.RG_INTEGER;if(n===i.c90)return e.RGBA_INTEGER;if(n===i.IE4||n===i.Nz6||n===i.jR7||n===i.BXX)if(a===i.KLL){if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(n===i.IE4)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===i.Nz6)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===i.jR7)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===i.BXX)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=t.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(n===i.IE4)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===i.Nz6)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===i.jR7)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===i.BXX)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===i.k6Q||n===i.kTp||n===i.HXV||n===i.pBf){if(s=t.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(n===i.k6Q)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===i.kTp)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===i.HXV)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===i.pBf)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===i.CVz||n===i.Riy||n===i.KDk){if(s=t.get("WEBGL_compressed_texture_etc"),null===s)return null;if(n===i.CVz||n===i.Riy)return a===i.KLL?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===i.KDk)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(n===i.qa3||n===i.B_h||n===i.czI||n===i.rSH||n===i.Qrf||n===i.psI||n===i.a5J||n===i._QJ||n===i.uB5||n===i.lyL||n===i.bC7||n===i.y3Z||n===i.ojs||n===i.S$4){if(s=t.get("WEBGL_compressed_texture_astc"),null===s)return null;if(n===i.qa3)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===i.B_h)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===i.czI)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===i.rSH)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===i.Qrf)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===i.psI)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===i.a5J)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===i._QJ)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===i.uB5)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===i.lyL)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===i.bC7)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===i.y3Z)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===i.ojs)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===i.S$4)return a===i.KLL?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===i.Fn||n===i.H23||n===i.W9U){if(s=t.get("EXT_texture_compression_bptc"),null===s)return null;if(n===i.Fn)return a===i.KLL?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===i.H23)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===i.W9U)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===i.Kef||n===i.XG_||n===i.HO_||n===i.CWW){if(s=t.get("EXT_texture_compression_rgtc"),null===s)return null;if(n===i.Fn)return s.COMPRESSED_RED_RGTC1_EXT;if(n===i.XG_)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===i.HO_)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===i.CWW)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===i.V3x?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}const Rt={type:"move"};class Pt{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new i.YJl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new i.YJl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new i.Pq0,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new i.Pq0),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new i.YJl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new i.Pq0,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new i.Pq0),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){s=!0;for(const i of e.hand.values()){const e=t.getJointPose(i,n),r=this._getHandJoint(l,i);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],a=i.position.distanceTo(r.position),o=.02,c=.005;l.inputState.pinching&&a>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Rt)))}return null!==a&&(a.visible=null!==i),null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new i.YJl;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class _t{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new i.gPd;e.properties.get(r).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new i.BKk({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new i.eaF(new i.bdM(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Dt extends i.Qev{constructor(e,t){super();const n=this;let s=null,a=1,o=null,l="local-floor",c=1,u=null,d=null,h=null,p=null,f=null,g=null;const A=new _t,m=t.getContextAttributes();let v=null,y=null;const E=[],S=[],b=new i.I9Y;let x=null;const w=new i.ubm;w.viewport=new i.IUQ;const I=new i.ubm;I.viewport=new i.IUQ;const C=[w,I],T=new i.nZQ;let M=null,B=null;function R(e){const t=S.indexOf(e.inputSource);if(-1===t)return;const n=E[t];void 0!==n&&(n.update(e.inputSource,e.frame,u||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function P(){s.removeEventListener("select",R),s.removeEventListener("selectstart",R),s.removeEventListener("selectend",R),s.removeEventListener("squeeze",R),s.removeEventListener("squeezestart",R),s.removeEventListener("squeezeend",R),s.removeEventListener("end",P),s.removeEventListener("inputsourceschange",_);for(let e=0;e<E.length;e++){const t=S[e];null!==t&&(S[e]=null,E[e].disconnect(t))}M=null,B=null,A.reset(),e.setRenderTarget(v),f=null,p=null,h=null,s=null,y=null,k.stop(),n.isPresenting=!1,e.setPixelRatio(x),e.setSize(b.width,b.height,!1),n.dispatchEvent({type:"sessionend"})}function _(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=S.indexOf(n);i>=0&&(S[i]=null,E[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=S.indexOf(n);if(-1===i){for(let e=0;e<E.length;e++){if(e>=S.length){S.push(n),i=e;break}if(null===S[e]){S[e]=n,i=e;break}}if(-1===i)break}const r=E[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=E[e];return void 0===t&&(t=new Pt,E[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=E[e];return void 0===t&&(t=new Pt,E[e]=t),t.getGripSpace()},this.getHand=function(e){let t=E[e];return void 0===t&&(t=new Pt,E[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){l=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(e){u=e},this.getBaseLayer=function(){return null!==p?p:f},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return s},this.setSession=async function(r){if(s=r,null!==s){if(v=e.getRenderTarget(),s.addEventListener("select",R),s.addEventListener("selectstart",R),s.addEventListener("selectend",R),s.addEventListener("squeeze",R),s.addEventListener("squeezestart",R),s.addEventListener("squeezeend",R),s.addEventListener("end",P),s.addEventListener("inputsourceschange",_),!0!==m.xrCompatible&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(b),void 0!==s.enabledFeatures&&s.enabledFeatures.includes("layers")){let n=null,r=null,o=null;m.depth&&(o=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?i.dcC:i.zdS,r=m.stencil?i.V3x:i.bkx);const l={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:a};h=new XRWebGLBinding(s,t),p=h.createProjectionLayer(l),s.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),y=new i.nWS(p.textureWidth,p.textureHeight,{format:i.GWd,type:i.OUM,depthTexture:new i.VCu(p.textureWidth,p.textureHeight,r,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===p.ignoreDepthValues})}else{const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a};f=new XRWebGLLayer(s,t,n),s.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new i.nWS(f.framebufferWidth,f.framebufferHeight,{format:i.GWd,type:i.OUM,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}y.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await s.requestReferenceSpace(l),k.setContext(s),k.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};const D=new i.Pq0,N=new i.Pq0;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===s)return;let t=e.near,n=e.far;null!==A.texture&&(A.depthNear>0&&(t=A.depthNear),A.depthFar>0&&(n=A.depthFar)),T.near=I.near=w.near=t,T.far=I.far=w.far=n,M===T.near&&B===T.far||(s.updateRenderState({depthNear:T.near,depthFar:T.far}),M=T.near,B=T.far),w.layers.mask=2|e.layers.mask,I.layers.mask=4|e.layers.mask,T.layers.mask=w.layers.mask|I.layers.mask;const r=e.parent,a=T.cameras;L(T,r);for(let e=0;e<a.length;e++)L(a[e],r);2===a.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),N.setFromMatrixPosition(n.matrixWorld);const i=D.distanceTo(N),r=t.projectionMatrix.elements,s=n.projectionMatrix.elements,a=r[14]/(r[10]-1),o=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(s[8]+1)/s[0],h=a*u,p=a*d,f=i/(-u+d),g=f*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===r[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=a+f,n=o+f,r=h-g,s=p+(i-g),u=l*o/n*t,d=c*o/n*t;e.projectionMatrix.makePerspective(r,s,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(T,w,I):T.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*i.a55*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,T,r)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==p||null!==f)return c},this.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==A.texture},this.getDepthSensingMesh=function(){return A.getMesh(T)};let O=null;const k=new r;k.setAnimationLoop(function(t,r){if(d=r.getViewerPose(u||o),g=r,null!==d){const t=d.views;null!==f&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let n=!1;t.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const s=t[r];let a=null;if(null!==f)a=f.getViewport(s);else{const t=h.getViewSubImage(p,s);a=t.viewport,0===r&&(e.setRenderTargetTextures(y,t.colorTexture,p.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(y))}let o=C[r];void 0===o&&(o=new i.ubm,o.layers.enable(r),o.viewport=new i.IUQ,C[r]=o),o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(s.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&(T.matrix.copy(o.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===n&&T.cameras.push(o)}const r=s.enabledFeatures;if(r&&r.includes("depth-sensing")){const n=h.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&A.init(e,n,s.renderState)}}for(let e=0;e<E.length;e++){const t=S[e],n=E[e];null!==t&&void 0!==n&&n.update(t,r,u||o)}O&&O(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),g=null}),this.setAnimationLoop=function(e){O=e},this.dispose=function(){}}}const Nt=new i.O9p,Lt=new i.kn4;function Ot(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===i.hsX&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===i.hsX&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const s=t.get(r),a=s.envMap,o=s.envMapRotation;a&&(e.envMap.value=a,Nt.copy(o),Nt.x*=-1,Nt.y*=-1,Nt.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Nt.y*=-1,Nt.z*=-1),e.envMapRotation.value.setFromMatrix4(Lt.makeRotationFromEuler(Nt)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,(0,i._Ut)(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,s,a,o,l){s.isMeshBasicMaterial||s.isMeshLambertMaterial?r(e,s):s.isMeshToonMaterial?(r(e,s),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,s)):s.isMeshPhongMaterial?(r(e,s),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,s)):s.isMeshStandardMaterial?(r(e,s),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,s),s.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===i.hsX&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,s,l)):s.isMeshMatcapMaterial?(r(e,s),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,s)):s.isMeshDepthMaterial?r(e,s):s.isMeshDistanceMaterial?(r(e,s),function(e,n){const i=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(i.matrixWorld),e.nearDistance.value=i.shadow.camera.near,e.farDistance.value=i.shadow.camera.far}(e,s)):s.isMeshNormalMaterial?r(e,s):s.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,s),s.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,s)):s.isPointsMaterial?function(e,t,i,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*r,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,s,a,o):s.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,s):s.isShadowMaterial?(e.color.value.copy(s.color),e.opacity.value=s.opacity):s.isShaderMaterial&&(s.uniformsNeedUpdate=!1)}}}function kt(e,t,n,i){let r={},s={},a=[];const o=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,i){const r=e.value,s=t+"_"+n;if(void 0===i[s])return i[s]="number"==typeof r||"boolean"==typeof r?r:r.clone(),!0;{const e=i[s];if("number"==typeof r||"boolean"==typeof r){if(e!==r)return i[s]=r,!0}else if(!1===e.equals(r))return e.copy(r),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const i=a.indexOf(n.__bindingPointIndex);a.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete s[n.id]}return{bind:function(e,t){const n=t.program;i.uniformBlockBinding(e,n)},update:function(n,d){let h=r[n.id];void 0===h&&(function(e){const t=e.uniforms;let n=0;for(let e=0,i=t.length;e<i;e++){const i=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=i.length;e<t;e++){const t=i[e],r=Array.isArray(t.value)?t.value:[t.value];for(let e=0,i=r.length;e<i;e++){const i=c(r[e]),s=n%16,a=s%i.boundary,o=s+a;n+=a,0!==o&&16-o<i.storage&&(n+=16-o),t.__data=new Float32Array(i.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=i.storage}}}const i=n%16;i>0&&(n+=16-i),e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<o;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,s=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,s),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const p=d.program;i.updateUBOMapping(n,p);const f=t.render.frame;s[n.id]!==f&&(function(t){const n=r[t.id],i=t.uniforms,s=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=i.length;t<n;t++){const n=Array.isArray(i[t])?i[t]:[i[t]];for(let i=0,r=n.length;i<r;i++){const r=n[i];if(!0===l(r,t,i,s)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let s=0;s<n.length;s++){const a=n[s],o=c(a);"number"==typeof a||"boolean"==typeof a?(r.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):a.isMatrix3?(r.__data[0]=a.elements[0],r.__data[1]=a.elements[1],r.__data[2]=a.elements[2],r.__data[3]=0,r.__data[4]=a.elements[3],r.__data[5]=a.elements[4],r.__data[6]=a.elements[5],r.__data[7]=0,r.__data[8]=a.elements[6],r.__data[9]=a.elements[7],r.__data[10]=a.elements[8],r.__data[11]=0):(a.toArray(r.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),s[n.id]=f)},dispose:function(){for(const t in r)e.deleteBuffer(r[t]);a=[],r={},s={}}}}class Ut{constructor(e={}){const{canvas:t=(0,i.lPF)(),context:n=null,depth:a=!0,stencil:o=!1,alpha:l=!1,antialias:c=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:v="default",failIfMajorPerformanceCaveat:y=!1,reverseDepthBuffer:E=!1}=e;let S;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");S=n.getContextAttributes().alpha}else S=l;const b=new Uint32Array(4),x=new Int32Array(4);let w=null,I=null;const C=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=i.er$,this.toneMapping=i.y_p,this.toneMappingExposure=1;const M=this;let B=!1,R=0,P=0,_=null,Q=-1,V=null;const H=new i.IUQ,G=new i.IUQ;let z=null;const W=new i.Q1f(0);let X=0,j=t.width,q=t.height,Y=1,J=null,Z=null;const K=new i.IUQ(0,0,j,q),$=new i.IUQ(0,0,j,q);let ee=!1;const te=new i.PPD;let ne=!1,ie=!1;this.transmissionResolutionScale=1;const re=new i.kn4,se=new i.kn4,ae=new i.Pq0,oe=new i.IUQ,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ce=!1;function ue(){return null===_?Y:1}let de,he,pe,fe,ge,Ae,me,ve,ye,Ee,Se,be,xe,we,Ie,Ce,Te,Me,Be,Re,Pe,_e,De,Ne,Le=n;function Oe(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:a,stencil:o,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:v,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${i.sPf}`),t.addEventListener("webglcontextlost",Fe,!1),t.addEventListener("webglcontextrestored",Qe,!1),t.addEventListener("webglcontextcreationerror",Ve,!1),null===Le){const t="webgl2";if(Le=Oe(t,e),null===Le)throw Oe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function ke(){de=new N(Le),de.init(),_e=new Bt(Le,de),he=new g(Le,de,e,_e),pe=new Tt(Le,de),he.reverseDepthBuffer&&E&&pe.buffers.depth.setReversed(!0),fe=new k(Le),ge=new ft,Ae=new Mt(Le,de,pe,ge,he,_e,fe),me=new m(M),ve=new D(M),ye=new s(Le),De=new p(Le,ye),Ee=new L(Le,ye,fe,De),Se=new F(Le,Ee,ye,fe),Be=new U(Le,he,Ae),Ce=new A(ge),be=new pt(M,me,ve,de,he,De,Ce),xe=new Ot(M,ge),we=new vt,Ie=new wt(de),Me=new h(M,me,ve,pe,Se,S,u),Te=new It(M,Se,he),Ne=new kt(Le,fe,he,pe),Re=new f(Le,de,fe),Pe=new O(Le,de,fe),fe.programs=be.programs,M.capabilities=he,M.extensions=de,M.properties=ge,M.renderLists=we,M.shadowMap=Te,M.state=pe,M.info=fe}ke();const Ue=new Dt(M,Le);function Fe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function Qe(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const e=fe.autoReset,t=Te.enabled,n=Te.autoUpdate,i=Te.needsUpdate,r=Te.type;ke(),fe.autoReset=e,Te.enabled=t,Te.autoUpdate=n,Te.needsUpdate=i,Te.type=r}function Ve(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function He(e){const t=e.target;t.removeEventListener("dispose",He),function(e){(function(e){const t=ge.get(e).programs;void 0!==t&&(t.forEach(function(e){be.releaseProgram(e)}),e.isShaderMaterial&&be.releaseShaderCache(e))})(e),ge.remove(e)}(t)}function Ge(e,t,n){!0===e.transparent&&e.side===i.$EB&&!1===e.forceSinglePass?(e.side=i.hsX,e.needsUpdate=!0,et(e,t,n),e.side=i.hB5,e.needsUpdate=!0,et(e,t,n),e.side=i.$EB):et(e,t,n)}this.xr=Ue,this.getContext=function(){return Le},this.getContextAttributes=function(){return Le.getContextAttributes()},this.forceContextLoss=function(){const e=de.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=de.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(j,q,!1))},this.getSize=function(e){return e.set(j,q)},this.setSize=function(e,n,i=!0){Ue.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=e,q=n,t.width=Math.floor(e*Y),t.height=Math.floor(n*Y),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(j*Y,q*Y).floor()},this.setDrawingBufferSize=function(e,n,i){j=e,q=n,Y=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(H)},this.getViewport=function(e){return e.copy(K)},this.setViewport=function(e,t,n,i){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,n,i),pe.viewport(H.copy(K).multiplyScalar(Y).round())},this.getScissor=function(e){return e.copy($)},this.setScissor=function(e,t,n,i){e.isVector4?$.set(e.x,e.y,e.z,e.w):$.set(e,t,n,i),pe.scissor(G.copy($).multiplyScalar(Y).round())},this.getScissorTest=function(){return ee},this.setScissorTest=function(e){pe.setScissorTest(ee=e)},this.setOpaqueSort=function(e){J=e},this.setTransparentSort=function(e){Z=e},this.getClearColor=function(e){return e.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor.apply(Me,arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha.apply(Me,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==_){const t=_.texture.format;e=t===i.c90||t===i.TkQ||t===i.ZQM}if(e){const e=_.texture.type,t=e===i.OUM||e===i.bkx||e===i.cHt||e===i.V3x||e===i.Wew||e===i.gJ2,n=Me.getClearColor(),r=Me.getClearAlpha(),s=n.r,a=n.g,o=n.b;t?(b[0]=s,b[1]=a,b[2]=o,b[3]=r,Le.clearBufferuiv(Le.COLOR,0,b)):(x[0]=s,x[1]=a,x[2]=o,x[3]=r,Le.clearBufferiv(Le.COLOR,0,x))}else r|=Le.COLOR_BUFFER_BIT}t&&(r|=Le.DEPTH_BUFFER_BIT),n&&(r|=Le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Le.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Fe,!1),t.removeEventListener("webglcontextrestored",Qe,!1),t.removeEventListener("webglcontextcreationerror",Ve,!1),Me.dispose(),we.dispose(),Ie.dispose(),ge.dispose(),me.dispose(),ve.dispose(),Se.dispose(),De.dispose(),Ne.dispose(),be.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Xe),Ue.removeEventListener("sessionend",je),qe.stop()},this.renderBufferDirect=function(e,t,n,r,s,a){null===t&&(t=le);const o=s.isMesh&&s.matrixWorld.determinant()<0,l=function(e,t,n,r,s){!0!==t.isScene&&(t=le),Ae.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,l=null===_?M.outputColorSpace:!0===_.isXRRenderTarget?_.texture.colorSpace:i.Zr2,c=(r.isMeshStandardMaterial?ve:me).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,d=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let g=i.y_p;r.toneMapped&&(null!==_&&!0!==_.isXRRenderTarget||(g=M.toneMapping));const A=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==A?A.length:0,v=ge.get(r),y=I.state.lights;if(!0===ne&&(!0===ie||e!==V)){const t=e===V&&r.id===Q;Ce.setState(r,e,t)}let E=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==l||s.isBatchedMesh&&!1===v.batching?E=!0:s.isBatchedMesh||!0!==v.batching?s.isBatchedMesh&&!0===v.batchingColor&&null===s.colorTexture||s.isBatchedMesh&&!1===v.batchingColor&&null!==s.colorTexture||s.isInstancedMesh&&!1===v.instancing?E=!0:s.isInstancedMesh||!0!==v.instancing?s.isSkinnedMesh&&!1===v.skinning?E=!0:s.isSkinnedMesh||!0!==v.skinning?s.isInstancedMesh&&!0===v.instancingColor&&null===s.instanceColor||s.isInstancedMesh&&!1===v.instancingColor&&null!==s.instanceColor||s.isInstancedMesh&&!0===v.instancingMorph&&null===s.morphTexture||s.isInstancedMesh&&!1===v.instancingMorph&&null!==s.morphTexture||v.envMap!==c||!0===r.fog&&v.fog!==a?E=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===Ce.numPlanes&&v.numIntersection===Ce.numIntersection?(v.vertexAlphas!==u||v.vertexTangents!==d||v.morphTargets!==h||v.morphNormals!==p||v.morphColors!==f||v.toneMapping!==g||v.morphTargetsCount!==m)&&(E=!0):E=!0:E=!0:E=!0:E=!0:(E=!0,v.__version=r.version);let S=v.currentProgram;!0===E&&(S=et(r,t,s));let b=!1,x=!1,w=!1;const C=S.getUniforms(),T=v.uniforms;if(pe.useProgram(S.program)&&(b=!0,x=!0,w=!0),r.id!==Q&&(Q=r.id,x=!0),b||V!==e){pe.buffers.depth.getReversed()?(re.copy(e.projectionMatrix),(0,i.xiE)(re),(0,i.Mmk)(re),C.setValue(Le,"projectionMatrix",re)):C.setValue(Le,"projectionMatrix",e.projectionMatrix),C.setValue(Le,"viewMatrix",e.matrixWorldInverse);const t=C.map.cameraPosition;void 0!==t&&t.setValue(Le,ae.setFromMatrixPosition(e.matrixWorld)),he.logarithmicDepthBuffer&&C.setValue(Le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&C.setValue(Le,"isOrthographic",!0===e.isOrthographicCamera),V!==e&&(V=e,x=!0,w=!0)}if(s.isSkinnedMesh){C.setOptional(Le,s,"bindMatrix"),C.setOptional(Le,s,"bindMatrixInverse");const e=s.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),C.setValue(Le,"boneTexture",e.boneTexture,Ae))}s.isBatchedMesh&&(C.setOptional(Le,s,"batchingTexture"),C.setValue(Le,"batchingTexture",s._matricesTexture,Ae),C.setOptional(Le,s,"batchingIdTexture"),C.setValue(Le,"batchingIdTexture",s._indirectTexture,Ae),C.setOptional(Le,s,"batchingColorTexture"),null!==s._colorsTexture&&C.setValue(Le,"batchingColorTexture",s._colorsTexture,Ae));const B=n.morphAttributes;var R,P;if(void 0===B.position&&void 0===B.normal&&void 0===B.color||Be.update(s,n,S),(x||v.receiveShadow!==s.receiveShadow)&&(v.receiveShadow=s.receiveShadow,C.setValue(Le,"receiveShadow",s.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(T.envMap.value=c,T.flipEnvMap.value=c.isCubeTexture&&!1===c.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(T.envMapIntensity.value=t.environmentIntensity),x&&(C.setValue(Le,"toneMappingExposure",M.toneMappingExposure),v.needsLights&&(P=w,(R=T).ambientLightColor.needsUpdate=P,R.lightProbe.needsUpdate=P,R.directionalLights.needsUpdate=P,R.directionalLightShadows.needsUpdate=P,R.pointLights.needsUpdate=P,R.pointLightShadows.needsUpdate=P,R.spotLights.needsUpdate=P,R.spotLightShadows.needsUpdate=P,R.rectAreaLights.needsUpdate=P,R.hemisphereLights.needsUpdate=P),a&&!0===r.fog&&xe.refreshFogUniforms(T,a),xe.refreshMaterialUniforms(T,r,Y,q,I.state.transmissionRenderTarget[e.id]),ze.upload(Le,tt(v),T,Ae)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ze.upload(Le,tt(v),T,Ae),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&C.setValue(Le,"center",s.center),C.setValue(Le,"modelViewMatrix",s.modelViewMatrix),C.setValue(Le,"normalMatrix",s.normalMatrix),C.setValue(Le,"modelMatrix",s.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];Ne.update(n,S),Ne.bind(n,S)}}return S}(e,t,n,r,s);pe.setMaterial(r,o);let c=n.index,u=1;if(!0===r.wireframe){if(c=Ee.getWireframeAttribute(n),void 0===c)return;u=2}const d=n.drawRange,h=n.attributes.position;let p=d.start*u,f=(d.start+d.count)*u;null!==a&&(p=Math.max(p,a.start*u),f=Math.min(f,(a.start+a.count)*u)),null!==c?(p=Math.max(p,0),f=Math.min(f,c.count)):null!=h&&(p=Math.max(p,0),f=Math.min(f,h.count));const g=f-p;if(g<0||g===1/0)return;let A;De.setup(s,r,l,n,c);let m=Re;if(null!==c&&(A=ye.get(c),m=Pe,m.setIndex(A)),s.isMesh)!0===r.wireframe?(pe.setLineWidth(r.wireframeLinewidth*ue()),m.setMode(Le.LINES)):m.setMode(Le.TRIANGLES);else if(s.isLine){let e=r.linewidth;void 0===e&&(e=1),pe.setLineWidth(e*ue()),s.isLineSegments?m.setMode(Le.LINES):s.isLineLoop?m.setMode(Le.LINE_LOOP):m.setMode(Le.LINE_STRIP)}else s.isPoints?m.setMode(Le.POINTS):s.isSprite&&m.setMode(Le.TRIANGLES);if(s.isBatchedMesh)if(null!==s._multiDrawInstances)m.renderMultiDrawInstances(s._multiDrawStarts,s._multiDrawCounts,s._multiDrawCount,s._multiDrawInstances);else if(de.get("WEBGL_multi_draw"))m.renderMultiDraw(s._multiDrawStarts,s._multiDrawCounts,s._multiDrawCount);else{const e=s._multiDrawStarts,t=s._multiDrawCounts,n=s._multiDrawCount,i=c?ye.get(c).bytesPerElement:1,a=ge.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)a.setValue(Le,"_gl_DrawID",r),m.render(e[r]/i,t[r])}else if(s.isInstancedMesh)m.renderInstances(p,g,s.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);m.renderInstances(p,g,t)}else m.render(p,g)},this.compile=function(e,t,n=null){null===n&&(n=e),I=Ie.get(n),I.init(t),T.push(I),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(I.pushLight(e),e.castShadow&&I.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(I.pushLight(e),e.castShadow&&I.pushShadow(e))}),I.setupLights();const i=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let r=0;r<t.length;r++){const s=t[r];Ge(s,n,e),i.add(s)}else Ge(t,n,e),i.add(t)}),T.pop(),I=null,i},this.compileAsync=function(e,t,n=null){const i=this.compile(e,t,n);return new Promise(t=>{function n(){i.forEach(function(e){ge.get(e).currentProgram.isReady()&&i.delete(e)}),0!==i.size?setTimeout(n,10):t(e)}null!==de.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let We=null;function Xe(){qe.stop()}function je(){qe.start()}const qe=new r;function Ye(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)I.pushLight(e),e.castShadow&&I.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||te.intersectsSprite(e)){i&&oe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(se);const t=Se.update(e),r=e.material;r.visible&&w.push(e,t,r,n,oe.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||te.intersectsObject(e))){const t=Se.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),oe.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),oe.copy(t.boundingSphere.center)),oe.applyMatrix4(e.matrixWorld).applyMatrix4(se)),Array.isArray(r)){const i=t.groups;for(let s=0,a=i.length;s<a;s++){const a=i[s],o=r[a.materialIndex];o&&o.visible&&w.push(e,t,o,n,oe.z,a)}}else r.visible&&w.push(e,t,r,n,oe.z,null)}const r=e.children;for(let e=0,s=r.length;e<s;e++)Ye(r[e],t,n,i)}function Je(e,t,n,i){const r=e.opaque,s=e.transmissive,a=e.transparent;I.setupLightsView(n),!0===ne&&Ce.setGlobalState(M.clippingPlanes,n),i&&pe.viewport(H.copy(i)),r.length>0&&Ke(r,t,n),s.length>0&&Ke(s,t,n),a.length>0&&Ke(a,t,n),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Ze(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===I.state.transmissionRenderTarget[r.id]&&(I.state.transmissionRenderTarget[r.id]=new i.nWS(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")||de.has("EXT_color_buffer_float")?i.ix0:i.OUM,minFilter:i.$_I,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:i.ppV.workingColorSpace}));const s=I.state.transmissionRenderTarget[r.id],a=r.viewport||H;s.setSize(a.z*M.transmissionResolutionScale,a.w*M.transmissionResolutionScale);const l=M.getRenderTarget();M.setRenderTarget(s),M.getClearColor(W),X=M.getClearAlpha(),X<1&&M.setClearColor(16777215,.5),M.clear(),ce&&Me.render(n);const c=M.toneMapping;M.toneMapping=i.y_p;const u=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),I.setupLightsView(r),!0===ne&&Ce.setGlobalState(M.clippingPlanes,r),Ke(e,n,r),Ae.updateMultisampleRenderTarget(s),Ae.updateRenderTargetMipmap(s),!1===de.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let s=0,a=t.length;s<a;s++){const a=t[s],o=a.object,l=a.geometry,c=a.material,u=a.group;if(c.side===i.$EB&&o.layers.test(r.layers)){const t=c.side;c.side=i.hsX,c.needsUpdate=!0,$e(o,n,r,l,c,u),c.side=t,c.needsUpdate=!0,e=!0}}!0===e&&(Ae.updateMultisampleRenderTarget(s),Ae.updateRenderTargetMipmap(s))}M.setRenderTarget(l),M.setClearColor(W,X),void 0!==u&&(r.viewport=u),M.toneMapping=c}function Ke(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,s=e.length;r<s;r++){const s=e[r],a=s.object,o=s.geometry,l=null===i?s.material:i,c=s.group;a.layers.test(n.layers)&&$e(a,t,n,o,l,c)}}function $e(e,t,n,r,s,a){e.onBeforeRender(M,t,n,r,s,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),s.onBeforeRender(M,t,n,r,e,a),!0===s.transparent&&s.side===i.$EB&&!1===s.forceSinglePass?(s.side=i.hsX,s.needsUpdate=!0,M.renderBufferDirect(n,t,r,s,e,a),s.side=i.hB5,s.needsUpdate=!0,M.renderBufferDirect(n,t,r,s,e,a),s.side=i.$EB):M.renderBufferDirect(n,t,r,s,e,a),e.onAfterRender(M,t,n,r,s,a)}function et(e,t,n){!0!==t.isScene&&(t=le);const i=ge.get(e),r=I.state.lights,s=I.state.shadowsArray,a=r.state.version,o=be.getParameters(e,r.state,s,t,n),l=be.getProgramCacheKey(o);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?ve:me).get(e.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",He),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===a)return nt(e,o),u}else o.uniforms=be.getUniforms(e),e.onBeforeCompile(o,M),u=be.acquireProgram(o,l),c.set(l,u),i.uniforms=o.uniforms;const d=i.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=Ce.uniform),nt(e,o),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=a,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function tt(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=ze.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function nt(e,t){const n=ge.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}qe.setAnimationLoop(function(e){We&&We(e)}),"undefined"!=typeof self&&qe.setContext(self),this.setAnimationLoop=function(e){We=e,Ue.setAnimationLoop(e),null===e?qe.stop():qe.start()},Ue.addEventListener("sessionstart",Xe),Ue.addEventListener("sessionend",je),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===B)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ue.enabled&&!0===Ue.isPresenting&&(!0===Ue.cameraAutoUpdate&&Ue.updateCamera(t),t=Ue.getCamera()),!0===e.isScene&&e.onBeforeRender(M,e,t,_),I=Ie.get(e,T.length),I.init(t),T.push(I),se.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),te.setFromProjectionMatrix(se),ie=this.localClippingEnabled,ne=Ce.init(this.clippingPlanes,ie),w=we.get(e,C.length),w.init(),C.push(w),!0===Ue.enabled&&!0===Ue.isPresenting){const e=M.xr.getDepthSensingMesh();null!==e&&Ye(e,t,-1/0,M.sortObjects)}Ye(e,t,0,M.sortObjects),w.finish(),!0===M.sortObjects&&w.sort(J,Z),ce=!1===Ue.enabled||!1===Ue.isPresenting||!1===Ue.hasDepthSensing(),ce&&Me.addToRenderList(w,e),this.info.render.frame++,!0===ne&&Ce.beginShadows();const n=I.state.shadowsArray;Te.render(n,e,t),!0===ne&&Ce.endShadows(),!0===this.info.autoReset&&this.info.reset();const i=w.opaque,r=w.transmissive;if(I.setupLights(),t.isArrayCamera){const n=t.cameras;if(r.length>0)for(let t=0,s=n.length;t<s;t++)Ze(i,r,e,n[t]);ce&&Me.render(e);for(let t=0,i=n.length;t<i;t++){const i=n[t];Je(w,e,i,i.viewport)}}else r.length>0&&Ze(i,r,e,t),ce&&Me.render(e),Je(w,e,t);null!==_&&0===P&&(Ae.updateMultisampleRenderTarget(_),Ae.updateRenderTargetMipmap(_)),!0===e.isScene&&e.onAfterRender(M,e,t),De.resetDefaultState(),Q=-1,V=null,T.pop(),T.length>0?(I=T[T.length-1],!0===ne&&Ce.setGlobalState(M.clippingPlanes,I.state.camera)):I=null,C.pop(),w=C.length>0?C[C.length-1]:null},this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(e,t,n){ge.get(e.texture).__webglTexture=t,ge.get(e.depthTexture).__webglTexture=n;const i=ge.get(e);i.__hasExternalTextures=!0,i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===de.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=ge.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const it=Le.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){_=e,R=t,P=n;let i=!0,r=null,s=!1,a=!1;if(e){const o=ge.get(e);if(void 0!==o.__useDefaultFramebuffer)pe.bindFramebuffer(Le.FRAMEBUFFER,null),i=!1;else if(void 0===o.__webglFramebuffer)Ae.setupRenderTarget(e);else if(o.__hasExternalTextures)Ae.rebindTextures(e,ge.get(e.texture).__webglTexture,ge.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&ge.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ae.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=ge.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(c[t])?c[t][n]:c[t],s=!0):r=e.samples>0&&!1===Ae.useMultisampledRTT(e)?ge.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,H.copy(e.viewport),G.copy(e.scissor),z=e.scissorTest}else H.copy(K).multiplyScalar(Y).floor(),G.copy($).multiplyScalar(Y).floor(),z=ee;if(0!==n&&(r=it),pe.bindFramebuffer(Le.FRAMEBUFFER,r)&&i&&pe.drawBuffers(e,r),pe.viewport(H),pe.scissor(G),pe.setScissorTest(z),s){const i=ge.get(e.texture);Le.framebufferTexture2D(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(a){const i=ge.get(e.texture),r=t;Le.framebufferTextureLayer(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,i.__webglTexture,n,r)}else if(null!==e&&0!==n){const t=ge.get(e.texture);Le.framebufferTexture2D(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_2D,t.__webglTexture,n)}Q=-1},this.readRenderTargetPixels=function(e,t,n,i,r,s,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=ge.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){pe.bindFramebuffer(Le.FRAMEBUFFER,o);try{const a=e.texture,o=a.format,l=a.type;if(!he.textureFormatReadable(o))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!he.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&Le.readPixels(t,n,i,r,_e.convert(o),_e.convert(l),s)}finally{const e=null!==_?ge.get(_).__webglFramebuffer:null;pe.bindFramebuffer(Le.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,s,a,o){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=ge.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){const o=e.texture,c=o.format,u=o.type;if(!he.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!he.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-s){pe.bindFramebuffer(Le.FRAMEBUFFER,l);const e=Le.createBuffer();Le.bindBuffer(Le.PIXEL_PACK_BUFFER,e),Le.bufferData(Le.PIXEL_PACK_BUFFER,a.byteLength,Le.STREAM_READ),Le.readPixels(t,n,r,s,_e.convert(c),_e.convert(u),0);const o=null!==_?ge.get(_).__webglFramebuffer:null;pe.bindFramebuffer(Le.FRAMEBUFFER,o);const d=Le.fenceSync(Le.SYNC_GPU_COMMANDS_COMPLETE,0);return Le.flush(),await(0,i.jej)(Le,d,4),Le.bindBuffer(Le.PIXEL_PACK_BUFFER,e),Le.getBufferSubData(Le.PIXEL_PACK_BUFFER,0,a),Le.deleteBuffer(e),Le.deleteSync(d),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e,t=null,n=0){!0!==e.isTexture&&((0,i.mcG)("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),s=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,l=null!==t?t.y:0;Ae.setTexture2D(e,0),Le.copyTexSubImage2D(Le.TEXTURE_2D,n,0,0,o,l,s,a),pe.unbindTexture()};const rt=Le.createFramebuffer(),st=Le.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,s=0,a=null){let o,l,c,u,d,h,p,f,g;!0!==e.isTexture&&((0,i.mcG)("WebGLRenderer: copyTextureToTexture function signature has changed."),r=arguments[0]||null,e=arguments[1],t=arguments[2],a=arguments[3]||0,n=null),null===a&&(0!==s?((0,i.mcG)("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),a=s,s=0):a=0);const A=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)o=n.max.x-n.min.x,l=n.max.y-n.min.y,c=n.isBox3?n.max.z-n.min.z:1,u=n.min.x,d=n.min.y,h=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-s);o=Math.floor(A.width*t),l=Math.floor(A.height*t),c=e.isDataArrayTexture?A.depth:e.isData3DTexture?Math.floor(A.depth*t):1,u=0,d=0,h=0}null!==r?(p=r.x,f=r.y,g=r.z):(p=0,f=0,g=0);const m=_e.convert(t.format),v=_e.convert(t.type);let y;t.isData3DTexture?(Ae.setTexture3D(t,0),y=Le.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(Ae.setTexture2DArray(t,0),y=Le.TEXTURE_2D_ARRAY):(Ae.setTexture2D(t,0),y=Le.TEXTURE_2D),Le.pixelStorei(Le.UNPACK_FLIP_Y_WEBGL,t.flipY),Le.pixelStorei(Le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Le.pixelStorei(Le.UNPACK_ALIGNMENT,t.unpackAlignment);const E=Le.getParameter(Le.UNPACK_ROW_LENGTH),S=Le.getParameter(Le.UNPACK_IMAGE_HEIGHT),b=Le.getParameter(Le.UNPACK_SKIP_PIXELS),x=Le.getParameter(Le.UNPACK_SKIP_ROWS),w=Le.getParameter(Le.UNPACK_SKIP_IMAGES);Le.pixelStorei(Le.UNPACK_ROW_LENGTH,A.width),Le.pixelStorei(Le.UNPACK_IMAGE_HEIGHT,A.height),Le.pixelStorei(Le.UNPACK_SKIP_PIXELS,u),Le.pixelStorei(Le.UNPACK_SKIP_ROWS,d),Le.pixelStorei(Le.UNPACK_SKIP_IMAGES,h);const I=e.isDataArrayTexture||e.isData3DTexture,C=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=ge.get(e),i=ge.get(t),r=ge.get(n.__renderTarget),A=ge.get(i.__renderTarget);pe.bindFramebuffer(Le.READ_FRAMEBUFFER,r.__webglFramebuffer),pe.bindFramebuffer(Le.DRAW_FRAMEBUFFER,A.__webglFramebuffer);for(let n=0;n<c;n++)I&&(Le.framebufferTextureLayer(Le.READ_FRAMEBUFFER,Le.COLOR_ATTACHMENT0,ge.get(e).__webglTexture,s,h+n),Le.framebufferTextureLayer(Le.DRAW_FRAMEBUFFER,Le.COLOR_ATTACHMENT0,ge.get(t).__webglTexture,a,g+n)),Le.blitFramebuffer(u,d,o,l,p,f,o,l,Le.DEPTH_BUFFER_BIT,Le.NEAREST);pe.bindFramebuffer(Le.READ_FRAMEBUFFER,null),pe.bindFramebuffer(Le.DRAW_FRAMEBUFFER,null)}else if(0!==s||e.isRenderTargetTexture||ge.has(e)){const n=ge.get(e),i=ge.get(t);pe.bindFramebuffer(Le.READ_FRAMEBUFFER,rt),pe.bindFramebuffer(Le.DRAW_FRAMEBUFFER,st);for(let e=0;e<c;e++)I?Le.framebufferTextureLayer(Le.READ_FRAMEBUFFER,Le.COLOR_ATTACHMENT0,n.__webglTexture,s,h+e):Le.framebufferTexture2D(Le.READ_FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_2D,n.__webglTexture,s),C?Le.framebufferTextureLayer(Le.DRAW_FRAMEBUFFER,Le.COLOR_ATTACHMENT0,i.__webglTexture,a,g+e):Le.framebufferTexture2D(Le.DRAW_FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_2D,i.__webglTexture,a),0!==s?Le.blitFramebuffer(u,d,o,l,p,f,o,l,Le.COLOR_BUFFER_BIT,Le.NEAREST):C?Le.copyTexSubImage3D(y,a,p,f,g+e,u,d,o,l):Le.copyTexSubImage2D(y,a,p,f,u,d,o,l);pe.bindFramebuffer(Le.READ_FRAMEBUFFER,null),pe.bindFramebuffer(Le.DRAW_FRAMEBUFFER,null)}else C?e.isDataTexture||e.isData3DTexture?Le.texSubImage3D(y,a,p,f,g,o,l,c,m,v,A.data):t.isCompressedArrayTexture?Le.compressedTexSubImage3D(y,a,p,f,g,o,l,c,m,A.data):Le.texSubImage3D(y,a,p,f,g,o,l,c,m,v,A):e.isDataTexture?Le.texSubImage2D(Le.TEXTURE_2D,a,p,f,o,l,m,v,A.data):e.isCompressedTexture?Le.compressedTexSubImage2D(Le.TEXTURE_2D,a,p,f,A.width,A.height,m,A.data):Le.texSubImage2D(Le.TEXTURE_2D,a,p,f,o,l,m,v,A);Le.pixelStorei(Le.UNPACK_ROW_LENGTH,E),Le.pixelStorei(Le.UNPACK_IMAGE_HEIGHT,S),Le.pixelStorei(Le.UNPACK_SKIP_PIXELS,b),Le.pixelStorei(Le.UNPACK_SKIP_ROWS,x),Le.pixelStorei(Le.UNPACK_SKIP_IMAGES,w),0===a&&t.generateMipmaps&&Le.generateMipmap(y),pe.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,s=0){return!0!==e.isTexture&&((0,i.mcG)("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,r=arguments[1]||null,e=arguments[2],t=arguments[3],s=arguments[4]||0),(0,i.mcG)('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,s)},this.initRenderTarget=function(e){void 0===ge.get(e).__webglFramebuffer&&Ae.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?Ae.setTextureCube(e,0):e.isData3DTexture?Ae.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Ae.setTexture2DArray(e,0):Ae.setTexture2D(e,0),pe.unbindTexture()},this.resetState=function(){R=0,P=0,_=null,pe.reset(),De.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return i.TdN}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=i.ppV._getDrawingBufferColorSpace(e),t.unpackColorSpace=i.ppV._getUnpackColorSpace()}}},8823(e,t,n){"use strict";n.r(t),n.d(t,{DEG2RAD:()=>s,MathUtils:()=>B,RAD2DEG:()=>a,ceilPowerOfTwo:()=>w,clamp:()=>l,damp:()=>p,degToRad:()=>S,denormalize:()=>T,euclideanModulo:()=>c,floorPowerOfTwo:()=>I,generateUUID:()=>o,inverseLerp:()=>d,isPowerOfTwo:()=>x,lerp:()=>h,mapLinear:()=>u,normalize:()=>M,pingpong:()=>f,radToDeg:()=>b,randFloat:()=>v,randFloatSpread:()=>y,randInt:()=>m,seededRandom:()=>E,setQuaternionFromProperEuler:()=>C,smootherstep:()=>A,smoothstep:()=>g});const i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let r=1234567;const s=Math.PI/180,a=180/Math.PI;function o(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(i[255&e]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+"-"+i[255&t]+i[t>>8&255]+"-"+i[t>>16&15|64]+i[t>>24&255]+"-"+i[63&n|128]+i[n>>8&255]+"-"+i[n>>16&255]+i[n>>24&255]+i[255&r]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]).toLowerCase()}function l(e,t,n){return Math.max(t,Math.min(n,e))}function c(e,t){return(e%t+t)%t}function u(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)}function d(e,t,n){return e!==t?(n-e)/(t-e):0}function h(e,t,n){return(1-n)*e+n*t}function p(e,t,n,i){return h(e,t,1-Math.exp(-n*i))}function f(e,t=1){return t-Math.abs(c(e,2*t)-t)}function g(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}function A(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)}function m(e,t){return e+Math.floor(Math.random()*(t-e+1))}function v(e,t){return e+Math.random()*(t-e)}function y(e){return e*(.5-Math.random())}function E(e){void 0!==e&&(r=e);let t=r+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}function S(e){return e*s}function b(e){return e*a}function x(e){return!(e&e-1)&&0!==e}function w(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function I(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function C(e,t,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((t+i)/2),u=a((t+i)/2),d=s((t-i)/2),h=a((t-i)/2),p=s((i-t)/2),f=a((i-t)/2);switch(r){case"XYX":e.set(o*u,l*d,l*h,o*c);break;case"YZY":e.set(l*h,o*u,l*d,o*c);break;case"ZXZ":e.set(l*d,l*h,o*u,o*c);break;case"XZX":e.set(o*u,l*f,l*p,o*c);break;case"YXY":e.set(l*p,o*u,l*f,o*c);break;case"ZYZ":e.set(l*f,l*p,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function T(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function M(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const B={DEG2RAD:s,RAD2DEG:a,generateUUID:o,clamp:l,euclideanModulo:c,mapLinear:u,inverseLerp:d,lerp:h,damp:p,pingpong:f,smoothstep:g,smootherstep:A,randInt:m,randFloat:v,randFloatSpread:y,seededRandom:E,degToRad:S,radToDeg:b,isPowerOfTwo:x,ceilPowerOfTwo:w,floorPowerOfTwo:I,setQuaternionFromProperEuler:C,normalize:M,denormalize:T}},1323(e,t,n){"use strict";n.d(t,{v:()=>o});var i=n(6540),r=n(7283);const s=e=>e,a=e=>{const t=(0,r.y)(e),n=e=>function(e,t=s){const n=i.useSyncExternalStore(e.subscribe,i.useCallback(()=>t(e.getState()),[e,t]),i.useCallback(()=>t(e.getInitialState()),[e,t]));return i.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},o=e=>e?a(e):a},7283(e,t,n){"use strict";n.d(t,{y:()=>r});const i=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,s={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(i,r,s);return s},r=e=>e?i(e):i}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return r[e].call(n.exports,n,n.exports,a),n.exports}a.m=r,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);a.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,a.d(r,s),r},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,n)=>(a.f[n](e,t),t),[])),a.u=e=>e+".bundle.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="cloudxr-isaac-lab-teleop:",a.l=(e,t,r,s)=>{if(n[e])n[e].push(t);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+r){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",i+r),o.src=e),n[e]=[t];var h=(t,i)=>{o.onerror=o.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(i)),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={792:0};a.f.j=(t,n)=>{var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((n,r)=>i=e[t]=[n,r]);n.push(i[2]=r);var s=a.p+a.u(t),o=new Error;a.l(s,n=>{if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[s,o,l]=n,c=0;if(s.some(t=>0!==e[t])){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);l&&l(a)}for(t&&t(n);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkcloudxr_isaac_lab_teleop=self.webpackChunkcloudxr_isaac_lab_teleop||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,a(4879)})();